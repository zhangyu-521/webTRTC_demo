var $o = (r, i, u) =>
  new Promise((v, m) => {
    var E = (G) => {
        try {
          C(u.next(G));
        } catch (re) {
          m(re);
        }
      },
      O = (G) => {
        try {
          C(u.throw(G));
        } catch (re) {
          m(re);
        }
      },
      C = (G) => (G.done ? v(G.value) : Promise.resolve(G.value).then(E, O));
    C((u = u.apply(r, i)).next());
  });
function ut(r) {
  "@babel/helpers - typeof";
  return (
    (ut =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (i) {
            return typeof i;
          }
        : function (i) {
            return i &&
              typeof Symbol == "function" &&
              i.constructor === Symbol &&
              i !== Symbol.prototype
              ? "symbol"
              : typeof i;
          }),
    ut(r)
  );
}
function QG(r, i) {
  if (ut(r) != "object" || !r) return r;
  var u = r[Symbol.toPrimitive];
  if (u !== void 0) {
    var v = u.call(r, i || "default");
    if (ut(v) != "object") return v;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (i === "string" ? String : Number)(r);
}
function F4(r) {
  var i = QG(r, "string");
  return ut(i) == "symbol" ? i : i + "";
}
function tt(r, i, u) {
  return (
    (i = F4(i)) in r
      ? Object.defineProperty(r, i, {
          value: u,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (r[i] = u),
    r
  );
}
function z3(r, i, u, v, m, E, O) {
  try {
    var C = r[E](O),
      G = C.value;
  } catch (re) {
    return void u(re);
  }
  C.done ? i(G) : Promise.resolve(G).then(v, m);
}
function Pt(r) {
  return function () {
    var i = this,
      u = arguments;
    return new Promise(function (v, m) {
      var E = r.apply(i, u);
      function O(G) {
        z3(E, v, m, O, C, "next", G);
      }
      function C(G) {
        z3(E, v, m, O, C, "throw", G);
      }
      O(void 0);
    });
  };
}
var Cb =
  typeof globalThis != "undefined"
    ? globalThis
    : typeof window != "undefined"
    ? window
    : typeof global != "undefined"
    ? global
    : typeof self != "undefined"
    ? self
    : {};
function j4(r) {
  return r && r.__esModule && Object.prototype.hasOwnProperty.call(r, "default")
    ? r.default
    : r;
}
var B4 = { exports: {} },
  H4 = { exports: {} };
(function (r) {
  function i(u) {
    "@babel/helpers - typeof";
    return (
      (r.exports = i =
        typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
          ? function (v) {
              return typeof v;
            }
          : function (v) {
              return v &&
                typeof Symbol == "function" &&
                v.constructor === Symbol &&
                v !== Symbol.prototype
                ? "symbol"
                : typeof v;
            }),
      (r.exports.__esModule = !0),
      (r.exports.default = r.exports),
      i(u)
    );
  }
  (r.exports = i), (r.exports.__esModule = !0), (r.exports.default = r.exports);
})(H4);
var XG = H4.exports;
(function (r) {
  var i = XG.default;
  function u() {
    /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
    (r.exports = u =
      function () {
        return m;
      }),
      (r.exports.__esModule = !0),
      (r.exports.default = r.exports);
    var v,
      m = {},
      E = Object.prototype,
      O = E.hasOwnProperty,
      C =
        Object.defineProperty ||
        function (nt, Ge, Te) {
          nt[Ge] = Te.value;
        },
      G = typeof Symbol == "function" ? Symbol : {},
      re = G.iterator || "@@iterator",
      ce = G.asyncIterator || "@@asyncIterator",
      de = G.toStringTag || "@@toStringTag";
    function me(nt, Ge, Te) {
      return (
        Object.defineProperty(nt, Ge, {
          value: Te,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        }),
        nt[Ge]
      );
    }
    try {
      me({}, "");
    } catch (nt) {
      me = function (Te, we, Ve) {
        return (Te[we] = Ve);
      };
    }
    function Ee(nt, Ge, Te, we) {
      var Ve = Ge && Ge.prototype instanceof Ut ? Ge : Ut,
        Ne = Object.create(Ve.prototype),
        Ue = new Mt(we || []);
      return (
        C(Ne, "_invoke", {
          value: kt(nt, Te, Ue),
        }),
        Ne
      );
    }
    function Ae(nt, Ge, Te) {
      try {
        return {
          type: "normal",
          arg: nt.call(Ge, Te),
        };
      } catch (we) {
        return {
          type: "throw",
          arg: we,
        };
      }
    }
    m.wrap = Ee;
    var Be = "suspendedStart",
      le = "suspendedYield",
      bt = "executing",
      Et = "completed",
      St = {};
    function Ut() {}
    function vt() {}
    function wt() {}
    var Je = {};
    me(Je, re, function () {
      return this;
    });
    var It = Object.getPrototypeOf,
      ct = It && It(It(rn([])));
    ct && ct !== E && O.call(ct, re) && (Je = ct);
    var We = (wt.prototype = Ut.prototype = Object.create(Je));
    function Oe(nt) {
      ["next", "throw", "return"].forEach(function (Ge) {
        me(nt, Ge, function (Te) {
          return this._invoke(Ge, Te);
        });
      });
    }
    function at(nt, Ge) {
      function Te(Ve, Ne, Ue, Ye) {
        var pt = Ae(nt[Ve], nt, Ne);
        if (pt.type !== "throw") {
          var ft = pt.arg,
            An = ft.value;
          return An && i(An) == "object" && O.call(An, "__await")
            ? Ge.resolve(An.__await).then(
                function (Yn) {
                  Te("next", Yn, Ue, Ye);
                },
                function (Yn) {
                  Te("throw", Yn, Ue, Ye);
                }
              )
            : Ge.resolve(An).then(
                function (Yn) {
                  (ft.value = Yn), Ue(ft);
                },
                function (Yn) {
                  return Te("throw", Yn, Ue, Ye);
                }
              );
        }
        Ye(pt.arg);
      }
      var we;
      C(this, "_invoke", {
        value: function (Ne, Ue) {
          function Ye() {
            return new Ge(function (pt, ft) {
              Te(Ne, Ue, pt, ft);
            });
          }
          return (we = we ? we.then(Ye, Ye) : Ye());
        },
      });
    }
    function kt(nt, Ge, Te) {
      var we = Be;
      return function (Ve, Ne) {
        if (we === bt) throw Error("Generator is already running");
        if (we === Et) {
          if (Ve === "throw") throw Ne;
          return {
            value: v,
            done: !0,
          };
        }
        for (Te.method = Ve, Te.arg = Ne; ; ) {
          var Ue = Te.delegate;
          if (Ue) {
            var Ye = Xe(Ue, Te);
            if (Ye) {
              if (Ye === St) continue;
              return Ye;
            }
          }
          if (Te.method === "next") Te.sent = Te._sent = Te.arg;
          else if (Te.method === "throw") {
            if (we === Be) throw ((we = Et), Te.arg);
            Te.dispatchException(Te.arg);
          } else Te.method === "return" && Te.abrupt("return", Te.arg);
          we = bt;
          var pt = Ae(nt, Ge, Te);
          if (pt.type === "normal") {
            if (((we = Te.done ? Et : le), pt.arg === St)) continue;
            return {
              value: pt.arg,
              done: Te.done,
            };
          }
          pt.type === "throw" &&
            ((we = Et), (Te.method = "throw"), (Te.arg = pt.arg));
        }
      };
    }
    function Xe(nt, Ge) {
      var Te = Ge.method,
        we = nt.iterator[Te];
      if (we === v)
        return (
          (Ge.delegate = null),
          (Te === "throw" &&
            nt.iterator.return &&
            ((Ge.method = "return"),
            (Ge.arg = v),
            Xe(nt, Ge),
            Ge.method === "throw")) ||
            (Te !== "return" &&
              ((Ge.method = "throw"),
              (Ge.arg = new TypeError(
                "The iterator does not provide a '" + Te + "' method"
              )))),
          St
        );
      var Ve = Ae(we, nt.iterator, Ge.arg);
      if (Ve.type === "throw")
        return (
          (Ge.method = "throw"), (Ge.arg = Ve.arg), (Ge.delegate = null), St
        );
      var Ne = Ve.arg;
      return Ne
        ? Ne.done
          ? ((Ge[nt.resultName] = Ne.value),
            (Ge.next = nt.nextLoc),
            Ge.method !== "return" && ((Ge.method = "next"), (Ge.arg = v)),
            (Ge.delegate = null),
            St)
          : Ne
        : ((Ge.method = "throw"),
          (Ge.arg = new TypeError("iterator result is not an object")),
          (Ge.delegate = null),
          St);
    }
    function Ot(nt) {
      var Ge = {
        tryLoc: nt[0],
      };
      1 in nt && (Ge.catchLoc = nt[1]),
        2 in nt && ((Ge.finallyLoc = nt[2]), (Ge.afterLoc = nt[3])),
        this.tryEntries.push(Ge);
    }
    function et(nt) {
      var Ge = nt.completion || {};
      (Ge.type = "normal"), delete Ge.arg, (nt.completion = Ge);
    }
    function Mt(nt) {
      (this.tryEntries = [
        {
          tryLoc: "root",
        },
      ]),
        nt.forEach(Ot, this),
        this.reset(!0);
    }
    function rn(nt) {
      if (nt || nt === "") {
        var Ge = nt[re];
        if (Ge) return Ge.call(nt);
        if (typeof nt.next == "function") return nt;
        if (!isNaN(nt.length)) {
          var Te = -1,
            we = function Ve() {
              for (; ++Te < nt.length; )
                if (O.call(nt, Te))
                  return (Ve.value = nt[Te]), (Ve.done = !1), Ve;
              return (Ve.value = v), (Ve.done = !0), Ve;
            };
          return (we.next = we);
        }
      }
      throw new TypeError(i(nt) + " is not iterable");
    }
    return (
      (vt.prototype = wt),
      C(We, "constructor", {
        value: wt,
        configurable: !0,
      }),
      C(wt, "constructor", {
        value: vt,
        configurable: !0,
      }),
      (vt.displayName = me(wt, de, "GeneratorFunction")),
      (m.isGeneratorFunction = function (nt) {
        var Ge = typeof nt == "function" && nt.constructor;
        return (
          !!Ge &&
          (Ge === vt || (Ge.displayName || Ge.name) === "GeneratorFunction")
        );
      }),
      (m.mark = function (nt) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(nt, wt)
            : ((nt.__proto__ = wt), me(nt, de, "GeneratorFunction")),
          (nt.prototype = Object.create(We)),
          nt
        );
      }),
      (m.awrap = function (nt) {
        return {
          __await: nt,
        };
      }),
      Oe(at.prototype),
      me(at.prototype, ce, function () {
        return this;
      }),
      (m.AsyncIterator = at),
      (m.async = function (nt, Ge, Te, we, Ve) {
        Ve === void 0 && (Ve = Promise);
        var Ne = new at(Ee(nt, Ge, Te, we), Ve);
        return m.isGeneratorFunction(Ge)
          ? Ne
          : Ne.next().then(function (Ue) {
              return Ue.done ? Ue.value : Ne.next();
            });
      }),
      Oe(We),
      me(We, de, "Generator"),
      me(We, re, function () {
        return this;
      }),
      me(We, "toString", function () {
        return "[object Generator]";
      }),
      (m.keys = function (nt) {
        var Ge = Object(nt),
          Te = [];
        for (var we in Ge) Te.push(we);
        return (
          Te.reverse(),
          function Ve() {
            for (; Te.length; ) {
              var Ne = Te.pop();
              if (Ne in Ge) return (Ve.value = Ne), (Ve.done = !1), Ve;
            }
            return (Ve.done = !0), Ve;
          }
        );
      }),
      (m.values = rn),
      (Mt.prototype = {
        constructor: Mt,
        reset: function (Ge) {
          if (
            ((this.prev = 0),
            (this.next = 0),
            (this.sent = this._sent = v),
            (this.done = !1),
            (this.delegate = null),
            (this.method = "next"),
            (this.arg = v),
            this.tryEntries.forEach(et),
            !Ge)
          )
            for (var Te in this)
              Te.charAt(0) === "t" &&
                O.call(this, Te) &&
                !isNaN(+Te.slice(1)) &&
                (this[Te] = v);
        },
        stop: function () {
          this.done = !0;
          var Ge = this.tryEntries[0].completion;
          if (Ge.type === "throw") throw Ge.arg;
          return this.rval;
        },
        dispatchException: function (Ge) {
          if (this.done) throw Ge;
          var Te = this;
          function we(ft, An) {
            return (
              (Ue.type = "throw"),
              (Ue.arg = Ge),
              (Te.next = ft),
              An && ((Te.method = "next"), (Te.arg = v)),
              !!An
            );
          }
          for (var Ve = this.tryEntries.length - 1; Ve >= 0; --Ve) {
            var Ne = this.tryEntries[Ve],
              Ue = Ne.completion;
            if (Ne.tryLoc === "root") return we("end");
            if (Ne.tryLoc <= this.prev) {
              var Ye = O.call(Ne, "catchLoc"),
                pt = O.call(Ne, "finallyLoc");
              if (Ye && pt) {
                if (this.prev < Ne.catchLoc) return we(Ne.catchLoc, !0);
                if (this.prev < Ne.finallyLoc) return we(Ne.finallyLoc);
              } else if (Ye) {
                if (this.prev < Ne.catchLoc) return we(Ne.catchLoc, !0);
              } else {
                if (!pt) throw Error("try statement without catch or finally");
                if (this.prev < Ne.finallyLoc) return we(Ne.finallyLoc);
              }
            }
          }
        },
        abrupt: function (Ge, Te) {
          for (var we = this.tryEntries.length - 1; we >= 0; --we) {
            var Ve = this.tryEntries[we];
            if (
              Ve.tryLoc <= this.prev &&
              O.call(Ve, "finallyLoc") &&
              this.prev < Ve.finallyLoc
            ) {
              var Ne = Ve;
              break;
            }
          }
          Ne &&
            (Ge === "break" || Ge === "continue") &&
            Ne.tryLoc <= Te &&
            Te <= Ne.finallyLoc &&
            (Ne = null);
          var Ue = Ne ? Ne.completion : {};
          return (
            (Ue.type = Ge),
            (Ue.arg = Te),
            Ne
              ? ((this.method = "next"), (this.next = Ne.finallyLoc), St)
              : this.complete(Ue)
          );
        },
        complete: function (Ge, Te) {
          if (Ge.type === "throw") throw Ge.arg;
          return (
            Ge.type === "break" || Ge.type === "continue"
              ? (this.next = Ge.arg)
              : Ge.type === "return"
              ? ((this.rval = this.arg = Ge.arg),
                (this.method = "return"),
                (this.next = "end"))
              : Ge.type === "normal" && Te && (this.next = Te),
            St
          );
        },
        finish: function (Ge) {
          for (var Te = this.tryEntries.length - 1; Te >= 0; --Te) {
            var we = this.tryEntries[Te];
            if (we.finallyLoc === Ge)
              return this.complete(we.completion, we.afterLoc), et(we), St;
          }
        },
        catch: function (Ge) {
          for (var Te = this.tryEntries.length - 1; Te >= 0; --Te) {
            var we = this.tryEntries[Te];
            if (we.tryLoc === Ge) {
              var Ve = we.completion;
              if (Ve.type === "throw") {
                var Ne = Ve.arg;
                et(we);
              }
              return Ne;
            }
          }
          throw Error("illegal catch attempt");
        },
        delegateYield: function (Ge, Te, we) {
          return (
            (this.delegate = {
              iterator: rn(Ge),
              resultName: Te,
              nextLoc: we,
            }),
            this.method === "next" && (this.arg = v),
            St
          );
        },
      }),
      m
    );
  }
  (r.exports = u), (r.exports.__esModule = !0), (r.exports.default = r.exports);
})(B4);
var eq = B4.exports,
  rm = eq(),
  tq = rm;
try {
  regeneratorRuntime = rm;
} catch (r) {
  (typeof globalThis == "undefined" ? "undefined" : ut(globalThis)) === "object"
    ? (globalThis.regeneratorRuntime = rm)
    : Function("r", "regeneratorRuntime = r")(rm);
}
const Ke = /* @__PURE__ */ j4(tq);
function z4(r) {
  if (Array.isArray(r)) return r;
}
function nq(r, i) {
  var u =
    r == null
      ? null
      : (typeof Symbol != "undefined" && r[Symbol.iterator]) || r["@@iterator"];
  if (u != null) {
    var v,
      m,
      E,
      O,
      C = [],
      G = !0,
      re = !1;
    try {
      if (((E = (u = u.call(r)).next), i === 0)) {
        if (Object(u) !== u) return;
        G = !1;
      } else
        for (
          ;
          !(G = (v = E.call(u)).done) && (C.push(v.value), C.length !== i);
          G = !0
        );
    } catch (ce) {
      (re = !0), (m = ce);
    } finally {
      try {
        if (!G && u.return != null && ((O = u.return()), Object(O) !== O))
          return;
      } finally {
        if (re) throw m;
      }
    }
    return C;
  }
}
function qb(r, i) {
  (i == null || i > r.length) && (i = r.length);
  for (var u = 0, v = Array(i); u < i; u++) v[u] = r[u];
  return v;
}
function _S(r, i) {
  if (r) {
    if (typeof r == "string") return qb(r, i);
    var u = {}.toString.call(r).slice(8, -1);
    return (
      u === "Object" && r.constructor && (u = r.constructor.name),
      u === "Map" || u === "Set"
        ? Array.from(r)
        : u === "Arguments" ||
          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)
        ? qb(r, i)
        : void 0
    );
  }
}
function W4() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function ga(r, i) {
  return z4(r) || nq(r, i) || _S(r, i) || W4();
}
function G4(r, i) {
  return function () {
    return r.apply(i, arguments);
  };
}
var rq = Object.prototype.toString,
  yS = Object.getPrototypeOf,
  Rm = (function (r) {
    return function (i) {
      var u = rq.call(i);
      return r[u] || (r[u] = u.slice(8, -1).toLowerCase());
    };
  })(/* @__PURE__ */ Object.create(null)),
  Hi = function (i) {
    return (
      (i = i.toLowerCase()),
      function (u) {
        return Rm(u) === i;
      }
    );
  },
  Cm = function (i) {
    return function (u) {
      return ut(u) === i;
    };
  },
  fl = Array.isArray,
  Rh = Cm("undefined");
function iq(r) {
  return (
    r !== null &&
    !Rh(r) &&
    r.constructor !== null &&
    !Rh(r.constructor) &&
    Kr(r.constructor.isBuffer) &&
    r.constructor.isBuffer(r)
  );
}
var q4 = Hi("ArrayBuffer");
function aq(r) {
  var i;
  return (
    typeof ArrayBuffer != "undefined" && ArrayBuffer.isView
      ? (i = ArrayBuffer.isView(r))
      : (i = r && r.buffer && q4(r.buffer)),
    i
  );
}
var oq = Cm("string"),
  Kr = Cm("function"),
  K4 = Cm("number"),
  Am = function (i) {
    return i !== null && ut(i) === "object";
  },
  sq = function (i) {
    return i === !0 || i === !1;
  },
  im = function (i) {
    if (Rm(i) !== "object") return !1;
    var u = yS(i);
    return (
      (u === null ||
        u === Object.prototype ||
        Object.getPrototypeOf(u) === null) &&
      !(Symbol.toStringTag in i) &&
      !(Symbol.iterator in i)
    );
  },
  uq = Hi("Date"),
  cq = Hi("File"),
  lq = Hi("Blob"),
  dq = Hi("FileList"),
  hq = function (i) {
    return Am(i) && Kr(i.pipe);
  },
  fq = function (i) {
    var u;
    return (
      i &&
      ((typeof FormData == "function" && i instanceof FormData) ||
        (Kr(i.append) &&
          ((u = Rm(i)) === "formdata" || // detect form-data instance
            (u === "object" &&
              Kr(i.toString) &&
              i.toString() === "[object FormData]"))))
    );
  },
  pq = Hi("URLSearchParams"),
  vq = ["ReadableStream", "Request", "Response", "Headers"].map(Hi),
  xm = ga(vq, 4),
  mq = xm[0],
  gq = xm[1],
  _q = xm[2],
  yq = xm[3],
  bq = function (i) {
    return i.trim
      ? i.trim()
      : i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
  };
function Oh(r, i) {
  var u = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {},
    v = u.allOwnKeys,
    m = v === void 0 ? !1 : v;
  if (!(r === null || typeof r == "undefined")) {
    var E, O;
    if ((ut(r) !== "object" && (r = [r]), fl(r)))
      for (E = 0, O = r.length; E < O; E++) i.call(null, r[E], E, r);
    else {
      var C = m ? Object.getOwnPropertyNames(r) : Object.keys(r),
        G = C.length,
        re;
      for (E = 0; E < G; E++) (re = C[E]), i.call(null, r[re], re, r);
    }
  }
}
function J4(r, i) {
  i = i.toLowerCase();
  for (var u = Object.keys(r), v = u.length, m; v-- > 0; )
    if (((m = u[v]), i === m.toLowerCase())) return m;
  return null;
}
var vu = (function () {
    return typeof globalThis != "undefined"
      ? globalThis
      : typeof self != "undefined"
      ? self
      : typeof window != "undefined"
      ? window
      : global;
  })(),
  $4 = function (i) {
    return !Rh(i) && i !== vu;
  };
function Kb() {
  for (
    var r = ($4(this) && this) || {},
      i = r.caseless,
      u = {},
      v = function (C, G) {
        var re = (i && J4(u, G)) || G;
        im(u[re]) && im(C)
          ? (u[re] = Kb(u[re], C))
          : im(C)
          ? (u[re] = Kb({}, C))
          : fl(C)
          ? (u[re] = C.slice())
          : (u[re] = C);
      },
      m = 0,
      E = arguments.length;
    m < E;
    m++
  )
    arguments[m] && Oh(arguments[m], v);
  return u;
}
var Sq = function (i, u, v) {
    var m = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {},
      E = m.allOwnKeys;
    return (
      Oh(
        u,
        function (O, C) {
          v && Kr(O) ? (i[C] = G4(O, v)) : (i[C] = O);
        },
        {
          allOwnKeys: E,
        }
      ),
      i
    );
  },
  wq = function (i) {
    return i.charCodeAt(0) === 65279 && (i = i.slice(1)), i;
  },
  kq = function (i, u, v, m) {
    (i.prototype = Object.create(u.prototype, m)),
      (i.prototype.constructor = i),
      Object.defineProperty(i, "super", {
        value: u.prototype,
      }),
      v && Object.assign(i.prototype, v);
  },
  Tq = function (i, u, v, m) {
    var E,
      O,
      C,
      G = {};
    if (((u = u || {}), i == null)) return u;
    do {
      for (E = Object.getOwnPropertyNames(i), O = E.length; O-- > 0; )
        (C = E[O]), (!m || m(C, i, u)) && !G[C] && ((u[C] = i[C]), (G[C] = !0));
      i = v !== !1 && yS(i);
    } while (i && (!v || v(i, u)) && i !== Object.prototype);
    return u;
  },
  Eq = function (i, u, v) {
    (i = String(i)),
      (v === void 0 || v > i.length) && (v = i.length),
      (v -= u.length);
    var m = i.indexOf(u, v);
    return m !== -1 && m === v;
  },
  Iq = function (i) {
    if (!i) return null;
    if (fl(i)) return i;
    var u = i.length;
    if (!K4(u)) return null;
    for (var v = new Array(u); u-- > 0; ) v[u] = i[u];
    return v;
  },
  Rq = (function (r) {
    return function (i) {
      return r && i instanceof r;
    };
  })(typeof Uint8Array != "undefined" && yS(Uint8Array)),
  Cq = function (i, u) {
    for (
      var v = i && i[Symbol.iterator], m = v.call(i), E;
      (E = m.next()) && !E.done;

    ) {
      var O = E.value;
      u.call(i, O[0], O[1]);
    }
  },
  Aq = function (i, u) {
    for (var v, m = []; (v = i.exec(u)) !== null; ) m.push(v);
    return m;
  },
  xq = Hi("HTMLFormElement"),
  Pq = function (i) {
    return i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g, function (v, m, E) {
      return m.toUpperCase() + E;
    });
  },
  W3 = (function (r) {
    var i = r.hasOwnProperty;
    return function (u, v) {
      return i.call(u, v);
    };
  })(Object.prototype),
  Oq = Hi("RegExp"),
  Y4 = function (i, u) {
    var v = Object.getOwnPropertyDescriptors(i),
      m = {};
    Oh(v, function (E, O) {
      var C;
      (C = u(E, O, i)) !== !1 && (m[O] = C || E);
    }),
      Object.defineProperties(i, m);
  },
  Dq = function (i) {
    Y4(i, function (u, v) {
      if (Kr(i) && ["arguments", "caller", "callee"].indexOf(v) !== -1)
        return !1;
      var m = i[v];
      if (Kr(m)) {
        if (((u.enumerable = !1), "writable" in u)) {
          u.writable = !1;
          return;
        }
        u.set ||
          (u.set = function () {
            throw Error("Can not rewrite read-only method '" + v + "'");
          });
      }
    });
  },
  Nq = function (i, u) {
    var v = {},
      m = function (O) {
        O.forEach(function (C) {
          v[C] = !0;
        });
      };
    return fl(i) ? m(i) : m(String(i).split(u)), v;
  },
  Lq = function () {},
  Mq = function (i, u) {
    return i != null && Number.isFinite((i = +i)) ? i : u;
  },
  Ab = "abcdefghijklmnopqrstuvwxyz",
  G3 = "0123456789",
  Z4 = {
    DIGIT: G3,
    ALPHA: Ab,
    ALPHA_DIGIT: Ab + Ab.toUpperCase() + G3,
  },
  Uq = function () {
    for (
      var i =
          arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 16,
        u =
          arguments.length > 1 && arguments[1] !== void 0
            ? arguments[1]
            : Z4.ALPHA_DIGIT,
        v = "",
        m = u.length;
      i--;

    )
      v += u[(Math.random() * m) | 0];
    return v;
  };
function Vq(r) {
  return !!(
    r &&
    Kr(r.append) &&
    r[Symbol.toStringTag] === "FormData" &&
    r[Symbol.iterator]
  );
}
var Fq = function (i) {
    var u = new Array(10),
      v = function (E, O) {
        if (Am(E)) {
          if (u.indexOf(E) >= 0) return;
          if (!("toJSON" in E)) {
            u[O] = E;
            var C = fl(E) ? [] : {};
            return (
              Oh(E, function (G, re) {
                var ce = v(G, O + 1);
                !Rh(ce) && (C[re] = ce);
              }),
              (u[O] = void 0),
              C
            );
          }
        }
        return E;
      };
    return v(i, 0);
  },
  jq = Hi("AsyncFunction"),
  Bq = function (i) {
    return i && (Am(i) || Kr(i)) && Kr(i.then) && Kr(i.catch);
  },
  Q4 = (function (r, i) {
    return r
      ? setImmediate
      : i
      ? (function (u, v) {
          return (
            vu.addEventListener(
              "message",
              function (m) {
                var E = m.source,
                  O = m.data;
                E === vu && O === u && v.length && v.shift()();
              },
              !1
            ),
            function (m) {
              v.push(m), vu.postMessage(u, "*");
            }
          );
        })("axios@".concat(Math.random()), [])
      : function (u) {
          return setTimeout(u);
        };
  })(typeof setImmediate == "function", Kr(vu.postMessage)),
  Hq =
    typeof queueMicrotask != "undefined"
      ? queueMicrotask.bind(vu)
      : (typeof process != "undefined" && process.nextTick) || Q4;
const Me = {
  isArray: fl,
  isArrayBuffer: q4,
  isBuffer: iq,
  isFormData: fq,
  isArrayBufferView: aq,
  isString: oq,
  isNumber: K4,
  isBoolean: sq,
  isObject: Am,
  isPlainObject: im,
  isReadableStream: mq,
  isRequest: gq,
  isResponse: _q,
  isHeaders: yq,
  isUndefined: Rh,
  isDate: uq,
  isFile: cq,
  isBlob: lq,
  isRegExp: Oq,
  isFunction: Kr,
  isStream: hq,
  isURLSearchParams: pq,
  isTypedArray: Rq,
  isFileList: dq,
  forEach: Oh,
  merge: Kb,
  extend: Sq,
  trim: bq,
  stripBOM: wq,
  inherits: kq,
  toFlatObject: Tq,
  kindOf: Rm,
  kindOfTest: Hi,
  endsWith: Eq,
  toArray: Iq,
  forEachEntry: Cq,
  matchAll: Aq,
  isHTMLForm: xq,
  hasOwnProperty: W3,
  hasOwnProp: W3,
  // an alias to avoid ESLint no-prototype-builtins detection
  reduceDescriptors: Y4,
  freezeMethods: Dq,
  toObjectSet: Nq,
  toCamelCase: Pq,
  noop: Lq,
  toFiniteNumber: Mq,
  findKey: J4,
  global: vu,
  isContextDefined: $4,
  ALPHABET: Z4,
  generateString: Uq,
  isSpecCompliantForm: Vq,
  toJSONObject: Fq,
  isAsyncFn: jq,
  isThenable: Bq,
  setImmediate: Q4,
  asap: Hq,
};
function tr(r, i) {
  if (!(r instanceof i))
    throw new TypeError("Cannot call a class as a function");
}
function q3(r, i) {
  for (var u = 0; u < i.length; u++) {
    var v = i[u];
    (v.enumerable = v.enumerable || !1),
      (v.configurable = !0),
      "value" in v && (v.writable = !0),
      Object.defineProperty(r, F4(v.key), v);
  }
}
function nr(r, i, u) {
  return (
    i && q3(r.prototype, i),
    u && q3(r, u),
    Object.defineProperty(r, "prototype", {
      writable: !1,
    }),
    r
  );
}
function Lt(r, i, u, v, m) {
  Error.call(this),
    Error.captureStackTrace
      ? Error.captureStackTrace(this, this.constructor)
      : (this.stack = new Error().stack),
    (this.message = r),
    (this.name = "AxiosError"),
    i && (this.code = i),
    u && (this.config = u),
    v && (this.request = v),
    m && ((this.response = m), (this.status = m.status ? m.status : null));
}
Me.inherits(Lt, Error, {
  toJSON: function () {
    return {
      // Standard
      message: this.message,
      name: this.name,
      // Microsoft
      description: this.description,
      number: this.number,
      // Mozilla
      fileName: this.fileName,
      lineNumber: this.lineNumber,
      columnNumber: this.columnNumber,
      stack: this.stack,
      // Axios
      config: Me.toJSONObject(this.config),
      code: this.code,
      status: this.status,
    };
  },
});
var X4 = Lt.prototype,
  ex = {};
[
  "ERR_BAD_OPTION_VALUE",
  "ERR_BAD_OPTION",
  "ECONNABORTED",
  "ETIMEDOUT",
  "ERR_NETWORK",
  "ERR_FR_TOO_MANY_REDIRECTS",
  "ERR_DEPRECATED",
  "ERR_BAD_RESPONSE",
  "ERR_BAD_REQUEST",
  "ERR_CANCELED",
  "ERR_NOT_SUPPORT",
  "ERR_INVALID_URL",
  // eslint-disable-next-line func-names
].forEach(function (r) {
  ex[r] = {
    value: r,
  };
});
Object.defineProperties(Lt, ex);
Object.defineProperty(X4, "isAxiosError", {
  value: !0,
});
Lt.from = function (r, i, u, v, m, E) {
  var O = Object.create(X4);
  return (
    Me.toFlatObject(
      r,
      O,
      function (G) {
        return G !== Error.prototype;
      },
      function (C) {
        return C !== "isAxiosError";
      }
    ),
    Lt.call(O, r.message, i, u, v, m),
    (O.cause = r),
    (O.name = r.name),
    E && Object.assign(O, E),
    O
  );
};
const zq = null;
function Jb(r) {
  return Me.isPlainObject(r) || Me.isArray(r);
}
function tx(r) {
  return Me.endsWith(r, "[]") ? r.slice(0, -2) : r;
}
function K3(r, i, u) {
  return r
    ? r
        .concat(i)
        .map(function (m, E) {
          return (m = tx(m)), !u && E ? "[" + m + "]" : m;
        })
        .join(u ? "." : "")
    : i;
}
function Wq(r) {
  return Me.isArray(r) && !r.some(Jb);
}
var Gq = Me.toFlatObject(Me, {}, null, function (i) {
  return /^is[A-Z]/.test(i);
});
function Pm(r, i, u) {
  if (!Me.isObject(r)) throw new TypeError("target must be an object");
  (i = i || new FormData()),
    (u = Me.toFlatObject(
      u,
      {
        metaTokens: !0,
        dots: !1,
        indexes: !1,
      },
      !1,
      function (Be, le) {
        return !Me.isUndefined(le[Be]);
      }
    ));
  var v = u.metaTokens,
    m = u.visitor || ce,
    E = u.dots,
    O = u.indexes,
    C = u.Blob || (typeof Blob != "undefined" && Blob),
    G = C && Me.isSpecCompliantForm(i);
  if (!Me.isFunction(m)) throw new TypeError("visitor must be a function");
  function re(Ae) {
    if (Ae === null) return "";
    if (Me.isDate(Ae)) return Ae.toISOString();
    if (!G && Me.isBlob(Ae))
      throw new Lt("Blob is not supported. Use a Buffer instead.");
    return Me.isArrayBuffer(Ae) || Me.isTypedArray(Ae)
      ? G && typeof Blob == "function"
        ? new Blob([Ae])
        : Buffer.from(Ae)
      : Ae;
  }
  function ce(Ae, Be, le) {
    var bt = Ae;
    if (Ae && !le && ut(Ae) === "object") {
      if (Me.endsWith(Be, "{}"))
        (Be = v ? Be : Be.slice(0, -2)), (Ae = JSON.stringify(Ae));
      else if (
        (Me.isArray(Ae) && Wq(Ae)) ||
        ((Me.isFileList(Ae) || Me.endsWith(Be, "[]")) && (bt = Me.toArray(Ae)))
      )
        return (
          (Be = tx(Be)),
          bt.forEach(function (St, Ut) {
            !(Me.isUndefined(St) || St === null) &&
              i.append(
                // eslint-disable-next-line no-nested-ternary
                O === !0 ? K3([Be], Ut, E) : O === null ? Be : Be + "[]",
                re(St)
              );
          }),
          !1
        );
    }
    return Jb(Ae) ? !0 : (i.append(K3(le, Be, E), re(Ae)), !1);
  }
  var de = [],
    me = Object.assign(Gq, {
      defaultVisitor: ce,
      convertValue: re,
      isVisitable: Jb,
    });
  function Ee(Ae, Be) {
    if (!Me.isUndefined(Ae)) {
      if (de.indexOf(Ae) !== -1)
        throw Error("Circular reference detected in " + Be.join("."));
      de.push(Ae),
        Me.forEach(Ae, function (bt, Et) {
          var St =
            !(Me.isUndefined(bt) || bt === null) &&
            m.call(i, bt, Me.isString(Et) ? Et.trim() : Et, Be, me);
          St === !0 && Ee(bt, Be ? Be.concat(Et) : [Et]);
        }),
        de.pop();
    }
  }
  if (!Me.isObject(r)) throw new TypeError("data must be an object");
  return Ee(r), i;
}
function J3(r) {
  var i = {
    "!": "%21",
    "'": "%27",
    "(": "%28",
    ")": "%29",
    "~": "%7E",
    "%20": "+",
    "%00": "\0",
  };
  return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g, function (v) {
    return i[v];
  });
}
function bS(r, i) {
  (this._pairs = []), r && Pm(r, this, i);
}
var nx = bS.prototype;
nx.append = function (i, u) {
  this._pairs.push([i, u]);
};
nx.toString = function (i) {
  var u = i
    ? function (v) {
        return i.call(this, v, J3);
      }
    : J3;
  return this._pairs
    .map(function (m) {
      return u(m[0]) + "=" + u(m[1]);
    }, "")
    .join("&");
};
function qq(r) {
  return encodeURIComponent(r)
    .replace(/%3A/gi, ":")
    .replace(/%24/g, "$")
    .replace(/%2C/gi, ",")
    .replace(/%20/g, "+")
    .replace(/%5B/gi, "[")
    .replace(/%5D/gi, "]");
}
function rx(r, i, u) {
  if (!i) return r;
  var v = (u && u.encode) || qq,
    m = u && u.serialize,
    E;
  if (
    (m
      ? (E = m(i, u))
      : (E = Me.isURLSearchParams(i) ? i.toString() : new bS(i, u).toString(v)),
    E)
  ) {
    var O = r.indexOf("#");
    O !== -1 && (r = r.slice(0, O)),
      (r += (r.indexOf("?") === -1 ? "?" : "&") + E);
  }
  return r;
}
var Kq = /* @__PURE__ */ (function () {
  function r() {
    tr(this, r), (this.handlers = []);
  }
  return nr(r, [
    {
      key: "use",
      value: function (u, v, m) {
        return (
          this.handlers.push({
            fulfilled: u,
            rejected: v,
            synchronous: m ? m.synchronous : !1,
            runWhen: m ? m.runWhen : null,
          }),
          this.handlers.length - 1
        );
      },
      /**
       * Remove an interceptor from the stack
       *
       * @param {Number} id The ID that was returned by `use`
       *
       * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise
       */
    },
    {
      key: "eject",
      value: function (u) {
        this.handlers[u] && (this.handlers[u] = null);
      },
      /**
       * Clear all interceptors from the stack
       *
       * @returns {void}
       */
    },
    {
      key: "clear",
      value: function () {
        this.handlers && (this.handlers = []);
      },
      /**
       * Iterate over all the registered interceptors
       *
       * This method is particularly useful for skipping over any
       * interceptors that may have become `null` calling `eject`.
       *
       * @param {Function} fn The function to call for each interceptor
       *
       * @returns {void}
       */
    },
    {
      key: "forEach",
      value: function (u) {
        Me.forEach(this.handlers, function (m) {
          m !== null && u(m);
        });
      },
    },
  ]);
})();
const $3 = Kq,
  ix = {
    silentJSONParsing: !0,
    forcedJSONParsing: !0,
    clarifyTimeoutError: !1,
  },
  Jq = typeof URLSearchParams != "undefined" ? URLSearchParams : bS,
  $q = typeof FormData != "undefined" ? FormData : null,
  Yq = typeof Blob != "undefined" ? Blob : null,
  Zq = {
    isBrowser: !0,
    classes: {
      URLSearchParams: Jq,
      FormData: $q,
      Blob: Yq,
    },
    protocols: ["http", "https", "file", "blob", "url", "data"],
  };
var SS = typeof window != "undefined" && typeof document != "undefined",
  $b =
    ((typeof navigator == "undefined" ? "undefined" : ut(navigator)) ===
      "object" &&
      navigator) ||
    void 0,
  Qq =
    SS &&
    (!$b || ["ReactNative", "NativeScript", "NS"].indexOf($b.product) < 0),
  Xq = (function () {
    return (
      typeof WorkerGlobalScope != "undefined" && // eslint-disable-next-line no-undef
      self instanceof WorkerGlobalScope &&
      typeof self.importScripts == "function"
    );
  })(),
  eK = (SS && window.location.href) || "http://localhost";
const tK = /* @__PURE__ */ Object.freeze(
  /* @__PURE__ */ Object.defineProperty(
    {
      __proto__: null,
      hasBrowserEnv: SS,
      hasStandardBrowserEnv: Qq,
      hasStandardBrowserWebWorkerEnv: Xq,
      navigator: $b,
      origin: eK,
    },
    Symbol.toStringTag,
    { value: "Module" }
  )
);
function Y3(r, i) {
  var u = Object.keys(r);
  if (Object.getOwnPropertySymbols) {
    var v = Object.getOwnPropertySymbols(r);
    i &&
      (v = v.filter(function (m) {
        return Object.getOwnPropertyDescriptor(r, m).enumerable;
      })),
      u.push.apply(u, v);
  }
  return u;
}
function Z3(r) {
  for (var i = 1; i < arguments.length; i++) {
    var u = arguments[i] != null ? arguments[i] : {};
    i % 2
      ? Y3(Object(u), !0).forEach(function (v) {
          tt(r, v, u[v]);
        })
      : Object.getOwnPropertyDescriptors
      ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(u))
      : Y3(Object(u)).forEach(function (v) {
          Object.defineProperty(r, v, Object.getOwnPropertyDescriptor(u, v));
        });
  }
  return r;
}
const Dr = Z3(Z3({}, tK), Zq);
function nK(r, i) {
  return Pm(
    r,
    new Dr.classes.URLSearchParams(),
    Object.assign(
      {
        visitor: function (v, m, E, O) {
          return Dr.isNode && Me.isBuffer(v)
            ? (this.append(m, v.toString("base64")), !1)
            : O.defaultVisitor.apply(this, arguments);
        },
      },
      i
    )
  );
}
function rK(r) {
  return Me.matchAll(/\w+|\[(\w*)]/g, r).map(function (i) {
    return i[0] === "[]" ? "" : i[1] || i[0];
  });
}
function iK(r) {
  var i = {},
    u = Object.keys(r),
    v,
    m = u.length,
    E;
  for (v = 0; v < m; v++) (E = u[v]), (i[E] = r[E]);
  return i;
}
function ax(r) {
  function i(v, m, E, O) {
    var C = v[O++];
    if (C === "__proto__") return !0;
    var G = Number.isFinite(+C),
      re = O >= v.length;
    if (((C = !C && Me.isArray(E) ? E.length : C), re))
      return Me.hasOwnProp(E, C) ? (E[C] = [E[C], m]) : (E[C] = m), !G;
    (!E[C] || !Me.isObject(E[C])) && (E[C] = []);
    var ce = i(v, m, E[C], O);
    return ce && Me.isArray(E[C]) && (E[C] = iK(E[C])), !G;
  }
  if (Me.isFormData(r) && Me.isFunction(r.entries)) {
    var u = {};
    return (
      Me.forEachEntry(r, function (v, m) {
        i(rK(v), m, u, 0);
      }),
      u
    );
  }
  return null;
}
function aK(r, i, u) {
  if (Me.isString(r))
    try {
      return (i || JSON.parse)(r), Me.trim(r);
    } catch (v) {
      if (v.name !== "SyntaxError") throw v;
    }
  return (u || JSON.stringify)(r);
}
var wS = {
  transitional: ix,
  adapter: ["xhr", "http", "fetch"],
  transformRequest: [
    function (i, u) {
      var v = u.getContentType() || "",
        m = v.indexOf("application/json") > -1,
        E = Me.isObject(i);
      E && Me.isHTMLForm(i) && (i = new FormData(i));
      var O = Me.isFormData(i);
      if (O) return m ? JSON.stringify(ax(i)) : i;
      if (
        Me.isArrayBuffer(i) ||
        Me.isBuffer(i) ||
        Me.isStream(i) ||
        Me.isFile(i) ||
        Me.isBlob(i) ||
        Me.isReadableStream(i)
      )
        return i;
      if (Me.isArrayBufferView(i)) return i.buffer;
      if (Me.isURLSearchParams(i))
        return (
          u.setContentType(
            "application/x-www-form-urlencoded;charset=utf-8",
            !1
          ),
          i.toString()
        );
      var C;
      if (E) {
        if (v.indexOf("application/x-www-form-urlencoded") > -1)
          return nK(i, this.formSerializer).toString();
        if ((C = Me.isFileList(i)) || v.indexOf("multipart/form-data") > -1) {
          var G = this.env && this.env.FormData;
          return Pm(
            C
              ? {
                  "files[]": i,
                }
              : i,
            G && new G(),
            this.formSerializer
          );
        }
      }
      return E || m ? (u.setContentType("application/json", !1), aK(i)) : i;
    },
  ],
  transformResponse: [
    function (i) {
      var u = this.transitional || wS.transitional,
        v = u && u.forcedJSONParsing,
        m = this.responseType === "json";
      if (Me.isResponse(i) || Me.isReadableStream(i)) return i;
      if (i && Me.isString(i) && ((v && !this.responseType) || m)) {
        var E = u && u.silentJSONParsing,
          O = !E && m;
        try {
          return JSON.parse(i);
        } catch (C) {
          if (O)
            throw C.name === "SyntaxError"
              ? Lt.from(C, Lt.ERR_BAD_RESPONSE, this, null, this.response)
              : C;
        }
      }
      return i;
    },
  ],
  /**
   * A timeout in milliseconds to abort a request. If set to 0 (default) a
   * timeout is not created.
   */
  timeout: 0,
  xsrfCookieName: "XSRF-TOKEN",
  xsrfHeaderName: "X-XSRF-TOKEN",
  maxContentLength: -1,
  maxBodyLength: -1,
  env: {
    FormData: Dr.classes.FormData,
    Blob: Dr.classes.Blob,
  },
  validateStatus: function (i) {
    return i >= 200 && i < 300;
  },
  headers: {
    common: {
      Accept: "application/json, text/plain, */*",
      "Content-Type": void 0,
    },
  },
};
Me.forEach(["delete", "get", "head", "post", "put", "patch"], function (r) {
  wS.headers[r] = {};
});
const kS = wS;
var oK = Me.toObjectSet([
  "age",
  "authorization",
  "content-length",
  "content-type",
  "etag",
  "expires",
  "from",
  "host",
  "if-modified-since",
  "if-unmodified-since",
  "last-modified",
  "location",
  "max-forwards",
  "proxy-authorization",
  "referer",
  "retry-after",
  "user-agent",
]);
const sK = function (r) {
  var i = {},
    u,
    v,
    m;
  return (
    r &&
      r
        .split(
          `
`
        )
        .forEach(function (O) {
          (m = O.indexOf(":")),
            (u = O.substring(0, m).trim().toLowerCase()),
            (v = O.substring(m + 1).trim()),
            !(!u || (i[u] && oK[u])) &&
              (u === "set-cookie"
                ? i[u]
                  ? i[u].push(v)
                  : (i[u] = [v])
                : (i[u] = i[u] ? i[u] + ", " + v : v));
        }),
    i
  );
};
function uK(r, i) {
  var u =
    (typeof Symbol != "undefined" && r[Symbol.iterator]) || r["@@iterator"];
  if (!u) {
    if (
      Array.isArray(r) ||
      (u = cK(r)) ||
      (i && r && typeof r.length == "number")
    ) {
      u && (r = u);
      var v = 0,
        m = function () {};
      return {
        s: m,
        n: function () {
          return v >= r.length ? { done: !0 } : { done: !1, value: r[v++] };
        },
        e: function (re) {
          throw re;
        },
        f: m,
      };
    }
    throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
  }
  var E,
    O = !0,
    C = !1;
  return {
    s: function () {
      u = u.call(r);
    },
    n: function () {
      var re = u.next();
      return (O = re.done), re;
    },
    e: function (re) {
      (C = !0), (E = re);
    },
    f: function () {
      try {
        O || u.return == null || u.return();
      } finally {
        if (C) throw E;
      }
    },
  };
}
function cK(r, i) {
  if (r) {
    if (typeof r == "string") return Q3(r, i);
    var u = {}.toString.call(r).slice(8, -1);
    return (
      u === "Object" && r.constructor && (u = r.constructor.name),
      u === "Map" || u === "Set"
        ? Array.from(r)
        : u === "Arguments" ||
          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)
        ? Q3(r, i)
        : void 0
    );
  }
}
function Q3(r, i) {
  (i == null || i > r.length) && (i = r.length);
  for (var u = 0, v = Array(i); u < i; u++) v[u] = r[u];
  return v;
}
var X3 = Symbol("internals");
function vh(r) {
  return r && String(r).trim().toLowerCase();
}
function am(r) {
  return r === !1 || r == null ? r : Me.isArray(r) ? r.map(am) : String(r);
}
function lK(r) {
  for (
    var i = /* @__PURE__ */ Object.create(null),
      u = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,
      v;
    (v = u.exec(r));

  )
    i[v[1]] = v[2];
  return i;
}
var dK = function (i) {
  return /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());
};
function xb(r, i, u, v, m) {
  if (Me.isFunction(v)) return v.call(this, i, u);
  if ((m && (i = u), !!Me.isString(i))) {
    if (Me.isString(v)) return i.indexOf(v) !== -1;
    if (Me.isRegExp(v)) return v.test(i);
  }
}
function hK(r) {
  return r
    .trim()
    .toLowerCase()
    .replace(/([a-z\d])(\w*)/g, function (i, u, v) {
      return u.toUpperCase() + v;
    });
}
function fK(r, i) {
  var u = Me.toCamelCase(" " + i);
  ["get", "set", "has"].forEach(function (v) {
    Object.defineProperty(r, v + u, {
      value: function (E, O, C) {
        return this[v].call(this, i, E, O, C);
      },
      configurable: !0,
    });
  });
}
var Om = /* @__PURE__ */ (function () {
  function r(i) {
    tr(this, r), i && this.set(i);
  }
  return nr(
    r,
    [
      {
        key: "set",
        value: function (u, v, m) {
          var E = this;
          function O(Ee, Ae, Be) {
            var le = vh(Ae);
            if (!le) throw new Error("header name must be a non-empty string");
            var bt = Me.findKey(E, le);
            (!bt ||
              E[bt] === void 0 ||
              Be === !0 ||
              (Be === void 0 && E[bt] !== !1)) &&
              (E[bt || Ae] = am(Ee));
          }
          var C = function (Ae, Be) {
            return Me.forEach(Ae, function (le, bt) {
              return O(le, bt, Be);
            });
          };
          if (Me.isPlainObject(u) || u instanceof this.constructor) C(u, v);
          else if (Me.isString(u) && (u = u.trim()) && !dK(u)) C(sK(u), v);
          else if (Me.isHeaders(u)) {
            var G = uK(u.entries()),
              re;
            try {
              for (G.s(); !(re = G.n()).done; ) {
                var ce = ga(re.value, 2),
                  de = ce[0],
                  me = ce[1];
                O(me, de, m);
              }
            } catch (Ee) {
              G.e(Ee);
            } finally {
              G.f();
            }
          } else u != null && O(v, u, m);
          return this;
        },
      },
      {
        key: "get",
        value: function (u, v) {
          if (((u = vh(u)), u)) {
            var m = Me.findKey(this, u);
            if (m) {
              var E = this[m];
              if (!v) return E;
              if (v === !0) return lK(E);
              if (Me.isFunction(v)) return v.call(this, E, m);
              if (Me.isRegExp(v)) return v.exec(E);
              throw new TypeError("parser must be boolean|regexp|function");
            }
          }
        },
      },
      {
        key: "has",
        value: function (u, v) {
          if (((u = vh(u)), u)) {
            var m = Me.findKey(this, u);
            return !!(
              m &&
              this[m] !== void 0 &&
              (!v || xb(this, this[m], m, v))
            );
          }
          return !1;
        },
      },
      {
        key: "delete",
        value: function (u, v) {
          var m = this,
            E = !1;
          function O(C) {
            if (((C = vh(C)), C)) {
              var G = Me.findKey(m, C);
              G && (!v || xb(m, m[G], G, v)) && (delete m[G], (E = !0));
            }
          }
          return Me.isArray(u) ? u.forEach(O) : O(u), E;
        },
      },
      {
        key: "clear",
        value: function (u) {
          for (var v = Object.keys(this), m = v.length, E = !1; m--; ) {
            var O = v[m];
            (!u || xb(this, this[O], O, u, !0)) && (delete this[O], (E = !0));
          }
          return E;
        },
      },
      {
        key: "normalize",
        value: function (u) {
          var v = this,
            m = {};
          return (
            Me.forEach(this, function (E, O) {
              var C = Me.findKey(m, O);
              if (C) {
                (v[C] = am(E)), delete v[O];
                return;
              }
              var G = u ? hK(O) : String(O).trim();
              G !== O && delete v[O], (v[G] = am(E)), (m[G] = !0);
            }),
            this
          );
        },
      },
      {
        key: "concat",
        value: function () {
          for (var u, v = arguments.length, m = new Array(v), E = 0; E < v; E++)
            m[E] = arguments[E];
          return (u = this.constructor).concat.apply(u, [this].concat(m));
        },
      },
      {
        key: "toJSON",
        value: function (u) {
          var v = /* @__PURE__ */ Object.create(null);
          return (
            Me.forEach(this, function (m, E) {
              m != null &&
                m !== !1 &&
                (v[E] = u && Me.isArray(m) ? m.join(", ") : m);
            }),
            v
          );
        },
      },
      {
        key: Symbol.iterator,
        value: function () {
          return Object.entries(this.toJSON())[Symbol.iterator]();
        },
      },
      {
        key: "toString",
        value: function () {
          return Object.entries(this.toJSON()).map(function (u) {
            var v = ga(u, 2),
              m = v[0],
              E = v[1];
            return m + ": " + E;
          }).join(`
`);
        },
      },
      {
        key: Symbol.toStringTag,
        get: function () {
          return "AxiosHeaders";
        },
      },
    ],
    [
      {
        key: "from",
        value: function (u) {
          return u instanceof this ? u : new this(u);
        },
      },
      {
        key: "concat",
        value: function (u) {
          for (
            var v = new this(u),
              m = arguments.length,
              E = new Array(m > 1 ? m - 1 : 0),
              O = 1;
            O < m;
            O++
          )
            E[O - 1] = arguments[O];
          return (
            E.forEach(function (C) {
              return v.set(C);
            }),
            v
          );
        },
      },
      {
        key: "accessor",
        value: function (u) {
          var v =
              (this[X3] =
              this[X3] =
                {
                  accessors: {},
                }),
            m = v.accessors,
            E = this.prototype;
          function O(C) {
            var G = vh(C);
            m[G] || (fK(E, C), (m[G] = !0));
          }
          return Me.isArray(u) ? u.forEach(O) : O(u), this;
        },
      },
    ]
  );
})();
Om.accessor([
  "Content-Type",
  "Content-Length",
  "Accept",
  "Accept-Encoding",
  "User-Agent",
  "Authorization",
]);
Me.reduceDescriptors(Om.prototype, function (r, i) {
  var u = r.value,
    v = i[0].toUpperCase() + i.slice(1);
  return {
    get: function () {
      return u;
    },
    set: function (E) {
      this[v] = E;
    },
  };
});
Me.freezeMethods(Om);
const Fi = Om;
function Pb(r, i) {
  var u = this || kS,
    v = i || u,
    m = Fi.from(v.headers),
    E = v.data;
  return (
    Me.forEach(r, function (C) {
      E = C.call(u, E, m.normalize(), i ? i.status : void 0);
    }),
    m.normalize(),
    E
  );
}
function ox(r) {
  return !!(r && r.__CANCEL__);
}
function pl(r, i, u) {
  Lt.call(this, r == null ? "canceled" : r, Lt.ERR_CANCELED, i, u),
    (this.name = "CanceledError");
}
Me.inherits(pl, Lt, {
  __CANCEL__: !0,
});
function sx(r, i, u) {
  var v = u.config.validateStatus;
  !u.status || !v || v(u.status)
    ? r(u)
    : i(
        new Lt(
          "Request failed with status code " + u.status,
          [Lt.ERR_BAD_REQUEST, Lt.ERR_BAD_RESPONSE][
            Math.floor(u.status / 100) - 4
          ],
          u.config,
          u.request,
          u
        )
      );
}
function pK(r) {
  var i = /^([-+\w]{1,25})(:?\/\/|:)/.exec(r);
  return (i && i[1]) || "";
}
function vK(r, i) {
  r = r || 10;
  var u = new Array(r),
    v = new Array(r),
    m = 0,
    E = 0,
    O;
  return (
    (i = i !== void 0 ? i : 1e3),
    function (G) {
      var re = Date.now(),
        ce = v[E];
      O || (O = re), (u[m] = G), (v[m] = re);
      for (var de = E, me = 0; de !== m; ) (me += u[de++]), (de = de % r);
      if (((m = (m + 1) % r), m === E && (E = (E + 1) % r), !(re - O < i))) {
        var Ee = ce && re - ce;
        return Ee ? Math.round((me * 1e3) / Ee) : void 0;
      }
    }
  );
}
function mK(r, i) {
  var u = 0,
    v = 1e3 / i,
    m,
    E,
    O = function (ce) {
      var de =
        arguments.length > 1 && arguments[1] !== void 0
          ? arguments[1]
          : Date.now();
      (u = de),
        (m = null),
        E && (clearTimeout(E), (E = null)),
        r.apply(null, ce);
    },
    C = function () {
      for (
        var ce = Date.now(),
          de = ce - u,
          me = arguments.length,
          Ee = new Array(me),
          Ae = 0;
        Ae < me;
        Ae++
      )
        Ee[Ae] = arguments[Ae];
      de >= v
        ? O(Ee, ce)
        : ((m = Ee),
          E ||
            (E = setTimeout(function () {
              (E = null), O(m);
            }, v - de)));
    },
    G = function () {
      return m && O(m);
    };
  return [C, G];
}
var fm = function (i, u) {
    var v = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 3,
      m = 0,
      E = vK(50, 250);
    return mK(function (O) {
      var C = O.loaded,
        G = O.lengthComputable ? O.total : void 0,
        re = C - m,
        ce = E(re),
        de = C <= G;
      m = C;
      var me = tt(
        {
          loaded: C,
          total: G,
          progress: G ? C / G : void 0,
          bytes: re,
          rate: ce || void 0,
          estimated: ce && G && de ? (G - C) / ce : void 0,
          event: O,
          lengthComputable: G != null,
        },
        u ? "download" : "upload",
        !0
      );
      i(me);
    }, v);
  },
  e4 = function (i, u) {
    var v = i != null;
    return [
      function (m) {
        return u[0]({
          lengthComputable: v,
          total: i,
          loaded: m,
        });
      },
      u[1],
    ];
  },
  t4 = function (i) {
    return function () {
      for (var u = arguments.length, v = new Array(u), m = 0; m < u; m++)
        v[m] = arguments[m];
      return Me.asap(function () {
        return i.apply(void 0, v);
      });
    };
  };
function gK(r) {
  if (Array.isArray(r)) return qb(r);
}
function ux(r) {
  if (
    (typeof Symbol != "undefined" && r[Symbol.iterator] != null) ||
    r["@@iterator"] != null
  )
    return Array.from(r);
}
function _K() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function cn(r) {
  return gK(r) || ux(r) || _S(r) || _K();
}
function yK(r) {
  return z4(r) || ux(r) || _S(r) || W4();
}
const bK = Dr.hasStandardBrowserEnv
    ? // Standard browser envs have full support of the APIs needed to test
      // whether the request URL is of the same origin as current location.
      (function () {
        var i = Dr.navigator && /(msie|trident)/i.test(Dr.navigator.userAgent),
          u = document.createElement("a"),
          v;
        function m(E) {
          var O = E;
          return (
            i && (u.setAttribute("href", O), (O = u.href)),
            u.setAttribute("href", O),
            {
              href: u.href,
              protocol: u.protocol ? u.protocol.replace(/:$/, "") : "",
              host: u.host,
              search: u.search ? u.search.replace(/^\?/, "") : "",
              hash: u.hash ? u.hash.replace(/^#/, "") : "",
              hostname: u.hostname,
              port: u.port,
              pathname:
                u.pathname.charAt(0) === "/" ? u.pathname : "/" + u.pathname,
            }
          );
        }
        return (
          (v = m(window.location.href)),
          function (O) {
            var C = Me.isString(O) ? m(O) : O;
            return C.protocol === v.protocol && C.host === v.host;
          }
        );
      })()
    : // Non standard browser envs (web workers, react-native) lack needed support.
      (function () {
        return function () {
          return !0;
        };
      })(),
  SK = Dr.hasStandardBrowserEnv
    ? // Standard browser envs support document.cookie
      {
        write: function (i, u, v, m, E, O) {
          var C = [i + "=" + encodeURIComponent(u)];
          Me.isNumber(v) && C.push("expires=" + new Date(v).toGMTString()),
            Me.isString(m) && C.push("path=" + m),
            Me.isString(E) && C.push("domain=" + E),
            O === !0 && C.push("secure"),
            (document.cookie = C.join("; "));
        },
        read: function (i) {
          var u = document.cookie.match(
            new RegExp("(^|;\\s*)(" + i + ")=([^;]*)")
          );
          return u ? decodeURIComponent(u[3]) : null;
        },
        remove: function (i) {
          this.write(i, "", Date.now() - 864e5);
        },
      }
    : // Non-standard browser env (web workers, react-native) lack needed support.
      {
        write: function () {},
        read: function () {
          return null;
        },
        remove: function () {},
      };
function wK(r) {
  return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(r);
}
function kK(r, i) {
  return i ? r.replace(/\/?\/$/, "") + "/" + i.replace(/^\/+/, "") : r;
}
function cx(r, i) {
  return r && !wK(i) ? kK(r, i) : i;
}
function n4(r, i) {
  var u = Object.keys(r);
  if (Object.getOwnPropertySymbols) {
    var v = Object.getOwnPropertySymbols(r);
    i &&
      (v = v.filter(function (m) {
        return Object.getOwnPropertyDescriptor(r, m).enumerable;
      })),
      u.push.apply(u, v);
  }
  return u;
}
function TK(r) {
  for (var i = 1; i < arguments.length; i++) {
    var u = arguments[i] != null ? arguments[i] : {};
    i % 2
      ? n4(Object(u), !0).forEach(function (v) {
          tt(r, v, u[v]);
        })
      : Object.getOwnPropertyDescriptors
      ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(u))
      : n4(Object(u)).forEach(function (v) {
          Object.defineProperty(r, v, Object.getOwnPropertyDescriptor(u, v));
        });
  }
  return r;
}
var r4 = function (i) {
  return i instanceof Fi ? TK({}, i) : i;
};
function yu(r, i) {
  i = i || {};
  var u = {};
  function v(re, ce, de) {
    return Me.isPlainObject(re) && Me.isPlainObject(ce)
      ? Me.merge.call(
          {
            caseless: de,
          },
          re,
          ce
        )
      : Me.isPlainObject(ce)
      ? Me.merge({}, ce)
      : Me.isArray(ce)
      ? ce.slice()
      : ce;
  }
  function m(re, ce, de) {
    if (Me.isUndefined(ce)) {
      if (!Me.isUndefined(re)) return v(void 0, re, de);
    } else return v(re, ce, de);
  }
  function E(re, ce) {
    if (!Me.isUndefined(ce)) return v(void 0, ce);
  }
  function O(re, ce) {
    if (Me.isUndefined(ce)) {
      if (!Me.isUndefined(re)) return v(void 0, re);
    } else return v(void 0, ce);
  }
  function C(re, ce, de) {
    if (de in i) return v(re, ce);
    if (de in r) return v(void 0, re);
  }
  var G = {
    url: E,
    method: E,
    data: E,
    baseURL: O,
    transformRequest: O,
    transformResponse: O,
    paramsSerializer: O,
    timeout: O,
    timeoutMessage: O,
    withCredentials: O,
    withXSRFToken: O,
    adapter: O,
    responseType: O,
    xsrfCookieName: O,
    xsrfHeaderName: O,
    onUploadProgress: O,
    onDownloadProgress: O,
    decompress: O,
    maxContentLength: O,
    maxBodyLength: O,
    beforeRedirect: O,
    transport: O,
    httpAgent: O,
    httpsAgent: O,
    cancelToken: O,
    socketPath: O,
    responseEncoding: O,
    validateStatus: C,
    headers: function (ce, de) {
      return m(r4(ce), r4(de), !0);
    },
  };
  return (
    Me.forEach(Object.keys(Object.assign({}, r, i)), function (ce) {
      var de = G[ce] || m,
        me = de(r[ce], i[ce], ce);
      (Me.isUndefined(me) && de !== C) || (u[ce] = me);
    }),
    u
  );
}
const lx = function (r) {
  var i = yu({}, r),
    u = i.data,
    v = i.withXSRFToken,
    m = i.xsrfHeaderName,
    E = i.xsrfCookieName,
    O = i.headers,
    C = i.auth;
  (i.headers = O = Fi.from(O)),
    (i.url = rx(cx(i.baseURL, i.url), r.params, r.paramsSerializer)),
    C &&
      O.set(
        "Authorization",
        "Basic " +
          btoa(
            (C.username || "") +
              ":" +
              (C.password ? unescape(encodeURIComponent(C.password)) : "")
          )
      );
  var G;
  if (Me.isFormData(u)) {
    if (Dr.hasStandardBrowserEnv || Dr.hasStandardBrowserWebWorkerEnv)
      O.setContentType(void 0);
    else if ((G = O.getContentType()) !== !1) {
      var re = G
          ? G.split(";")
              .map(function (Ae) {
                return Ae.trim();
              })
              .filter(Boolean)
          : [],
        ce = yK(re),
        de = ce[0],
        me = ce.slice(1);
      O.setContentType([de || "multipart/form-data"].concat(cn(me)).join("; "));
    }
  }
  if (
    Dr.hasStandardBrowserEnv &&
    (v && Me.isFunction(v) && (v = v(i)), v || (v !== !1 && bK(i.url)))
  ) {
    var Ee = m && E && SK.read(E);
    Ee && O.set(m, Ee);
  }
  return i;
};
var EK = typeof XMLHttpRequest != "undefined";
const IK =
  EK &&
  function (r) {
    return new Promise(function (u, v) {
      var m = lx(r),
        E = m.data,
        O = Fi.from(m.headers).normalize(),
        C = m.responseType,
        G = m.onUploadProgress,
        re = m.onDownloadProgress,
        ce,
        de,
        me,
        Ee,
        Ae;
      function Be() {
        Ee && Ee(),
          Ae && Ae(),
          m.cancelToken && m.cancelToken.unsubscribe(ce),
          m.signal && m.signal.removeEventListener("abort", ce);
      }
      var le = new XMLHttpRequest();
      le.open(m.method.toUpperCase(), m.url, !0), (le.timeout = m.timeout);
      function bt() {
        if (le) {
          var Je = Fi.from(
              "getAllResponseHeaders" in le && le.getAllResponseHeaders()
            ),
            It =
              !C || C === "text" || C === "json"
                ? le.responseText
                : le.response,
            ct = {
              data: It,
              status: le.status,
              statusText: le.statusText,
              headers: Je,
              config: r,
              request: le,
            };
          sx(
            function (Oe) {
              u(Oe), Be();
            },
            function (Oe) {
              v(Oe), Be();
            },
            ct
          ),
            (le = null);
        }
      }
      if (
        ("onloadend" in le
          ? (le.onloadend = bt)
          : (le.onreadystatechange = function () {
              !le ||
                le.readyState !== 4 ||
                (le.status === 0 &&
                  !(le.responseURL && le.responseURL.indexOf("file:") === 0)) ||
                setTimeout(bt);
            }),
        (le.onabort = function () {
          le &&
            (v(new Lt("Request aborted", Lt.ECONNABORTED, r, le)), (le = null));
        }),
        (le.onerror = function () {
          v(new Lt("Network Error", Lt.ERR_NETWORK, r, le)), (le = null);
        }),
        (le.ontimeout = function () {
          var It = m.timeout
              ? "timeout of " + m.timeout + "ms exceeded"
              : "timeout exceeded",
            ct = m.transitional || ix;
          m.timeoutErrorMessage && (It = m.timeoutErrorMessage),
            v(
              new Lt(
                It,
                ct.clarifyTimeoutError ? Lt.ETIMEDOUT : Lt.ECONNABORTED,
                r,
                le
              )
            ),
            (le = null);
        }),
        E === void 0 && O.setContentType(null),
        "setRequestHeader" in le &&
          Me.forEach(O.toJSON(), function (It, ct) {
            le.setRequestHeader(ct, It);
          }),
        Me.isUndefined(m.withCredentials) ||
          (le.withCredentials = !!m.withCredentials),
        C && C !== "json" && (le.responseType = m.responseType),
        re)
      ) {
        var Et = fm(re, !0),
          St = ga(Et, 2);
        (me = St[0]), (Ae = St[1]), le.addEventListener("progress", me);
      }
      if (G && le.upload) {
        var Ut = fm(G),
          vt = ga(Ut, 2);
        (de = vt[0]),
          (Ee = vt[1]),
          le.upload.addEventListener("progress", de),
          le.upload.addEventListener("loadend", Ee);
      }
      (m.cancelToken || m.signal) &&
        ((ce = function (It) {
          le &&
            (v(!It || It.type ? new pl(null, r, le) : It),
            le.abort(),
            (le = null));
        }),
        m.cancelToken && m.cancelToken.subscribe(ce),
        m.signal &&
          (m.signal.aborted ? ce() : m.signal.addEventListener("abort", ce)));
      var wt = pK(m.url);
      if (wt && Dr.protocols.indexOf(wt) === -1) {
        v(new Lt("Unsupported protocol " + wt + ":", Lt.ERR_BAD_REQUEST, r));
        return;
      }
      le.send(E || null);
    });
  };
var RK = function (i, u) {
  var v = (i = i ? i.filter(Boolean) : []),
    m = v.length;
  if (u || m) {
    var E = new AbortController(),
      O,
      C = function (me) {
        if (!O) {
          (O = !0), re();
          var Ee = me instanceof Error ? me : this.reason;
          E.abort(
            Ee instanceof Lt
              ? Ee
              : new pl(Ee instanceof Error ? Ee.message : Ee)
          );
        }
      },
      G =
        u &&
        setTimeout(function () {
          (G = null),
            C(new Lt("timeout ".concat(u, " of ms exceeded"), Lt.ETIMEDOUT));
        }, u),
      re = function () {
        i &&
          (G && clearTimeout(G),
          (G = null),
          i.forEach(function (me) {
            me.unsubscribe
              ? me.unsubscribe(C)
              : me.removeEventListener("abort", C);
          }),
          (i = null));
      };
    i.forEach(function (de) {
      return de.addEventListener("abort", C);
    });
    var ce = E.signal;
    return (
      (ce.unsubscribe = function () {
        return Me.asap(re);
      }),
      ce
    );
  }
};
const CK = RK;
function TS(r, i) {
  (this.v = r), (this.k = i);
}
function dx(r) {
  return function () {
    return new bh(r.apply(this, arguments));
  };
}
function bh(r) {
  var i, u;
  function v(E, O) {
    try {
      var C = r[E](O),
        G = C.value,
        re = G instanceof TS;
      Promise.resolve(re ? G.v : G).then(
        function (ce) {
          if (re) {
            var de = E === "return" ? "return" : "next";
            if (!G.k || ce.done) return v(de, ce);
            ce = r[de](ce).value;
          }
          m(C.done ? "return" : "normal", ce);
        },
        function (ce) {
          v("throw", ce);
        }
      );
    } catch (ce) {
      m("throw", ce);
    }
  }
  function m(E, O) {
    switch (E) {
      case "return":
        i.resolve({
          value: O,
          done: !0,
        });
        break;
      case "throw":
        i.reject(O);
        break;
      default:
        i.resolve({
          value: O,
          done: !1,
        });
    }
    (i = i.next) ? v(i.key, i.arg) : (u = null);
  }
  (this._invoke = function (E, O) {
    return new Promise(function (C, G) {
      var re = {
        key: E,
        arg: O,
        resolve: C,
        reject: G,
        next: null,
      };
      u ? (u = u.next = re) : ((i = u = re), v(E, O));
    });
  }),
    typeof r.return != "function" && (this.return = void 0);
}
(bh.prototype[
  (typeof Symbol == "function" && Symbol.asyncIterator) || "@@asyncIterator"
] = function () {
  return this;
}),
  (bh.prototype.next = function (r) {
    return this._invoke("next", r);
  }),
  (bh.prototype.throw = function (r) {
    return this._invoke("throw", r);
  }),
  (bh.prototype.return = function (r) {
    return this._invoke("return", r);
  });
function pm(r) {
  return new TS(r, 0);
}
function hx(r) {
  var i = {},
    u = !1;
  function v(m, E) {
    return (
      (u = !0),
      (E = new Promise(function (O) {
        O(r[m](E));
      })),
      {
        done: !1,
        value: new TS(E, 1),
      }
    );
  }
  return (
    (i[(typeof Symbol != "undefined" && Symbol.iterator) || "@@iterator"] =
      function () {
        return this;
      }),
    (i.next = function (m) {
      return u ? ((u = !1), m) : v("next", m);
    }),
    typeof r.throw == "function" &&
      (i.throw = function (m) {
        if (u) throw ((u = !1), m);
        return v("throw", m);
      }),
    typeof r.return == "function" &&
      (i.return = function (m) {
        return u ? ((u = !1), m) : v("return", m);
      }),
    i
  );
}
function Yb(r) {
  var i,
    u,
    v,
    m = 2;
  for (
    typeof Symbol != "undefined" &&
    ((u = Symbol.asyncIterator), (v = Symbol.iterator));
    m--;

  ) {
    if (u && (i = r[u]) != null) return i.call(r);
    if (v && (i = r[v]) != null) return new om(i.call(r));
    (u = "@@asyncIterator"), (v = "@@iterator");
  }
  throw new TypeError("Object is not async iterable");
}
function om(r) {
  function i(u) {
    if (Object(u) !== u)
      return Promise.reject(new TypeError(u + " is not an object."));
    var v = u.done;
    return Promise.resolve(u.value).then(function (m) {
      return { value: m, done: v };
    });
  }
  return (
    (om = function (v) {
      (this.s = v), (this.n = v.next);
    }),
    (om.prototype = {
      s: null,
      n: null,
      next: function () {
        return i(this.n.apply(this.s, arguments));
      },
      return: function (v) {
        var m = this.s.return;
        return m === void 0
          ? Promise.resolve({ value: v, done: !0 })
          : i(m.apply(this.s, arguments));
      },
      throw: function (v) {
        var m = this.s.return;
        return m === void 0 ? Promise.reject(v) : i(m.apply(this.s, arguments));
      },
    }),
    new om(r)
  );
}
var AK = /* @__PURE__ */ Ke.mark(function r(i, u) {
    var v, m, E;
    return Ke.wrap(function (C) {
      for (;;)
        switch ((C.prev = C.next)) {
          case 0:
            if (((v = i.byteLength), !(!u || v < u))) {
              C.next = 5;
              break;
            }
            return (C.next = 4), i;
          case 4:
            return C.abrupt("return");
          case 5:
            m = 0;
          case 6:
            if (!(m < v)) {
              C.next = 13;
              break;
            }
            return (E = m + u), (C.next = 10), i.slice(m, E);
          case 10:
            (m = E), (C.next = 6);
            break;
          case 13:
          case "end":
            return C.stop();
        }
    }, r);
  }),
  xK = /* @__PURE__ */ (function () {
    var r = dx(
      /* @__PURE__ */ Ke.mark(function i(u, v) {
        var m, E, O, C, G, re;
        return Ke.wrap(
          function (de) {
            for (;;)
              switch ((de.prev = de.next)) {
                case 0:
                  (m = !1), (E = !1), (de.prev = 2), (C = Yb(PK(u)));
                case 4:
                  return (de.next = 6), pm(C.next());
                case 6:
                  if (!(m = !(G = de.sent).done)) {
                    de.next = 12;
                    break;
                  }
                  return (
                    (re = G.value), de.delegateYield(hx(Yb(AK(re, v))), "t0", 9)
                  );
                case 9:
                  (m = !1), (de.next = 4);
                  break;
                case 12:
                  de.next = 18;
                  break;
                case 14:
                  (de.prev = 14), (de.t1 = de.catch(2)), (E = !0), (O = de.t1);
                case 18:
                  if (
                    ((de.prev = 18), (de.prev = 19), !(m && C.return != null))
                  ) {
                    de.next = 23;
                    break;
                  }
                  return (de.next = 23), pm(C.return());
                case 23:
                  if (((de.prev = 23), !E)) {
                    de.next = 26;
                    break;
                  }
                  throw O;
                case 26:
                  return de.finish(23);
                case 27:
                  return de.finish(18);
                case 28:
                case "end":
                  return de.stop();
              }
          },
          i,
          null,
          [
            [2, 14, 18, 28],
            [19, , 23, 27],
          ]
        );
      })
    );
    return function (u, v) {
      return r.apply(this, arguments);
    };
  })(),
  PK = /* @__PURE__ */ (function () {
    var r = dx(
      /* @__PURE__ */ Ke.mark(function i(u) {
        var v, m, E, O;
        return Ke.wrap(
          function (G) {
            for (;;)
              switch ((G.prev = G.next)) {
                case 0:
                  if (!u[Symbol.asyncIterator]) {
                    G.next = 3;
                    break;
                  }
                  return G.delegateYield(hx(Yb(u)), "t0", 2);
                case 2:
                  return G.abrupt("return");
                case 3:
                  (v = u.getReader()), (G.prev = 4);
                case 5:
                  return (G.next = 7), pm(v.read());
                case 7:
                  if (((m = G.sent), (E = m.done), (O = m.value), !E)) {
                    G.next = 12;
                    break;
                  }
                  return G.abrupt("break", 16);
                case 12:
                  return (G.next = 14), O;
                case 14:
                  G.next = 5;
                  break;
                case 16:
                  return (G.prev = 16), (G.next = 19), pm(v.cancel());
                case 19:
                  return G.finish(16);
                case 20:
                case "end":
                  return G.stop();
              }
          },
          i,
          null,
          [[4, , 16, 20]]
        );
      })
    );
    return function (u) {
      return r.apply(this, arguments);
    };
  })(),
  i4 = function (i, u, v, m) {
    var E = xK(i, u),
      O = 0,
      C,
      G = function (ce) {
        C || ((C = !0), m && m(ce));
      };
    return new ReadableStream(
      {
        pull: function (ce) {
          return Pt(
            /* @__PURE__ */ Ke.mark(function de() {
              var me, Ee, Ae, Be, le;
              return Ke.wrap(
                function (Et) {
                  for (;;)
                    switch ((Et.prev = Et.next)) {
                      case 0:
                        return (Et.prev = 0), (Et.next = 3), E.next();
                      case 3:
                        if (
                          ((me = Et.sent), (Ee = me.done), (Ae = me.value), !Ee)
                        ) {
                          Et.next = 10;
                          break;
                        }
                        return G(), ce.close(), Et.abrupt("return");
                      case 10:
                        (Be = Ae.byteLength),
                          v && ((le = O += Be), v(le)),
                          ce.enqueue(new Uint8Array(Ae)),
                          (Et.next = 19);
                        break;
                      case 15:
                        throw (
                          ((Et.prev = 15),
                          (Et.t0 = Et.catch(0)),
                          G(Et.t0),
                          Et.t0)
                        );
                      case 19:
                      case "end":
                        return Et.stop();
                    }
                },
                de,
                null,
                [[0, 15]]
              );
            })
          )();
        },
        cancel: function (ce) {
          return G(ce), E.return();
        },
      },
      {
        highWaterMark: 2,
      }
    );
  };
function a4(r, i) {
  var u = Object.keys(r);
  if (Object.getOwnPropertySymbols) {
    var v = Object.getOwnPropertySymbols(r);
    i &&
      (v = v.filter(function (m) {
        return Object.getOwnPropertyDescriptor(r, m).enumerable;
      })),
      u.push.apply(u, v);
  }
  return u;
}
function o4(r) {
  for (var i = 1; i < arguments.length; i++) {
    var u = arguments[i] != null ? arguments[i] : {};
    i % 2
      ? a4(Object(u), !0).forEach(function (v) {
          tt(r, v, u[v]);
        })
      : Object.getOwnPropertyDescriptors
      ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(u))
      : a4(Object(u)).forEach(function (v) {
          Object.defineProperty(r, v, Object.getOwnPropertyDescriptor(u, v));
        });
  }
  return r;
}
var Dm =
    typeof fetch == "function" &&
    typeof Request == "function" &&
    typeof Response == "function",
  fx = Dm && typeof ReadableStream == "function",
  OK =
    Dm &&
    (typeof TextEncoder == "function"
      ? (function (r) {
          return function (i) {
            return r.encode(i);
          };
        })(new TextEncoder())
      : /* @__PURE__ */ (function () {
          var r = Pt(
            /* @__PURE__ */ Ke.mark(function i(u) {
              return Ke.wrap(function (m) {
                for (;;)
                  switch ((m.prev = m.next)) {
                    case 0:
                      return (
                        (m.t0 = Uint8Array),
                        (m.next = 3),
                        new Response(u).arrayBuffer()
                      );
                    case 3:
                      return (
                        (m.t1 = m.sent), m.abrupt("return", new m.t0(m.t1))
                      );
                    case 5:
                    case "end":
                      return m.stop();
                  }
              }, i);
            })
          );
          return function (i) {
            return r.apply(this, arguments);
          };
        })()),
  px = function (i) {
    try {
      for (
        var u = arguments.length, v = new Array(u > 1 ? u - 1 : 0), m = 1;
        m < u;
        m++
      )
        v[m - 1] = arguments[m];
      return !!i.apply(void 0, v);
    } catch (E) {
      return !1;
    }
  },
  DK =
    fx &&
    px(function () {
      var r = !1,
        i = new Request(Dr.origin, {
          body: new ReadableStream(),
          method: "POST",
          get duplex() {
            return (r = !0), "half";
          },
        }).headers.has("Content-Type");
      return r && !i;
    }),
  s4 = 64 * 1024,
  Zb =
    fx &&
    px(function () {
      return Me.isReadableStream(new Response("").body);
    }),
  vm = {
    stream:
      Zb &&
      function (r) {
        return r.body;
      },
  };
Dm &&
  (function (r) {
    ["text", "arrayBuffer", "blob", "formData", "stream"].forEach(function (i) {
      !vm[i] &&
        (vm[i] = Me.isFunction(r[i])
          ? function (u) {
              return u[i]();
            }
          : function (u, v) {
              throw new Lt(
                "Response type '".concat(i, "' is not supported"),
                Lt.ERR_NOT_SUPPORT,
                v
              );
            });
    });
  })(new Response());
var NK = /* @__PURE__ */ (function () {
    var r = Pt(
      /* @__PURE__ */ Ke.mark(function i(u) {
        var v;
        return Ke.wrap(function (E) {
          for (;;)
            switch ((E.prev = E.next)) {
              case 0:
                if (u != null) {
                  E.next = 2;
                  break;
                }
                return E.abrupt("return", 0);
              case 2:
                if (!Me.isBlob(u)) {
                  E.next = 4;
                  break;
                }
                return E.abrupt("return", u.size);
              case 4:
                if (!Me.isSpecCompliantForm(u)) {
                  E.next = 9;
                  break;
                }
                return (
                  (v = new Request(Dr.origin, {
                    method: "POST",
                    body: u,
                  })),
                  (E.next = 8),
                  v.arrayBuffer()
                );
              case 8:
                return E.abrupt("return", E.sent.byteLength);
              case 9:
                if (!(Me.isArrayBufferView(u) || Me.isArrayBuffer(u))) {
                  E.next = 11;
                  break;
                }
                return E.abrupt("return", u.byteLength);
              case 11:
                if (
                  (Me.isURLSearchParams(u) && (u = u + ""), !Me.isString(u))
                ) {
                  E.next = 16;
                  break;
                }
                return (E.next = 15), OK(u);
              case 15:
                return E.abrupt("return", E.sent.byteLength);
              case 16:
              case "end":
                return E.stop();
            }
        }, i);
      })
    );
    return function (u) {
      return r.apply(this, arguments);
    };
  })(),
  LK = /* @__PURE__ */ (function () {
    var r = Pt(
      /* @__PURE__ */ Ke.mark(function i(u, v) {
        var m;
        return Ke.wrap(function (O) {
          for (;;)
            switch ((O.prev = O.next)) {
              case 0:
                return (
                  (m = Me.toFiniteNumber(u.getContentLength())),
                  O.abrupt("return", m == null ? NK(v) : m)
                );
              case 2:
              case "end":
                return O.stop();
            }
        }, i);
      })
    );
    return function (u, v) {
      return r.apply(this, arguments);
    };
  })();
const MK =
  Dm &&
  /* @__PURE__ */ (function () {
    var r = Pt(
      /* @__PURE__ */ Ke.mark(function i(u) {
        var v,
          m,
          E,
          O,
          C,
          G,
          re,
          ce,
          de,
          me,
          Ee,
          Ae,
          Be,
          le,
          bt,
          Et,
          St,
          Ut,
          vt,
          wt,
          Je,
          It,
          ct,
          We,
          Oe,
          at,
          kt,
          Xe,
          Ot,
          et,
          Mt,
          rn,
          nt,
          Ge;
        return Ke.wrap(
          function (we) {
            for (;;)
              switch ((we.prev = we.next)) {
                case 0:
                  if (
                    ((v = lx(u)),
                    (m = v.url),
                    (E = v.method),
                    (O = v.data),
                    (C = v.signal),
                    (G = v.cancelToken),
                    (re = v.timeout),
                    (ce = v.onDownloadProgress),
                    (de = v.onUploadProgress),
                    (me = v.responseType),
                    (Ee = v.headers),
                    (Ae = v.withCredentials),
                    (Be = Ae === void 0 ? "same-origin" : Ae),
                    (le = v.fetchOptions),
                    (me = me ? (me + "").toLowerCase() : "text"),
                    (bt = CK([C, G && G.toAbortSignal()], re)),
                    (St =
                      bt &&
                      bt.unsubscribe &&
                      function () {
                        bt.unsubscribe();
                      }),
                    (we.prev = 4),
                    (we.t0 = de && DK && E !== "get" && E !== "head"),
                    !we.t0)
                  ) {
                    we.next = 11;
                    break;
                  }
                  return (we.next = 9), LK(Ee, O);
                case 9:
                  (we.t1 = Ut = we.sent), (we.t0 = we.t1 !== 0);
                case 11:
                  if (!we.t0) {
                    we.next = 15;
                    break;
                  }
                  (vt = new Request(m, {
                    method: "POST",
                    body: O,
                    duplex: "half",
                  })),
                    Me.isFormData(O) &&
                      (wt = vt.headers.get("content-type")) &&
                      Ee.setContentType(wt),
                    vt.body &&
                      ((Je = e4(Ut, fm(t4(de)))),
                      (It = ga(Je, 2)),
                      (ct = It[0]),
                      (We = It[1]),
                      (O = i4(vt.body, s4, ct, We)));
                case 15:
                  return (
                    Me.isString(Be) || (Be = Be ? "include" : "omit"),
                    (Oe = "credentials" in Request.prototype),
                    (Et = new Request(
                      m,
                      o4(
                        o4({}, le),
                        {},
                        {
                          signal: bt,
                          method: E.toUpperCase(),
                          headers: Ee.normalize().toJSON(),
                          body: O,
                          duplex: "half",
                          credentials: Oe ? Be : void 0,
                        }
                      )
                    )),
                    (we.next = 20),
                    fetch(Et)
                  );
                case 20:
                  return (
                    (at = we.sent),
                    (kt = Zb && (me === "stream" || me === "response")),
                    Zb &&
                      (ce || (kt && St)) &&
                      ((Xe = {}),
                      ["status", "statusText", "headers"].forEach(function (
                        Ve
                      ) {
                        Xe[Ve] = at[Ve];
                      }),
                      (Ot = Me.toFiniteNumber(
                        at.headers.get("content-length")
                      )),
                      (et = (ce && e4(Ot, fm(t4(ce), !0))) || []),
                      (Mt = ga(et, 2)),
                      (rn = Mt[0]),
                      (nt = Mt[1]),
                      (at = new Response(
                        i4(at.body, s4, rn, function () {
                          nt && nt(), St && St();
                        }),
                        Xe
                      ))),
                    (me = me || "text"),
                    (we.next = 26),
                    vm[Me.findKey(vm, me) || "text"](at, u)
                  );
                case 26:
                  return (
                    (Ge = we.sent),
                    !kt && St && St(),
                    (we.next = 30),
                    new Promise(function (Ve, Ne) {
                      sx(Ve, Ne, {
                        data: Ge,
                        headers: Fi.from(at.headers),
                        status: at.status,
                        statusText: at.statusText,
                        config: u,
                        request: Et,
                      });
                    })
                  );
                case 30:
                  return we.abrupt("return", we.sent);
                case 33:
                  if (
                    ((we.prev = 33),
                    (we.t2 = we.catch(4)),
                    St && St(),
                    !(
                      we.t2 &&
                      we.t2.name === "TypeError" &&
                      /fetch/i.test(we.t2.message)
                    ))
                  ) {
                    we.next = 38;
                    break;
                  }
                  throw Object.assign(
                    new Lt("Network Error", Lt.ERR_NETWORK, u, Et),
                    {
                      cause: we.t2.cause || we.t2,
                    }
                  );
                case 38:
                  throw Lt.from(we.t2, we.t2 && we.t2.code, u, Et);
                case 39:
                case "end":
                  return we.stop();
              }
          },
          i,
          null,
          [[4, 33]]
        );
      })
    );
    return function (i) {
      return r.apply(this, arguments);
    };
  })();
var Qb = {
  http: zq,
  xhr: IK,
  fetch: MK,
};
Me.forEach(Qb, function (r, i) {
  if (r) {
    try {
      Object.defineProperty(r, "name", {
        value: i,
      });
    } catch (u) {}
    Object.defineProperty(r, "adapterName", {
      value: i,
    });
  }
});
var u4 = function (i) {
    return "- ".concat(i);
  },
  UK = function (i) {
    return Me.isFunction(i) || i === null || i === !1;
  };
const vx = {
  getAdapter: function (i) {
    i = Me.isArray(i) ? i : [i];
    for (var u = i, v = u.length, m, E, O = {}, C = 0; C < v; C++) {
      m = i[C];
      var G = void 0;
      if (
        ((E = m),
        !UK(m) && ((E = Qb[(G = String(m)).toLowerCase()]), E === void 0))
      )
        throw new Lt("Unknown adapter '".concat(G, "'"));
      if (E) break;
      O[G || "#" + C] = E;
    }
    if (!E) {
      var re = Object.entries(O).map(function (de) {
          var me = ga(de, 2),
            Ee = me[0],
            Ae = me[1];
          return (
            "adapter ".concat(Ee, " ") +
            (Ae === !1
              ? "is not supported by the environment"
              : "is not available in the build")
          );
        }),
        ce = v
          ? re.length > 1
            ? `since :
` +
              re.map(u4).join(`
`)
            : " " + u4(re[0])
          : "as no adapter specified";
      throw new Lt(
        "There is no suitable adapter to dispatch the request " + ce,
        "ERR_NOT_SUPPORT"
      );
    }
    return E;
  },
  adapters: Qb,
};
function Ob(r) {
  if (
    (r.cancelToken && r.cancelToken.throwIfRequested(),
    r.signal && r.signal.aborted)
  )
    throw new pl(null, r);
}
function c4(r) {
  Ob(r),
    (r.headers = Fi.from(r.headers)),
    (r.data = Pb.call(r, r.transformRequest)),
    ["post", "put", "patch"].indexOf(r.method) !== -1 &&
      r.headers.setContentType("application/x-www-form-urlencoded", !1);
  var i = vx.getAdapter(r.adapter || kS.adapter);
  return i(r).then(
    function (v) {
      return (
        Ob(r),
        (v.data = Pb.call(r, r.transformResponse, v)),
        (v.headers = Fi.from(v.headers)),
        v
      );
    },
    function (v) {
      return (
        ox(v) ||
          (Ob(r),
          v &&
            v.response &&
            ((v.response.data = Pb.call(r, r.transformResponse, v.response)),
            (v.response.headers = Fi.from(v.response.headers)))),
        Promise.reject(v)
      );
    }
  );
}
var mx = "1.7.7",
  ES = {};
["object", "boolean", "number", "function", "string", "symbol"].forEach(
  function (r, i) {
    ES[r] = function (v) {
      return ut(v) === r || "a" + (i < 1 ? "n " : " ") + r;
    };
  }
);
var l4 = {};
ES.transitional = function (i, u, v) {
  function m(E, O) {
    return (
      "[Axios v" +
      mx +
      "] Transitional option '" +
      E +
      "'" +
      O +
      (v ? ". " + v : "")
    );
  }
  return function (E, O, C) {
    if (i === !1)
      throw new Lt(
        m(O, " has been removed" + (u ? " in " + u : "")),
        Lt.ERR_DEPRECATED
      );
    return (
      u &&
        !l4[O] &&
        ((l4[O] = !0),
        console.warn(
          m(
            O,
            " has been deprecated since v" +
              u +
              " and will be removed in the near future"
          )
        )),
      i ? i(E, O, C) : !0
    );
  };
};
function VK(r, i, u) {
  if (ut(r) !== "object")
    throw new Lt("options must be an object", Lt.ERR_BAD_OPTION_VALUE);
  for (var v = Object.keys(r), m = v.length; m-- > 0; ) {
    var E = v[m],
      O = i[E];
    if (O) {
      var C = r[E],
        G = C === void 0 || O(C, E, r);
      if (G !== !0)
        throw new Lt("option " + E + " must be " + G, Lt.ERR_BAD_OPTION_VALUE);
      continue;
    }
    if (u !== !0) throw new Lt("Unknown option " + E, Lt.ERR_BAD_OPTION);
  }
}
const Xb = {
  assertOptions: VK,
  validators: ES,
};
var Yo = Xb.validators,
  mm = /* @__PURE__ */ (function () {
    function r(i) {
      tr(this, r),
        (this.defaults = i),
        (this.interceptors = {
          request: new $3(),
          response: new $3(),
        });
    }
    return nr(r, [
      {
        key: "request",
        value: (function () {
          var i = Pt(
            /* @__PURE__ */ Ke.mark(function v(m, E) {
              var O, C;
              return Ke.wrap(
                function (re) {
                  for (;;)
                    switch ((re.prev = re.next)) {
                      case 0:
                        return (
                          (re.prev = 0), (re.next = 3), this._request(m, E)
                        );
                      case 3:
                        return re.abrupt("return", re.sent);
                      case 6:
                        if (
                          ((re.prev = 6),
                          (re.t0 = re.catch(0)),
                          re.t0 instanceof Error)
                        ) {
                          Error.captureStackTrace
                            ? Error.captureStackTrace((O = {}))
                            : (O = new Error()),
                            (C = O.stack ? O.stack.replace(/^.+\n/, "") : "");
                          try {
                            re.t0.stack
                              ? C &&
                                !String(re.t0.stack).endsWith(
                                  C.replace(/^.+\n.+\n/, "")
                                ) &&
                                (re.t0.stack +=
                                  `
` + C)
                              : (re.t0.stack = C);
                          } catch (ce) {}
                        }
                        throw re.t0;
                      case 10:
                      case "end":
                        return re.stop();
                    }
                },
                v,
                this,
                [[0, 6]]
              );
            })
          );
          function u(v, m) {
            return i.apply(this, arguments);
          }
          return u;
        })(),
      },
      {
        key: "_request",
        value: function (u, v) {
          typeof u == "string" ? ((v = v || {}), (v.url = u)) : (v = u || {}),
            (v = yu(this.defaults, v));
          var m = v,
            E = m.transitional,
            O = m.paramsSerializer,
            C = m.headers;
          E !== void 0 &&
            Xb.assertOptions(
              E,
              {
                silentJSONParsing: Yo.transitional(Yo.boolean),
                forcedJSONParsing: Yo.transitional(Yo.boolean),
                clarifyTimeoutError: Yo.transitional(Yo.boolean),
              },
              !1
            ),
            O != null &&
              (Me.isFunction(O)
                ? (v.paramsSerializer = {
                    serialize: O,
                  })
                : Xb.assertOptions(
                    O,
                    {
                      encode: Yo.function,
                      serialize: Yo.function,
                    },
                    !0
                  )),
            (v.method = (
              v.method ||
              this.defaults.method ||
              "get"
            ).toLowerCase());
          var G = C && Me.merge(C.common, C[v.method]);
          C &&
            Me.forEach(
              ["delete", "get", "head", "post", "put", "patch", "common"],
              function (St) {
                delete C[St];
              }
            ),
            (v.headers = Fi.concat(G, C));
          var re = [],
            ce = !0;
          this.interceptors.request.forEach(function (Ut) {
            (typeof Ut.runWhen == "function" && Ut.runWhen(v) === !1) ||
              ((ce = ce && Ut.synchronous),
              re.unshift(Ut.fulfilled, Ut.rejected));
          });
          var de = [];
          this.interceptors.response.forEach(function (Ut) {
            de.push(Ut.fulfilled, Ut.rejected);
          });
          var me,
            Ee = 0,
            Ae;
          if (!ce) {
            var Be = [c4.bind(this), void 0];
            for (
              Be.unshift.apply(Be, re),
                Be.push.apply(Be, de),
                Ae = Be.length,
                me = Promise.resolve(v);
              Ee < Ae;

            )
              me = me.then(Be[Ee++], Be[Ee++]);
            return me;
          }
          Ae = re.length;
          var le = v;
          for (Ee = 0; Ee < Ae; ) {
            var bt = re[Ee++],
              Et = re[Ee++];
            try {
              le = bt(le);
            } catch (St) {
              Et.call(this, St);
              break;
            }
          }
          try {
            me = c4.call(this, le);
          } catch (St) {
            return Promise.reject(St);
          }
          for (Ee = 0, Ae = de.length; Ee < Ae; )
            me = me.then(de[Ee++], de[Ee++]);
          return me;
        },
      },
      {
        key: "getUri",
        value: function (u) {
          u = yu(this.defaults, u);
          var v = cx(u.baseURL, u.url);
          return rx(v, u.params, u.paramsSerializer);
        },
      },
    ]);
  })();
Me.forEach(["delete", "get", "head", "options"], function (i) {
  mm.prototype[i] = function (u, v) {
    return this.request(
      yu(v || {}, {
        method: i,
        url: u,
        data: (v || {}).data,
      })
    );
  };
});
Me.forEach(["post", "put", "patch"], function (i) {
  function u(v) {
    return function (E, O, C) {
      return this.request(
        yu(C || {}, {
          method: i,
          headers: v
            ? {
                "Content-Type": "multipart/form-data",
              }
            : {},
          url: E,
          data: O,
        })
      );
    };
  }
  (mm.prototype[i] = u()), (mm.prototype[i + "Form"] = u(!0));
});
const sm = mm;
var FK = /* @__PURE__ */ (function () {
  function r(i) {
    if ((tr(this, r), typeof i != "function"))
      throw new TypeError("executor must be a function.");
    var u;
    this.promise = new Promise(function (E) {
      u = E;
    });
    var v = this;
    this.promise.then(function (m) {
      if (v._listeners) {
        for (var E = v._listeners.length; E-- > 0; ) v._listeners[E](m);
        v._listeners = null;
      }
    }),
      (this.promise.then = function (m) {
        var E,
          O = new Promise(function (C) {
            v.subscribe(C), (E = C);
          }).then(m);
        return (
          (O.cancel = function () {
            v.unsubscribe(E);
          }),
          O
        );
      }),
      i(function (E, O, C) {
        v.reason || ((v.reason = new pl(E, O, C)), u(v.reason));
      });
  }
  return nr(
    r,
    [
      {
        key: "throwIfRequested",
        value: function () {
          if (this.reason) throw this.reason;
        },
        /**
         * Subscribe to the cancel signal
         */
      },
      {
        key: "subscribe",
        value: function (u) {
          if (this.reason) {
            u(this.reason);
            return;
          }
          this._listeners ? this._listeners.push(u) : (this._listeners = [u]);
        },
        /**
         * Unsubscribe from the cancel signal
         */
      },
      {
        key: "unsubscribe",
        value: function (u) {
          if (this._listeners) {
            var v = this._listeners.indexOf(u);
            v !== -1 && this._listeners.splice(v, 1);
          }
        },
      },
      {
        key: "toAbortSignal",
        value: function () {
          var u = this,
            v = new AbortController(),
            m = function (O) {
              v.abort(O);
            };
          return (
            this.subscribe(m),
            (v.signal.unsubscribe = function () {
              return u.unsubscribe(m);
            }),
            v.signal
          );
        },
        /**
         * Returns an object that contains a new `CancelToken` and a function that, when called,
         * cancels the `CancelToken`.
         */
      },
    ],
    [
      {
        key: "source",
        value: function () {
          var u,
            v = new r(function (E) {
              u = E;
            });
          return {
            token: v,
            cancel: u,
          };
        },
      },
    ]
  );
})();
const jK = FK;
function BK(r) {
  return function (u) {
    return r.apply(null, u);
  };
}
function HK(r) {
  return Me.isObject(r) && r.isAxiosError === !0;
}
var eS = {
  Continue: 100,
  SwitchingProtocols: 101,
  Processing: 102,
  EarlyHints: 103,
  Ok: 200,
  Created: 201,
  Accepted: 202,
  NonAuthoritativeInformation: 203,
  NoContent: 204,
  ResetContent: 205,
  PartialContent: 206,
  MultiStatus: 207,
  AlreadyReported: 208,
  ImUsed: 226,
  MultipleChoices: 300,
  MovedPermanently: 301,
  Found: 302,
  SeeOther: 303,
  NotModified: 304,
  UseProxy: 305,
  Unused: 306,
  TemporaryRedirect: 307,
  PermanentRedirect: 308,
  BadRequest: 400,
  Unauthorized: 401,
  PaymentRequired: 402,
  Forbidden: 403,
  NotFound: 404,
  MethodNotAllowed: 405,
  NotAcceptable: 406,
  ProxyAuthenticationRequired: 407,
  RequestTimeout: 408,
  Conflict: 409,
  Gone: 410,
  LengthRequired: 411,
  PreconditionFailed: 412,
  PayloadTooLarge: 413,
  UriTooLong: 414,
  UnsupportedMediaType: 415,
  RangeNotSatisfiable: 416,
  ExpectationFailed: 417,
  ImATeapot: 418,
  MisdirectedRequest: 421,
  UnprocessableEntity: 422,
  Locked: 423,
  FailedDependency: 424,
  TooEarly: 425,
  UpgradeRequired: 426,
  PreconditionRequired: 428,
  TooManyRequests: 429,
  RequestHeaderFieldsTooLarge: 431,
  UnavailableForLegalReasons: 451,
  InternalServerError: 500,
  NotImplemented: 501,
  BadGateway: 502,
  ServiceUnavailable: 503,
  GatewayTimeout: 504,
  HttpVersionNotSupported: 505,
  VariantAlsoNegotiates: 506,
  InsufficientStorage: 507,
  LoopDetected: 508,
  NotExtended: 510,
  NetworkAuthenticationRequired: 511,
};
Object.entries(eS).forEach(function (r) {
  var i = ga(r, 2),
    u = i[0],
    v = i[1];
  eS[v] = u;
});
const zK = eS;
function gx(r) {
  var i = new sm(r),
    u = G4(sm.prototype.request, i);
  return (
    Me.extend(u, sm.prototype, i, {
      allOwnKeys: !0,
    }),
    Me.extend(u, i, null, {
      allOwnKeys: !0,
    }),
    (u.create = function (m) {
      return gx(yu(r, m));
    }),
    u
  );
}
var Un = gx(kS);
Un.Axios = sm;
Un.CanceledError = pl;
Un.CancelToken = jK;
Un.isCancel = ox;
Un.VERSION = mx;
Un.toFormData = Pm;
Un.AxiosError = Lt;
Un.Cancel = Un.CanceledError;
Un.all = function (i) {
  return Promise.all(i);
};
Un.spread = BK;
Un.isAxiosError = HK;
Un.mergeConfig = yu;
Un.AxiosHeaders = Fi;
Un.formToJSON = function (r) {
  return ax(Me.isHTMLForm(r) ? new FormData(r) : r);
};
Un.getAdapter = vx.getAdapter;
Un.HttpStatusCode = zK;
Un.default = Un;
const rr = Un;
rr.Axios;
rr.AxiosError;
rr.CanceledError;
rr.isCancel;
rr.CancelToken;
rr.VERSION;
rr.all;
rr.Cancel;
rr.isAxiosError;
rr.spread;
rr.toFormData;
rr.AxiosHeaders;
rr.HttpStatusCode;
rr.formToJSON;
rr.getAdapter;
rr.mergeConfig;
var IS = rr.create({
  // baseURL: ({}).VITE_ABMESSAGE_URL, //
  timeout: 6e4,
  method: "POST",
});
IS.interceptors.request.use(
  function (r) {
    return (
      console.log(
        "<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< ABMessage >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>"
      ),
      console.log(r.data),
      r
    );
  },
  function (r) {
    return Promise.reject(r);
  }
);
IS.interceptors.response.use(
  function (r) {
    return (
      console.log(
        "<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< ABMessage >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>"
      ),
      console.log(r),
      r
    );
  },
  function (r) {
    return console.error(r), Promise.reject(r);
  }
);
function WK(r, i) {
  return tS.apply(this, arguments);
}
function tS() {
  return (
    (tS = Pt(
      /* @__PURE__ */ Ke.mark(function r(i, u) {
        var v;
        return Ke.wrap(
          function (E) {
            for (;;)
              switch ((E.prev = E.next)) {
                case 0:
                  return (
                    (E.prev = 0),
                    (E.next = 3),
                    IS({
                      url: i,
                      data: u,
                      // 
                    })
                  );
                case 3:
                  return (v = E.sent), E.abrupt("return", v.data);
                case 7:
                  throw ((E.prev = 7), (E.t0 = E.catch(0)), E.t0);
                case 10:
                case "end":
                  return E.stop();
              }
          },
          r,
          null,
          [[0, 7]]
        );
      })
    )),
    tS.apply(this, arguments)
  );
}
function GK(r, i) {
  return nS.apply(this, arguments);
}
function nS() {
  return (
    (nS = Pt(
      /* @__PURE__ */ Ke.mark(function r(i, u) {
        return Ke.wrap(function (m) {
          for (;;)
            switch ((m.prev = m.next)) {
              case 0:
                return (m.next = 2), WK(i, u);
              case 2:
                return m.abrupt("return", m.sent);
              case 3:
              case "end":
                return m.stop();
            }
        }, r);
      })
    )),
    nS.apply(this, arguments)
  );
}
function qK(r) {
  if (r === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called"
    );
  return r;
}
function KK(r, i) {
  if (i && (ut(i) == "object" || typeof i == "function")) return i;
  if (i !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined"
    );
  return qK(r);
}
function gm(r) {
  return (
    (gm = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (i) {
          return i.__proto__ || Object.getPrototypeOf(i);
        }),
    gm(r)
  );
}
function rS(r, i) {
  return (
    (rS = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (u, v) {
          return (u.__proto__ = v), u;
        }),
    rS(r, i)
  );
}
function _x(r, i) {
  if (typeof i != "function" && i !== null)
    throw new TypeError("Super expression must either be null or a function");
  (r.prototype = Object.create(i && i.prototype, {
    constructor: {
      value: r,
      writable: !0,
      configurable: !0,
    },
  })),
    Object.defineProperty(r, "prototype", {
      writable: !1,
    }),
    i && rS(r, i);
}
var Db;
function JK(r, i) {
  var u =
    (typeof Symbol != "undefined" && r[Symbol.iterator]) || r["@@iterator"];
  if (!u) {
    if (
      Array.isArray(r) ||
      (u = $K(r)) ||
      (i && r && typeof r.length == "number")
    ) {
      u && (r = u);
      var v = 0,
        m = function () {};
      return {
        s: m,
        n: function () {
          return v >= r.length ? { done: !0 } : { done: !1, value: r[v++] };
        },
        e: function (re) {
          throw re;
        },
        f: m,
      };
    }
    throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
  }
  var E,
    O = !0,
    C = !1;
  return {
    s: function () {
      u = u.call(r);
    },
    n: function () {
      var re = u.next();
      return (O = re.done), re;
    },
    e: function (re) {
      (C = !0), (E = re);
    },
    f: function () {
      try {
        O || u.return == null || u.return();
      } finally {
        if (C) throw E;
      }
    },
  };
}
function $K(r, i) {
  if (r) {
    if (typeof r == "string") return d4(r, i);
    var u = {}.toString.call(r).slice(8, -1);
    return (
      u === "Object" && r.constructor && (u = r.constructor.name),
      u === "Map" || u === "Set"
        ? Array.from(r)
        : u === "Arguments" ||
          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)
        ? d4(r, i)
        : void 0
    );
  }
}
function d4(r, i) {
  (i == null || i > r.length) && (i = r.length);
  for (var u = 0, v = Array(i); u < i; u++) v[u] = r[u];
  return v;
}
/**
 * @vue/shared v3.5.13
 * (c) 2018-present Yuxi (Evan) You and Vue contributors
 * @license MIT
 **/
/*! #__NO_SIDE_EFFECTS__ */
// @__NO_SIDE_EFFECTS__
function YK(r) {
  var i = /* @__PURE__ */ Object.create(null),
    u = JK(r.split(",")),
    v;
  try {
    for (u.s(); !(v = u.n()).done; ) {
      var m = v.value;
      i[m] = 1;
    }
  } catch (E) {
    u.e(E);
  } finally {
    u.f();
  }
  return function (E) {
    return E in i;
  };
}
var hi = process.env.NODE_ENV !== "production" ? Object.freeze({}) : {};
process.env.NODE_ENV !== "production" && Object.freeze([]);
var cl = function () {},
  ZK = function (i) {
    return (
      i.charCodeAt(0) === 111 &&
      i.charCodeAt(1) === 110 && // uppercase letter
      (i.charCodeAt(2) > 122 || i.charCodeAt(2) < 97)
    );
  },
  Jr = Object.assign,
  QK = function (i, u) {
    var v = i.indexOf(u);
    v > -1 && i.splice(v, 1);
  },
  XK = Object.prototype.hasOwnProperty,
  Ln = function (i, u) {
    return XK.call(i, u);
  },
  _n = Array.isArray,
  ll = function (i) {
    return Nm(i) === "[object Map]";
  },
  eJ = function (i) {
    return Nm(i) === "[object Set]";
  },
  Mn = function (i) {
    return typeof i == "function";
  },
  Bi = function (i) {
    return typeof i == "string";
  },
  Dh = function (i) {
    return ut(i) === "symbol";
  },
  Tr = function (i) {
    return i !== null && ut(i) === "object";
  },
  tJ = function (i) {
    return (Tr(i) || Mn(i)) && Mn(i.then) && Mn(i.catch);
  },
  nJ = Object.prototype.toString,
  Nm = function (i) {
    return nJ.call(i);
  },
  yx = function (i) {
    return Nm(i).slice(8, -1);
  },
  rJ = function (i) {
    return Nm(i) === "[object Object]";
  },
  RS = function (i) {
    return Bi(i) && i !== "NaN" && i[0] !== "-" && "" + parseInt(i, 10) === i;
  },
  iJ = function (i) {
    var u = /* @__PURE__ */ Object.create(null);
    return function (v) {
      var m = u[v];
      return m || (u[v] = i(v));
    };
  },
  aJ = iJ(function (r) {
    return r.charAt(0).toUpperCase() + r.slice(1);
  }),
  rs = function (i, u) {
    return !Object.is(i, u);
  },
  oJ = function (i, u, v) {
    var m = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !1;
    Object.defineProperty(i, u, {
      configurable: !0,
      enumerable: !1,
      writable: m,
      value: v,
    });
  },
  h4,
  Lm = function () {
    return (
      h4 ||
      (h4 =
        typeof globalThis != "undefined"
          ? globalThis
          : typeof self != "undefined"
          ? self
          : typeof window != "undefined"
          ? window
          : typeof global != "undefined"
          ? global
          : {})
    );
  };
(Db = {}),
  tt(
    tt(
      tt(
        tt(
          tt(
            tt(
              tt(tt(tt(tt(Db, 1, "TEXT"), 2, "CLASS"), 4, "STYLE"), 8, "PROPS"),
              16,
              "FULL_PROPS"
            ),
            32,
            "NEED_HYDRATION"
          ),
          64,
          "STABLE_FRAGMENT"
        ),
        128,
        "KEYED_FRAGMENT"
      ),
      256,
      "UNKEYED_FRAGMENT"
    ),
    512,
    "NEED_PATCH"
  ),
  tt(
    tt(
      tt(tt(Db, 1024, "DYNAMIC_SLOTS"), 2048, "DEV_ROOT_FRAGMENT"),
      -1,
      "HOISTED"
    ),
    -2,
    "BAIL"
  );
tt(tt(tt({}, 1, "STABLE"), 2, "DYNAMIC"), 3, "FORWARDED");
function CS(r) {
  if (_n(r)) {
    for (var i = {}, u = 0; u < r.length; u++) {
      var v = r[u],
        m = Bi(v) ? lJ(v) : CS(v);
      if (m) for (var E in m) i[E] = m[E];
    }
    return i;
  } else if (Bi(r) || Tr(r)) return r;
}
var sJ = /;(?![^(]*\))/g,
  uJ = /:([^]+)/,
  cJ = /\/\*[^]*?\*\//g;
function lJ(r) {
  var i = {};
  return (
    r
      .replace(cJ, "")
      .split(sJ)
      .forEach(function (u) {
        if (u) {
          var v = u.split(uJ);
          v.length > 1 && (i[v[0].trim()] = v[1].trim());
        }
      }),
    i
  );
}
function AS(r) {
  var i = "";
  if (Bi(r)) i = r;
  else if (_n(r))
    for (var u = 0; u < r.length; u++) {
      var v = AS(r[u]);
      v && (i += v + " ");
    }
  else if (Tr(r)) for (var m in r) r[m] && (i += m + " ");
  return i.trim();
}
var Gv;
function bx(r, i) {
  var u =
    (typeof Symbol != "undefined" && r[Symbol.iterator]) || r["@@iterator"];
  if (!u) {
    if (
      Array.isArray(r) ||
      (u = dJ(r)) ||
      (i && r && typeof r.length == "number")
    ) {
      u && (r = u);
      var v = 0,
        m = function () {};
      return {
        s: m,
        n: function () {
          return v >= r.length ? { done: !0 } : { done: !1, value: r[v++] };
        },
        e: function (re) {
          throw re;
        },
        f: m,
      };
    }
    throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
  }
  var E,
    O = !0,
    C = !1;
  return {
    s: function () {
      u = u.call(r);
    },
    n: function () {
      var re = u.next();
      return (O = re.done), re;
    },
    e: function (re) {
      (C = !0), (E = re);
    },
    f: function () {
      try {
        O || u.return == null || u.return();
      } finally {
        if (C) throw E;
      }
    },
  };
}
function dJ(r, i) {
  if (r) {
    if (typeof r == "string") return f4(r, i);
    var u = {}.toString.call(r).slice(8, -1);
    return (
      u === "Object" && r.constructor && (u = r.constructor.name),
      u === "Map" || u === "Set"
        ? Array.from(r)
        : u === "Arguments" ||
          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)
        ? f4(r, i)
        : void 0
    );
  }
}
function f4(r, i) {
  (i == null || i > r.length) && (i = r.length);
  for (var u = 0, v = Array(i); u < i; u++) v[u] = r[u];
  return v;
}
function Sx(r, i, u) {
  return (
    (i = gm(i)),
    KK(
      r,
      wx() ? Reflect.construct(i, u || [], gm(r).constructor) : i.apply(r, u)
    )
  );
}
function wx() {
  try {
    var r = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {})
    );
  } catch (i) {}
  return (wx = function () {
    return !!r;
  })();
}
function pi(r) {
  for (
    var i, u = arguments.length, v = new Array(u > 1 ? u - 1 : 0), m = 1;
    m < u;
    m++
  )
    v[m - 1] = arguments[m];
  (i = console).warn.apply(i, ["[Vue warn] ".concat(r)].concat(v));
}
var wr,
  hJ = /* @__PURE__ */ (function () {
    function r() {
      var i =
        arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !1;
      tr(this, r),
        (this.detached = i),
        (this._active = !0),
        (this.effects = []),
        (this.cleanups = []),
        (this._isPaused = !1),
        (this.parent = wr),
        !i &&
          wr &&
          (this.index = (wr.scopes || (wr.scopes = [])).push(this) - 1);
    }
    return nr(r, [
      {
        key: "active",
        get: function () {
          return this._active;
        },
      },
      {
        key: "pause",
        value: function () {
          if (this._active) {
            this._isPaused = !0;
            var u, v;
            if (this.scopes)
              for (u = 0, v = this.scopes.length; u < v; u++)
                this.scopes[u].pause();
            for (u = 0, v = this.effects.length; u < v; u++)
              this.effects[u].pause();
          }
        },
        /**
         * Resumes the effect scope, including all child scopes and effects.
         */
      },
      {
        key: "resume",
        value: function () {
          if (this._active && this._isPaused) {
            this._isPaused = !1;
            var u, v;
            if (this.scopes)
              for (u = 0, v = this.scopes.length; u < v; u++)
                this.scopes[u].resume();
            for (u = 0, v = this.effects.length; u < v; u++)
              this.effects[u].resume();
          }
        },
      },
      {
        key: "run",
        value: function (u) {
          if (this._active) {
            var v = wr;
            try {
              return (wr = this), u();
            } finally {
              wr = v;
            }
          } else
            process.env.NODE_ENV !== "production" &&
              pi("cannot run an inactive effect scope.");
        },
        /**
         * This should only be called on non-detached scopes
         * @internal
         */
      },
      {
        key: "on",
        value: function () {
          wr = this;
        },
        /**
         * This should only be called on non-detached scopes
         * @internal
         */
      },
      {
        key: "off",
        value: function () {
          wr = this.parent;
        },
      },
      {
        key: "stop",
        value: function (u) {
          if (this._active) {
            this._active = !1;
            var v, m;
            for (v = 0, m = this.effects.length; v < m; v++)
              this.effects[v].stop();
            for (
              this.effects.length = 0, v = 0, m = this.cleanups.length;
              v < m;
              v++
            )
              this.cleanups[v]();
            if (((this.cleanups.length = 0), this.scopes)) {
              for (v = 0, m = this.scopes.length; v < m; v++)
                this.scopes[v].stop(!0);
              this.scopes.length = 0;
            }
            if (!this.detached && this.parent && !u) {
              var E = this.parent.scopes.pop();
              E &&
                E !== this &&
                ((this.parent.scopes[this.index] = E), (E.index = this.index));
            }
            this.parent = void 0;
          }
        },
      },
    ]);
  })();
function kx(r) {
  return new hJ(r);
}
function Tx() {
  return wr;
}
function fJ(r) {
  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
  wr
    ? wr.cleanups.push(r)
    : process.env.NODE_ENV !== "production" &&
      !i &&
      pi(
        "onScopeDispose() is called when there is no active effect scope to be associated with."
      );
}
var nn,
  Nb = /* @__PURE__ */ new WeakSet(),
  pJ = /* @__PURE__ */ (function () {
    function r(i) {
      tr(this, r),
        (this.fn = i),
        (this.deps = void 0),
        (this.depsTail = void 0),
        (this.flags = 5),
        (this.next = void 0),
        (this.cleanup = void 0),
        (this.scheduler = void 0),
        wr && wr.active && wr.effects.push(this);
    }
    return nr(r, [
      {
        key: "pause",
        value: function () {
          this.flags |= 64;
        },
      },
      {
        key: "resume",
        value: function () {
          this.flags & 64 &&
            ((this.flags &= -65),
            Nb.has(this) && (Nb.delete(this), this.trigger()));
        },
        /**
         * @internal
         */
      },
      {
        key: "notify",
        value: function () {
          (this.flags & 2 && !(this.flags & 32)) || this.flags & 8 || Ix(this);
        },
      },
      {
        key: "run",
        value: function () {
          if (!(this.flags & 1)) return this.fn();
          (this.flags |= 2), p4(this), Rx(this);
          var u = nn,
            v = ji;
          (nn = this), (ji = !0);
          try {
            return this.fn();
          } finally {
            process.env.NODE_ENV !== "production" &&
              nn !== this &&
              pi(
                "Active effect was not restored correctly - this is likely a Vue internal bug."
              ),
              Cx(this),
              (nn = u),
              (ji = v),
              (this.flags &= -3);
          }
        },
      },
      {
        key: "stop",
        value: function () {
          if (this.flags & 1) {
            for (var u = this.deps; u; u = u.nextDep) OS(u);
            (this.deps = this.depsTail = void 0),
              p4(this),
              this.onStop && this.onStop(),
              (this.flags &= -2);
          }
        },
      },
      {
        key: "trigger",
        value: function () {
          this.flags & 64
            ? Nb.add(this)
            : this.scheduler
            ? this.scheduler()
            : this.runIfDirty();
        },
        /**
         * @internal
         */
      },
      {
        key: "runIfDirty",
        value: function () {
          iS(this) && this.run();
        },
      },
      {
        key: "dirty",
        get: function () {
          return iS(this);
        },
      },
    ]);
  })(),
  Ex = 0,
  kh,
  Th;
function Ix(r) {
  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
  if (((r.flags |= 8), i)) {
    (r.next = Th), (Th = r);
    return;
  }
  (r.next = kh), (kh = r);
}
function xS() {
  Ex++;
}
function PS() {
  if (!(--Ex > 0)) {
    if (Th) {
      var r = Th;
      for (Th = void 0; r; ) {
        var i = r.next;
        (r.next = void 0), (r.flags &= -9), (r = i);
      }
    }
    for (var u; kh; ) {
      var v = kh;
      for (kh = void 0; v; ) {
        var m = v.next;
        if (((v.next = void 0), (v.flags &= -9), v.flags & 1))
          try {
            v.trigger();
          } catch (E) {
            u || (u = E);
          }
        v = m;
      }
    }
    if (u) throw u;
  }
}
function Rx(r) {
  for (var i = r.deps; i; i = i.nextDep)
    (i.version = -1),
      (i.prevActiveLink = i.dep.activeLink),
      (i.dep.activeLink = i);
}
function Cx(r) {
  for (var i, u = r.depsTail, v = u; v; ) {
    var m = v.prevDep;
    v.version === -1 ? (v === u && (u = m), OS(v), vJ(v)) : (i = v),
      (v.dep.activeLink = v.prevActiveLink),
      (v.prevActiveLink = void 0),
      (v = m);
  }
  (r.deps = i), (r.depsTail = u);
}
function iS(r) {
  for (var i = r.deps; i; i = i.nextDep)
    if (
      i.dep.version !== i.version ||
      (i.dep.computed && (Ax(i.dep.computed) || i.dep.version !== i.version))
    )
      return !0;
  return !!r._dirty;
}
function Ax(r) {
  if (
    !(r.flags & 4 && !(r.flags & 16)) &&
    ((r.flags &= -17), r.globalVersion !== Ch)
  ) {
    r.globalVersion = Ch;
    var i = r.dep;
    if (((r.flags |= 2), i.version > 0 && !r.isSSR && r.deps && !iS(r))) {
      r.flags &= -3;
      return;
    }
    var u = nn,
      v = ji;
    (nn = r), (ji = !0);
    try {
      Rx(r);
      var m = r.fn(r._value);
      (i.version === 0 || rs(m, r._value)) && ((r._value = m), i.version++);
    } catch (E) {
      throw (i.version++, E);
    } finally {
      (nn = u), (ji = v), Cx(r), (r.flags &= -3);
    }
  }
}
function OS(r) {
  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1,
    u = r.dep,
    v = r.prevSub,
    m = r.nextSub;
  if (
    (v && ((v.nextSub = m), (r.prevSub = void 0)),
    m && ((m.prevSub = v), (r.nextSub = void 0)),
    process.env.NODE_ENV !== "production" &&
      u.subsHead === r &&
      (u.subsHead = m),
    u.subs === r && ((u.subs = v), !v && u.computed))
  ) {
    u.computed.flags &= -5;
    for (var E = u.computed.deps; E; E = E.nextDep) OS(E, !0);
  }
  !i && !--u.sc && u.map && u.map.delete(u.key);
}
function vJ(r) {
  var i = r.prevDep,
    u = r.nextDep;
  i && ((i.nextDep = u), (r.prevDep = void 0)),
    u && ((u.prevDep = i), (r.nextDep = void 0));
}
var ji = !0,
  xx = [];
function Mm() {
  xx.push(ji), (ji = !1);
}
function Um() {
  var r = xx.pop();
  ji = r === void 0 ? !0 : r;
}
function p4(r) {
  var i = r.cleanup;
  if (((r.cleanup = void 0), i)) {
    var u = nn;
    nn = void 0;
    try {
      i();
    } finally {
      nn = u;
    }
  }
}
var Ch = 0,
  mJ = /* @__PURE__ */ nr(function r(i, u) {
    tr(this, r),
      (this.sub = i),
      (this.dep = u),
      (this.version = u.version),
      (this.nextDep =
        this.prevDep =
        this.nextSub =
        this.prevSub =
        this.prevActiveLink =
          void 0);
  }),
  DS = /* @__PURE__ */ (function () {
    function r(i) {
      tr(this, r),
        (this.computed = i),
        (this.version = 0),
        (this.activeLink = void 0),
        (this.subs = void 0),
        (this.map = void 0),
        (this.key = void 0),
        (this.sc = 0),
        process.env.NODE_ENV !== "production" && (this.subsHead = void 0);
    }
    return nr(r, [
      {
        key: "track",
        value: function (u) {
          if (!(!nn || !ji || nn === this.computed)) {
            var v = this.activeLink;
            if (v === void 0 || v.sub !== nn)
              (v = this.activeLink = new mJ(nn, this)),
                nn.deps
                  ? ((v.prevDep = nn.depsTail),
                    (nn.depsTail.nextDep = v),
                    (nn.depsTail = v))
                  : (nn.deps = nn.depsTail = v),
                Px(v);
            else if (
              v.version === -1 &&
              ((v.version = this.version), v.nextDep)
            ) {
              var m = v.nextDep;
              (m.prevDep = v.prevDep),
                v.prevDep && (v.prevDep.nextDep = m),
                (v.prevDep = nn.depsTail),
                (v.nextDep = void 0),
                (nn.depsTail.nextDep = v),
                (nn.depsTail = v),
                nn.deps === v && (nn.deps = m);
            }
            return (
              process.env.NODE_ENV !== "production" &&
                nn.onTrack &&
                nn.onTrack(
                  Jr(
                    {
                      effect: nn,
                    },
                    u
                  )
                ),
              v
            );
          }
        },
      },
      {
        key: "trigger",
        value: function (u) {
          this.version++, Ch++, this.notify(u);
        },
      },
      {
        key: "notify",
        value: function (u) {
          xS();
          try {
            if (process.env.NODE_ENV !== "production")
              for (var v = this.subsHead; v; v = v.nextSub)
                v.sub.onTrigger &&
                  !(v.sub.flags & 8) &&
                  v.sub.onTrigger(
                    Jr(
                      {
                        effect: v.sub,
                      },
                      u
                    )
                  );
            for (var m = this.subs; m; m = m.prevSub)
              m.sub.notify() && m.sub.dep.notify();
          } finally {
            PS();
          }
        },
      },
    ]);
  })();
function Px(r) {
  if ((r.dep.sc++, r.sub.flags & 4)) {
    var i = r.dep.computed;
    if (i && !r.dep.subs) {
      i.flags |= 20;
      for (var u = i.deps; u; u = u.nextDep) Px(u);
    }
    var v = r.dep.subs;
    v !== r && ((r.prevSub = v), v && (v.nextSub = r)),
      process.env.NODE_ENV !== "production" &&
        r.dep.subsHead === void 0 &&
        (r.dep.subsHead = r),
      (r.dep.subs = r);
  }
}
var _m = /* @__PURE__ */ new WeakMap(),
  mu = Symbol(process.env.NODE_ENV !== "production" ? "Object iterate" : ""),
  aS = Symbol(process.env.NODE_ENV !== "production" ? "Map keys iterate" : ""),
  Ah = Symbol(process.env.NODE_ENV !== "production" ? "Array iterate" : "");
function $n(r, i, u) {
  if (ji && nn) {
    var v = _m.get(r);
    v || _m.set(r, (v = /* @__PURE__ */ new Map()));
    var m = v.get(u);
    m || (v.set(u, (m = new DS())), (m.map = v), (m.key = u)),
      process.env.NODE_ENV !== "production"
        ? m.track({
            target: r,
            type: i,
            key: u,
          })
        : m.track();
  }
}
function Qo(r, i, u, v, m, E) {
  var O = _m.get(r);
  if (!O) {
    Ch++;
    return;
  }
  var C = function (me) {
    me &&
      (process.env.NODE_ENV !== "production"
        ? me.trigger({
            target: r,
            type: i,
            key: u,
            newValue: v,
            oldValue: m,
            oldTarget: E,
          })
        : me.trigger());
  };
  if ((xS(), i === "clear")) O.forEach(C);
  else {
    var G = _n(r),
      re = G && RS(u);
    if (G && u === "length") {
      var ce = Number(v);
      O.forEach(function (de, me) {
        (me === "length" || me === Ah || (!Dh(me) && me >= ce)) && C(de);
      });
    } else
      switch (
        ((u !== void 0 || O.has(void 0)) && C(O.get(u)), re && C(O.get(Ah)), i)
      ) {
        case "add":
          G ? re && C(O.get("length")) : (C(O.get(mu)), ll(r) && C(O.get(aS)));
          break;
        case "delete":
          G || (C(O.get(mu)), ll(r) && C(O.get(aS)));
          break;
        case "set":
          ll(r) && C(O.get(mu));
          break;
      }
  }
  PS();
}
function gJ(r, i) {
  var u = _m.get(r);
  return u && u.get(i);
}
function tl(r) {
  var i = Vt(r);
  return i === r ? i : ($n(i, "iterate", Ah), Nr(r) ? i : i.map(kr));
}
function NS(r) {
  return $n((r = Vt(r)), "iterate", Ah), r;
}
var _J =
  ((Gv = {
    __proto__: null,
  }),
  tt(
    tt(
      tt(
        tt(
          tt(
            tt(
              tt(
                tt(
                  tt(
                    tt(Gv, Symbol.iterator, function () {
                      return Lb(this, Symbol.iterator, kr);
                    }),
                    "concat",
                    function () {
                      for (
                        var i, u = arguments.length, v = new Array(u), m = 0;
                        m < u;
                        m++
                      )
                        v[m] = arguments[m];
                      return (i = tl(this)).concat.apply(
                        i,
                        cn(
                          v.map(function (E) {
                            return _n(E) ? tl(E) : E;
                          })
                        )
                      );
                    }
                  ),
                  "entries",
                  function () {
                    return Lb(this, "entries", function (i) {
                      return (i[1] = kr(i[1])), i;
                    });
                  }
                ),
                "every",
                function (i, u) {
                  return to(this, "every", i, u, void 0, arguments);
                }
              ),
              "filter",
              function (i, u) {
                return to(
                  this,
                  "filter",
                  i,
                  u,
                  function (v) {
                    return v.map(kr);
                  },
                  arguments
                );
              }
            ),
            "find",
            function (i, u) {
              return to(this, "find", i, u, kr, arguments);
            }
          ),
          "findIndex",
          function (i, u) {
            return to(this, "findIndex", i, u, void 0, arguments);
          }
        ),
        "findLast",
        function (i, u) {
          return to(this, "findLast", i, u, kr, arguments);
        }
      ),
      "findLastIndex",
      function (i, u) {
        return to(this, "findLastIndex", i, u, void 0, arguments);
      }
    ),
    "forEach",
    function (i, u) {
      return to(this, "forEach", i, u, void 0, arguments);
    }
  ),
  tt(
    tt(
      tt(
        tt(
          tt(
            tt(
              tt(
                tt(
                  tt(
                    tt(Gv, "includes", function () {
                      for (
                        var i = arguments.length, u = new Array(i), v = 0;
                        v < i;
                        v++
                      )
                        u[v] = arguments[v];
                      return Mb(this, "includes", u);
                    }),
                    "indexOf",
                    function () {
                      for (
                        var i = arguments.length, u = new Array(i), v = 0;
                        v < i;
                        v++
                      )
                        u[v] = arguments[v];
                      return Mb(this, "indexOf", u);
                    }
                  ),
                  "join",
                  function (i) {
                    return tl(this).join(i);
                  }
                ),
                "lastIndexOf",
                function () {
                  for (
                    var i = arguments.length, u = new Array(i), v = 0;
                    v < i;
                    v++
                  )
                    u[v] = arguments[v];
                  return Mb(this, "lastIndexOf", u);
                }
              ),
              "map",
              function (i, u) {
                return to(this, "map", i, u, void 0, arguments);
              }
            ),
            "pop",
            function () {
              return mh(this, "pop");
            }
          ),
          "push",
          function () {
            for (var i = arguments.length, u = new Array(i), v = 0; v < i; v++)
              u[v] = arguments[v];
            return mh(this, "push", u);
          }
        ),
        "reduce",
        function (i) {
          for (
            var u = arguments.length, v = new Array(u > 1 ? u - 1 : 0), m = 1;
            m < u;
            m++
          )
            v[m - 1] = arguments[m];
          return v4(this, "reduce", i, v);
        }
      ),
      "reduceRight",
      function (i) {
        for (
          var u = arguments.length, v = new Array(u > 1 ? u - 1 : 0), m = 1;
          m < u;
          m++
        )
          v[m - 1] = arguments[m];
        return v4(this, "reduceRight", i, v);
      }
    ),
    "shift",
    function () {
      return mh(this, "shift");
    }
  ),
  tt(
    tt(
      tt(
        tt(
          tt(
            tt(
              tt(Gv, "some", function (i, u) {
                return to(this, "some", i, u, void 0, arguments);
              }),
              "splice",
              function () {
                for (
                  var i = arguments.length, u = new Array(i), v = 0;
                  v < i;
                  v++
                )
                  u[v] = arguments[v];
                return mh(this, "splice", u);
              }
            ),
            "toReversed",
            function () {
              return tl(this).toReversed();
            }
          ),
          "toSorted",
          function (i) {
            return tl(this).toSorted(i);
          }
        ),
        "toSpliced",
        function () {
          var i;
          return (i = tl(this)).toSpliced.apply(i, arguments);
        }
      ),
      "unshift",
      function () {
        for (var i = arguments.length, u = new Array(i), v = 0; v < i; v++)
          u[v] = arguments[v];
        return mh(this, "unshift", u);
      }
    ),
    "values",
    function () {
      return Lb(this, "values", kr);
    }
  ));
function Lb(r, i, u) {
  var v = NS(r),
    m = v[i]();
  return (
    v !== r &&
      !Nr(r) &&
      ((m._next = m.next),
      (m.next = function () {
        var E = m._next();
        return E.value && (E.value = u(E.value)), E;
      })),
    m
  );
}
var yJ = Array.prototype;
function to(r, i, u, v, m, E) {
  var O = NS(r),
    C = O !== r && !Nr(r),
    G = O[i];
  if (G !== yJ[i]) {
    var re = G.apply(r, E);
    return C ? kr(re) : re;
  }
  var ce = u;
  O !== r &&
    (C
      ? (ce = function (Ee, Ae) {
          return u.call(this, kr(Ee), Ae, r);
        })
      : u.length > 2 &&
        (ce = function (Ee, Ae) {
          return u.call(this, Ee, Ae, r);
        }));
  var de = G.call(O, ce, v);
  return C && m ? m(de) : de;
}
function v4(r, i, u, v) {
  var m = NS(r),
    E = u;
  return (
    m !== r &&
      (Nr(r)
        ? u.length > 3 &&
          (E = function (C, G, re) {
            return u.call(this, C, G, re, r);
          })
        : (E = function (C, G, re) {
            return u.call(this, C, kr(G), re, r);
          })),
    m[i].apply(m, [E].concat(cn(v)))
  );
}
function Mb(r, i, u) {
  var v = Vt(r);
  $n(v, "iterate", Ah);
  var m = v[i].apply(v, cn(u));
  return (m === -1 || m === !1) && xh(u[0])
    ? ((u[0] = Vt(u[0])), v[i].apply(v, cn(u)))
    : m;
}
function mh(r, i) {
  var u = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : [];
  Mm(), xS();
  var v = Vt(r)[i].apply(r, u);
  return PS(), Um(), v;
}
var bJ = /* @__PURE__ */ YK("__proto__,__v_isRef,__isVue"),
  Ox = new Set(
    /* @__PURE__ */ Object.getOwnPropertyNames(Symbol)
      .filter(function (r) {
        return r !== "arguments" && r !== "caller";
      })
      .map(function (r) {
        return Symbol[r];
      })
      .filter(Dh)
  );
function SJ(r) {
  Dh(r) || (r = String(r));
  var i = Vt(this);
  return $n(i, "has", r), i.hasOwnProperty(r);
}
var Dx = /* @__PURE__ */ (function () {
    function r() {
      var i =
          arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !1,
        u = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
      tr(this, r), (this._isReadonly = i), (this._isShallow = u);
    }
    return nr(r, [
      {
        key: "get",
        value: function (u, v, m) {
          if (v === "__v_skip") return u.__v_skip;
          var E = this._isReadonly,
            O = this._isShallow;
          if (v === "__v_isReactive") return !E;
          if (v === "__v_isReadonly") return E;
          if (v === "__v_isShallow") return O;
          if (v === "__v_raw")
            return m === (E ? (O ? Ux : Mx) : O ? PJ : Lx).get(u) || // receiver is not the reactive proxy, but has the same prototype
              // this means the receiver is a user proxy of the reactive proxy
              Object.getPrototypeOf(u) === Object.getPrototypeOf(m)
              ? u
              : void 0;
          var C = _n(u);
          if (!E) {
            var G;
            if (C && (G = _J[v])) return G;
            if (v === "hasOwnProperty") return SJ;
          }
          var re = Reflect.get(
            u,
            v,
            // if this is a proxy wrapping a ref, return methods using the raw ref
            // as receiver so that we don't have to call `toRaw` on the ref in all
            // its class methods
            Cn(u) ? u : m
          );
          return (Dh(v) ? Ox.has(v) : bJ(v)) || (E || $n(u, "get", v), O)
            ? re
            : Cn(re)
            ? C && RS(v)
              ? re
              : re.value
            : Tr(re)
            ? E
              ? Vx(re)
              : MS(re)
            : re;
        },
      },
    ]);
  })(),
  wJ = /* @__PURE__ */ (function (r) {
    function i() {
      var u =
        arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !1;
      return tr(this, i), Sx(this, i, [!1, u]);
    }
    return (
      _x(i, r),
      nr(i, [
        {
          key: "set",
          value: function (v, m, E, O) {
            var C = v[m];
            if (!this._isShallow) {
              var G = ao(C);
              if (
                (!Nr(E) && !ao(E) && ((C = Vt(C)), (E = Vt(E))),
                !_n(v) && Cn(C) && !Cn(E))
              )
                return G ? !1 : ((C.value = E), !0);
            }
            var re = _n(v) && RS(m) ? Number(m) < v.length : Ln(v, m),
              ce = Reflect.set(v, m, E, Cn(v) ? v : O);
            return (
              v === Vt(O) &&
                (re ? rs(E, C) && Qo(v, "set", m, E, C) : Qo(v, "add", m, E)),
              ce
            );
          },
        },
        {
          key: "deleteProperty",
          value: function (v, m) {
            var E = Ln(v, m),
              O = v[m],
              C = Reflect.deleteProperty(v, m);
            return C && E && Qo(v, "delete", m, void 0, O), C;
          },
        },
        {
          key: "has",
          value: function (v, m) {
            var E = Reflect.has(v, m);
            return (!Dh(m) || !Ox.has(m)) && $n(v, "has", m), E;
          },
        },
        {
          key: "ownKeys",
          value: function (v) {
            return $n(v, "iterate", _n(v) ? "length" : mu), Reflect.ownKeys(v);
          },
        },
      ])
    );
  })(Dx),
  Nx = /* @__PURE__ */ (function (r) {
    function i() {
      var u =
        arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !1;
      return tr(this, i), Sx(this, i, [!0, u]);
    }
    return (
      _x(i, r),
      nr(i, [
        {
          key: "set",
          value: function (v, m) {
            return (
              process.env.NODE_ENV !== "production" &&
                pi(
                  'Set operation on key "'.concat(
                    String(m),
                    '" failed: target is readonly.'
                  ),
                  v
                ),
              !0
            );
          },
        },
        {
          key: "deleteProperty",
          value: function (v, m) {
            return (
              process.env.NODE_ENV !== "production" &&
                pi(
                  'Delete operation on key "'.concat(
                    String(m),
                    '" failed: target is readonly.'
                  ),
                  v
                ),
              !0
            );
          },
        },
      ])
    );
  })(Dx),
  kJ = /* @__PURE__ */ new wJ(),
  TJ = /* @__PURE__ */ new Nx(),
  EJ = /* @__PURE__ */ new Nx(!0),
  oS = function (i) {
    return i;
  },
  qv = function (i) {
    return Reflect.getPrototypeOf(i);
  };
function IJ(r, i, u) {
  return function () {
    var v = this.__v_raw,
      m = Vt(v),
      E = ll(m),
      O = r === "entries" || (r === Symbol.iterator && E),
      C = r === "keys" && E,
      G = v[r].apply(v, arguments),
      re = u ? oS : i ? sS : kr;
    return (
      !i && $n(m, "iterate", C ? aS : mu),
      tt(
        {
          // iterator protocol
          next: function () {
            var de = G.next(),
              me = de.value,
              Ee = de.done;
            return Ee
              ? {
                  value: me,
                  done: Ee,
                }
              : {
                  value: O ? [re(me[0]), re(me[1])] : re(me),
                  done: Ee,
                };
          },
        },
        Symbol.iterator,
        function () {
          return this;
        }
      )
    );
  };
}
function Kv(r) {
  return function () {
    if (process.env.NODE_ENV !== "production") {
      var i =
        !(arguments.length <= 0) && arguments[0]
          ? 'on key "'.concat(
              arguments.length <= 0 ? void 0 : arguments[0],
              '" '
            )
          : "";
      pi(
        ""
          .concat(aJ(r), " operation ")
          .concat(i, "failed: target is readonly."),
        Vt(this)
      );
    }
    return r === "delete" ? !1 : r === "clear" ? void 0 : this;
  };
}
function RJ(r, i) {
  var u = {
    get: function (E) {
      var O = this.__v_raw,
        C = Vt(O),
        G = Vt(E);
      r || (rs(E, G) && $n(C, "get", E), $n(C, "get", G));
      var re = qv(C),
        ce = re.has,
        de = i ? oS : r ? sS : kr;
      if (ce.call(C, E)) return de(O.get(E));
      if (ce.call(C, G)) return de(O.get(G));
      O !== C && O.get(E);
    },
    get size() {
      var m = this.__v_raw;
      return !r && $n(Vt(m), "iterate", mu), Reflect.get(m, "size", m);
    },
    has: function (E) {
      var O = this.__v_raw,
        C = Vt(O),
        G = Vt(E);
      return (
        r || (rs(E, G) && $n(C, "has", E), $n(C, "has", G)),
        E === G ? O.has(E) : O.has(E) || O.has(G)
      );
    },
    forEach: function (E, O) {
      var C = this,
        G = C.__v_raw,
        re = Vt(G),
        ce = i ? oS : r ? sS : kr;
      return (
        !r && $n(re, "iterate", mu),
        G.forEach(function (de, me) {
          return E.call(O, ce(de), ce(me), C);
        })
      );
    },
  };
  Jr(
    u,
    r
      ? {
          add: Kv("add"),
          set: Kv("set"),
          delete: Kv("delete"),
          clear: Kv("clear"),
        }
      : {
          add: function (E) {
            !i && !Nr(E) && !ao(E) && (E = Vt(E));
            var O = Vt(this),
              C = qv(O),
              G = C.has.call(O, E);
            return G || (O.add(E), Qo(O, "add", E, E)), this;
          },
          set: function (E, O) {
            !i && !Nr(O) && !ao(O) && (O = Vt(O));
            var C = Vt(this),
              G = qv(C),
              re = G.has,
              ce = G.get,
              de = re.call(C, E);
            de
              ? process.env.NODE_ENV !== "production" && m4(C, re, E)
              : ((E = Vt(E)), (de = re.call(C, E)));
            var me = ce.call(C, E);
            return (
              C.set(E, O),
              de ? rs(O, me) && Qo(C, "set", E, O, me) : Qo(C, "add", E, O),
              this
            );
          },
          delete: function (E) {
            var O = Vt(this),
              C = qv(O),
              G = C.has,
              re = C.get,
              ce = G.call(O, E);
            ce
              ? process.env.NODE_ENV !== "production" && m4(O, G, E)
              : ((E = Vt(E)), (ce = G.call(O, E)));
            var de = re ? re.call(O, E) : void 0,
              me = O.delete(E);
            return ce && Qo(O, "delete", E, void 0, de), me;
          },
          clear: function () {
            var E = Vt(this),
              O = E.size !== 0,
              C =
                process.env.NODE_ENV !== "production"
                  ? ll(E)
                    ? new Map(E)
                    : new Set(E)
                  : void 0,
              G = E.clear();
            return O && Qo(E, "clear", void 0, void 0, C), G;
          },
        }
  );
  var v = ["keys", "values", "entries", Symbol.iterator];
  return (
    v.forEach(function (m) {
      u[m] = IJ(m, r, i);
    }),
    u
  );
}
function LS(r, i) {
  var u = RJ(r, i);
  return function (v, m, E) {
    return m === "__v_isReactive"
      ? !r
      : m === "__v_isReadonly"
      ? r
      : m === "__v_raw"
      ? v
      : Reflect.get(Ln(u, m) && m in v ? u : v, m, E);
  };
}
var CJ = {
    get: /* @__PURE__ */ LS(!1, !1),
  },
  AJ = {
    get: /* @__PURE__ */ LS(!0, !1),
  },
  xJ = {
    get: /* @__PURE__ */ LS(!0, !0),
  };
function m4(r, i, u) {
  var v = Vt(u);
  if (v !== u && i.call(r, v)) {
    var m = yx(r);
    pi(
      "Reactive "
        .concat(
          m,
          " contains both the raw and reactive versions of the same object"
        )
        .concat(
          m === "Map" ? " as keys" : "",
          ", which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible."
        )
    );
  }
}
var Lx = /* @__PURE__ */ new WeakMap(),
  PJ = /* @__PURE__ */ new WeakMap(),
  Mx = /* @__PURE__ */ new WeakMap(),
  Ux = /* @__PURE__ */ new WeakMap();
function OJ(r) {
  switch (r) {
    case "Object":
    case "Array":
      return 1;
    case "Map":
    case "Set":
    case "WeakMap":
    case "WeakSet":
      return 2;
    default:
      return 0;
  }
}
function DJ(r) {
  return r.__v_skip || !Object.isExtensible(r) ? 0 : OJ(yx(r));
}
function MS(r) {
  return ao(r) ? r : US(r, !1, kJ, CJ, Lx);
}
function Vx(r) {
  return US(r, !0, TJ, AJ, Mx);
}
function Jv(r) {
  return US(r, !0, EJ, xJ, Ux);
}
function US(r, i, u, v, m) {
  if (!Tr(r))
    return (
      process.env.NODE_ENV !== "production" &&
        pi(
          "value cannot be made "
            .concat(i ? "readonly" : "reactive", ": ")
            .concat(String(r))
        ),
      r
    );
  if (r.__v_raw && !(i && r.__v_isReactive)) return r;
  var E = m.get(r);
  if (E) return E;
  var O = DJ(r);
  if (O === 0) return r;
  var C = new Proxy(r, O === 2 ? v : u);
  return m.set(r, C), C;
}
function io(r) {
  return ao(r) ? io(r.__v_raw) : !!(r && r.__v_isReactive);
}
function ao(r) {
  return !!(r && r.__v_isReadonly);
}
function Nr(r) {
  return !!(r && r.__v_isShallow);
}
function xh(r) {
  return r ? !!r.__v_raw : !1;
}
function Vt(r) {
  var i = r && r.__v_raw;
  return i ? Vt(i) : r;
}
function es(r) {
  return (
    !Ln(r, "__v_skip") && Object.isExtensible(r) && oJ(r, "__v_skip", !0), r
  );
}
var kr = function (i) {
    return Tr(i) ? MS(i) : i;
  },
  sS = function (i) {
    return Tr(i) ? Vx(i) : i;
  };
function Cn(r) {
  return r ? r.__v_isRef === !0 : !1;
}
function va(r) {
  return NJ(r, !1);
}
function NJ(r, i) {
  return Cn(r) ? r : new LJ(r, i);
}
var LJ = /* @__PURE__ */ (function () {
  function r(i, u) {
    tr(this, r),
      (this.dep = new DS()),
      (this.__v_isRef = !0),
      (this.__v_isShallow = !1),
      (this._rawValue = u ? i : Vt(i)),
      (this._value = u ? i : kr(i)),
      (this.__v_isShallow = u);
  }
  return nr(r, [
    {
      key: "value",
      get: function () {
        return (
          process.env.NODE_ENV !== "production"
            ? this.dep.track({
                target: this,
                type: "get",
                key: "value",
              })
            : this.dep.track(),
          this._value
        );
      },
      set: function (u) {
        var v = this._rawValue,
          m = this.__v_isShallow || Nr(u) || ao(u);
        (u = m ? u : Vt(u)),
          rs(u, v) &&
            ((this._rawValue = u),
            (this._value = m ? u : kr(u)),
            process.env.NODE_ENV !== "production"
              ? this.dep.trigger({
                  target: this,
                  type: "set",
                  key: "value",
                  newValue: u,
                  oldValue: v,
                })
              : this.dep.trigger());
      },
    },
  ]);
})();
function Fx(r) {
  return Cn(r) ? r.value : r;
}
var MJ = {
  get: function (i, u, v) {
    return u === "__v_raw" ? i : Fx(Reflect.get(i, u, v));
  },
  set: function (i, u, v, m) {
    var E = i[u];
    return Cn(E) && !Cn(v) ? ((E.value = v), !0) : Reflect.set(i, u, v, m);
  },
};
function UJ(r) {
  return io(r) ? r : new Proxy(r, MJ);
}
function g4(r) {
  process.env.NODE_ENV !== "production" &&
    !xh(r) &&
    pi("toRefs() expects a reactive object but received a plain one.");
  var i = _n(r) ? new Array(r.length) : {};
  for (var u in r) i[u] = jx(r, u);
  return i;
}
var VJ = /* @__PURE__ */ (function () {
    function r(i, u, v) {
      tr(this, r),
        (this._object = i),
        (this._key = u),
        (this._defaultValue = v),
        (this.__v_isRef = !0),
        (this._value = void 0);
    }
    return nr(r, [
      {
        key: "value",
        get: function () {
          var u = this._object[this._key];
          return (this._value = u === void 0 ? this._defaultValue : u);
        },
        set: function (u) {
          this._object[this._key] = u;
        },
      },
      {
        key: "dep",
        get: function () {
          return gJ(Vt(this._object), this._key);
        },
      },
    ]);
  })(),
  FJ = /* @__PURE__ */ (function () {
    function r(i) {
      tr(this, r),
        (this._getter = i),
        (this.__v_isRef = !0),
        (this.__v_isReadonly = !0),
        (this._value = void 0);
    }
    return nr(r, [
      {
        key: "value",
        get: function () {
          return (this._value = this._getter());
        },
      },
    ]);
  })();
function Ub(r, i, u) {
  return Cn(r)
    ? r
    : Mn(r)
    ? new FJ(r)
    : Tr(r) && arguments.length > 1
    ? jx(r, i, u)
    : va(r);
}
function jx(r, i, u) {
  var v = r[i];
  return Cn(v) ? v : new VJ(r, i, u);
}
var jJ = /* @__PURE__ */ (function () {
  function r(i, u, v) {
    tr(this, r),
      (this.fn = i),
      (this.setter = u),
      (this._value = void 0),
      (this.dep = new DS(this)),
      (this.__v_isRef = !0),
      (this.deps = void 0),
      (this.depsTail = void 0),
      (this.flags = 16),
      (this.globalVersion = Ch - 1),
      (this.next = void 0),
      (this.effect = this),
      (this.__v_isReadonly = !u),
      (this.isSSR = v);
  }
  return nr(r, [
    {
      key: "notify",
      value: function () {
        if (
          ((this.flags |= 16),
          !(this.flags & 8) && // avoid infinite self recursion
            nn !== this)
        )
          return Ix(this, !0), !0;
        process.env.NODE_ENV;
      },
    },
    {
      key: "value",
      get: function () {
        var u =
          process.env.NODE_ENV !== "production"
            ? this.dep.track({
                target: this,
                type: "get",
                key: "value",
              })
            : this.dep.track();
        return Ax(this), u && (u.version = this.dep.version), this._value;
      },
      set: function (u) {
        this.setter
          ? this.setter(u)
          : process.env.NODE_ENV !== "production" &&
            pi("Write operation failed: computed value is readonly");
      },
    },
  ]);
})();
function BJ(r, i) {
  var u = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1,
    v,
    m;
  Mn(r) ? (v = r) : ((v = r.get), (m = r.set));
  var E = new jJ(v, m, u);
  return (
    process.env.NODE_ENV !== "production" &&
      i &&
      !u &&
      ((E.onTrack = i.onTrack), (E.onTrigger = i.onTrigger)),
    E
  );
}
var $v = {},
  ym = /* @__PURE__ */ new WeakMap(),
  fu = void 0;
function HJ(r) {
  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1,
    u = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : fu;
  if (u) {
    var v = ym.get(u);
    v || ym.set(u, (v = [])), v.push(r);
  } else
    process.env.NODE_ENV !== "production" &&
      !i &&
      pi(
        "onWatcherCleanup() was called when there was no active watcher to associate with."
      );
}
function zJ(r, i) {
  var u = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : hi,
    v = u.immediate,
    m = u.deep,
    E = u.once,
    O = u.scheduler,
    C = u.augmentJob,
    G = u.call,
    re = function (ct) {
      (u.onWarn || pi)(
        "Invalid watch source: ",
        ct,
        "A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types."
      );
    },
    ce = function (ct) {
      return m ? ct : Nr(ct) || m === !1 || m === 0 ? Xo(ct, 1) : Xo(ct);
    },
    de,
    me,
    Ee,
    Ae,
    Be = !1,
    le = !1;
  if (
    (Cn(r)
      ? ((me = function () {
          return r.value;
        }),
        (Be = Nr(r)))
      : io(r)
      ? ((me = function () {
          return ce(r);
        }),
        (Be = !0))
      : _n(r)
      ? ((le = !0),
        (Be = r.some(function (It) {
          return io(It) || Nr(It);
        })),
        (me = function () {
          return r.map(function (ct) {
            if (Cn(ct)) return ct.value;
            if (io(ct)) return ce(ct);
            if (Mn(ct)) return G ? G(ct, 2) : ct();
            process.env.NODE_ENV !== "production" && re(ct);
          });
        }))
      : Mn(r)
      ? i
        ? (me = G
            ? function () {
                return G(r, 2);
              }
            : r)
        : (me = function () {
            if (Ee) {
              Mm();
              try {
                Ee();
              } finally {
                Um();
              }
            }
            var ct = fu;
            fu = de;
            try {
              return G ? G(r, 3, [Ae]) : r(Ae);
            } finally {
              fu = ct;
            }
          })
      : ((me = cl), process.env.NODE_ENV !== "production" && re(r)),
    i && m)
  ) {
    var bt = me,
      Et = m === !0 ? 1 / 0 : m;
    me = function () {
      return Xo(bt(), Et);
    };
  }
  var St = Tx(),
    Ut = function () {
      de.stop(), St && St.active && QK(St.effects, de);
    };
  if (E && i) {
    var vt = i;
    i = function () {
      vt.apply(void 0, arguments), Ut();
    };
  }
  var wt = le ? new Array(r.length).fill($v) : $v,
    Je = function (ct) {
      if (!(!(de.flags & 1) || (!de.dirty && !ct)))
        if (i) {
          var We = de.run();
          if (
            m ||
            Be ||
            (le
              ? We.some(function (kt, Xe) {
                  return rs(kt, wt[Xe]);
                })
              : rs(We, wt))
          ) {
            Ee && Ee();
            var Oe = fu;
            fu = de;
            try {
              var at = [
                We,
                // pass undefined as the old value when it's changed for the first time
                wt === $v ? void 0 : le && wt[0] === $v ? [] : wt,
                Ae,
              ];
              G
                ? G(i, 3, at)
                : // @ts-expect-error
                  i.apply(void 0, at),
                (wt = We);
            } finally {
              fu = Oe;
            }
          }
        } else de.run();
    };
  return (
    C && C(Je),
    (de = new pJ(me)),
    (de.scheduler = O
      ? function () {
          return O(Je, !1);
        }
      : Je),
    (Ae = function (ct) {
      return HJ(ct, !1, de);
    }),
    (Ee = de.onStop =
      function () {
        var It = ym.get(de);
        if (It) {
          if (G) G(It, 4);
          else {
            var ct = bx(It),
              We;
            try {
              for (ct.s(); !(We = ct.n()).done; ) {
                var Oe = We.value;
                Oe();
              }
            } catch (at) {
              ct.e(at);
            } finally {
              ct.f();
            }
          }
          ym.delete(de);
        }
      }),
    process.env.NODE_ENV !== "production" &&
      ((de.onTrack = u.onTrack), (de.onTrigger = u.onTrigger)),
    i
      ? v
        ? Je(!0)
        : (wt = de.run())
      : O
      ? O(Je.bind(null, !0), !0)
      : de.run(),
    (Ut.pause = de.pause.bind(de)),
    (Ut.resume = de.resume.bind(de)),
    (Ut.stop = Ut),
    Ut
  );
}
function Xo(r) {
  var i =
      arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1 / 0,
    u = arguments.length > 2 ? arguments[2] : void 0;
  if (
    i <= 0 ||
    !Tr(r) ||
    r.__v_skip ||
    ((u = u || /* @__PURE__ */ new Set()), u.has(r))
  )
    return r;
  if ((u.add(r), i--, Cn(r))) Xo(r.value, i, u);
  else if (_n(r)) for (var v = 0; v < r.length; v++) Xo(r[v], i, u);
  else if (eJ(r) || ll(r))
    r.forEach(function (G) {
      Xo(G, i, u);
    });
  else if (rJ(r)) {
    for (var m in r) Xo(r[m], i, u);
    var E = bx(Object.getOwnPropertySymbols(r)),
      O;
    try {
      for (E.s(); !(O = E.n()).done; ) {
        var C = O.value;
        Object.prototype.propertyIsEnumerable.call(r, C) && Xo(r[C], i, u);
      }
    } catch (G) {
      E.e(G);
    } finally {
      E.f();
    }
  }
  return r;
}
var gh,
  gu = [];
function WJ(r) {
  gu.push(r);
}
function GJ() {
  gu.pop();
}
var Vb = !1;
function Rn(r) {
  if (!Vb) {
    (Vb = !0), Mm();
    for (
      var i = gu.length ? gu[gu.length - 1].component : null,
        u = i && i.appContext.config.warnHandler,
        v = qJ(),
        m = arguments.length,
        E = new Array(m > 1 ? m - 1 : 0),
        O = 1;
      O < m;
      O++
    )
      E[O - 1] = arguments[O];
    if (u)
      Vm(u, i, 11, [
        // eslint-disable-next-line no-restricted-syntax
        r +
          E.map(function (re) {
            var ce, de;
            return (de = (ce = re.toString) == null ? void 0 : ce.call(re)) !=
              null
              ? de
              : JSON.stringify(re);
          }).join(""),
        i && i.proxy,
        v.map(function (re) {
          var ce = re.vnode;
          return "at <".concat(uP(i, ce.type), ">");
        }).join(`
`),
        v,
      ]);
    else {
      var C,
        G = ["[Vue warn]: ".concat(r)].concat(E);
      v.length &&
        G.push.apply(
          G,
          [
            `
`,
          ].concat(cn(KJ(v)))
        ),
        (C = console).warn.apply(C, cn(G));
    }
    Um(), (Vb = !1);
  }
}
function qJ() {
  var r = gu[gu.length - 1];
  if (!r) return [];
  for (var i = []; r; ) {
    var u = i[0];
    u && u.vnode === r
      ? u.recurseCount++
      : i.push({
          vnode: r,
          recurseCount: 0,
        });
    var v = r.component && r.component.parent;
    r = v && v.vnode;
  }
  return i;
}
function KJ(r) {
  var i = [];
  return (
    r.forEach(function (u, v) {
      i.push.apply(
        i,
        cn(
          v === 0
            ? []
            : [
                `
`,
              ]
        ).concat(cn(JJ(u)))
      );
    }),
    i
  );
}
function JJ(r) {
  var i = r.vnode,
    u = r.recurseCount,
    v = u > 0 ? "... (".concat(u, " recursive calls)") : "",
    m = i.component ? i.component.parent == null : !1,
    E = " at <".concat(uP(i.component, i.type, m)),
    O = ">" + v;
  return i.props ? [E].concat(cn($J(i.props)), [O]) : [E + O];
}
function $J(r) {
  var i = [],
    u = Object.keys(r);
  return (
    u.slice(0, 3).forEach(function (v) {
      i.push.apply(i, cn(Bx(v, r[v])));
    }),
    u.length > 3 && i.push(" ..."),
    i
  );
}
function Bx(r, i, u) {
  return Bi(i)
    ? ((i = JSON.stringify(i)), u ? i : ["".concat(r, "=").concat(i)])
    : typeof i == "number" || typeof i == "boolean" || i == null
    ? u
      ? i
      : ["".concat(r, "=").concat(i)]
    : Cn(i)
    ? ((i = Bx(r, Vt(i.value), !0)), u ? i : ["".concat(r, "=Ref<"), i, ">"])
    : Mn(i)
    ? ["".concat(r, "=fn").concat(i.name ? "<".concat(i.name, ">") : "")]
    : ((i = Vt(i)), u ? i : ["".concat(r, "="), i]);
}
var Hx =
  ((gh = {}),
  tt(
    tt(
      tt(
        tt(
          tt(
            tt(
              tt(
                tt(
                  tt(
                    tt(gh, "sp", "serverPrefetch hook"),
                    "bc",
                    "beforeCreate hook"
                  ),
                  "c",
                  "created hook"
                ),
                "bm",
                "beforeMount hook"
              ),
              "m",
              "mounted hook"
            ),
            "bu",
            "beforeUpdate hook"
          ),
          "u",
          "updated"
        ),
        "bum",
        "beforeUnmount hook"
      ),
      "um",
      "unmounted hook"
    ),
    "a",
    "activated hook"
  ),
  tt(
    tt(
      tt(
        tt(
          tt(
            tt(
              tt(
                tt(
                  tt(
                    tt(gh, "da", "deactivated hook"),
                    "ec",
                    "errorCaptured hook"
                  ),
                  "rtc",
                  "renderTracked hook"
                ),
                "rtg",
                "renderTriggered hook"
              ),
              0,
              "setup function"
            ),
            1,
            "render function"
          ),
          2,
          "watcher getter"
        ),
        3,
        "watcher callback"
      ),
      4,
      "watcher cleanup function"
    ),
    5,
    "native event handler"
  ),
  tt(
    tt(
      tt(
        tt(
          tt(
            tt(
              tt(
                tt(
                  tt(tt(gh, 6, "component event handler"), 7, "vnode hook"),
                  8,
                  "directive hook"
                ),
                9,
                "transition hook"
              ),
              10,
              "app errorHandler"
            ),
            11,
            "app warnHandler"
          ),
          12,
          "ref function"
        ),
        13,
        "async component loader"
      ),
      14,
      "scheduler flush"
    ),
    15,
    "component update"
  ),
  tt(gh, 16, "app unmount cleanup function"));
function Vm(r, i, u, v) {
  try {
    return v ? r.apply(void 0, cn(v)) : r();
  } catch (m) {
    VS(m, i, u);
  }
}
function zx(r, i, u, v) {
  if (Mn(r)) {
    var m = Vm(r, i, u, v);
    return (
      m &&
        tJ(m) &&
        m.catch(function (C) {
          VS(C, i, u);
        }),
      m
    );
  }
  if (_n(r)) {
    for (var E = [], O = 0; O < r.length; O++) E.push(zx(r[O], i, u, v));
    return E;
  } else
    process.env.NODE_ENV !== "production" &&
      Rn(
        "Invalid value type passed to callWithAsyncErrorHandling(): ".concat(
          ut(r)
        )
      );
}
function VS(r, i, u) {
  var v = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !0,
    m = i ? i.vnode : null,
    E = (i && i.appContext.config) || hi,
    O = E.errorHandler,
    C = E.throwUnhandledErrorInProduction;
  if (i) {
    for (
      var G = i.parent,
        re = i.proxy,
        ce =
          process.env.NODE_ENV !== "production"
            ? Hx[u]
            : "https://vuejs.org/error-reference/#runtime-".concat(u);
      G;

    ) {
      var de = G.ec;
      if (de) {
        for (var me = 0; me < de.length; me++)
          if (de[me](r, re, ce) === !1) return;
      }
      G = G.parent;
    }
    if (O) {
      Mm(), Vm(O, null, 10, [r, re, ce]), Um();
      return;
    }
  }
  YJ(r, u, m, v, C);
}
function YJ(r, i, u) {
  var v = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !0,
    m = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : !1;
  if (process.env.NODE_ENV !== "production") {
    var E = Hx[i];
    if (
      (u && WJ(u),
      Rn("Unhandled error".concat(E ? " during execution of ".concat(E) : "")),
      u && GJ(),
      v)
    )
      throw r;
    console.error(r);
  } else {
    if (m) throw r;
    console.error(r);
  }
}
var fi = [],
  ro = -1,
  _u = [],
  Zo = null,
  al = 0,
  Wx = /* @__PURE__ */ Promise.resolve(),
  bm = null,
  ZJ = 100;
function uS(r) {
  var i = bm || Wx;
  return r ? i.then(this ? r.bind(this) : r) : i;
}
function QJ(r) {
  for (var i = ro + 1, u = fi.length; i < u; ) {
    var v = (i + u) >>> 1,
      m = fi[v],
      E = Ph(m);
    E < r || (E === r && m.flags & 2) ? (i = v + 1) : (u = v);
  }
  return i;
}
function FS(r) {
  if (!(r.flags & 1)) {
    var i = Ph(r),
      u = fi[fi.length - 1];
    !u || // fast path when the job id is larger than the tail
    (!(r.flags & 2) && i >= Ph(u))
      ? fi.push(r)
      : fi.splice(QJ(i), 0, r),
      (r.flags |= 1),
      Gx();
  }
}
function Gx() {
  bm || (bm = Wx.then(Kx));
}
function qx(r) {
  _n(r)
    ? _u.push.apply(_u, cn(r))
    : Zo && r.id === -1
    ? Zo.splice(al + 1, 0, r)
    : r.flags & 1 || (_u.push(r), (r.flags |= 1)),
    Gx();
}
function XJ(r) {
  if (_u.length) {
    var i = cn(new Set(_u)).sort(function (m, E) {
      return Ph(m) - Ph(E);
    });
    if (((_u.length = 0), Zo)) {
      var u;
      (u = Zo).push.apply(u, cn(i));
      return;
    }
    for (
      Zo = i,
        process.env.NODE_ENV !== "production" &&
          (r = r || /* @__PURE__ */ new Map()),
        al = 0;
      al < Zo.length;
      al++
    ) {
      var v = Zo[al];
      (process.env.NODE_ENV !== "production" && Jx(r, v)) ||
        (v.flags & 4 && (v.flags &= -2), v.flags & 8 || v(), (v.flags &= -2));
    }
    (Zo = null), (al = 0);
  }
}
var Ph = function (i) {
  return i.id == null ? (i.flags & 2 ? -1 : 1 / 0) : i.id;
};
function Kx(r) {
  process.env.NODE_ENV !== "production" && (r = r || /* @__PURE__ */ new Map());
  var i =
    process.env.NODE_ENV !== "production"
      ? function (m) {
          return Jx(r, m);
        }
      : cl;
  try {
    for (ro = 0; ro < fi.length; ro++) {
      var u = fi[ro];
      if (u && !(u.flags & 8)) {
        if (process.env.NODE_ENV !== "production" && i(u)) continue;
        u.flags & 4 && (u.flags &= -2),
          Vm(u, u.i, u.i ? 15 : 14),
          u.flags & 4 || (u.flags &= -2);
      }
    }
  } finally {
    for (; ro < fi.length; ro++) {
      var v = fi[ro];
      v && (v.flags &= -2);
    }
    (ro = -1),
      (fi.length = 0),
      XJ(r),
      (bm = null),
      (fi.length || _u.length) && Kx(r);
  }
}
function Jx(r, i) {
  var u = r.get(i) || 0;
  if (u > ZJ) {
    var v = i.i,
      m = v && sP(v.type);
    return (
      VS(
        "Maximum recursive updates exceeded".concat(
          m ? " in component <".concat(m, ">") : "",
          ". This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function."
        ),
        null,
        10
      ),
      !0
    );
  }
  return r.set(i, u + 1), !1;
}
var Fb = /* @__PURE__ */ new Map();
process.env.NODE_ENV !== "production" &&
  (Lm().__VUE_HMR_RUNTIME__ = {
    createRecord: jb(e$),
    rerender: jb(t$),
    reload: jb(n$),
  });
var Sm = /* @__PURE__ */ new Map();
function e$(r, i) {
  return Sm.has(r)
    ? !1
    : (Sm.set(r, {
        initialDef: wm(i),
        instances: /* @__PURE__ */ new Set(),
      }),
      !0);
}
function wm(r) {
  return cP(r) ? r.__vccOpts : r;
}
function t$(r, i) {
  var u = Sm.get(r);
  u &&
    ((u.initialDef.render = i),
    cn(u.instances).forEach(function (v) {
      i && ((v.render = i), (wm(v.type).render = i)),
        (v.renderCache = []),
        v.update();
    }));
}
function n$(r, i) {
  var u = Sm.get(r);
  if (u) {
    (i = wm(i)), _4(u.initialDef, i);
    for (
      var v = cn(u.instances),
        m = function () {
          var C = v[E],
            G = wm(C.type),
            re = Fb.get(G);
          re ||
            (G !== u.initialDef && _4(G, i),
            Fb.set(G, (re = /* @__PURE__ */ new Set()))),
            re.add(C),
            C.appContext.propsCache.delete(C.type),
            C.appContext.emitsCache.delete(C.type),
            C.appContext.optionsCache.delete(C.type),
            C.ceReload
              ? (re.add(C), C.ceReload(i.styles), re.delete(C))
              : C.parent
              ? FS(function () {
                  C.parent.update(), re.delete(C);
                })
              : C.appContext.reload
              ? C.appContext.reload()
              : typeof window != "undefined"
              ? window.location.reload()
              : console.warn(
                  "[HMR] Root or manually mounted instance modified. Full reload required."
                ),
            C.root.ce && C !== C.root && C.root.ce._removeChildStyle(G);
        },
        E = 0;
      E < v.length;
      E++
    )
      m();
    qx(function () {
      Fb.clear();
    });
  }
}
function _4(r, i) {
  Jr(r, i);
  for (var u in r) u !== "__file" && !(u in i) && delete r[u];
}
function jb(r) {
  return function (i, u) {
    try {
      return r(i, u);
    } catch (v) {
      console.error(v),
        console.warn(
          "[HMR] Something went wrong during Vue component hot-reload. Full reload required."
        );
    }
  };
}
var ol,
  Yv = [];
function $x(r, i) {
  var u, v;
  if (((ol = r), ol))
    (ol.enabled = !0),
      Yv.forEach(function (E) {
        var O,
          C = E.event,
          G = E.args;
        return (O = ol).emit.apply(O, [C].concat(cn(G)));
      }),
      (Yv = []);
  else if (
    // handle late devtools injection - only do this if we are in an actual
    // browser environment to avoid the timer handle stalling test runner exit
    // (#4815)
    typeof window != "undefined" && // some envs mock window but not fully
    window.HTMLElement && // also exclude jsdom
    // eslint-disable-next-line no-restricted-syntax
    !(
      (v = (u = window.navigator) == null ? void 0 : u.userAgent) != null &&
      v.includes("jsdom")
    )
  ) {
    var m = (i.__VUE_DEVTOOLS_HOOK_REPLAY__ =
      i.__VUE_DEVTOOLS_HOOK_REPLAY__ || []);
    m.push(function (E) {
      $x(E, i);
    }),
      setTimeout(function () {
        ol || ((i.__VUE_DEVTOOLS_HOOK_REPLAY__ = null), (Yv = []));
      }, 3e3);
  } else Yv = [];
}
var Vi = null,
  r$ = null,
  i$ = function (i) {
    return i.__isTeleport;
  };
function Yx(r, i) {
  r.shapeFlag & 6 && r.component
    ? ((r.transition = i), Yx(r.component.subTree, i))
    : r.shapeFlag & 128
    ? ((r.ssContent.transition = i.clone(r.ssContent)),
      (r.ssFallback.transition = i.clone(r.ssFallback)))
    : (r.transition = i);
}
tt(
  tt(tt(tt(tt({}, 0, "text"), 1, "children"), 2, "class"), 3, "style"),
  4,
  "attribute"
);
Lm().requestIdleCallback;
Lm().cancelIdleCallback;
var a$ = Symbol.for("v-ndc"),
  cS = function (i) {
    return i ? (P$(i) ? O$(i) : cS(i.parent)) : null;
  },
  Eh =
    // Move PURE marker to new line to workaround compiler discarding it
    // due to type annotation
    /* @__PURE__ */ Jr(/* @__PURE__ */ Object.create(null), {
      $: function (i) {
        return i;
      },
      $el: function (i) {
        return i.vnode.el;
      },
      $data: function (i) {
        return i.data;
      },
      $props: function (i) {
        return process.env.NODE_ENV !== "production" ? Jv(i.props) : i.props;
      },
      $attrs: function (i) {
        return process.env.NODE_ENV !== "production" ? Jv(i.attrs) : i.attrs;
      },
      $slots: function (i) {
        return process.env.NODE_ENV !== "production" ? Jv(i.slots) : i.slots;
      },
      $refs: function (i) {
        return process.env.NODE_ENV !== "production" ? Jv(i.refs) : i.refs;
      },
      $parent: function (i) {
        return cS(i.parent);
      },
      $root: function (i) {
        return cS(i.root);
      },
      $host: function (i) {
        return i.ce;
      },
      $emit: function (i) {
        return i.emit;
      },
      $options: function (i) {
        return u$(i);
      },
      $forceUpdate: function (i) {
        return (
          i.f ||
          (i.f = function () {
            FS(i.update);
          })
        );
      },
      $nextTick: function (i) {
        return i.n || (i.n = uS.bind(i.proxy));
      },
      $watch: function (i) {
        return g$.bind(i);
      },
    }),
  o$ = function (i) {
    return i === "_" || i === "$";
  },
  Bb = function (i, u) {
    return i !== hi && !i.__isScriptSetup && Ln(i, u);
  },
  s$ = {
    get: function (i, u) {
      var v = i._;
      if (u === "__v_skip") return !0;
      var m = v.ctx,
        E = v.setupState,
        O = v.data,
        C = v.props,
        G = v.accessCache,
        re = v.type,
        ce = v.appContext;
      if (process.env.NODE_ENV !== "production" && u === "__isVue") return !0;
      var de;
      if (u[0] !== "$") {
        var me = G[u];
        if (me !== void 0)
          switch (me) {
            case 1:
              return E[u];
            case 2:
              return O[u];
            case 4:
              return m[u];
            case 3:
              return C[u];
          }
        else {
          if (Bb(E, u)) return (G[u] = 1), E[u];
          if (O !== hi && Ln(O, u)) return (G[u] = 2), O[u];
          if (
            // only cache other properties when instance has declared (thus stable)
            // props
            (de = v.propsOptions[0]) &&
            Ln(de, u)
          )
            return (G[u] = 3), C[u];
          if (m !== hi && Ln(m, u)) return (G[u] = 4), m[u];
          G[u] = 0;
        }
      }
      var Ee = Eh[u],
        Ae,
        Be;
      if (Ee)
        return (
          u === "$attrs"
            ? ($n(v.attrs, "get", ""),
              process.env.NODE_ENV !== "production" && void 0)
            : process.env.NODE_ENV !== "production" &&
              u === "$slots" &&
              $n(v, "get", u),
          Ee(v)
        );
      if (
        // css module (injected by vue-loader)
        (Ae = re.__cssModules) &&
        (Ae = Ae[u])
      )
        return Ae;
      if (m !== hi && Ln(m, u)) return (G[u] = 4), m[u];
      if (
        // global properties
        ((Be = ce.config.globalProperties), Ln(Be, u))
      )
        return Be[u];
      process.env.NODE_ENV !== "production" &&
        Vi &&
        (!Bi(u) || // #1091 avoid internal isRef/isVNode checks on component instance leading
          // to infinite warning loop
          u.indexOf("__v") !== 0) &&
        (O !== hi && o$(u[0]) && Ln(O, u)
          ? Rn(
              "Property ".concat(
                JSON.stringify(u),
                ' must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.'
              )
            )
          : v === Vi &&
            Rn(
              "Property ".concat(
                JSON.stringify(u),
                " was accessed during render but is not defined on instance."
              )
            ));
    },
    set: function (i, u, v) {
      var m = i._,
        E = m.data,
        O = m.setupState,
        C = m.ctx;
      return Bb(O, u)
        ? ((O[u] = v), !0)
        : process.env.NODE_ENV !== "production" && O.__isScriptSetup && Ln(O, u)
        ? (Rn(
            'Cannot mutate <script setup> binding "'.concat(
              u,
              '" from Options API.'
            )
          ),
          !1)
        : E !== hi && Ln(E, u)
        ? ((E[u] = v), !0)
        : Ln(m.props, u)
        ? (process.env.NODE_ENV !== "production" &&
            Rn(
              'Attempting to mutate prop "'.concat(u, '". Props are readonly.')
            ),
          !1)
        : u[0] === "$" && u.slice(1) in m
        ? (process.env.NODE_ENV !== "production" &&
            Rn(
              'Attempting to mutate public property "'.concat(
                u,
                '". Properties starting with $ are reserved and readonly.'
              )
            ),
          !1)
        : (process.env.NODE_ENV !== "production" &&
          u in m.appContext.config.globalProperties
            ? Object.defineProperty(C, u, {
                enumerable: !0,
                configurable: !0,
                value: v,
              })
            : (C[u] = v),
          !0);
    },
    has: function (i, u) {
      var v = i._,
        m = v.data,
        E = v.setupState,
        O = v.accessCache,
        C = v.ctx,
        G = v.appContext,
        re = v.propsOptions,
        ce;
      return (
        !!O[u] ||
        (m !== hi && Ln(m, u)) ||
        Bb(E, u) ||
        ((ce = re[0]) && Ln(ce, u)) ||
        Ln(C, u) ||
        Ln(Eh, u) ||
        Ln(G.config.globalProperties, u)
      );
    },
    defineProperty: function (i, u, v) {
      return (
        v.get != null
          ? (i._.accessCache[u] = 0)
          : Ln(v, "value") && this.set(i, u, v.value, null),
        Reflect.defineProperty(i, u, v)
      );
    },
  };
process.env.NODE_ENV !== "production" &&
  (s$.ownKeys = function (r) {
    return (
      Rn(
        "Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."
      ),
      Reflect.ownKeys(r)
    );
  });
function y4(r) {
  return _n(r)
    ? r.reduce(function (i, u) {
        return (i[u] = null), i;
      }, {})
    : r;
}
function u$(r) {
  var i = r.type,
    u = i.mixins,
    v = i.extends,
    m = r.appContext,
    E = m.mixins,
    O = m.optionsCache,
    C = m.config.optionMergeStrategies,
    G = O.get(i),
    re;
  return (
    G
      ? (re = G)
      : !E.length && !u && !v
      ? (re = i)
      : ((re = {}),
        E.length &&
          E.forEach(function (ce) {
            return km(re, ce, C, !0);
          }),
        km(re, i, C)),
    Tr(i) && O.set(i, re),
    re
  );
}
function km(r, i, u) {
  var v = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !1,
    m = i.mixins,
    E = i.extends;
  E && km(r, E, u, !0),
    m &&
      m.forEach(function (G) {
        return km(r, G, u, !0);
      });
  for (var O in i)
    if (v && O === "expose")
      process.env.NODE_ENV !== "production" &&
        Rn(
          '"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.'
        );
    else {
      var C = c$[O] || (u && u[O]);
      r[O] = C ? C(r[O], i[O]) : i[O];
    }
  return r;
}
var c$ = {
  data: b4,
  props: w4,
  emits: w4,
  // objects
  methods: Sh,
  computed: Sh,
  // lifecycle
  beforeCreate: Sr,
  created: Sr,
  beforeMount: Sr,
  mounted: Sr,
  beforeUpdate: Sr,
  updated: Sr,
  beforeDestroy: Sr,
  beforeUnmount: Sr,
  destroyed: Sr,
  unmounted: Sr,
  activated: Sr,
  deactivated: Sr,
  errorCaptured: Sr,
  serverPrefetch: Sr,
  // assets
  components: Sh,
  directives: Sh,
  // watch
  watch: d$,
  // provide / inject
  provide: b4,
  inject: l$,
};
function b4(r, i) {
  return i
    ? r
      ? function () {
          return Jr(
            Mn(r) ? r.call(this, this) : r,
            Mn(i) ? i.call(this, this) : i
          );
        }
      : i
    : r;
}
function l$(r, i) {
  return Sh(S4(r), S4(i));
}
function S4(r) {
  if (_n(r)) {
    for (var i = {}, u = 0; u < r.length; u++) i[r[u]] = r[u];
    return i;
  }
  return r;
}
function Sr(r, i) {
  return r ? cn(new Set([].concat(r, i))) : i;
}
function Sh(r, i) {
  return r ? Jr(/* @__PURE__ */ Object.create(null), r, i) : i;
}
function w4(r, i) {
  return r
    ? _n(r) && _n(i)
      ? cn(/* @__PURE__ */ new Set([].concat(cn(r), cn(i))))
      : Jr(/* @__PURE__ */ Object.create(null), y4(r), y4(i != null ? i : {}))
    : i;
}
function d$(r, i) {
  if (!r) return i;
  if (!i) return r;
  var u = Jr(/* @__PURE__ */ Object.create(null), r);
  for (var v in i) u[v] = Sr(r[v], i[v]);
  return u;
}
var Zx = null;
function Qx(r, i) {
  var u = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1,
    v = vl || Vi;
  if (v || Zx) {
    var m = v
      ? v.parent == null
        ? v.vnode.appContext && v.vnode.appContext.provides
        : v.parent.provides
      : void 0;
    if (m && r in m) return m[r];
    if (arguments.length > 1) return u && Mn(i) ? i.call(v && v.proxy) : i;
    process.env.NODE_ENV !== "production" &&
      Rn('injection "'.concat(String(r), '" not found.'));
  } else
    process.env.NODE_ENV !== "production" &&
      Rn("inject() can only be used inside setup() or functional components.");
}
function h$() {
  return !!(vl || Vi || Zx);
}
var f$ = {},
  Xx = function (i) {
    return Object.getPrototypeOf(i) === f$;
  },
  p$ = b$,
  v$ = Symbol.for("v-scx"),
  m$ = function () {
    {
      var i = Qx(v$);
      return (
        i ||
          (process.env.NODE_ENV !== "production" &&
            Rn(
              "Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."
            )),
        i
      );
    }
  };
function eP(r, i, u) {
  return (
    process.env.NODE_ENV !== "production" &&
      !Mn(i) &&
      Rn(
        "`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."
      ),
    tP(r, i, u)
  );
}
function tP(r, i) {
  var u = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : hi,
    v = u.immediate,
    m = u.deep,
    E = u.flush,
    O = u.once;
  process.env.NODE_ENV !== "production" &&
    !i &&
    (v !== void 0 &&
      Rn(
        'watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'
      ),
    m !== void 0 &&
      Rn(
        'watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'
      ),
    O !== void 0 &&
      Rn(
        'watch() "once" option is only respected when using the watch(source, callback, options?) signature.'
      ));
  var C = Jr({}, u);
  process.env.NODE_ENV !== "production" && (C.onWarn = Rn);
  var G = (i && v) || (!i && E !== "post"),
    re;
  if (Em) {
    if (E === "sync") {
      var ce = m$();
      re = ce.__watcherHandles || (ce.__watcherHandles = []);
    } else if (!G) {
      var de = function () {};
      return (de.stop = cl), (de.resume = cl), (de.pause = cl), de;
    }
  }
  var me = vl;
  C.call = function (Be, le, bt) {
    return zx(Be, me, le, bt);
  };
  var Ee = !1;
  E === "post"
    ? (C.scheduler = function (Be) {
        p$(Be, me && me.suspense);
      })
    : E !== "sync" &&
      ((Ee = !0),
      (C.scheduler = function (Be, le) {
        le ? Be() : FS(Be);
      })),
    (C.augmentJob = function (Be) {
      i && (Be.flags |= 4),
        Ee && ((Be.flags |= 2), me && ((Be.id = me.uid), (Be.i = me)));
    });
  var Ae = zJ(r, i, C);
  return Em && (re ? re.push(Ae) : G && Ae()), Ae;
}
function g$(r, i, u) {
  var v = this.proxy,
    m = Bi(r)
      ? r.includes(".")
        ? _$(v, r)
        : function () {
            return v[r];
          }
      : r.bind(v, v),
    E;
  Mn(i) ? (E = i) : ((E = i.handler), (u = i));
  var O = x$(this),
    C = tP(m, E.bind(v), u);
  return O(), C;
}
function _$(r, i) {
  var u = i.split(".");
  return function () {
    for (var v = r, m = 0; m < u.length && v; m++) v = v[u[m]];
    return v;
  };
}
var y$ = function (i) {
  return i.__isSuspense;
};
function b$(r, i) {
  if (i && i.pendingBranch)
    if (_n(r)) {
      var u;
      (u = i.effects).push.apply(u, cn(r));
    } else i.effects.push(r);
  else qx(r);
}
var nP = Symbol.for("v-fgt"),
  S$ = Symbol.for("v-txt"),
  w$ = Symbol.for("v-cmt"),
  sl = null;
function k$(r) {
  return r ? r.__v_isVNode === !0 : !1;
}
var T$ = function () {
    for (var i = arguments.length, u = new Array(i), v = 0; v < i; v++)
      u[v] = arguments[v];
    return iP.apply(void 0, cn(u));
  },
  rP = function (i) {
    var u = i.key;
    return u != null ? u : null;
  },
  um = function (i) {
    var u = i.ref,
      v = i.ref_key,
      m = i.ref_for;
    return (
      typeof u == "number" && (u = "" + u),
      u != null
        ? Bi(u) || Cn(u) || Mn(u)
          ? {
              i: Vi,
              r: u,
              k: v,
              f: !!m,
            }
          : u
        : null
    );
  };
function E$(r) {
  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null,
    u = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null,
    v = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0,
    m = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : null,
    E =
      arguments.length > 5 && arguments[5] !== void 0
        ? arguments[5]
        : r === nP
        ? 0
        : 1,
    O = arguments.length > 6 && arguments[6] !== void 0 ? arguments[6] : !1,
    C = arguments.length > 7 && arguments[7] !== void 0 ? arguments[7] : !1,
    G = {
      __v_isVNode: !0,
      __v_skip: !0,
      type: r,
      props: i,
      key: i && rP(i),
      ref: i && um(i),
      scopeId: r$,
      slotScopeIds: null,
      children: u,
      component: null,
      suspense: null,
      ssContent: null,
      ssFallback: null,
      dirs: null,
      transition: null,
      el: null,
      anchor: null,
      target: null,
      targetStart: null,
      targetAnchor: null,
      staticCount: 0,
      shapeFlag: E,
      patchFlag: v,
      dynamicProps: m,
      dynamicChildren: null,
      appContext: null,
      ctx: Vi,
    };
  return (
    C
      ? (jS(G, u), E & 128 && r.normalize(G))
      : u && (G.shapeFlag |= Bi(u) ? 8 : 16),
    process.env.NODE_ENV !== "production" &&
      G.key !== G.key &&
      Rn("VNode created with invalid key (NaN). VNode type:", G.type), // avoid a block node from tracking itself
    !O && // has current parent block
      sl && // presence of a patch flag indicates this node needs patching on updates.
      // component nodes also should always be patched, because even if the
      // component doesn't need to update, it needs to persist the instance on to
      // the next vnode so that it can be properly unmounted later.
      (G.patchFlag > 0 || E & 6) && // the EVENTS flag is only for hydration and if it is the only flag, the
      // vnode should not be considered dynamic due to handler caching.
      G.patchFlag !== 32 &&
      sl.push(G),
    G
  );
}
var I$ = process.env.NODE_ENV !== "production" ? T$ : iP;
function iP(r) {
  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null,
    u = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null,
    v = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0,
    m = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : null,
    E = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : !1;
  if (
    ((!r || r === a$) &&
      (process.env.NODE_ENV !== "production" &&
        !r &&
        Rn("Invalid vnode type when creating vnode: ".concat(r, ".")),
      (r = w$)),
    k$(r))
  ) {
    var O = Tm(
      r,
      i,
      !0
      /* mergeRef: true */
    );
    return (
      u && jS(O, u),
      !E && sl && (O.shapeFlag & 6 ? (sl[sl.indexOf(r)] = O) : sl.push(O)),
      (O.patchFlag = -2),
      O
    );
  }
  if ((cP(r) && (r = r.__vccOpts), i)) {
    i = R$(i);
    var C = i,
      G = C.class,
      re = C.style;
    G && !Bi(G) && (i.class = AS(G)),
      Tr(re) && (xh(re) && !_n(re) && (re = Jr({}, re)), (i.style = CS(re)));
  }
  var ce = Bi(r) ? 1 : y$(r) ? 128 : i$(r) ? 64 : Tr(r) ? 4 : Mn(r) ? 2 : 0;
  return (
    process.env.NODE_ENV !== "production" &&
      ce & 4 &&
      xh(r) &&
      ((r = Vt(r)),
      Rn(
        "Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",
        `
Component that was made reactive: `,
        r
      )),
    E$(r, i, u, v, m, ce, E, !0)
  );
}
function R$(r) {
  return r ? (xh(r) || Xx(r) ? Jr({}, r) : r) : null;
}
function Tm(r, i) {
  var u = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1,
    v = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !1,
    m = r.props,
    E = r.ref,
    O = r.patchFlag,
    C = r.children,
    G = r.transition,
    re = i ? A$(m || {}, i) : m,
    ce = {
      __v_isVNode: !0,
      __v_skip: !0,
      type: r.type,
      props: re,
      key: re && rP(re),
      ref:
        i && i.ref
          ? // #2078 in the case of <component :is="vnode" ref="extra"/>
            // if the vnode itself already has a ref, cloneVNode will need to merge
            // the refs so the single vnode can be set on multiple refs
            u && E
            ? _n(E)
              ? E.concat(um(i))
              : [E, um(i)]
            : um(i)
          : E,
      scopeId: r.scopeId,
      slotScopeIds: r.slotScopeIds,
      children:
        process.env.NODE_ENV !== "production" && O === -1 && _n(C)
          ? C.map(aP)
          : C,
      target: r.target,
      targetStart: r.targetStart,
      targetAnchor: r.targetAnchor,
      staticCount: r.staticCount,
      shapeFlag: r.shapeFlag,
      // if the vnode is cloned with extra props, we can no longer assume its
      // existing patch flag to be reliable and need to add the FULL_PROPS flag.
      // note: preserve flag for fragments since they use the flag for children
      // fast paths only.
      patchFlag: i && r.type !== nP ? (O === -1 ? 16 : O | 16) : O,
      dynamicProps: r.dynamicProps,
      dynamicChildren: r.dynamicChildren,
      appContext: r.appContext,
      dirs: r.dirs,
      transition: G,
      // These should technically only be non-null on mounted VNodes. However,
      // they *should* be copied for kept-alive vnodes. So we just always copy
      // them since them being non-null during a mount doesn't affect the logic as
      // they will simply be overwritten.
      component: r.component,
      suspense: r.suspense,
      ssContent: r.ssContent && Tm(r.ssContent),
      ssFallback: r.ssFallback && Tm(r.ssFallback),
      el: r.el,
      anchor: r.anchor,
      ctx: r.ctx,
      ce: r.ce,
    };
  return G && v && Yx(ce, G.clone(ce)), ce;
}
function aP(r) {
  var i = Tm(r);
  return _n(r.children) && (i.children = r.children.map(aP)), i;
}
function C$() {
  var r = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : " ",
    i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
  return I$(S$, null, r, i);
}
function jS(r, i) {
  var u = 0,
    v = r.shapeFlag;
  if (i == null) i = null;
  else if (_n(i)) u = 16;
  else if (ut(i) === "object")
    if (v & 65) {
      var m = i.default;
      m && (m._c && (m._d = !1), jS(r, m()), m._c && (m._d = !0));
      return;
    } else {
      u = 32;
      var E = i._;
      !E && !Xx(i)
        ? (i._ctx = Vi)
        : E === 3 &&
          Vi &&
          (Vi.slots._ === 1 ? (i._ = 1) : ((i._ = 2), (r.patchFlag |= 1024)));
    }
  else
    Mn(i)
      ? ((i = {
          default: i,
          _ctx: Vi,
        }),
        (u = 32))
      : ((i = String(i)), v & 64 ? ((u = 16), (i = [C$(i)])) : (u = 8));
  (r.children = i), (r.shapeFlag |= u);
}
function A$() {
  for (var r = {}, i = 0; i < arguments.length; i++) {
    var u = i < 0 || arguments.length <= i ? void 0 : arguments[i];
    for (var v in u)
      if (v === "class")
        r.class !== u.class && (r.class = AS([r.class, u.class]));
      else if (v === "style") r.style = CS([r.style, u.style]);
      else if (ZK(v)) {
        var m = r[v],
          E = u[v];
        E &&
          m !== E &&
          !(_n(m) && m.includes(E)) &&
          (r[v] = m ? [].concat(m, E) : E);
      } else v !== "" && (r[v] = u[v]);
  }
  return r;
}
var vl = null,
  oP = function () {
    return vl || Vi;
  },
  lS;
{
  var k4 = Lm(),
    T4 = function (i, u) {
      var v;
      return (
        (v = k4[i]) || (v = k4[i] = []),
        v.push(u),
        function (m) {
          v.length > 1
            ? v.forEach(function (E) {
                return E(m);
              })
            : v[0](m);
        }
      );
    };
  (lS = T4("__VUE_INSTANCE_SETTERS__", function (r) {
    return (vl = r);
  })),
    T4("__VUE_SSR_SETTERS__", function (r) {
      return (Em = r);
    });
}
var x$ = function (i) {
  var u = vl;
  return (
    lS(i),
    i.scope.on(),
    function () {
      i.scope.off(), lS(u);
    }
  );
};
function P$(r) {
  return r.vnode.shapeFlag & 4;
}
var Em = !1;
process.env.NODE_ENV;
function O$(r) {
  return r.exposed
    ? r.exposeProxy ||
        (r.exposeProxy = new Proxy(UJ(es(r.exposed)), {
          get: function (u, v) {
            if (v in u) return u[v];
            if (v in Eh) return Eh[v](r);
          },
          has: function (u, v) {
            return v in u || v in Eh;
          },
        }))
    : r.proxy;
}
var D$ = /(?:^|[-_])(\w)/g,
  N$ = function (i) {
    return i
      .replace(D$, function (u) {
        return u.toUpperCase();
      })
      .replace(/[-_]/g, "");
  };
function sP(r) {
  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0;
  return Mn(r) ? r.displayName || r.name : r.name || (i && r.__name);
}
function uP(r, i) {
  var u = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1,
    v = sP(i);
  if (!v && i.__file) {
    var m = i.__file.match(/([^/\\]+)\.\w+$/);
    m && (v = m[1]);
  }
  if (!v && r && r.parent) {
    var E = function (C) {
      for (var G in C) if (C[G] === i) return G;
    };
    v =
      E(r.components || r.parent.type.components) || E(r.appContext.components);
  }
  return v ? N$(v) : u ? "App" : "Anonymous";
}
function cP(r) {
  return Mn(r) && "__vccOpts" in r;
}
var lP = function (i, u) {
  var v = BJ(i, u, Em);
  if (process.env.NODE_ENV !== "production") {
    var m = oP();
    m && m.appContext.config.warnRecursiveComputed && (v._warnRecursive = !0);
  }
  return v;
};
function L$() {
  if (process.env.NODE_ENV === "production" || typeof window == "undefined")
    return;
  var r = {
      style: "color:#3ba776",
    },
    i = {
      style: "color:#1677ff",
    },
    u = {
      style: "color:#f5222d",
    },
    v = {
      style: "color:#eb2f96",
    },
    m = {
      __vue_custom_formatter: !0,
      header: function (me) {
        return Tr(me)
          ? me.__isVue
            ? ["div", r, "VueInstance"]
            : Cn(me)
            ? [
                "div",
                {},
                ["span", r, ce(me)],
                "<",
                // avoid debugger accessing value affecting behavior
                C("_value" in me ? me._value : me),
                ">",
              ]
            : io(me)
            ? [
                "div",
                {},
                ["span", r, Nr(me) ? "ShallowReactive" : "Reactive"],
                "<",
                C(me),
                ">".concat(ao(me) ? " (readonly)" : ""),
              ]
            : ao(me)
            ? [
                "div",
                {},
                ["span", r, Nr(me) ? "ShallowReadonly" : "Readonly"],
                "<",
                C(me),
                ">",
              ]
            : null
          : null;
      },
      hasBody: function (me) {
        return me && me.__isVue;
      },
      body: function (me) {
        if (me && me.__isVue) return ["div", {}].concat(cn(E(me.$)));
      },
    };
  function E(de) {
    var me = [];
    de.type.props && de.props && me.push(O("props", Vt(de.props))),
      de.setupState !== hi && me.push(O("setup", de.setupState)),
      de.data !== hi && me.push(O("data", Vt(de.data)));
    var Ee = G(de, "computed");
    Ee && me.push(O("computed", Ee));
    var Ae = G(de, "inject");
    return (
      Ae && me.push(O("injected", Ae)),
      me.push([
        "div",
        {},
        [
          "span",
          {
            style: v.style + ";opacity:0.66",
          },
          "$ (internal): ",
        ],
        [
          "object",
          {
            object: de,
          },
        ],
      ]),
      me
    );
  }
  function O(de, me) {
    return (
      (me = Jr({}, me)),
      Object.keys(me).length
        ? [
            "div",
            {
              style: "line-height:1.25em;margin-bottom:0.6em",
            },
            [
              "div",
              {
                style: "color:#476582",
              },
              de,
            ],
            [
              "div",
              {
                style: "padding-left:1.25em",
              },
            ].concat(
              cn(
                Object.keys(me).map(function (Ee) {
                  return ["div", {}, ["span", v, Ee + ": "], C(me[Ee], !1)];
                })
              )
            ),
          ]
        : ["span", {}]
    );
  }
  function C(de) {
    var me =
      arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0;
    return typeof de == "number"
      ? ["span", i, de]
      : typeof de == "string"
      ? ["span", u, JSON.stringify(de)]
      : typeof de == "boolean"
      ? ["span", v, de]
      : Tr(de)
      ? [
          "object",
          {
            object: me ? Vt(de) : de,
          },
        ]
      : ["span", u, String(de)];
  }
  function G(de, me) {
    var Ee = de.type;
    if (!Mn(Ee)) {
      var Ae = {};
      for (var Be in de.ctx) re(Ee, Be, me) && (Ae[Be] = de.ctx[Be]);
      return Ae;
    }
  }
  function re(de, me, Ee) {
    var Ae = de[Ee];
    if (
      (_n(Ae) && Ae.includes(me)) ||
      (Tr(Ae) && me in Ae) ||
      (de.extends && re(de.extends, me, Ee)) ||
      (de.mixins &&
        de.mixins.some(function (Be) {
          return re(Be, me, Ee);
        }))
    )
      return !0;
  }
  function ce(de) {
    return Nr(de) ? "ShallowRef" : de.effect ? "ComputedRef" : "Ref";
  }
  window.devtoolsFormatters
    ? window.devtoolsFormatters.push(m)
    : (window.devtoolsFormatters = [m]);
}
process.env.NODE_ENV;
process.env.NODE_ENV;
process.env.NODE_ENV;
/**
 * vue v3.5.13
 * (c) 2018-present Yuxi (Evan) You and Vue contributors
 * @license MIT
 **/
function M$() {
  L$();
}
process.env.NODE_ENV !== "production" && M$();
var dP = !1;
function Zv(r, i, u) {
  return Array.isArray(r)
    ? ((r.length = Math.max(r.length, i)), r.splice(i, 1, u), u)
    : ((r[i] = u), u);
}
function Hb(r, i) {
  if (Array.isArray(r)) {
    r.splice(i, 1);
    return;
  }
  delete r[i];
}
function U$() {
  return hP().__VUE_DEVTOOLS_GLOBAL_HOOK__;
}
function hP() {
  return typeof navigator != "undefined" && typeof window != "undefined"
    ? window
    : typeof globalThis != "undefined"
    ? globalThis
    : {};
}
var V$ = typeof Proxy == "function",
  F$ = "devtools-plugin:setup",
  j$ = "plugin:settings:set",
  nl,
  dS;
function B$() {
  var r;
  return (
    nl !== void 0 ||
      (typeof window != "undefined" && window.performance
        ? ((nl = !0), (dS = window.performance))
        : typeof globalThis != "undefined" &&
          !((r = globalThis.perf_hooks) === null || r === void 0) &&
          r.performance
        ? ((nl = !0), (dS = globalThis.perf_hooks.performance))
        : (nl = !1)),
    nl
  );
}
function H$() {
  return B$() ? dS.now() : Date.now();
}
function E4(r, i) {
  var u =
    (typeof Symbol != "undefined" && r[Symbol.iterator]) || r["@@iterator"];
  if (!u) {
    if (
      Array.isArray(r) ||
      (u = z$(r)) ||
      (i && r && typeof r.length == "number")
    ) {
      u && (r = u);
      var v = 0,
        m = function () {};
      return {
        s: m,
        n: function () {
          return v >= r.length ? { done: !0 } : { done: !1, value: r[v++] };
        },
        e: function (re) {
          throw re;
        },
        f: m,
      };
    }
    throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
  }
  var E,
    O = !0,
    C = !1;
  return {
    s: function () {
      u = u.call(r);
    },
    n: function () {
      var re = u.next();
      return (O = re.done), re;
    },
    e: function (re) {
      (C = !0), (E = re);
    },
    f: function () {
      try {
        O || u.return == null || u.return();
      } finally {
        if (C) throw E;
      }
    },
  };
}
function z$(r, i) {
  if (r) {
    if (typeof r == "string") return I4(r, i);
    var u = {}.toString.call(r).slice(8, -1);
    return (
      u === "Object" && r.constructor && (u = r.constructor.name),
      u === "Map" || u === "Set"
        ? Array.from(r)
        : u === "Arguments" ||
          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)
        ? I4(r, i)
        : void 0
    );
  }
}
function I4(r, i) {
  (i == null || i > r.length) && (i = r.length);
  for (var u = 0, v = Array(i); u < i; u++) v[u] = r[u];
  return v;
}
var W$ = /* @__PURE__ */ (function () {
  function r(i, u) {
    var v = this;
    tr(this, r),
      (this.target = null),
      (this.targetQueue = []),
      (this.onQueue = []),
      (this.plugin = i),
      (this.hook = u);
    var m = {};
    if (i.settings)
      for (var E in i.settings) {
        var O = i.settings[E];
        m[E] = O.defaultValue;
      }
    var C = "__vue-devtools-plugin-settings__".concat(i.id),
      G = Object.assign({}, m);
    try {
      var re = localStorage.getItem(C),
        ce = JSON.parse(re);
      Object.assign(G, ce);
    } catch (de) {}
    (this.fallbacks = {
      getSettings: function () {
        return G;
      },
      setSettings: function (me) {
        try {
          localStorage.setItem(C, JSON.stringify(me));
        } catch (Ee) {}
        G = me;
      },
      now: function () {
        return H$();
      },
    }),
      u &&
        u.on(j$, function (de, me) {
          de === v.plugin.id && v.fallbacks.setSettings(me);
        }),
      (this.proxiedOn = new Proxy(
        {},
        {
          get: function (me, Ee) {
            return v.target
              ? v.target.on[Ee]
              : function () {
                  for (
                    var Ae = arguments.length, Be = new Array(Ae), le = 0;
                    le < Ae;
                    le++
                  )
                    Be[le] = arguments[le];
                  v.onQueue.push({
                    method: Ee,
                    args: Be,
                  });
                };
          },
        }
      )),
      (this.proxiedTarget = new Proxy(
        {},
        {
          get: function (me, Ee) {
            return v.target
              ? v.target[Ee]
              : Ee === "on"
              ? v.proxiedOn
              : Object.keys(v.fallbacks).includes(Ee)
              ? function () {
                  for (
                    var Ae, Be = arguments.length, le = new Array(Be), bt = 0;
                    bt < Be;
                    bt++
                  )
                    le[bt] = arguments[bt];
                  return (
                    v.targetQueue.push({
                      method: Ee,
                      args: le,
                      resolve: function () {},
                    }),
                    (Ae = v.fallbacks)[Ee].apply(Ae, le)
                  );
                }
              : function () {
                  for (
                    var Ae = arguments.length, Be = new Array(Ae), le = 0;
                    le < Ae;
                    le++
                  )
                    Be[le] = arguments[le];
                  return new Promise(function (bt) {
                    v.targetQueue.push({
                      method: Ee,
                      args: Be,
                      resolve: bt,
                    });
                  });
                };
          },
        }
      ));
  }
  return nr(r, [
    {
      key: "setRealTarget",
      value: (function () {
        var i = Pt(
          /* @__PURE__ */ Ke.mark(function v(m) {
            var E, O, C, G, re, ce, de, me;
            return Ke.wrap(
              function (Ae) {
                for (;;)
                  switch ((Ae.prev = Ae.next)) {
                    case 0:
                      (this.target = m), (E = E4(this.onQueue));
                      try {
                        for (E.s(); !(O = E.n()).done; )
                          (G = O.value),
                            (C = this.target.on)[G.method].apply(C, cn(G.args));
                      } catch (Be) {
                        E.e(Be);
                      } finally {
                        E.f();
                      }
                      (re = E4(this.targetQueue)), (Ae.prev = 4), re.s();
                    case 6:
                      if ((ce = re.n()).done) {
                        Ae.next = 15;
                        break;
                      }
                      return (
                        (me = ce.value),
                        (Ae.t0 = me),
                        (Ae.next = 11),
                        (de = this.target)[me.method].apply(de, cn(me.args))
                      );
                    case 11:
                      (Ae.t1 = Ae.sent), Ae.t0.resolve.call(Ae.t0, Ae.t1);
                    case 13:
                      Ae.next = 6;
                      break;
                    case 15:
                      Ae.next = 20;
                      break;
                    case 17:
                      (Ae.prev = 17), (Ae.t2 = Ae.catch(4)), re.e(Ae.t2);
                    case 20:
                      return (Ae.prev = 20), re.f(), Ae.finish(20);
                    case 23:
                    case "end":
                      return Ae.stop();
                  }
              },
              v,
              this,
              [[4, 17, 20, 23]]
            );
          })
        );
        function u(v) {
          return i.apply(this, arguments);
        }
        return u;
      })(),
    },
  ]);
})();
function fP(r, i) {
  var u = r,
    v = hP(),
    m = U$(),
    E = V$ && u.enableEarlyProxy;
  if (m && (v.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__ || !E)) m.emit(F$, r, i);
  else {
    var O = E ? new W$(u, m) : null,
      C = (v.__VUE_DEVTOOLS_PLUGINS__ = v.__VUE_DEVTOOLS_PLUGINS__ || []);
    C.push({
      pluginDescriptor: u,
      setupFn: i,
      proxy: O,
    }),
      O && i(O.proxiedTarget);
  }
}
/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */
let wh;
const hl = (r) => (wh = r),
  pP =
    process.env.NODE_ENV !== "production"
      ? Symbol("pinia")
      : /* istanbul ignore next */
        Symbol();
function bu(r) {
  return (
    r &&
    typeof r == "object" &&
    Object.prototype.toString.call(r) === "[object Object]" &&
    typeof r.toJSON != "function"
  );
}
var ma;
(function (r) {
  (r.direct = "direct"),
    (r.patchObject = "patch object"),
    (r.patchFunction = "patch function");
})(ma || (ma = {}));
const Fm = typeof window != "undefined",
  Ih =
    (process.env.NODE_ENV !== "production" || !1) &&
    process.env.NODE_ENV !== "test" &&
    Fm,
  R4 = /* @__PURE__ */ (() =>
    typeof window == "object" && window.window === window
      ? window
      : typeof self == "object" && self.self === self
      ? self
      : typeof global == "object" && global.global === global
      ? global
      : typeof globalThis == "object"
      ? globalThis
      : { HTMLElement: null })();
function G$(r, { autoBom: i = !1 } = {}) {
  return i &&
    /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(
      r.type
    )
    ? new Blob([String.fromCharCode(65279), r], { type: r.type })
    : r;
}
function BS(r, i, u) {
  const v = new XMLHttpRequest();
  v.open("GET", r),
    (v.responseType = "blob"),
    (v.onload = function () {
      gP(v.response, i, u);
    }),
    (v.onerror = function () {
      console.error("could not download file");
    }),
    v.send();
}
function vP(r) {
  const i = new XMLHttpRequest();
  i.open("HEAD", r, !1);
  try {
    i.send();
  } catch (u) {}
  return i.status >= 200 && i.status <= 299;
}
function cm(r) {
  try {
    r.dispatchEvent(new MouseEvent("click"));
  } catch (i) {
    const u = document.createEvent("MouseEvents");
    u.initMouseEvent(
      "click",
      !0,
      !0,
      window,
      0,
      0,
      0,
      80,
      20,
      !1,
      !1,
      !1,
      !1,
      0,
      null
    ),
      r.dispatchEvent(u);
  }
}
const lm = typeof navigator == "object" ? navigator : { userAgent: "" },
  mP = /* @__PURE__ */ (() =>
    /Macintosh/.test(lm.userAgent) &&
    /AppleWebKit/.test(lm.userAgent) &&
    !/Safari/.test(lm.userAgent))(),
  gP = Fm
    ? // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView or mini program
      typeof HTMLAnchorElement != "undefined" &&
      "download" in HTMLAnchorElement.prototype &&
      !mP
      ? q$
      : // Use msSaveOrOpenBlob as a second approach
      "msSaveOrOpenBlob" in lm
      ? K$
      : // Fallback to using FileReader and a popup
        J$
    : () => {};
function q$(r, i = "download", u) {
  const v = document.createElement("a");
  (v.download = i),
    (v.rel = "noopener"),
    typeof r == "string"
      ? ((v.href = r),
        v.origin !== location.origin
          ? vP(v.href)
            ? BS(r, i, u)
            : ((v.target = "_blank"), cm(v))
          : cm(v))
      : ((v.href = URL.createObjectURL(r)),
        setTimeout(function () {
          URL.revokeObjectURL(v.href);
        }, 4e4),
        setTimeout(function () {
          cm(v);
        }, 0));
}
function K$(r, i = "download", u) {
  if (typeof r == "string")
    if (vP(r)) BS(r, i, u);
    else {
      const v = document.createElement("a");
      (v.href = r),
        (v.target = "_blank"),
        setTimeout(function () {
          cm(v);
        });
    }
  else navigator.msSaveOrOpenBlob(G$(r, u), i);
}
function J$(r, i, u, v) {
  if (
    ((v = v || open("", "_blank")),
    v && (v.document.title = v.document.body.innerText = "downloading..."),
    typeof r == "string")
  )
    return BS(r, i, u);
  const m = r.type === "application/octet-stream",
    E = /constructor/i.test(String(R4.HTMLElement)) || "safari" in R4,
    O = /CriOS\/[\d]+/.test(navigator.userAgent);
  if ((O || (m && E) || mP) && typeof FileReader != "undefined") {
    const C = new FileReader();
    (C.onloadend = function () {
      let G = C.result;
      if (typeof G != "string")
        throw ((v = null), new Error("Wrong reader.result type"));
      (G = O ? G : G.replace(/^data:[^;]*;/, "data:attachment/file;")),
        v ? (v.location.href = G) : location.assign(G),
        (v = null);
    }),
      C.readAsDataURL(r);
  } else {
    const C = URL.createObjectURL(r);
    v ? v.location.assign(C) : (location.href = C),
      (v = null),
      setTimeout(function () {
        URL.revokeObjectURL(C);
      }, 4e4);
  }
}
function Jn(r, i) {
  const u = " " + r;
  typeof __VUE_DEVTOOLS_TOAST__ == "function"
    ? __VUE_DEVTOOLS_TOAST__(u, i)
    : i === "error"
    ? console.error(u)
    : i === "warn"
    ? console.warn(u)
    : console.log(u);
}
function HS(r) {
  return "_a" in r && "install" in r;
}
function _P() {
  if (!("clipboard" in navigator))
    return Jn("Your browser doesn't support the Clipboard API", "error"), !0;
}
function yP(r) {
  return r instanceof Error &&
    r.message.toLowerCase().includes("document is not focused")
    ? (Jn(
        'You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',
        "warn"
      ),
      !0)
    : !1;
}
function $$(r) {
  return $o(this, null, function* () {
    if (!_P())
      try {
        yield navigator.clipboard.writeText(JSON.stringify(r.state.value)),
          Jn("Global state copied to clipboard.");
      } catch (i) {
        if (yP(i)) return;
        Jn(
          "Failed to serialize the state. Check the console for more details.",
          "error"
        ),
          console.error(i);
      }
  });
}
function Y$(r) {
  return $o(this, null, function* () {
    if (!_P())
      try {
        bP(r, JSON.parse(yield navigator.clipboard.readText())),
          Jn("Global state pasted from clipboard.");
      } catch (i) {
        if (yP(i)) return;
        Jn(
          "Failed to deserialize the state from clipboard. Check the console for more details.",
          "error"
        ),
          console.error(i);
      }
  });
}
function Z$(r) {
  return $o(this, null, function* () {
    try {
      gP(
        new Blob([JSON.stringify(r.state.value)], {
          type: "text/plain;charset=utf-8",
        }),
        "pinia-state.json"
      );
    } catch (i) {
      Jn(
        "Failed to export the state as JSON. Check the console for more details.",
        "error"
      ),
        console.error(i);
    }
  });
}
let no;
function Q$() {
  no ||
    ((no = document.createElement("input")),
    (no.type = "file"),
    (no.accept = ".json"));
  function r() {
    return new Promise((i, u) => {
      (no.onchange = () =>
        $o(this, null, function* () {
          const v = no.files;
          if (!v) return i(null);
          const m = v.item(0);
          return i(m ? { text: yield m.text(), file: m } : null);
        })),
        (no.oncancel = () => i(null)),
        (no.onerror = u),
        no.click();
    });
  }
  return r;
}
function X$(r) {
  return $o(this, null, function* () {
    try {
      const u = yield Q$()();
      if (!u) return;
      const { text: v, file: m } = u;
      bP(r, JSON.parse(v)), Jn(`Global state imported from "${m.name}".`);
    } catch (i) {
      Jn(
        "Failed to import the state from JSON. Check the console for more details.",
        "error"
      ),
        console.error(i);
    }
  });
}
function bP(r, i) {
  for (const u in i) {
    const v = r.state.value[u];
    v ? Object.assign(v, i[u]) : (r.state.value[u] = i[u]);
  }
}
function Mi(r) {
  return {
    _custom: {
      display: r,
    },
  };
}
const SP = " Pinia (root)",
  hS = "_root";
function eY(r) {
  return HS(r)
    ? {
        id: hS,
        label: SP,
      }
    : {
        id: r.$id,
        label: r.$id,
      };
}
function tY(r) {
  if (HS(r)) {
    const u = Array.from(r._s.keys()),
      v = r._s;
    return {
      state: u.map((E) => ({
        editable: !0,
        key: E,
        value: r.state.value[E],
      })),
      getters: u
        .filter((E) => v.get(E)._getters)
        .map((E) => {
          const O = v.get(E);
          return {
            editable: !1,
            key: E,
            value: O._getters.reduce((C, G) => ((C[G] = O[G]), C), {}),
          };
        }),
    };
  }
  const i = {
    state: Object.keys(r.$state).map((u) => ({
      editable: !0,
      key: u,
      value: r.$state[u],
    })),
  };
  return (
    r._getters &&
      r._getters.length &&
      (i.getters = r._getters.map((u) => ({
        editable: !1,
        key: u,
        value: r[u],
      }))),
    r._customProperties.size &&
      (i.customProperties = Array.from(r._customProperties).map((u) => ({
        editable: !0,
        key: u,
        value: r[u],
      }))),
    i
  );
}
function nY(r) {
  return r
    ? Array.isArray(r)
      ? r.reduce(
          (i, u) => (
            i.keys.push(u.key),
            i.operations.push(u.type),
            (i.oldValue[u.key] = u.oldValue),
            (i.newValue[u.key] = u.newValue),
            i
          ),
          {
            oldValue: {},
            keys: [],
            operations: [],
            newValue: {},
          }
        )
      : {
          operation: Mi(r.type),
          key: Mi(r.key),
          oldValue: r.oldValue,
          newValue: r.newValue,
        }
    : {};
}
function rY(r) {
  switch (r) {
    case ma.direct:
      return "mutation";
    case ma.patchFunction:
      return "$patch";
    case ma.patchObject:
      return "$patch";
    default:
      return "unknown";
  }
}
let ul = !0;
const dm = [],
  pu = "pinia:mutations",
  ar = "pinia",
  { assign: iY } = Object,
  Im = (r) => " " + r;
function aY(r, i) {
  fP(
    {
      id: "dev.esm.pinia",
      label: "Pinia ",
      logo: "https://pinia.vuejs.org/logo.svg",
      packageName: "pinia",
      homepage: "https://pinia.vuejs.org",
      componentStateTypes: dm,
      app: r,
    },
    (u) => {
      typeof u.now != "function" &&
        Jn(
          "You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."
        ),
        u.addTimelineLayer({
          id: pu,
          label: "Pinia ",
          color: 15064968,
        }),
        u.addInspector({
          id: ar,
          label: "Pinia ",
          icon: "storage",
          treeFilterPlaceholder: "Search stores",
          actions: [
            {
              icon: "content_copy",
              action: () => {
                $$(i);
              },
              tooltip: "Serialize and copy the state",
            },
            {
              icon: "content_paste",
              action: () =>
                $o(this, null, function* () {
                  yield Y$(i),
                    u.sendInspectorTree(ar),
                    u.sendInspectorState(ar);
                }),
              tooltip: "Replace the state with the content of your clipboard",
            },
            {
              icon: "save",
              action: () => {
                Z$(i);
              },
              tooltip: "Save the state as a JSON file",
            },
            {
              icon: "folder_open",
              action: () =>
                $o(this, null, function* () {
                  yield X$(i),
                    u.sendInspectorTree(ar),
                    u.sendInspectorState(ar);
                }),
              tooltip: "Import the state from a JSON file",
            },
          ],
          nodeActions: [
            {
              icon: "restore",
              tooltip: 'Reset the state (with "$reset")',
              action: (v) => {
                const m = i._s.get(v);
                m
                  ? typeof m.$reset != "function"
                    ? Jn(
                        `Cannot reset "${v}" store because it doesn't have a "$reset" method implemented.`,
                        "warn"
                      )
                    : (m.$reset(), Jn(`Store "${v}" reset.`))
                  : Jn(
                      `Cannot reset "${v}" store because it wasn't found.`,
                      "warn"
                    );
              },
            },
          ],
        }),
        u.on.inspectComponent((v, m) => {
          const E = v.componentInstance && v.componentInstance.proxy;
          if (E && E._pStores) {
            const O = v.componentInstance.proxy._pStores;
            Object.values(O).forEach((C) => {
              v.instanceData.state.push({
                type: Im(C.$id),
                key: "state",
                editable: !0,
                value: C._isOptionsAPI
                  ? {
                      _custom: {
                        value: Vt(C.$state),
                        actions: [
                          {
                            icon: "restore",
                            tooltip: "Reset the state of this store",
                            action: () => C.$reset(),
                          },
                        ],
                      },
                    }
                  : // NOTE: workaround to unwrap transferred refs
                    Object.keys(C.$state).reduce(
                      (G, re) => ((G[re] = C.$state[re]), G),
                      {}
                    ),
              }),
                C._getters &&
                  C._getters.length &&
                  v.instanceData.state.push({
                    type: Im(C.$id),
                    key: "getters",
                    editable: !1,
                    value: C._getters.reduce((G, re) => {
                      try {
                        G[re] = C[re];
                      } catch (ce) {
                        G[re] = ce;
                      }
                      return G;
                    }, {}),
                  });
            });
          }
        }),
        u.on.getInspectorTree((v) => {
          if (v.app === r && v.inspectorId === ar) {
            let m = [i];
            (m = m.concat(Array.from(i._s.values()))),
              (v.rootNodes = (
                v.filter
                  ? m.filter((E) =>
                      "$id" in E
                        ? E.$id.toLowerCase().includes(v.filter.toLowerCase())
                        : SP.toLowerCase().includes(v.filter.toLowerCase())
                    )
                  : m
              ).map(eY));
          }
        }),
        u.on.getInspectorState((v) => {
          if (v.app === r && v.inspectorId === ar) {
            const m = v.nodeId === hS ? i : i._s.get(v.nodeId);
            if (!m) return;
            m && (v.state = tY(m));
          }
        }),
        u.on.editInspectorState((v, m) => {
          if (v.app === r && v.inspectorId === ar) {
            const E = v.nodeId === hS ? i : i._s.get(v.nodeId);
            if (!E) return Jn(`store "${v.nodeId}" not found`, "error");
            const { path: O } = v;
            HS(E)
              ? O.unshift("state")
              : (O.length !== 1 ||
                  !E._customProperties.has(O[0]) ||
                  O[0] in E.$state) &&
                O.unshift("$state"),
              (ul = !1),
              v.set(E, O, v.state.value),
              (ul = !0);
          }
        }),
        u.on.editComponentState((v) => {
          if (v.type.startsWith("")) {
            const m = v.type.replace(/^\s*/, ""),
              E = i._s.get(m);
            if (!E) return Jn(`store "${m}" not found`, "error");
            const { path: O } = v;
            if (O[0] !== "state")
              return Jn(`Invalid path for store "${m}":
${O}
Only state can be modified.`);
            (O[0] = "$state"), (ul = !1), v.set(E, O, v.state.value), (ul = !0);
          }
        });
    }
  );
}
function oY(r, i) {
  dm.includes(Im(i.$id)) || dm.push(Im(i.$id)),
    fP(
      {
        id: "dev.esm.pinia",
        label: "Pinia ",
        logo: "https://pinia.vuejs.org/logo.svg",
        packageName: "pinia",
        homepage: "https://pinia.vuejs.org",
        componentStateTypes: dm,
        app: r,
        settings: {
          logStoreChanges: {
            label: "Notify about new/deleted stores",
            type: "boolean",
            defaultValue: !0,
          },
          // useEmojis: {
          //   label: 'Use emojis in messages ',
          //   type: 'boolean',
          //   defaultValue: true,
          // },
        },
      },
      (u) => {
        const v = typeof u.now == "function" ? u.now.bind(u) : Date.now;
        i.$onAction(({ after: O, onError: C, name: G, args: re }) => {
          const ce = wP++;
          u.addTimelineEvent({
            layerId: pu,
            event: {
              time: v(),
              title: " " + G,
              subtitle: "start",
              data: {
                store: Mi(i.$id),
                action: Mi(G),
                args: re,
              },
              groupId: ce,
            },
          }),
            O((de) => {
              (ts = void 0),
                u.addTimelineEvent({
                  layerId: pu,
                  event: {
                    time: v(),
                    title: " " + G,
                    subtitle: "end",
                    data: {
                      store: Mi(i.$id),
                      action: Mi(G),
                      args: re,
                      result: de,
                    },
                    groupId: ce,
                  },
                });
            }),
            C((de) => {
              (ts = void 0),
                u.addTimelineEvent({
                  layerId: pu,
                  event: {
                    time: v(),
                    logType: "error",
                    title: " " + G,
                    subtitle: "end",
                    data: {
                      store: Mi(i.$id),
                      action: Mi(G),
                      args: re,
                      error: de,
                    },
                    groupId: ce,
                  },
                });
            });
        }, !0),
          i._customProperties.forEach((O) => {
            eP(
              () => Fx(i[O]),
              (C, G) => {
                u.notifyComponentUpdate(),
                  u.sendInspectorState(ar),
                  ul &&
                    u.addTimelineEvent({
                      layerId: pu,
                      event: {
                        time: v(),
                        title: "Change",
                        subtitle: O,
                        data: {
                          newValue: C,
                          oldValue: G,
                        },
                        groupId: ts,
                      },
                    });
              },
              { deep: !0 }
            );
          }),
          i.$subscribe(
            ({ events: O, type: C }, G) => {
              if ((u.notifyComponentUpdate(), u.sendInspectorState(ar), !ul))
                return;
              const re = {
                time: v(),
                title: rY(C),
                data: iY({ store: Mi(i.$id) }, nY(O)),
                groupId: ts,
              };
              C === ma.patchFunction
                ? (re.subtitle = "")
                : C === ma.patchObject
                ? (re.subtitle = "")
                : O && !Array.isArray(O) && (re.subtitle = O.type),
                O &&
                  (re.data["rawEvent(s)"] = {
                    _custom: {
                      display: "DebuggerEvent",
                      type: "object",
                      tooltip: "raw DebuggerEvent[]",
                      value: O,
                    },
                  }),
                u.addTimelineEvent({
                  layerId: pu,
                  event: re,
                });
            },
            { detached: !0, flush: "sync" }
          );
        const m = i._hotUpdate;
        i._hotUpdate = es((O) => {
          m(O),
            u.addTimelineEvent({
              layerId: pu,
              event: {
                time: v(),
                title: " " + i.$id,
                subtitle: "HMR update",
                data: {
                  store: Mi(i.$id),
                  info: Mi("HMR update"),
                },
              },
            }),
            u.notifyComponentUpdate(),
            u.sendInspectorTree(ar),
            u.sendInspectorState(ar);
        });
        const { $dispose: E } = i;
        (i.$dispose = () => {
          E(),
            u.notifyComponentUpdate(),
            u.sendInspectorTree(ar),
            u.sendInspectorState(ar),
            u.getSettings().logStoreChanges &&
              Jn(`Disposed "${i.$id}" store `);
        }),
          u.notifyComponentUpdate(),
          u.sendInspectorTree(ar),
          u.sendInspectorState(ar),
          u.getSettings().logStoreChanges &&
            Jn(`"${i.$id}" store installed `);
      }
    );
}
let wP = 0,
  ts;
function C4(r, i, u) {
  const v = i.reduce((m, E) => ((m[E] = Vt(r)[E]), m), {});
  for (const m in v)
    r[m] = function () {
      const E = wP,
        O = u
          ? new Proxy(r, {
              get(...G) {
                return (ts = E), Reflect.get(...G);
              },
              set(...G) {
                return (ts = E), Reflect.set(...G);
              },
            })
          : r;
      ts = E;
      const C = v[m].apply(O, arguments);
      return (ts = void 0), C;
    };
}
function sY({ app: r, store: i, options: u }) {
  if (i.$id.startsWith("__hot:")) return;
  (i._isOptionsAPI = !!u.state), C4(i, Object.keys(u.actions), i._isOptionsAPI);
  const v = i._hotUpdate;
  (Vt(i)._hotUpdate = function (m) {
    v.apply(this, arguments),
      C4(i, Object.keys(m._hmrPayload.actions), !!i._isOptionsAPI);
  }),
    oY(
      r,
      // FIXME: is there a way to allow the assignment from Store<Id, S, G, A> to StoreGeneric?
      i
    );
}
function uY() {
  const r = kx(!0),
    i = r.run(() => va({}));
  let u = [],
    v = [];
  const m = es({
    install(E) {
      hl(m),
        (m._a = E),
        E.provide(pP, m),
        (E.config.globalProperties.$pinia = m),
        Ih && aY(E, m),
        v.forEach((O) => u.push(O)),
        (v = []);
    },
    use(E) {
      return !this._a && !dP ? v.push(E) : u.push(E), this;
    },
    _p: u,
    // it's actually undefined here
    // @ts-expect-error
    _a: null,
    _e: r,
    _s: /* @__PURE__ */ new Map(),
    state: i,
  });
  return Ih && typeof Proxy != "undefined" && m.use(sY), m;
}
function kP(r, i) {
  for (const u in i) {
    const v = i[u];
    if (!(u in r)) continue;
    const m = r[u];
    bu(m) && bu(v) && !Cn(v) && !io(v) ? (r[u] = kP(m, v)) : (r[u] = v);
  }
  return r;
}
const TP = () => {};
function A4(r, i, u, v = TP) {
  r.push(i);
  const m = () => {
    const E = r.indexOf(i);
    E > -1 && (r.splice(E, 1), v());
  };
  return !u && Tx() && fJ(m), m;
}
function rl(r, ...i) {
  r.slice().forEach((u) => {
    u(...i);
  });
}
const cY = (r) => r();
function fS(r, i) {
  r instanceof Map && i instanceof Map && i.forEach((u, v) => r.set(v, u)),
    r instanceof Set && i instanceof Set && i.forEach(r.add, r);
  for (const u in i) {
    if (!i.hasOwnProperty(u)) continue;
    const v = i[u],
      m = r[u];
    bu(m) && bu(v) && r.hasOwnProperty(u) && !Cn(v) && !io(v)
      ? (r[u] = fS(m, v))
      : (r[u] = v);
  }
  return r;
}
const lY =
  process.env.NODE_ENV !== "production"
    ? Symbol("pinia:skipHydration")
    : /* istanbul ignore next */
      Symbol();
function dY(r) {
  return !bu(r) || !r.hasOwnProperty(lY);
}
const { assign: di } = Object;
function x4(r) {
  return !!(Cn(r) && r.effect);
}
function P4(r, i, u, v) {
  const { state: m, actions: E, getters: O } = i,
    C = u.state.value[r];
  let G;
  function re() {
    !C &&
      (process.env.NODE_ENV === "production" || !v) &&
      (u.state.value[r] = m ? m() : {});
    const ce =
      process.env.NODE_ENV !== "production" && v
        ? // use ref() to unwrap refs inside state TODO: check if this is still necessary
          g4(va(m ? m() : {}).value)
        : g4(u.state.value[r]);
    return di(
      ce,
      E,
      Object.keys(O || {}).reduce(
        (de, me) => (
          process.env.NODE_ENV !== "production" &&
            me in ce &&
            console.warn(
              `[]: A getter cannot have the same name as another state property. Rename one of them. Found with "${me}" in store "${r}".`
            ),
          (de[me] = es(
            lP(() => {
              hl(u);
              const Ee = u._s.get(r);
              return O[me].call(Ee, Ee);
            })
          )),
          de
        ),
        {}
      )
    );
  }
  return (G = pS(r, re, i, u, v, !0)), G;
}
function pS(r, i, u = {}, v, m, E) {
  let O;
  const C = di({ actions: {} }, u);
  if (process.env.NODE_ENV !== "production" && !v._e.active)
    throw new Error("Pinia destroyed");
  const G = {
    deep: !0,
    // flush: 'post',
  };
  process.env.NODE_ENV !== "production" &&
    !dP &&
    (G.onTrigger = (We) => {
      re
        ? (Ee = We)
        : re == !1 &&
          !Je._hotUpdating &&
          (Array.isArray(Ee)
            ? Ee.push(We)
            : console.error(
                " debuggerEvents should be an array. This is most likely an internal Pinia bug."
              ));
    });
  let re,
    ce,
    de = [],
    me = [],
    Ee;
  const Ae = v.state.value[r];
  !E &&
    !Ae &&
    (process.env.NODE_ENV === "production" || !m) &&
    (v.state.value[r] = {});
  const Be = va({});
  let le;
  function bt(We) {
    let Oe;
    (re = ce = !1),
      process.env.NODE_ENV !== "production" && (Ee = []),
      typeof We == "function"
        ? (We(v.state.value[r]),
          (Oe = {
            type: ma.patchFunction,
            storeId: r,
            events: Ee,
          }))
        : (fS(v.state.value[r], We),
          (Oe = {
            type: ma.patchObject,
            payload: We,
            storeId: r,
            events: Ee,
          }));
    const at = (le = Symbol());
    uS().then(() => {
      le === at && (re = !0);
    }),
      (ce = !0),
      rl(de, Oe, v.state.value[r]);
  }
  const Et = E
    ? function () {
        const { state: Oe } = u,
          at = Oe ? Oe() : {};
        this.$patch((kt) => {
          di(kt, at);
        });
      }
    : /* istanbul ignore next */
    process.env.NODE_ENV !== "production"
    ? () => {
        throw new Error(
          `: Store "${r}" is built using the setup syntax and does not implement $reset().`
        );
      }
    : TP;
  function St() {
    O.stop(), (de = []), (me = []), v._s.delete(r);
  }
  function Ut(We, Oe) {
    return function () {
      hl(v);
      const at = Array.from(arguments),
        kt = [],
        Xe = [];
      function Ot(rn) {
        kt.push(rn);
      }
      function et(rn) {
        Xe.push(rn);
      }
      rl(me, {
        args: at,
        name: We,
        store: Je,
        after: Ot,
        onError: et,
      });
      let Mt;
      try {
        Mt = Oe.apply(this && this.$id === r ? this : Je, at);
      } catch (rn) {
        throw (rl(Xe, rn), rn);
      }
      return Mt instanceof Promise
        ? Mt.then((rn) => (rl(kt, rn), rn)).catch(
            (rn) => (rl(Xe, rn), Promise.reject(rn))
          )
        : (rl(kt, Mt), Mt);
    };
  }
  const vt = /* @__PURE__ */ es({
      actions: {},
      getters: {},
      state: [],
      hotState: Be,
    }),
    wt = {
      _p: v,
      // _s: scope,
      $id: r,
      $onAction: A4.bind(null, me),
      $patch: bt,
      $reset: Et,
      $subscribe(We, Oe = {}) {
        const at = A4(de, We, Oe.detached, () => kt()),
          kt = O.run(() =>
            eP(
              () => v.state.value[r],
              (Xe) => {
                (Oe.flush === "sync" ? ce : re) &&
                  We(
                    {
                      storeId: r,
                      type: ma.direct,
                      events: Ee,
                    },
                    Xe
                  );
              },
              di({}, G, Oe)
            )
          );
        return at;
      },
      $dispose: St,
    },
    Je = MS(
      process.env.NODE_ENV !== "production" || Ih
        ? di(
            {
              _hmrPayload: vt,
              _customProperties: es(/* @__PURE__ */ new Set()),
              // devtools custom properties
            },
            wt
            // must be added later
            // setupStore
          )
        : wt
    );
  v._s.set(r, Je);
  const ct = ((v._a && v._a.runWithContext) || cY)(() =>
    v._e.run(() => (O = kx()).run(i))
  );
  for (const We in ct) {
    const Oe = ct[We];
    if ((Cn(Oe) && !x4(Oe)) || io(Oe))
      process.env.NODE_ENV !== "production" && m
        ? Zv(Be.value, We, Ub(ct, We))
        : E ||
          (Ae && dY(Oe) && (Cn(Oe) ? (Oe.value = Ae[We]) : fS(Oe, Ae[We])),
          (v.state.value[r][We] = Oe)),
        process.env.NODE_ENV !== "production" && vt.state.push(We);
    else if (typeof Oe == "function") {
      const at = process.env.NODE_ENV !== "production" && m ? Oe : Ut(We, Oe);
      (ct[We] = at),
        process.env.NODE_ENV !== "production" && (vt.actions[We] = Oe),
        (C.actions[We] = Oe);
    } else
      process.env.NODE_ENV !== "production" &&
        x4(Oe) &&
        ((vt.getters[We] = E
          ? // @ts-expect-error
            u.getters[We]
          : Oe),
        Fm &&
          (
            ct._getters || // @ts-expect-error: same
            (ct._getters = es([]))
          ).push(We));
  }
  if (
    (di(Je, ct),
    di(Vt(Je), ct),
    Object.defineProperty(Je, "$state", {
      get: () =>
        process.env.NODE_ENV !== "production" && m
          ? Be.value
          : v.state.value[r],
      set: (We) => {
        if (process.env.NODE_ENV !== "production" && m)
          throw new Error("cannot set hotState");
        bt((Oe) => {
          di(Oe, We);
        });
      },
    }),
    process.env.NODE_ENV !== "production" &&
      (Je._hotUpdate = es((We) => {
        (Je._hotUpdating = !0),
          We._hmrPayload.state.forEach((Oe) => {
            if (Oe in Je.$state) {
              const at = We.$state[Oe],
                kt = Je.$state[Oe];
              typeof at == "object" && bu(at) && bu(kt)
                ? kP(at, kt)
                : (We.$state[Oe] = kt);
            }
            Zv(Je, Oe, Ub(We.$state, Oe));
          }),
          Object.keys(Je.$state).forEach((Oe) => {
            Oe in We.$state || Hb(Je, Oe);
          }),
          (re = !1),
          (ce = !1),
          (v.state.value[r] = Ub(We._hmrPayload, "hotState")),
          (ce = !0),
          uS().then(() => {
            re = !0;
          });
        for (const Oe in We._hmrPayload.actions) {
          const at = We[Oe];
          Zv(Je, Oe, Ut(Oe, at));
        }
        for (const Oe in We._hmrPayload.getters) {
          const at = We._hmrPayload.getters[Oe],
            kt = E
              ? // special handling of options api
                lP(() => (hl(v), at.call(Je, Je)))
              : at;
          Zv(Je, Oe, kt);
        }
        Object.keys(Je._hmrPayload.getters).forEach((Oe) => {
          Oe in We._hmrPayload.getters || Hb(Je, Oe);
        }),
          Object.keys(Je._hmrPayload.actions).forEach((Oe) => {
            Oe in We._hmrPayload.actions || Hb(Je, Oe);
          }),
          (Je._hmrPayload = We._hmrPayload),
          (Je._getters = We._getters),
          (Je._hotUpdating = !1);
      })),
    Ih)
  ) {
    const We = {
      writable: !0,
      configurable: !0,
      // avoid warning on devtools trying to display this property
      enumerable: !1,
    };
    ["_p", "_hmrPayload", "_getters", "_customProperties"].forEach((Oe) => {
      Object.defineProperty(Je, Oe, di({ value: Je[Oe] }, We));
    });
  }
  return (
    v._p.forEach((We) => {
      if (Ih) {
        const Oe = O.run(() =>
          We({
            store: Je,
            app: v._a,
            pinia: v,
            options: C,
          })
        );
        Object.keys(Oe || {}).forEach((at) => Je._customProperties.add(at)),
          di(Je, Oe);
      } else
        di(
          Je,
          O.run(() =>
            We({
              store: Je,
              app: v._a,
              pinia: v,
              options: C,
            })
          )
        );
    }),
    process.env.NODE_ENV !== "production" &&
      Je.$state &&
      typeof Je.$state == "object" &&
      typeof Je.$state.constructor == "function" &&
      !Je.$state.constructor.toString().includes("[native code]") &&
      console.warn(`[]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${Je.$id}".`),
    Ae && E && u.hydrate && u.hydrate(Je.$state, Ae),
    (re = !0),
    (ce = !0),
    Je
  );
}
function hY(r, i, u) {
  let v, m;
  const E = typeof i == "function";
  if (typeof r == "string") (v = r), (m = E ? u : i);
  else if (
    ((m = r),
    (v = r.id),
    process.env.NODE_ENV !== "production" && typeof v != "string")
  )
    throw new Error(
      '[]: "defineStore()" must be passed a store id as its first argument.'
    );
  function O(C, G) {
    const re = h$();
    if (
      ((C = // in test mode, ignore the argument provided as we can always retrieve a
        // pinia instance with getActivePinia()
        (process.env.NODE_ENV === "test" && wh && wh._testing ? null : C) ||
        (re ? Qx(pP, null) : null)),
      C && hl(C),
      process.env.NODE_ENV !== "production" && !wh)
    )
      throw new Error(`[]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);
    (C = wh),
      C._s.has(v) ||
        (E ? pS(v, i, m, C) : P4(v, m, C),
        process.env.NODE_ENV !== "production" && (O._pinia = C));
    const ce = C._s.get(v);
    if (process.env.NODE_ENV !== "production" && G) {
      const de = "__hot:" + v,
        me = E ? pS(de, i, m, C, !0) : P4(de, di({}, m), C, !0);
      G._hotUpdate(me), delete C.state.value[de], C._s.delete(de);
    }
    if (process.env.NODE_ENV !== "production" && Fm) {
      const de = oP();
      if (
        de &&
        de.proxy && // avoid adding stores that are just built for hot module replacement
        !G
      ) {
        const me = de.proxy,
          Ee = "_pStores" in me ? me._pStores : (me._pStores = {});
        Ee[v] = ce;
      }
    }
    return ce;
  }
  return (O.$id = v), O;
}
var pa = hY("videoConfig", function () {
    var r = va(void 0),
      i = va(void 0),
      u = va(),
      v = function (C) {
        r.value = C;
      },
      m = function (C) {
        i.value = C;
      },
      E = function (C) {
        u.value = C;
      };
    return {
      videoConfig: r,
      websocketConfig: i,
      roomId: u,
      setVideoConfig: v,
      setWebsocketConfig: m,
      setRoomId: E,
    };
  }),
  fY = /* @__PURE__ */ (function () {
    var r = Pt(
      /* @__PURE__ */ Ke.mark(function i() {
        var u, v, m, E, O, C, G;
        return Ke.wrap(
          function (ce) {
            for (;;)
              switch ((ce.prev = ce.next)) {
                case 0:
                  if (
                    (console.log(pa().websocketConfig, pa().videoConfig),
                    !(!pa().websocketConfig || !pa().videoConfig))
                  ) {
                    ce.next = 4;
                    break;
                  }
                  return (
                    console.error(""),
                    ce.abrupt("return", !1)
                  );
                case 4:
                  if (
                    ((m =
                      (u = pa().websocketConfig) === null || u === void 0
                        ? void 0
                        : u.ip),
                    (E =
                      (v = pa().videoConfig) === null || v === void 0
                        ? void 0
                        : v.userId),
                    (O = pa().roomId),
                    console.log(m, E, O),
                    !(!m || !E || !O))
                  ) {
                    ce.next = 10;
                    break;
                  }
                  return ce.abrupt("return", !1);
                case 10:
                  if (((C = pY(m)), C)) {
                    ce.next = 14;
                    break;
                  }
                  return (
                    console.error(" ABMessage  URL"),
                    ce.abrupt("return", !1)
                  );
                case 14:
                  return (
                    (ce.prev = 14),
                    (ce.next = 17),
                    GK(C, {
                      EventInfo: {
                        Role: 20,
                        UserId: E,
                        RoomId: String(O),
                        Reason: 0,
                      },
                      EventType: 103,
                    })
                  );
                case 17:
                  return (
                    (G = ce.sent),
                    console.log("[]", G),
                    ce.abrupt("return", !0)
                  );
                case 22:
                  (ce.prev = 22),
                    (ce.t0 = ce.catch(14)),
                    console.error(":", ce.t0);
                case 25:
                case "end":
                  return ce.stop();
              }
          },
          i,
          null,
          [[14, 22]]
        );
      })
    );
    return function () {
      return r.apply(this, arguments);
    };
  })(),
  pY = function (i) {
    i.endsWith("/websocket") && (i = i.slice(0, -10));
    var u = /(wss?|ws):\/\/([\w.-]+)(?::(\d+))?.*/,
      v = i.match(u);
    if (!v) {
      console.log("URLWebSocket");
      return;
    }
    var m = i.startsWith("wss://") ? "wss" : "ws",
      E = i.split("/"),
      O = E.slice(2).join("/"),
      C = "";
    (m === "wss" || m === "ws") && (C = m === "wss" ? "https" : "http");
    var G = "".concat(C, "://").concat(O, "/enterOrLeaveRoomNotify");
    return console.log("[HTTP]", G), G;
  },
  ns = va({}),
  EP = function (i, u) {
    ns.value[i] || (ns.value[i] = []), ns.value[i].push(u);
  },
  IP = function (i, u) {
    ns.value[i] &&
      (u
        ? (ns.value[i] = ns.value[i].filter(function (v) {
            return v !== u;
          }))
        : delete ns.value[i]);
  },
  vY = function (i, u) {
    var v = function (E) {
      IP(i, v), u(E);
    };
    EP(i, v);
  },
  mY = function (i, u) {
    var v = ns.value[i];
    v &&
      v.forEach(function (m) {
        m(u);
      });
  },
  Nh = function () {
    return {
      on: EP,
      off: IP,
      once: vY,
      emit: mY,
    };
  },
  gY = Nh(),
  O4 = gY.emit,
  _Y = /* @__PURE__ */ (function () {
    var r = Pt(
      /* @__PURE__ */ Ke.mark(function i() {
        var u,
          v,
          m,
          E,
          O,
          C,
          G,
          re,
          ce,
          de,
          me,
          Ee,
          Ae,
          Be,
          le,
          bt,
          Et,
          St,
          Ut,
          vt,
          wt,
          Je,
          It;
        return Ke.wrap(
          function (We) {
            for (;;)
              switch ((We.prev = We.next)) {
                case 0:
                  return (
                    (We.prev = 0),
                    (We.next = 3),
                    Promise.resolve().then(() => ZY)
                  );
                case 3:
                  if (((u = We.sent), (v = u.useTRTCWebSDK), v)) {
                    We.next = 7;
                    break;
                  }
                  throw new Error("Web SDK store is not initialized");
                case 7:
                  return (
                    (m = v()),
                    (E = /* @__PURE__ */ (function () {
                      var Oe = Pt(
                        /* @__PURE__ */ Ke.mark(function at(kt) {
                          return Ke.wrap(
                            function (Ot) {
                              for (;;)
                                switch ((Ot.prev = Ot.next)) {
                                  case 0:
                                    return (
                                      (Ot.prev = 0),
                                      pa().setVideoConfig(kt),
                                      (Ot.next = 4),
                                      m.createSDK(kt)
                                    );
                                  case 4:
                                    return Ot.abrupt("return", !0);
                                  case 7:
                                    return (
                                      (Ot.prev = 7),
                                      (Ot.t0 = Ot.catch(0)),
                                      console.error("TRTC", Ot.t0),
                                      Ot.abrupt("return", !1)
                                    );
                                  case 11:
                                  case "end":
                                    return Ot.stop();
                                }
                            },
                            at,
                            null,
                            [[0, 7]]
                          );
                        })
                      );
                      return function (kt) {
                        return Oe.apply(this, arguments);
                      };
                    })()),
                    (O = /* @__PURE__ */ (function () {
                      var Oe = Pt(
                        /* @__PURE__ */ Ke.mark(function at(kt) {
                          return Ke.wrap(
                            function (Ot) {
                              for (;;)
                                switch ((Ot.prev = Ot.next)) {
                                  case 0:
                                    if (kt) {
                                      Ot.next = 3;
                                      break;
                                    }
                                    return (
                                      console.error(""),
                                      Ot.abrupt("return")
                                    );
                                  case 3:
                                    return (
                                      pa().setRoomId(kt),
                                      (Ot.prev = 4),
                                      (Ot.next = 7),
                                      m.enterRoom(kt)
                                    );
                                  case 7:
                                    return (Ot.next = 9), fY();
                                  case 9:
                                    O4("onEnterRoomEvent", {
                                      result: !0,
                                    }),
                                      (Ot.next = 16);
                                    break;
                                  case 12:
                                    (Ot.prev = 12),
                                      (Ot.t0 = Ot.catch(4)),
                                      O4("onEnterRoomEvent", {
                                        result: !1,
                                      }),
                                      console.error("", Ot.t0);
                                  case 16:
                                  case "end":
                                    return Ot.stop();
                                }
                            },
                            at,
                            null,
                            [[4, 12]]
                          );
                        })
                      );
                      return function (kt) {
                        return Oe.apply(this, arguments);
                      };
                    })()),
                    (C = /* @__PURE__ */ (function () {
                      var Oe = Pt(
                        /* @__PURE__ */ Ke.mark(function at(kt) {
                          var Xe;
                          return Ke.wrap(function (et) {
                            for (;;)
                              switch ((et.prev = et.next)) {
                                case 0:
                                  return (
                                    console.log("", kt),
                                    (Xe = kt.view),
                                    (et.next = 4),
                                    m.playLocalMedia({
                                      view: Xe,
                                    })
                                  );
                                case 4:
                                case "end":
                                  return et.stop();
                              }
                          }, at);
                        })
                      );
                      return function (kt) {
                        return Oe.apply(this, arguments);
                      };
                    })()),
                    (G = /* @__PURE__ */ (function () {
                      var Oe = Pt(
                        /* @__PURE__ */ Ke.mark(function at(kt) {
                          var Xe;
                          return Ke.wrap(function (et) {
                            for (;;)
                              switch ((et.prev = et.next)) {
                                case 0:
                                  return (
                                    (Xe = kt.view),
                                    (et.next = 3),
                                    m.playRemoteVideo({
                                      view: Xe,
                                    })
                                  );
                                case 3:
                                case "end":
                                  return et.stop();
                              }
                          }, at);
                        })
                      );
                      return function (kt) {
                        return Oe.apply(this, arguments);
                      };
                    })()),
                    (re = /* @__PURE__ */ (function () {
                      var Oe = Pt(
                        /* @__PURE__ */ Ke.mark(function at(kt) {
                          var Xe;
                          return Ke.wrap(
                            function (et) {
                              for (;;)
                                switch ((et.prev = et.next)) {
                                  case 0:
                                    return (
                                      (Xe = kt.view),
                                      (et.prev = 1),
                                      (et.next = 4),
                                      m.playScreenVideo({
                                        view: Xe,
                                      })
                                    );
                                  case 4:
                                    et.next = 9;
                                    break;
                                  case 6:
                                    (et.prev = 6),
                                      (et.t0 = et.catch(1)),
                                      console.error("playScreenVideo", et.t0);
                                  case 9:
                                  case "end":
                                    return et.stop();
                                }
                            },
                            at,
                            null,
                            [[1, 6]]
                          );
                        })
                      );
                      return function (kt) {
                        return Oe.apply(this, arguments);
                      };
                    })()),
                    (ce = /* @__PURE__ */ (function () {
                      var Oe = Pt(
                        /* @__PURE__ */ Ke.mark(function at() {
                          return Ke.wrap(function (Xe) {
                            for (;;)
                              switch ((Xe.prev = Xe.next)) {
                                case 0:
                                case "end":
                                  return Xe.stop();
                              }
                          }, at);
                        })
                      );
                      return function () {
                        return Oe.apply(this, arguments);
                      };
                    })()),
                    (de = /* @__PURE__ */ (function () {
                      var Oe = Pt(
                        /* @__PURE__ */ Ke.mark(function at() {
                          return Ke.wrap(function (Xe) {
                            for (;;)
                              switch ((Xe.prev = Xe.next)) {
                                case 0:
                                case "end":
                                  return Xe.stop();
                              }
                          }, at);
                        })
                      );
                      return function () {
                        return Oe.apply(this, arguments);
                      };
                    })()),
                    (me = m.isSupportedWebRTC),
                    (Ee = m.stopLocalMedia),
                    (Ae = m.muteLocalAudio),
                    (Be = m.muteLocalVideo),
                    (le = m.switchCamera),
                    (bt = m.checkCameraDevice),
                    (Et = m.getVideoSnapshot),
                    (St = m.leaveRoom),
                    (Ut = m.destroySDK),
                    (vt = m.stopRemoteVideo),
                    (wt = m.stopPlayScreenVideo),
                    (Je = m.mixAudioStreams),
                    (It = m.stopMixAudioStreams),
                    We.abrupt("return", {
                      isSupportedWebRTC: me,
                      createSDK: E,
                      enterRoom: O,
                      playLocalMedia: C,
                      stopLocalMedia: Ee,
                      playRemoteVideo: G,
                      playScreenVideo: re,
                      stopPlayScreenVideo: wt,
                      muteLocalAudio: Ae,
                      muteLocalVideo: Be,
                      switchCamera: le,
                      checkCameraDevice: bt,
                      getVideoSnapshot: Et,
                      leaveRoom: St,
                      destroySDK: Ut,
                      startRecordAudioFrame: ce,
                      removeRecordAudioFrame: de,
                      stopRemoteVideo: vt,
                      mixAudioStreams: Je,
                      stopMixAudioStreams: It,
                    })
                  );
                case 19:
                  throw (
                    ((We.prev = 19),
                    (We.t0 = We.catch(0)),
                    console.error(" TRTCWebSDK :", We.t0),
                    We.t0)
                  );
                case 23:
                case "end":
                  return We.stop();
              }
          },
          i,
          null,
          [[0, 19]]
        );
      })
    );
    return function () {
      return r.apply(this, arguments);
    };
  })();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var vS = function (i, u) {
  return (
    (vS =
      Object.setPrototypeOf ||
      ({
        __proto__: [],
      } instanceof Array &&
        function (v, m) {
          v.__proto__ = m;
        }) ||
      function (v, m) {
        for (var E in m) m.hasOwnProperty(E) && (v[E] = m[E]);
      }),
    vS(i, u)
  );
};
function RP(r, i) {
  vS(r, i);
  function u() {
    this.constructor = r;
  }
  r.prototype =
    i === null ? Object.create(i) : ((u.prototype = i.prototype), new u());
}
function yY(r) {
  var i = typeof Symbol == "function" && r[Symbol.iterator],
    u = 0;
  return i
    ? i.call(r)
    : {
        next: function () {
          return (
            r && u >= r.length && (r = void 0),
            {
              value: r && r[u++],
              done: !r,
            }
          );
        },
      };
}
function bY(r, i) {
  var u = typeof Symbol == "function" && r[Symbol.iterator];
  if (!u) return r;
  var v = u.call(r),
    m,
    E = [],
    O;
  try {
    for (; (i === void 0 || i-- > 0) && !(m = v.next()).done; ) E.push(m.value);
  } catch (C) {
    O = {
      error: C,
    };
  } finally {
    try {
      m && !m.done && (u = v.return) && u.call(v);
    } finally {
      if (O) throw O.error;
    }
  }
  return E;
}
function SY() {
  for (var r = [], i = 0; i < arguments.length; i++)
    r = r.concat(bY(arguments[i]));
  return r;
}
var CP =
    /** @class */
    (function () {
      function r(i, u) {
        (this.target = u), (this.type = i);
      }
      return r;
    })(),
  wY =
    /** @class */
    (function (r) {
      RP(i, r);
      function i(u, v) {
        var m = r.call(this, "error", v) || this;
        return (m.message = u.message), (m.error = u), m;
      }
      return i;
    })(CP),
  kY =
    /** @class */
    (function (r) {
      RP(i, r);
      function i(u, v, m) {
        u === void 0 && (u = 1e3), v === void 0 && (v = "");
        var E = r.call(this, "close", m) || this;
        return (E.wasClean = !0), (E.code = u), (E.reason = v), E;
      }
      return i;
    })(CP);
/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */
var TY = function () {
    if (typeof WebSocket != "undefined") return WebSocket;
  },
  EY = function (i) {
    return typeof i != "undefined" && !!i && i.CLOSING === 2;
  },
  lu = {
    maxReconnectionDelay: 1e4,
    minReconnectionDelay: 1e3 + Math.random() * 4e3,
    minUptime: 5e3,
    reconnectionDelayGrowFactor: 1.3,
    connectionTimeout: 4e3,
    maxRetries: 1 / 0,
    maxEnqueuedMessages: 1 / 0,
    startClosed: !1,
    debug: !1,
  },
  IY =
    /** @class */
    (function () {
      function r(i, u, v) {
        var m = this;
        v === void 0 && (v = {}),
          (this._listeners = {
            error: [],
            message: [],
            open: [],
            close: [],
          }),
          (this._retryCount = -1),
          (this._shouldReconnect = !0),
          (this._connectLock = !1),
          (this._binaryType = "blob"),
          (this._closeCalled = !1),
          (this._messageQueue = []),
          (this.onclose = null),
          (this.onerror = null),
          (this.onmessage = null),
          (this.onopen = null),
          (this._handleOpen = function (E) {
            m._debug("open event");
            var O = m._options.minUptime,
              C = O === void 0 ? lu.minUptime : O;
            clearTimeout(m._connectTimeout),
              (m._uptimeTimeout = setTimeout(function () {
                return m._acceptOpen();
              }, C)),
              (m._ws.binaryType = m._binaryType),
              m._messageQueue.forEach(function (G) {
                return m._ws.send(G);
              }),
              (m._messageQueue = []),
              m.onopen && m.onopen(E),
              m._listeners.open.forEach(function (G) {
                return m._callEventListener(E, G);
              });
          }),
          (this._handleMessage = function (E) {
            m._debug("message event"),
              m.onmessage && m.onmessage(E),
              m._listeners.message.forEach(function (O) {
                return m._callEventListener(E, O);
              });
          }),
          (this._handleError = function (E) {
            m._debug("error event", E.message),
              m._disconnect(
                void 0,
                E.message === "TIMEOUT" ? "timeout" : void 0
              ),
              m.onerror && m.onerror(E),
              m._debug("exec error listeners"),
              m._listeners.error.forEach(function (O) {
                return m._callEventListener(E, O);
              }),
              m._connect();
          }),
          (this._handleClose = function (E) {
            m._debug("close event"),
              m._clearTimeouts(),
              m._shouldReconnect && m._connect(),
              m.onclose && m.onclose(E),
              m._listeners.close.forEach(function (O) {
                return m._callEventListener(E, O);
              });
          }),
          (this._url = i),
          (this._protocols = u),
          (this._options = v),
          this._options.startClosed && (this._shouldReconnect = !1),
          this._connect();
      }
      return (
        Object.defineProperty(r, "CONNECTING", {
          get: function () {
            return 0;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r, "OPEN", {
          get: function () {
            return 1;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r, "CLOSING", {
          get: function () {
            return 2;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r, "CLOSED", {
          get: function () {
            return 3;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "CONNECTING", {
          get: function () {
            return r.CONNECTING;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "OPEN", {
          get: function () {
            return r.OPEN;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "CLOSING", {
          get: function () {
            return r.CLOSING;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "CLOSED", {
          get: function () {
            return r.CLOSED;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "binaryType", {
          get: function () {
            return this._ws ? this._ws.binaryType : this._binaryType;
          },
          set: function (u) {
            (this._binaryType = u), this._ws && (this._ws.binaryType = u);
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "retryCount", {
          /**
           * Returns the number or connection retries
           */
          get: function () {
            return Math.max(this._retryCount, 0);
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "bufferedAmount", {
          /**
           * The number of bytes of data that have been queued using calls to send() but not yet
           * transmitted to the network. This value resets to zero once all queued data has been sent.
           * This value does not reset to zero when the connection is closed; if you keep calling send(),
           * this will continue to climb. Read only
           */
          get: function () {
            var u = this._messageQueue.reduce(function (v, m) {
              return (
                typeof m == "string"
                  ? (v += m.length)
                  : m instanceof Blob
                  ? (v += m.size)
                  : (v += m.byteLength),
                v
              );
            }, 0);
            return u + (this._ws ? this._ws.bufferedAmount : 0);
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "extensions", {
          /**
           * The extensions selected by the server. This is currently only the empty string or a list of
           * extensions as negotiated by the connection
           */
          get: function () {
            return this._ws ? this._ws.extensions : "";
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "protocol", {
          /**
           * A string indicating the name of the sub-protocol the server selected;
           * this will be one of the strings specified in the protocols parameter when creating the
           * WebSocket object
           */
          get: function () {
            return this._ws ? this._ws.protocol : "";
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "readyState", {
          /**
           * The current state of the connection; this is one of the Ready state constants
           */
          get: function () {
            return this._ws
              ? this._ws.readyState
              : this._options.startClosed
              ? r.CLOSED
              : r.CONNECTING;
          },
          enumerable: !0,
          configurable: !0,
        }),
        Object.defineProperty(r.prototype, "url", {
          /**
           * The URL as resolved by the constructor
           */
          get: function () {
            return this._ws ? this._ws.url : "";
          },
          enumerable: !0,
          configurable: !0,
        }),
        (r.prototype.close = function (i, u) {
          if (
            (i === void 0 && (i = 1e3),
            (this._closeCalled = !0),
            (this._shouldReconnect = !1),
            this._clearTimeouts(),
            !this._ws)
          ) {
            this._debug("close enqueued: no ws instance");
            return;
          }
          if (this._ws.readyState === this.CLOSED) {
            this._debug("close: already closed");
            return;
          }
          this._ws.close(i, u);
        }),
        (r.prototype.reconnect = function (i, u) {
          (this._shouldReconnect = !0),
            (this._closeCalled = !1),
            (this._retryCount = -1),
            !this._ws || this._ws.readyState === this.CLOSED
              ? this._connect()
              : (this._disconnect(i, u), this._connect());
        }),
        (r.prototype.send = function (i) {
          if (this._ws && this._ws.readyState === this.OPEN)
            this._debug("send", i), this._ws.send(i);
          else {
            var u = this._options.maxEnqueuedMessages,
              v = u === void 0 ? lu.maxEnqueuedMessages : u;
            this._messageQueue.length < v &&
              (this._debug("enqueue", i), this._messageQueue.push(i));
          }
        }),
        (r.prototype.addEventListener = function (i, u) {
          this._listeners[i] && this._listeners[i].push(u);
        }),
        (r.prototype.dispatchEvent = function (i) {
          var u,
            v,
            m = this._listeners[i.type];
          if (m)
            try {
              for (var E = yY(m), O = E.next(); !O.done; O = E.next()) {
                var C = O.value;
                this._callEventListener(i, C);
              }
            } catch (G) {
              u = {
                error: G,
              };
            } finally {
              try {
                O && !O.done && (v = E.return) && v.call(E);
              } finally {
                if (u) throw u.error;
              }
            }
          return !0;
        }),
        (r.prototype.removeEventListener = function (i, u) {
          this._listeners[i] &&
            (this._listeners[i] = this._listeners[i].filter(function (v) {
              return v !== u;
            }));
        }),
        (r.prototype._debug = function () {
          for (var i = [], u = 0; u < arguments.length; u++)
            i[u] = arguments[u];
          this._options.debug && console.log.apply(console, SY(["RWS>"], i));
        }),
        (r.prototype._getNextDelay = function () {
          var i = this._options,
            u = i.reconnectionDelayGrowFactor,
            v = u === void 0 ? lu.reconnectionDelayGrowFactor : u,
            m = i.minReconnectionDelay,
            E = m === void 0 ? lu.minReconnectionDelay : m,
            O = i.maxReconnectionDelay,
            C = O === void 0 ? lu.maxReconnectionDelay : O,
            G = 0;
          return (
            this._retryCount > 0 &&
              ((G = E * Math.pow(v, this._retryCount - 1)), G > C && (G = C)),
            this._debug("next delay", G),
            G
          );
        }),
        (r.prototype._wait = function () {
          var i = this;
          return new Promise(function (u) {
            setTimeout(u, i._getNextDelay());
          });
        }),
        (r.prototype._getNextUrl = function (i) {
          if (typeof i == "string") return Promise.resolve(i);
          if (typeof i == "function") {
            var u = i();
            if (typeof u == "string") return Promise.resolve(u);
            if (u.then) return u;
          }
          throw Error("Invalid URL");
        }),
        (r.prototype._connect = function () {
          var i = this;
          if (!(this._connectLock || !this._shouldReconnect)) {
            this._connectLock = !0;
            var u = this._options,
              v = u.maxRetries,
              m = v === void 0 ? lu.maxRetries : v,
              E = u.connectionTimeout,
              O = E === void 0 ? lu.connectionTimeout : E,
              C = u.WebSocket,
              G = C === void 0 ? TY() : C;
            if (this._retryCount >= m) {
              this._debug("max retries reached", this._retryCount, ">=", m);
              return;
            }
            if (
              (this._retryCount++,
              this._debug("connect", this._retryCount),
              this._removeListeners(),
              !EY(G))
            )
              throw Error("No valid WebSocket class provided");
            this._wait()
              .then(function () {
                return i._getNextUrl(i._url);
              })
              .then(function (re) {
                i._closeCalled ||
                  (i._debug("connect", {
                    url: re,
                    protocols: i._protocols,
                  }),
                  (i._ws = i._protocols ? new G(re, i._protocols) : new G(re)),
                  (i._ws.binaryType = i._binaryType),
                  (i._connectLock = !1),
                  i._addListeners(),
                  (i._connectTimeout = setTimeout(function () {
                    return i._handleTimeout();
                  }, O)));
              });
          }
        }),
        (r.prototype._handleTimeout = function () {
          this._debug("timeout event"),
            this._handleError(new wY(Error("TIMEOUT"), this));
        }),
        (r.prototype._disconnect = function (i, u) {
          if ((i === void 0 && (i = 1e3), this._clearTimeouts(), !!this._ws)) {
            this._removeListeners();
            try {
              this._ws.close(i, u), this._handleClose(new kY(i, u, this));
            } catch (v) {}
          }
        }),
        (r.prototype._acceptOpen = function () {
          this._debug("accept open"), (this._retryCount = 0);
        }),
        (r.prototype._callEventListener = function (i, u) {
          "handleEvent" in u ? u.handleEvent(i) : u(i);
        }),
        (r.prototype._removeListeners = function () {
          this._ws &&
            (this._debug("removeListeners"),
            this._ws.removeEventListener("open", this._handleOpen),
            this._ws.removeEventListener("close", this._handleClose),
            this._ws.removeEventListener("message", this._handleMessage),
            this._ws.removeEventListener("error", this._handleError));
        }),
        (r.prototype._addListeners = function () {
          this._ws &&
            (this._debug("addListeners"),
            this._ws.addEventListener("open", this._handleOpen),
            this._ws.addEventListener("close", this._handleClose),
            this._ws.addEventListener("message", this._handleMessage),
            this._ws.addEventListener("error", this._handleError));
        }),
        (r.prototype._clearTimeouts = function () {
          clearTimeout(this._connectTimeout), clearTimeout(this._uptimeTimeout);
        }),
        r
      );
    })(),
  RY = Nh(),
  zb = RY.emit,
  du = {},
  D4 = {
    ABMessage: {
      interval: 1e4,
      message: "heartbeat",
    },
  },
  Qv = {
    ABMessage: void 0,
  },
  zS = function () {
    var i = /* @__PURE__ */ (function () {
        var E = Pt(
          /* @__PURE__ */ Ke.mark(function O(C, G, re) {
            return Ke.wrap(function (de) {
              for (;;)
                switch ((de.prev = de.next)) {
                  case 0:
                    return de.abrupt(
                      "return",
                      new Promise(function (me, Ee) {
                        var Ae = du[C];
                        Ae && (clearInterval(Qv[C]), Ae.close());
                        var Be = new IY(G);
                        (du[C] = Be),
                          (Be.onopen = function (le) {
                            console.log(
                              "WebSocket (".concat(C, ") !"),
                              "".concat(le.target.url)
                            ),
                              u(C),
                              me(void 0),
                              zb("connectionOpened", le);
                          }),
                          (Be.onmessage = function (le) {
                            var bt = le.data;
                            console.log(" (".concat(C, ") :"), bt);
                            try {
                              var Et = JSON.parse(bt);
                              re(Et),
                                C === "ABMessage" &&
                                  m(
                                    "ABMessage",
                                    JSON.stringify({
                                      type: "ack",
                                      msgId: Et.msgId,
                                    })
                                  );
                            } catch (St) {}
                          }),
                          (Be.onclose = function (le) {
                            console.log(
                              "WebSocket (".concat(C, ") !"),
                              "".concat(le.code, ":").concat(le.reason)
                            ),
                              zb("connectionClosed", le),
                              Ee(le);
                          }),
                          (Be.onerror = function (le) {
                            console.error(
                              "WebSocket (".concat(C, ") !"),
                              le
                            ),
                              zb("connectionError", le),
                              Ee(le);
                          });
                      })
                    );
                  case 1:
                  case "end":
                    return de.stop();
                }
            }, O);
          })
        );
        return function (C, G, re) {
          return E.apply(this, arguments);
        };
      })(),
      u = function (O) {
        var C;
        clearTimeout(Qv[O]),
          (Qv[O] = setInterval(
            function () {
              var G, re;
              (G = du[O]) === null ||
                G === void 0 ||
                G.send(
                  ((re = D4[O]) === null || re === void 0
                    ? void 0
                    : re.message) || "heartbeat"
                );
            },
            (C = D4[O]) === null || C === void 0 ? void 0 : C.interval
          ));
      },
      v = function (O) {
        clearTimeout(Qv[O]);
        var C = du[O];
        C && (C.close(), delete du[O]);
      },
      m = function (O, C) {
        var G = du[O];
        G && (console.log(" (".concat(O, ") :"), C), G.send(C));
      };
    return {
      sockets: du,
      connect: i,
      disconnect: v,
      sendMessage: m,
    };
  },
  CY = Nh(),
  _h = CY.emit,
  AY = function (i) {
    console.log("ABMessage ", i);
    try {
      switch (i.type) {
        case "oidRegister":
          xY(i);
          break;
        case "wspush":
          PY(i);
          break;
        default:
          break;
      }
    } catch (u) {
      console.error("ABMessage ", u);
    }
  },
  xY = function (i) {
    "code" in i.data
      ? console.log("", i.data.code + " " + i.data.msg)
      : console.log(
          "",
          i.data.childOidName + " " + i.data.parentIp
        );
  },
  PY = function (i) {
    var u = JSON.parse(i.data);
    switch (u.commandType) {
      case "show_video":
        _h("showVideoEvent", u);
        break;
      case "stop_video":
        _h("stopVideoEvent", u);
        break;
      case "putScreen":
        _h("putScreenEvent", u);
        break;
      case "stopPutScreen":
        _h("stopPutScreenEvent", u);
        break;
      default:
        _h("businessEvent", u);
        break;
    }
  },
  OY = /* @__PURE__ */ (function () {
    var r = Pt(
      /* @__PURE__ */ Ke.mark(function i(u) {
        var v, m, E;
        return Ke.wrap(function (C) {
          for (;;)
            switch ((C.prev = C.next)) {
              case 0:
                if ((pa().setWebsocketConfig(u), !(!u.ip || !u.userId))) {
                  C.next = 4;
                  break;
                }
                return (
                  console.error(""),
                  C.abrupt("return", !1)
                );
              case 4:
                return (
                  (v = zS()),
                  (m = v.connect),
                  (E = v.sendMessage),
                  (C.next = 7),
                  m("ABMessage", u.ip, AY)
                );
              case 7:
                E(
                  "ABMessage",
                  JSON.stringify({
                    type: "oidRegister",
                    id: u.userId,
                  })
                );
              case 8:
              case "end":
                return C.stop();
            }
        }, i);
      })
    );
    return function (u) {
      return r.apply(this, arguments);
    };
  })(),
  DY = /* @__PURE__ */ (function () {
    var r = Pt(
      /* @__PURE__ */ Ke.mark(function i() {
        var u, v;
        return Ke.wrap(function (E) {
          for (;;)
            switch ((E.prev = E.next)) {
              case 0:
                return (
                  (u = zS()), (v = u.disconnect), (E.next = 3), v("ABMessage")
                );
              case 3:
              case "end":
                return E.stop();
            }
        }, i);
      })
    );
    return function () {
      return r.apply(this, arguments);
    };
  })(),
  NY = /* @__PURE__ */ (function () {
    var r = Pt(
      /* @__PURE__ */ Ke.mark(function i(u) {
        var v, m;
        return Ke.wrap(function (O) {
          for (;;)
            switch ((O.prev = O.next)) {
              case 0:
                (v = zS()),
                  (m = v.sendMessage),
                  m("ABMessage", JSON.stringify(u));
              case 2:
              case "end":
                return O.stop();
            }
        }, i);
      })
    );
    return function (u) {
      return r.apply(this, arguments);
    };
  })(),
  dl = null;
function LY() {
  dl || ((dl = uY()), hl(dl));
}
function MY() {
  if ((dl || LY(), !dl)) throw new Error("Pinia ");
  return dl;
}
function N4(r, i) {
  var u = Object.keys(r);
  if (Object.getOwnPropertySymbols) {
    var v = Object.getOwnPropertySymbols(r);
    i &&
      (v = v.filter(function (m) {
        return Object.getOwnPropertyDescriptor(r, m).enumerable;
      })),
      u.push.apply(u, v);
  }
  return u;
}
function L4(r) {
  for (var i = 1; i < arguments.length; i++) {
    var u = arguments[i] != null ? arguments[i] : {};
    i % 2
      ? N4(Object(u), !0).forEach(function (v) {
          tt(r, v, u[v]);
        })
      : Object.getOwnPropertyDescriptors
      ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(u))
      : N4(Object(u)).forEach(function (v) {
          Object.defineProperty(r, v, Object.getOwnPropertyDescriptor(u, v));
        });
  }
  return r;
}
MY();
var jm = Nh(),
  UY = jm.on,
  VY = jm.off,
  FY = jm.emit,
  jY = jm.once,
  Ui = null,
  Wb = null;
function BY() {
  return mS.apply(this, arguments);
}
function mS() {
  return (
    (mS = Pt(
      /* @__PURE__ */ Ke.mark(function r() {
        return Ke.wrap(function (u) {
          for (;;)
            switch ((u.prev = u.next)) {
              case 0:
                if (!Ui) {
                  u.next = 2;
                  break;
                }
                return u.abrupt("return");
              case 2:
                return (
                  Wb ||
                    (Wb = Pt(
                      /* @__PURE__ */ Ke.mark(function v() {
                        var m;
                        return Ke.wrap(function (O) {
                          for (;;)
                            switch ((O.prev = O.next)) {
                              case 0:
                                return (O.next = 2), _Y();
                              case 2:
                                (m = O.sent),
                                  (Ui = L4(
                                    L4({}, m),
                                    {},
                                    {
                                      // 
                                      on: UY,
                                      off: VY,
                                      emit: FY,
                                      once: jY,
                                      initABMessage: OY,
                                      closeABMessage: DY,
                                      sendMessage: NY,
                                    }
                                  ));
                              case 4:
                              case "end":
                                return O.stop();
                            }
                        }, v);
                      })
                    )()),
                  (u.next = 5),
                  Wb
                );
              case 5:
              case "end":
                return u.stop();
            }
        }, r);
      })
    )),
    mS.apply(this, arguments)
  );
}
function Xv() {
  return gS.apply(this, arguments);
}
function gS() {
  return (
    (gS = Pt(
      /* @__PURE__ */ Ke.mark(function r() {
        return Ke.wrap(function (u) {
          for (;;)
            switch ((u.prev = u.next)) {
              case 0:
                if (Ui) {
                  u.next = 5;
                  break;
                }
                return (u.next = 3), BY();
              case 3:
                if (Ui) {
                  u.next = 5;
                  break;
                }
                throw new Error("TRTCWebSDK ");
              case 5:
              case "end":
                return u.stop();
            }
        }, r);
      })
    )),
    gS.apply(this, arguments)
  );
}
var HY = [
    "initABMessage",
    "closeABMessage",
    "sendMessage",
    "enterRoom",
    "playLocalMedia",
    "playRemoteVideo",
    "stopRemoteVideo",
    "playScreenVideo",
    "stopPlayScreenVideo",
    "createSDK",
    "startRecordAudioFrame",
    "removeRecordAudioFrame",
    // "playSpeakerAudio",
    // "mixVideoStreams",
    // "stopMixVideoStreams",
    "mixAudioStreams",
    "stopMixAudioStreams",
    "isSupportedWebRTC",
    "stopLocalMedia",
    "muteLocalAudio",
    "muteLocalVideo",
    "switchCamera",
    "checkCameraDevice",
    "getVideoSnapshot",
    "leaveRoom",
    "destroySDK",
    "on",
    "off",
    "emit",
    "once",
    // 'test',
  ],
  em = {};
HY.forEach(function (r) {
  r === "createSDK"
    ? (em[r] = /* @__PURE__ */ (function () {
        var i = Pt(
          /* @__PURE__ */ Ke.mark(function u(v) {
            var m;
            return Ke.wrap(function (O) {
              for (;;)
                switch ((O.prev = O.next)) {
                  case 0:
                    return (O.next = 2), Xv();
                  case 2:
                    if (!((m = Ui) !== null && m !== void 0 && m.createSDK)) {
                      O.next = 8;
                      break;
                    }
                    return (O.next = 5), Ui.createSDK(v);
                  case 5:
                    return O.abrupt("return", O.sent);
                  case 8:
                    throw new Error(" ".concat(r, "  TRTCWebSDK"));
                  case 9:
                  case "end":
                    return O.stop();
                }
            }, u);
          })
        );
        return function (u) {
          return i.apply(this, arguments);
        };
      })())
    : r === "checkCameraDevice"
    ? (em[r] = /* @__PURE__ */ Pt(
        /* @__PURE__ */ Ke.mark(function i() {
          var u;
          return Ke.wrap(function (m) {
            for (;;)
              switch ((m.prev = m.next)) {
                case 0:
                  return (m.next = 2), Xv();
                case 2:
                  if (
                    !((u = Ui) !== null && u !== void 0 && u.checkCameraDevice)
                  ) {
                    m.next = 8;
                    break;
                  }
                  return (m.next = 5), Ui.checkCameraDevice();
                case 5:
                  return m.abrupt("return", m.sent);
                case 8:
                  throw new Error(" ".concat(r, "  TRTCWebSDK"));
                case 9:
                case "end":
                  return m.stop();
              }
          }, i);
        })
      ))
    : r === "isSupportedWebRTC"
    ? (em[r] = /* @__PURE__ */ Pt(
        /* @__PURE__ */ Ke.mark(function i() {
          var u;
          return Ke.wrap(function (m) {
            for (;;)
              switch ((m.prev = m.next)) {
                case 0:
                  return (m.next = 2), Xv();
                case 2:
                  if (
                    !((u = Ui) !== null && u !== void 0 && u.isSupportedWebRTC)
                  ) {
                    m.next = 8;
                    break;
                  }
                  return (m.next = 5), Ui.isSupportedWebRTC();
                case 5:
                  return m.abrupt("return", m.sent);
                case 8:
                  throw new Error(" ".concat(r, "  TRTCWebSDK"));
                case 9:
                case "end":
                  return m.stop();
              }
          }, i);
        })
      ))
    : (em[r] = /* @__PURE__ */ Pt(
        /* @__PURE__ */ Ke.mark(function i() {
          var u,
            v,
            m = arguments;
          return Ke.wrap(function (O) {
            for (;;)
              switch ((O.prev = O.next)) {
                case 0:
                  return (O.next = 2), Xv();
                case 2:
                  if (
                    ((v = (u = Ui) === null || u === void 0 ? void 0 : u[r]),
                    typeof v != "function")
                  ) {
                    O.next = 7;
                    break;
                  }
                  return O.abrupt("return", v.apply(void 0, m));
                case 7:
                  throw new Error(" ".concat(r, "  TRTCWebSDK"));
                case 8:
                case "end":
                  return O.stop();
              }
          }, i);
        })
      ));
});
var AP = { exports: {} };
(function (r, i) {
  (function (u, v) {
    r.exports = v();
  })(Cb, function () {
    function u(s, e) {
      var n = Object.keys(s);
      if (Object.getOwnPropertySymbols) {
        var a = Object.getOwnPropertySymbols(s);
        e &&
          (a = a.filter(function (c) {
            return Object.getOwnPropertyDescriptor(s, c).enumerable;
          })),
          n.push.apply(n, a);
      }
      return n;
    }
    function v(s) {
      for (var e = 1; e < arguments.length; e++) {
        var n = arguments[e] != null ? arguments[e] : {};
        e % 2
          ? u(Object(n), !0).forEach(function (a) {
              de(s, a, n[a]);
            })
          : Object.getOwnPropertyDescriptors
          ? Object.defineProperties(s, Object.getOwnPropertyDescriptors(n))
          : u(Object(n)).forEach(function (a) {
              Object.defineProperty(
                s,
                a,
                Object.getOwnPropertyDescriptor(n, a)
              );
            });
      }
      return s;
    }
    function m() {
      m = function () {
        return s;
      };
      var s = {},
        e = Object.prototype,
        n = e.hasOwnProperty,
        a = typeof Symbol == "function" ? Symbol : {},
        c = a.iterator || "@@iterator",
        o = a.asyncIterator || "@@asyncIterator",
        l = a.toStringTag || "@@toStringTag";
      function h(W, ee, H) {
        return (
          Object.defineProperty(W, ee, {
            value: H,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          }),
          W[ee]
        );
      }
      try {
        h({}, "");
      } catch (W) {
        h = function (H, I, S) {
          return (H[I] = S);
        };
      }
      function p(W, ee, H, I) {
        var S = ee && ee.prototype instanceof b ? ee : b,
          q = Object.create(S.prototype),
          J = new D(I || []);
        return (
          (q._invoke = (function (te, ue, fe) {
            var Re = "suspendedStart";
            return function (De, At) {
              if (Re === "executing")
                throw new Error("Generator is already running");
              if (Re === "completed") {
                if (De === "throw") throw At;
                return z();
              }
              for (fe.method = De, fe.arg = At; ; ) {
                var Rt = fe.delegate;
                if (Rt) {
                  var Dt = $(Rt, fe);
                  if (Dt) {
                    if (Dt === _) continue;
                    return Dt;
                  }
                }
                if (fe.method === "next") fe.sent = fe._sent = fe.arg;
                else if (fe.method === "throw") {
                  if (Re === "suspendedStart")
                    throw ((Re = "completed"), fe.arg);
                  fe.dispatchException(fe.arg);
                } else fe.method === "return" && fe.abrupt("return", fe.arg);
                Re = "executing";
                var Jt = g(te, ue, fe);
                if (Jt.type === "normal") {
                  if (
                    ((Re = fe.done ? "completed" : "suspendedYield"),
                    Jt.arg === _)
                  )
                    continue;
                  return { value: Jt.arg, done: fe.done };
                }
                Jt.type === "throw" &&
                  ((Re = "completed"),
                  (fe.method = "throw"),
                  (fe.arg = Jt.arg));
              }
            };
          })(W, H, J)),
          q
        );
      }
      function g(W, ee, H) {
        try {
          return { type: "normal", arg: W.call(ee, H) };
        } catch (I) {
          return { type: "throw", arg: I };
        }
      }
      s.wrap = p;
      var _ = {};
      function b() {}
      function R() {}
      function N() {}
      var B = {};
      h(B, c, function () {
        return this;
      });
      var F = Object.getPrototypeOf,
        U = F && F(F(M([])));
      U && U !== e && n.call(U, c) && (B = U);
      var T = (N.prototype = b.prototype = Object.create(B));
      function A(W) {
        ["next", "throw", "return"].forEach(function (ee) {
          h(W, ee, function (H) {
            return this._invoke(ee, H);
          });
        });
      }
      function L(W, ee) {
        function H(S, q, J, te) {
          var ue = g(W[S], W, q);
          if (ue.type !== "throw") {
            var fe = ue.arg,
              Re = fe.value;
            return Re && ut(Re) == "object" && n.call(Re, "__await")
              ? ee.resolve(Re.__await).then(
                  function (De) {
                    H("next", De, J, te);
                  },
                  function (De) {
                    H("throw", De, J, te);
                  }
                )
              : ee.resolve(Re).then(
                  function (De) {
                    (fe.value = De), J(fe);
                  },
                  function (De) {
                    return H("throw", De, J, te);
                  }
                );
          }
          te(ue.arg);
        }
        var I;
        this._invoke = function (S, q) {
          function J() {
            return new ee(function (te, ue) {
              H(S, q, te, ue);
            });
          }
          return (I = I ? I.then(J, J) : J());
        };
      }
      function $(W, ee) {
        var H = W.iterator[ee.method];
        if (H === void 0) {
          if (((ee.delegate = null), ee.method === "throw")) {
            if (
              W.iterator.return &&
              ((ee.method = "return"),
              (ee.arg = void 0),
              $(W, ee),
              ee.method === "throw")
            )
              return _;
            (ee.method = "throw"),
              (ee.arg = new TypeError(
                "The iterator does not provide a 'throw' method"
              ));
          }
          return _;
        }
        var I = g(H, W.iterator, ee.arg);
        if (I.type === "throw")
          return (
            (ee.method = "throw"), (ee.arg = I.arg), (ee.delegate = null), _
          );
        var S = I.arg;
        return S
          ? S.done
            ? ((ee[W.resultName] = S.value),
              (ee.next = W.nextLoc),
              ee.method !== "return" &&
                ((ee.method = "next"), (ee.arg = void 0)),
              (ee.delegate = null),
              _)
            : S
          : ((ee.method = "throw"),
            (ee.arg = new TypeError("iterator result is not an object")),
            (ee.delegate = null),
            _);
      }
      function X(W) {
        var ee = { tryLoc: W[0] };
        1 in W && (ee.catchLoc = W[1]),
          2 in W && ((ee.finallyLoc = W[2]), (ee.afterLoc = W[3])),
          this.tryEntries.push(ee);
      }
      function Q(W) {
        var ee = W.completion || {};
        (ee.type = "normal"), delete ee.arg, (W.completion = ee);
      }
      function D(W) {
        (this.tryEntries = [{ tryLoc: "root" }]),
          W.forEach(X, this),
          this.reset(!0);
      }
      function M(W) {
        if (W) {
          var ee = W[c];
          if (ee) return ee.call(W);
          if (typeof W.next == "function") return W;
          if (!isNaN(W.length)) {
            var H = -1,
              I = function S() {
                for (; ++H < W.length; )
                  if (n.call(W, H)) return (S.value = W[H]), (S.done = !1), S;
                return (S.value = void 0), (S.done = !0), S;
              };
            return (I.next = I);
          }
        }
        return { next: z };
      }
      function z() {
        return { value: void 0, done: !0 };
      }
      return (
        (R.prototype = N),
        h(T, "constructor", N),
        h(N, "constructor", R),
        (R.displayName = h(N, l, "GeneratorFunction")),
        (s.isGeneratorFunction = function (W) {
          var ee = typeof W == "function" && W.constructor;
          return (
            !!ee &&
            (ee === R || (ee.displayName || ee.name) === "GeneratorFunction")
          );
        }),
        (s.mark = function (W) {
          return (
            Object.setPrototypeOf
              ? Object.setPrototypeOf(W, N)
              : ((W.__proto__ = N), h(W, l, "GeneratorFunction")),
            (W.prototype = Object.create(T)),
            W
          );
        }),
        (s.awrap = function (W) {
          return { __await: W };
        }),
        A(L.prototype),
        h(L.prototype, o, function () {
          return this;
        }),
        (s.AsyncIterator = L),
        (s.async = function (W, ee, H, I, S) {
          S === void 0 && (S = Promise);
          var q = new L(p(W, ee, H, I), S);
          return s.isGeneratorFunction(ee)
            ? q
            : q.next().then(function (J) {
                return J.done ? J.value : q.next();
              });
        }),
        A(T),
        h(T, l, "Generator"),
        h(T, c, function () {
          return this;
        }),
        h(T, "toString", function () {
          return "[object Generator]";
        }),
        (s.keys = function (W) {
          var ee = [];
          for (var H in W) ee.push(H);
          return (
            ee.reverse(),
            function I() {
              for (; ee.length; ) {
                var S = ee.pop();
                if (S in W) return (I.value = S), (I.done = !1), I;
              }
              return (I.done = !0), I;
            }
          );
        }),
        (s.values = M),
        (D.prototype = {
          constructor: D,
          reset: function (ee) {
            if (
              ((this.prev = 0),
              (this.next = 0),
              (this.sent = this._sent = void 0),
              (this.done = !1),
              (this.delegate = null),
              (this.method = "next"),
              (this.arg = void 0),
              this.tryEntries.forEach(Q),
              !ee)
            )
              for (var H in this)
                H.charAt(0) === "t" &&
                  n.call(this, H) &&
                  !isNaN(+H.slice(1)) &&
                  (this[H] = void 0);
          },
          stop: function () {
            this.done = !0;
            var ee = this.tryEntries[0].completion;
            if (ee.type === "throw") throw ee.arg;
            return this.rval;
          },
          dispatchException: function (ee) {
            if (this.done) throw ee;
            var H = this;
            function I(fe, Re) {
              return (
                (J.type = "throw"),
                (J.arg = ee),
                (H.next = fe),
                Re && ((H.method = "next"), (H.arg = void 0)),
                !!Re
              );
            }
            for (var S = this.tryEntries.length - 1; S >= 0; --S) {
              var q = this.tryEntries[S],
                J = q.completion;
              if (q.tryLoc === "root") return I("end");
              if (q.tryLoc <= this.prev) {
                var te = n.call(q, "catchLoc"),
                  ue = n.call(q, "finallyLoc");
                if (te && ue) {
                  if (this.prev < q.catchLoc) return I(q.catchLoc, !0);
                  if (this.prev < q.finallyLoc) return I(q.finallyLoc);
                } else if (te) {
                  if (this.prev < q.catchLoc) return I(q.catchLoc, !0);
                } else {
                  if (!ue)
                    throw new Error("try statement without catch or finally");
                  if (this.prev < q.finallyLoc) return I(q.finallyLoc);
                }
              }
            }
          },
          abrupt: function (ee, H) {
            for (var I = this.tryEntries.length - 1; I >= 0; --I) {
              var S = this.tryEntries[I];
              if (
                S.tryLoc <= this.prev &&
                n.call(S, "finallyLoc") &&
                this.prev < S.finallyLoc
              ) {
                var q = S;
                break;
              }
            }
            q &&
              (ee === "break" || ee === "continue") &&
              q.tryLoc <= H &&
              H <= q.finallyLoc &&
              (q = null);
            var J = q ? q.completion : {};
            return (
              (J.type = ee),
              (J.arg = H),
              q
                ? ((this.method = "next"), (this.next = q.finallyLoc), _)
                : this.complete(J)
            );
          },
          complete: function (ee, H) {
            if (ee.type === "throw") throw ee.arg;
            return (
              ee.type === "break" || ee.type === "continue"
                ? (this.next = ee.arg)
                : ee.type === "return"
                ? ((this.rval = this.arg = ee.arg),
                  (this.method = "return"),
                  (this.next = "end"))
                : ee.type === "normal" && H && (this.next = H),
              _
            );
          },
          finish: function (ee) {
            for (var H = this.tryEntries.length - 1; H >= 0; --H) {
              var I = this.tryEntries[H];
              if (I.finallyLoc === ee)
                return this.complete(I.completion, I.afterLoc), Q(I), _;
            }
          },
          catch: function (ee) {
            for (var H = this.tryEntries.length - 1; H >= 0; --H) {
              var I = this.tryEntries[H];
              if (I.tryLoc === ee) {
                var S = I.completion;
                if (S.type === "throw") {
                  var q = S.arg;
                  Q(I);
                }
                return q;
              }
            }
            throw new Error("illegal catch attempt");
          },
          delegateYield: function (ee, H, I) {
            return (
              (this.delegate = { iterator: M(ee), resultName: H, nextLoc: I }),
              this.method === "next" && (this.arg = void 0),
              _
            );
          },
        }),
        s
      );
    }
    function E(s) {
      return (
        (E =
          typeof Symbol == "function" && ut(Symbol.iterator) == "symbol"
            ? function (e) {
                return ut(e);
              }
            : function (e) {
                return e &&
                  typeof Symbol == "function" &&
                  e.constructor === Symbol &&
                  e !== Symbol.prototype
                  ? "symbol"
                  : ut(e);
              }),
        E(s)
      );
    }
    function O(s, e, n, a, c, o, l) {
      try {
        var h = s[o](l),
          p = h.value;
      } catch (g) {
        return void n(g);
      }
      h.done ? e(p) : Promise.resolve(p).then(a, c);
    }
    function C(s) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (a, c) {
          var o = s.apply(e, n);
          function l(p) {
            O(o, a, c, l, h, "next", p);
          }
          function h(p) {
            O(o, a, c, l, h, "throw", p);
          }
          l(void 0);
        });
      };
    }
    function G(s, e) {
      if (!(s instanceof e))
        throw new TypeError("Cannot call a class as a function");
    }
    function re(s, e) {
      for (var n = 0; n < e.length; n++) {
        var a = e[n];
        (a.enumerable = a.enumerable || !1),
          (a.configurable = !0),
          "value" in a && (a.writable = !0),
          Object.defineProperty(s, a.key, a);
      }
    }
    function ce(s, e, n) {
      return (
        e && re(s.prototype, e),
        n && re(s, n),
        Object.defineProperty(s, "prototype", { writable: !1 }),
        s
      );
    }
    function de(s, e, n) {
      return (
        e in s
          ? Object.defineProperty(s, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (s[e] = n),
        s
      );
    }
    function me(s, e) {
      if (typeof e != "function" && e !== null)
        throw new TypeError(
          "Super expression must either be null or a function"
        );
      (s.prototype = Object.create(e && e.prototype, {
        constructor: { value: s, writable: !0, configurable: !0 },
      })),
        Object.defineProperty(s, "prototype", { writable: !1 }),
        e && Ae(s, e);
    }
    function Ee(s) {
      return (
        (Ee = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (e) {
              return e.__proto__ || Object.getPrototypeOf(e);
            }),
        Ee(s)
      );
    }
    function Ae(s, e) {
      return (
        (Ae = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (n, a) {
              return (n.__proto__ = a), n;
            }),
        Ae(s, e)
      );
    }
    function Be() {
      if (
        typeof Reflect == "undefined" ||
        !Reflect.construct ||
        Reflect.construct.sham
      )
        return !1;
      if (typeof Proxy == "function") return !0;
      try {
        return (
          Boolean.prototype.valueOf.call(
            Reflect.construct(Boolean, [], function () {})
          ),
          !0
        );
      } catch (s) {
        return !1;
      }
    }
    function le(s, e, n) {
      return (
        (le = Be()
          ? Reflect.construct.bind()
          : function (a, c, o) {
              var l = [null];
              l.push.apply(l, c);
              var h = new (Function.bind.apply(a, l))();
              return o && Ae(h, o.prototype), h;
            }),
        le.apply(null, arguments)
      );
    }
    function bt(s) {
      var e = typeof Map == "function" ? /* @__PURE__ */ new Map() : void 0;
      return (
        (bt = function (a) {
          if (
            a === null ||
            ((c = a), Function.toString.call(c).indexOf("[native code]") === -1)
          )
            return a;
          var c;
          if (typeof a != "function")
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          if (e !== void 0) {
            if (e.has(a)) return e.get(a);
            e.set(a, o);
          }
          function o() {
            return le(a, arguments, Ee(this).constructor);
          }
          return (
            (o.prototype = Object.create(a.prototype, {
              constructor: {
                value: o,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
            Ae(o, a)
          );
        }),
        bt(s)
      );
    }
    function Et(s, e) {
      if (e && (ut(e) == "object" || typeof e == "function")) return e;
      if (e !== void 0)
        throw new TypeError(
          "Derived constructors may only return object or undefined"
        );
      return (function (n) {
        if (n === void 0)
          throw new ReferenceError(
            "this hasn't been initialised - super() hasn't been called"
          );
        return n;
      })(s);
    }
    function St(s) {
      var e = Be();
      return function () {
        var n,
          a = Ee(s);
        if (e) {
          var c = Ee(this).constructor;
          n = Reflect.construct(a, arguments, c);
        } else n = a.apply(this, arguments);
        return Et(this, n);
      };
    }
    function Ut(s, e) {
      for (
        ;
        !Object.prototype.hasOwnProperty.call(s, e) && (s = Ee(s)) !== null;

      );
      return s;
    }
    function vt() {
      return (
        (vt =
          typeof Reflect != "undefined" && Reflect.get
            ? Reflect.get.bind()
            : function (s, e, n) {
                var a = Ut(s, e);
                if (a) {
                  var c = Object.getOwnPropertyDescriptor(a, e);
                  return c.get
                    ? c.get.call(arguments.length < 3 ? s : n)
                    : c.value;
                }
              }),
        vt.apply(this, arguments)
      );
    }
    function wt(s, e) {
      return (
        (function (n) {
          if (Array.isArray(n)) return n;
        })(s) ||
        (function (n, a) {
          var c =
            n == null
              ? null
              : (typeof Symbol != "undefined" && n[Symbol.iterator]) ||
                n["@@iterator"];
          if (c != null) {
            var o,
              l,
              h = [],
              p = !0,
              g = !1;
            try {
              for (
                c = c.call(n);
                !(p = (o = c.next()).done) &&
                (h.push(o.value), !a || h.length !== a);
                p = !0
              );
            } catch (_) {
              (g = !0), (l = _);
            } finally {
              try {
                p || c.return == null || c.return();
              } finally {
                if (g) throw l;
              }
            }
            return h;
          }
        })(s, e) ||
        It(s, e) ||
        (function () {
          throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
        })()
      );
    }
    function Je(s) {
      return (
        (function (e) {
          if (Array.isArray(e)) return ct(e);
        })(s) ||
        (function (e) {
          if (
            (typeof Symbol != "undefined" && e[Symbol.iterator] != null) ||
            e["@@iterator"] != null
          )
            return Array.from(e);
        })(s) ||
        It(s) ||
        (function () {
          throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
        })()
      );
    }
    function It(s, e) {
      if (s) {
        if (typeof s == "string") return ct(s, e);
        var n = Object.prototype.toString.call(s).slice(8, -1);
        return (
          n === "Object" && s.constructor && (n = s.constructor.name),
          n === "Map" || n === "Set"
            ? Array.from(s)
            : n === "Arguments" ||
              /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
            ? ct(s, e)
            : void 0
        );
      }
    }
    function ct(s, e) {
      (e == null || e > s.length) && (e = s.length);
      for (var n = 0, a = new Array(e); n < e; n++) a[n] = s[n];
      return a;
    }
    function We(s, e) {
      var n =
        (typeof Symbol != "undefined" && s[Symbol.iterator]) || s["@@iterator"];
      if (!n) {
        if (
          Array.isArray(s) ||
          (n = It(s)) ||
          (e && s && typeof s.length == "number")
        ) {
          n && (s = n);
          var a = 0,
            c = function () {};
          return {
            s: c,
            n: function () {
              return a >= s.length ? { done: !0 } : { done: !1, value: s[a++] };
            },
            e: function (g) {
              throw g;
            },
            f: c,
          };
        }
        throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
      }
      var o,
        l = !0,
        h = !1;
      return {
        s: function () {
          n = n.call(s);
        },
        n: function () {
          var g = n.next();
          return (l = g.done), g;
        },
        e: function (g) {
          (h = !0), (o = g);
        },
        f: function () {
          try {
            l || n.return == null || n.return();
          } finally {
            if (h) throw o;
          }
        },
      };
    }
    function Oe(s, e, n, a, c) {
      var o = {};
      return (
        Object.keys(a).forEach(function (l) {
          o[l] = a[l];
        }),
        (o.enumerable = !!o.enumerable),
        (o.configurable = !!o.configurable),
        ("value" in o || o.initializer) && (o.writable = !0),
        (o = n
          .slice()
          .reverse()
          .reduce(function (l, h) {
            return h(s, e, l) || l;
          }, o)),
        c &&
          o.initializer !== void 0 &&
          ((o.value = o.initializer ? o.initializer.call(c) : void 0),
          (o.initializer = void 0)),
        o.initializer === void 0 &&
          (Object.defineProperty(s, e, o), (o = null)),
        o
      );
    }
    var at =
        typeof globalThis != "undefined"
          ? globalThis
          : typeof window != "undefined"
          ? window
          : typeof Cb != "undefined"
          ? Cb
          : typeof self != "undefined"
          ? self
          : {},
      kt = function (e) {
        return e && e.Math == Math && e;
      },
      Xe =
        kt(
          (typeof globalThis == "undefined" ? "undefined" : ut(globalThis)) ==
            "object" && globalThis
        ) ||
        kt(
          (typeof window == "undefined" ? "undefined" : ut(window)) ==
            "object" && window
        ) ||
        kt(
          (typeof self == "undefined" ? "undefined" : ut(self)) == "object" &&
            self
        ) ||
        kt(ut(at) == "object" && at) ||
        (function () {
          return this;
        })() ||
        Function("return this")(),
      Ot = {},
      et = function (e) {
        try {
          return !!e();
        } catch (n) {
          return !0;
        }
      },
      Mt = !et(function () {
        return (
          Object.defineProperty({}, 1, {
            get: function () {
              return 7;
            },
          })[1] != 7
        );
      }),
      rn = !et(function () {
        var s = function () {}.bind();
        return typeof s != "function" || s.hasOwnProperty("prototype");
      }),
      nt = rn,
      Ge = Function.prototype.call,
      Te = nt
        ? Ge.bind(Ge)
        : function () {
            return Ge.apply(Ge, arguments);
          },
      we = {},
      Ve = {}.propertyIsEnumerable,
      Ne = Object.getOwnPropertyDescriptor,
      Ue = Ne && !Ve.call({ 1: 2 }, 1);
    we.f = Ue
      ? function (s) {
          var e = Ne(this, s);
          return !!e && e.enumerable;
        }
      : Ve;
    var Ye,
      pt,
      ft = function (e, n) {
        return {
          enumerable: !(1 & e),
          configurable: !(2 & e),
          writable: !(4 & e),
          value: n,
        };
      },
      An = rn,
      Yn = Function.prototype,
      oo = Yn.call,
      Bm = An && Yn.bind.bind(oo, oo),
      Lh = function (e) {
        return An
          ? Bm(e)
          : function () {
              return oo.apply(e, arguments);
            };
      },
      is = Lh,
      Mh = is({}.toString),
      Su = is("".slice),
      or = function (e) {
        return Su(Mh(e), 8, -1);
      },
      Uh = or,
      zt = Lh,
      Qe = function (e) {
        if (Uh(e) === "Function") return zt(e);
      },
      Vh = et,
      Fh = or,
      wu = Object,
      zi = Qe("".split),
      Er = Vh(function () {
        return !wu("z").propertyIsEnumerable(0);
      })
        ? function (s) {
            return Fh(s) == "String" ? zi(s, "") : wu(s);
          }
        : wu,
      Lr = function (e) {
        return e == null;
      },
      _a = Lr,
      vi = TypeError,
      Vn = function (e) {
        if (_a(e)) throw vi("Can't call method on " + e);
        return e;
      },
      ku = Er,
      Hm = Vn,
      Ir = function (e) {
        return ku(Hm(e));
      },
      xn =
        (typeof document == "undefined" ? "undefined" : ut(document)) ==
          "object" && document.all,
      as = { all: xn, IS_HTMLDDA: xn === void 0 && xn !== void 0 },
      os = as.all,
      Bt = as.IS_HTMLDDA
        ? function (s) {
            return typeof s == "function" || s === os;
          }
        : function (s) {
            return typeof s == "function";
          },
      Ht = Bt,
      jh = as.all,
      pn = as.IS_HTMLDDA
        ? function (s) {
            return ut(s) == "object" ? s !== null : Ht(s) || s === jh;
          }
        : function (s) {
            return ut(s) == "object" ? s !== null : Ht(s);
          },
      ml = Xe,
      zm = Bt,
      Wm = function (e) {
        return zm(e) ? e : void 0;
      },
      mi = function (e, n) {
        return arguments.length < 2 ? Wm(ml[e]) : ml[e] && ml[e][n];
      },
      gi = Qe({}.isPrototypeOf),
      $r = mi("navigator", "userAgent") || "",
      gl = Xe,
      ya = $r,
      Zn = gl.process,
      Bh = gl.Deno,
      Hh = (Zn && Zn.versions) || (Bh && Bh.version),
      _l = Hh && Hh.v8;
    _l &&
      (pt = (Ye = _l.split("."))[0] > 0 && Ye[0] < 4 ? 1 : +(Ye[0] + Ye[1])),
      !pt &&
        ya &&
        (!(Ye = ya.match(/Edge\/(\d+)/)) || Ye[1] >= 74) &&
        (Ye = ya.match(/Chrome\/(\d+)/)) &&
        (pt = +Ye[1]);
    var Wi = pt,
      ss = Wi,
      Gi = et,
      zh =
        !!Object.getOwnPropertySymbols &&
        !Gi(function () {
          var s = Symbol();
          return (
            !String(s) ||
            !(Object(s) instanceof Symbol) ||
            (!Symbol.sham && ss && ss < 41)
          );
        }),
      Wh = zh && !Symbol.sham && ut(Symbol.iterator) == "symbol",
      Tu = mi,
      yl = Bt,
      bl = gi,
      Gh = Object,
      so = Wh
        ? function (s) {
            return ut(s) == "symbol";
          }
        : function (s) {
            var e = Tu("Symbol");
            return yl(e) && bl(e.prototype, Gh(s));
          },
      Sl = String,
      sr = function (e) {
        try {
          return Sl(e);
        } catch (n) {
          return "Object";
        }
      },
      wl = Bt,
      us = sr,
      qh = TypeError,
      ur = function (e) {
        if (wl(e)) return e;
        throw qh(us(e) + " is not a function");
      },
      kl = ur,
      Tl = Lr,
      ba = function (e, n) {
        var a = e[n];
        return Tl(a) ? void 0 : kl(a);
      },
      _i = Te,
      El = Bt,
      Sa = pn,
      Gm = TypeError,
      Eu = { exports: {} },
      Kh = Xe,
      Yt = Object.defineProperty,
      Iu = function (e, n) {
        try {
          Yt(Kh, e, { value: n, configurable: !0, writable: !0 });
        } catch (a) {
          Kh[e] = n;
        }
        return n;
      },
      yn = Iu,
      Il = "__core-js_shared__",
      Ru = Xe[Il] || yn(Il, {}),
      Rl = Ru;
    (Eu.exports = function (s, e) {
      return Rl[s] || (Rl[s] = e !== void 0 ? e : {});
    })("versions", []).push({
      version: "3.25.5",
      mode: "global",
      copyright: " 2014-2022 Denis Pushkarev (zloirock.ru)",
      license: "https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",
      source: "https://github.com/zloirock/core-js",
    });
    var Cu = Vn,
      Jh = Object,
      Wn = function (e) {
        return Jh(Cu(e));
      },
      qm = Wn,
      Km = Qe({}.hasOwnProperty),
      bn =
        Object.hasOwn ||
        function (s, e) {
          return Km(qm(s), e);
        },
      $h = Qe,
      Cl = 0,
      Jm = Math.random(),
      Yh = $h((1).toString),
      Au = function (e) {
        return "Symbol(" + (e === void 0 ? "" : e) + ")_" + Yh(++Cl + Jm, 36);
      },
      $m = Xe,
      Al = Eu.exports,
      Fn = bn,
      xl = Au,
      Pl = zh,
      Ol = Wh,
      uo = Al("wks"),
      qi = $m.Symbol,
      Dl = qi && qi.for,
      Zh = Ol ? qi : (qi && qi.withoutSetter) || xl,
      Qt = function (e) {
        if (!Fn(uo, e) || (!Pl && typeof uo[e] != "string")) {
          var n = "Symbol." + e;
          Pl && Fn(qi, e)
            ? (uo[e] = qi[e])
            : (uo[e] = Ol && Dl ? Dl(n) : Zh(n));
        }
        return uo[e];
      },
      Nl = Te,
      xu = pn,
      cr = so,
      Ym = ba,
      Zm = function (e, n) {
        var a, c;
        if (
          (n === "string" && El((a = e.toString)) && !Sa((c = _i(a, e)))) ||
          (El((a = e.valueOf)) && !Sa((c = _i(a, e)))) ||
          (n !== "string" && El((a = e.toString)) && !Sa((c = _i(a, e))))
        )
          return c;
        throw Gm("Can't convert object to primitive value");
      },
      Qm = TypeError,
      Rr = Qt("toPrimitive"),
      cs = function (e, n) {
        if (!xu(e) || cr(e)) return e;
        var a,
          c = Ym(e, Rr);
        if (c) {
          if (
            (n === void 0 && (n = "default"),
            (a = Nl(c, e, n)),
            !xu(a) || cr(a))
          )
            return a;
          throw Qm("Can't convert object to primitive value");
        }
        return n === void 0 && (n = "number"), Zm(e, n);
      },
      ls = cs,
      yi = so,
      ds = function (e) {
        var n = ls(e, "string");
        return yi(n) ? n : n + "";
      },
      Qh = pn,
      Mr = Xe.document,
      Pu = Qh(Mr) && Qh(Mr.createElement),
      Qn = function (e) {
        return Pu ? Mr.createElement(e) : {};
      },
      Ou = Qn,
      Xh =
        !Mt &&
        !et(function () {
          return (
            Object.defineProperty(Ou("div"), "a", {
              get: function () {
                return 7;
              },
            }).a != 7
          );
        }),
      ef = Mt,
      tf = Te,
      Xm = we,
      co = ft,
      eg = Ir,
      nf = ds,
      tg = bn,
      Ll = Xh,
      lo = Object.getOwnPropertyDescriptor;
    Ot.f = ef
      ? lo
      : function (s, e) {
          if (((s = eg(s)), (e = nf(e)), Ll))
            try {
              return lo(s, e);
            } catch (n) {}
          if (tg(s, e)) return co(!tf(Xm.f, s, e), s[e]);
        };
    var vn = {},
      wa =
        Mt &&
        et(function () {
          return (
            Object.defineProperty(function () {}, "prototype", {
              value: 42,
              writable: !1,
            }).prototype != 42
          );
        }),
      Ml = pn,
      rf = String,
      ka = TypeError,
      mn = function (e) {
        if (Ml(e)) return e;
        throw ka(rf(e) + " is not an object");
      },
      ng = Mt,
      Ul = Xh,
      af = wa,
      hs = mn,
      Vl = ds,
      Fl = TypeError,
      ho = Object.defineProperty,
      rg = Object.getOwnPropertyDescriptor,
      of = "enumerable",
      bi = "configurable",
      fs = "writable";
    vn.f = ng
      ? af
        ? function (s, e, n) {
            if (
              (hs(s),
              (e = Vl(e)),
              hs(n),
              typeof s == "function" &&
                e === "prototype" &&
                "value" in n &&
                fs in n &&
                !n.writable)
            ) {
              var a = rg(s, e);
              a &&
                a.writable &&
                ((s[e] = n.value),
                (n = {
                  configurable: bi in n ? n.configurable : a.configurable,
                  enumerable: of in n ? n.enumerable : a.enumerable,
                  writable: !1,
                }));
            }
            return ho(s, e, n);
          }
        : ho
      : function (s, e, n) {
          if ((hs(s), (e = Vl(e)), hs(n), Ul))
            try {
              return ho(s, e, n);
            } catch (a) {}
          if ("get" in n || "set" in n) throw Fl("Accessors not supported");
          return "value" in n && (s[e] = n.value), s;
        };
    var ps = vn,
      vs = ft,
      Cr = Mt
        ? function (s, e, n) {
            return ps.f(s, e, vs(1, n));
          }
        : function (s, e, n) {
            return (s[e] = n), s;
          },
      Du = { exports: {} },
      Nu = Mt,
      sf = bn,
      ms = Function.prototype,
      jl = Nu && Object.getOwnPropertyDescriptor,
      gs = sf(ms, "name"),
      Ki = {
        EXISTS: gs,
        PROPER: gs && function () {}.name === "something",
        CONFIGURABLE: gs && (!Nu || (Nu && jl(ms, "name").configurable)),
      },
      _s = Bt,
      Gn = Ru,
      Yr = Qe(Function.toString);
    _s(Gn.inspectSource) ||
      (Gn.inspectSource = function (s) {
        return Yr(s);
      });
    var ys,
      fo,
      bs,
      Lu = Gn.inspectSource,
      uf = Bt,
      Mu = Xe.WeakMap,
      Bl = uf(Mu) && /native code/.test(String(Mu)),
      Hl = Eu.exports,
      cf = Au,
      zl = Hl("keys"),
      Uu = function (e) {
        return zl[e] || (zl[e] = cf(e));
      },
      Vu = {},
      lf = Bl,
      df = Xe,
      ig = pn,
      Ji = Cr,
      Ss = bn,
      Wl = Ru,
      On = Uu,
      po = Vu,
      $i = "Object already initialized",
      Gl = df.TypeError,
      ag = df.WeakMap;
    if (lf || Wl.state) {
      var jn = Wl.state || (Wl.state = new ag());
      (jn.get = jn.get),
        (jn.has = jn.has),
        (jn.set = jn.set),
        (ys = function (e, n) {
          if (jn.has(e)) throw Gl($i);
          return (n.facade = e), jn.set(e, n), n;
        }),
        (fo = function (e) {
          return jn.get(e) || {};
        }),
        (bs = function (e) {
          return jn.has(e);
        });
    } else {
      var Ta = On("state");
      (po[Ta] = !0),
        (ys = function (e, n) {
          if (Ss(e, Ta)) throw Gl($i);
          return (n.facade = e), Ji(e, Ta, n), n;
        }),
        (fo = function (e) {
          return Ss(e, Ta) ? e[Ta] : {};
        }),
        (bs = function (e) {
          return Ss(e, Ta);
        });
    }
    var an = {
        set: ys,
        get: fo,
        has: bs,
        enforce: function (e) {
          return bs(e) ? fo(e) : ys(e, {});
        },
        getterFor: function (e) {
          return function (n) {
            var a;
            if (!ig(n) || (a = fo(n)).type !== e)
              throw Gl("Incompatible receiver, " + e + " required");
            return a;
          };
        },
      },
      hf = et,
      Ea = Bt,
      Fu = bn,
      ws = Mt,
      og = Ki.CONFIGURABLE,
      sg = Lu,
      ju = an.enforce,
      ug = an.get,
      Bu = Object.defineProperty,
      cg =
        ws &&
        !hf(function () {
          return Bu(function () {}, "length", { value: 8 }).length !== 8;
        }),
      ql = String(String).split("String"),
      lg = (Du.exports = function (s, e, n) {
        String(e).slice(0, 7) === "Symbol(" &&
          (e = "[" + String(e).replace(/^Symbol\(([^)]*)\)/, "$1") + "]"),
          n && n.getter && (e = "get " + e),
          n && n.setter && (e = "set " + e),
          (!Fu(s, "name") || (og && s.name !== e)) &&
            (ws ? Bu(s, "name", { value: e, configurable: !0 }) : (s.name = e)),
          cg &&
            n &&
            Fu(n, "arity") &&
            s.length !== n.arity &&
            Bu(s, "length", { value: n.arity });
        try {
          n && Fu(n, "constructor") && n.constructor
            ? ws && Bu(s, "prototype", { writable: !1 })
            : s.prototype && (s.prototype = void 0);
        } catch (c) {}
        var a = ju(s);
        return (
          Fu(a, "source") ||
            (a.source = ql.join(typeof e == "string" ? e : "")),
          s
        );
      });
    Function.prototype.toString = lg(function () {
      return (Ea(this) && ug(this).source) || sg(this);
    }, "toString");
    var Kl = Bt,
      dg = vn,
      hg = Du.exports,
      fg = Iu,
      Bn = function (e, n, a, c) {
        c || (c = {});
        var o = c.enumerable,
          l = c.name !== void 0 ? c.name : n;
        if ((Kl(a) && hg(a, l, c), c.global)) o ? (e[n] = a) : fg(n, a);
        else {
          try {
            c.unsafe ? e[n] && (o = !0) : delete e[n];
          } catch (h) {}
          o
            ? (e[n] = a)
            : dg.f(e, n, {
                value: a,
                enumerable: !1,
                configurable: !c.nonConfigurable,
                writable: !c.nonWritable,
              });
        }
        return e;
      },
      Ft = {},
      Yi = Math.ceil,
      Ur = Math.floor,
      pg =
        Math.trunc ||
        function (s) {
          var e = +s;
          return (e > 0 ? Ur : Yi)(e);
        },
      lr = function (e) {
        var n = +e;
        return n != n || n === 0 ? 0 : pg(n);
      },
      Jl = lr,
      Hu = Math.max,
      zu = Math.min,
      Vr = function (e, n) {
        var a = Jl(e);
        return a < 0 ? Hu(a + n, 0) : zu(a, n);
      },
      Ia = lr,
      ks = Math.min,
      on = function (e) {
        return e > 0 ? ks(Ia(e), 9007199254740991) : 0;
      },
      Ts = on,
      wn = function (e) {
        return Ts(e.length);
      },
      vo = Ir,
      vg = Vr,
      Zi = wn,
      $l = function (e) {
        return function (n, a, c) {
          var o,
            l = vo(n),
            h = Zi(l),
            p = vg(c, h);
          if (e && a != a) {
            for (; h > p; ) if ((o = l[p++]) != o) return !0;
          } else
            for (; h > p; p++)
              if ((e || p in l) && l[p] === a) return e || p || 0;
          return !e && -1;
        };
      },
      Fr = { includes: $l(!0), indexOf: $l(!1) },
      Zr = bn,
      Hn = Ir,
      qt = Fr.indexOf,
      Es = Vu,
      Yl = Qe([].push),
      mo = function (e, n) {
        var a,
          c = Hn(e),
          o = 0,
          l = [];
        for (a in c) !Zr(Es, a) && Zr(c, a) && Yl(l, a);
        for (; n.length > o; ) Zr(c, (a = n[o++])) && (~qt(l, a) || Yl(l, a));
        return l;
      },
      Is = [
        "constructor",
        "hasOwnProperty",
        "isPrototypeOf",
        "propertyIsEnumerable",
        "toLocaleString",
        "toString",
        "valueOf",
      ],
      go = mo,
      Qr = Is.concat("length", "prototype");
    Ft.f =
      Object.getOwnPropertyNames ||
      function (s) {
        return go(s, Qr);
      };
    var Zl = {};
    Zl.f = Object.getOwnPropertySymbols;
    var ff = mi,
      mg = Ft,
      Wu = Zl,
      gg = mn,
      _g = Qe([].concat),
      _o =
        ff("Reflect", "ownKeys") ||
        function (s) {
          var e = mg.f(gg(s)),
            n = Wu.f;
          return n ? _g(e, n(s)) : e;
        },
      Ql = bn,
      pf = _o,
      vf = Ot,
      Xl = vn,
      mf = et,
      yg = Bt,
      bg = /#|\.prototype\./,
      Rs = function (e, n) {
        var a = Cs[Sg(e)];
        return a == gf || (a != wg && (yg(n) ? mf(n) : !!n));
      },
      Sg = (Rs.normalize = function (s) {
        return String(s).replace(bg, ".").toLowerCase();
      }),
      Cs = (Rs.data = {}),
      wg = (Rs.NATIVE = "N"),
      gf = (Rs.POLYFILL = "P"),
      yo = Rs,
      Gu = Xe,
      kg = Ot.f,
      qu = Cr,
      Ku = Bn,
      Tg = Iu,
      Eg = function (e, n, a) {
        for (var c = pf(n), o = Xl.f, l = vf.f, h = 0; h < c.length; h++) {
          var p = c[h];
          Ql(e, p) || (a && Ql(a, p)) || o(e, p, l(n, p));
        }
      },
      Qi = yo,
      Tt = function (e, n) {
        var a,
          c,
          o,
          l,
          h,
          p = e.target,
          g = e.global,
          _ = e.stat;
        if ((a = g ? Gu : _ ? Gu[p] || Tg(p, {}) : (Gu[p] || {}).prototype))
          for (c in n) {
            if (
              ((l = n[c]),
              (o = e.dontCallGetSet ? (h = kg(a, c)) && h.value : a[c]),
              !Qi(g ? c : p + (_ ? "." : "#") + c, e.forced) && o !== void 0)
            ) {
              if (ut(l) == ut(o)) continue;
              Eg(l, o);
            }
            (e.sham || (o && o.sham)) && qu(l, "sham", !0), Ku(a, c, l, e);
          }
      },
      Ig = Tt,
      Rg = et,
      _f = Ir,
      ed = Ot.f,
      td = Mt,
      yf = Rg(function () {
        ed(1);
      });
    function Ju(s) {
      throw new Error(
        'Could not dynamically require "' +
          s +
          '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.'
      );
    }
    Ig(
      { target: "Object", stat: !0, forced: !td || yf, sham: !td },
      {
        getOwnPropertyDescriptor: function (e, n) {
          return ed(_f(e), n);
        },
      }
    ),
      (function (s, e) {
        s.exports = (function () {
          function n(a, c, o) {
            function l(g, _) {
              if (!c[g]) {
                if (!a[g]) {
                  if (!_ && Ju) return Ju(g);
                  if (h) return h(g, !0);
                  var b = new Error("Cannot find module '" + g + "'");
                  throw ((b.code = "MODULE_NOT_FOUND"), b);
                }
                var R = (c[g] = { exports: {} });
                a[g][0].call(
                  R.exports,
                  function (N) {
                    return l(a[g][1][N] || N);
                  },
                  R,
                  R.exports,
                  n,
                  a,
                  c,
                  o
                );
              }
              return c[g].exports;
            }
            for (var h = Ju, p = 0; p < o.length; p++) l(o[p]);
            return l;
          }
          return n;
        })()(
          {
            1: [
              function (n, a, c) {
                var o = (0, n("./adapter_factory.js").adapterFactory)({
                  window: typeof window == "undefined" ? void 0 : window,
                });
                a.exports = o;
              },
              { "./adapter_factory.js": 2 },
            ],
            2: [
              function (n, a, c) {
                function o(F) {
                  return (
                    (o =
                      typeof Symbol == "function" &&
                      ut(Symbol.iterator) == "symbol"
                        ? function (U) {
                            return ut(U);
                          }
                        : function (U) {
                            return U &&
                              typeof Symbol == "function" &&
                              U.constructor === Symbol &&
                              U !== Symbol.prototype
                              ? "symbol"
                              : ut(U);
                          }),
                    o(F)
                  );
                }
                Object.defineProperty(c, "__esModule", { value: !0 }),
                  (c.adapterFactory = B);
                var l = N(n("./utils")),
                  h = N(n("./chrome/chrome_shim")),
                  p = N(n("./firefox/firefox_shim")),
                  g = N(n("./safari/safari_shim")),
                  _ = N(n("./common_shim")),
                  b = N(n("sdp"));
                function R(F) {
                  if (typeof WeakMap != "function") return null;
                  var U = /* @__PURE__ */ new WeakMap(),
                    T = /* @__PURE__ */ new WeakMap();
                  return (R = function (L) {
                    return L ? T : U;
                  })(F);
                }
                function N(F, U) {
                  if (!U && F && F.__esModule) return F;
                  if (
                    F === null ||
                    (o(F) !== "object" && typeof F != "function")
                  )
                    return { default: F };
                  var T = R(U);
                  if (T && T.has(F)) return T.get(F);
                  var A = {},
                    L =
                      Object.defineProperty && Object.getOwnPropertyDescriptor;
                  for (var $ in F)
                    if (
                      $ !== "default" &&
                      Object.prototype.hasOwnProperty.call(F, $)
                    ) {
                      var X = L ? Object.getOwnPropertyDescriptor(F, $) : null;
                      X && (X.get || X.set)
                        ? Object.defineProperty(A, $, X)
                        : (A[$] = F[$]);
                    }
                  return (A.default = F), T && T.set(F, A), A;
                }
                function B() {
                  var F = (
                      arguments.length > 0 && arguments[0] !== void 0
                        ? arguments[0]
                        : {}
                    ).window,
                    U =
                      arguments.length > 1 && arguments[1] !== void 0
                        ? arguments[1]
                        : { shimChrome: !0, shimFirefox: !0, shimSafari: !0 },
                    T = l.log,
                    A = l.detectBrowser(F),
                    L = {
                      browserDetails: A,
                      commonShim: _,
                      extractVersion: l.extractVersion,
                      disableLog: l.disableLog,
                      disableWarnings: l.disableWarnings,
                      sdp: b,
                    };
                  switch (A.browser) {
                    case "chrome":
                      if (!h || !h.shimPeerConnection || !U.shimChrome)
                        return (
                          T(
                            "Chrome shim is not included in this adapter release."
                          ),
                          L
                        );
                      if (A.version === null)
                        return (
                          T(
                            "Chrome shim can not determine version, not shimming."
                          ),
                          L
                        );
                      T("adapter.js shimming chrome."),
                        (L.browserShim = h),
                        _.shimAddIceCandidateNullOrEmpty(F, A),
                        _.shimParameterlessSetLocalDescription(F, A),
                        h.shimGetUserMedia(F, A),
                        h.shimMediaStream(F, A),
                        h.shimPeerConnection(F, A),
                        h.shimOnTrack(F, A),
                        h.shimAddTrackRemoveTrack(F, A),
                        h.shimGetSendersWithDtmf(F, A),
                        h.shimGetStats(F, A),
                        h.shimSenderReceiverGetStats(F, A),
                        h.fixNegotiationNeeded(F, A),
                        _.shimRTCIceCandidate(F, A),
                        _.shimRTCIceCandidateRelayProtocol(F, A),
                        _.shimConnectionState(F, A),
                        _.shimMaxMessageSize(F, A),
                        _.shimSendThrowTypeError(F, A),
                        _.removeExtmapAllowMixed(F, A);
                      break;
                    case "firefox":
                      if (!p || !p.shimPeerConnection || !U.shimFirefox)
                        return (
                          T(
                            "Firefox shim is not included in this adapter release."
                          ),
                          L
                        );
                      T("adapter.js shimming firefox."),
                        (L.browserShim = p),
                        _.shimAddIceCandidateNullOrEmpty(F, A),
                        _.shimParameterlessSetLocalDescription(F, A),
                        p.shimGetUserMedia(F, A),
                        p.shimPeerConnection(F, A),
                        p.shimOnTrack(F, A),
                        p.shimRemoveStream(F, A),
                        p.shimSenderGetStats(F, A),
                        p.shimReceiverGetStats(F, A),
                        p.shimRTCDataChannel(F, A),
                        p.shimAddTransceiver(F, A),
                        p.shimGetParameters(F, A),
                        p.shimCreateOffer(F, A),
                        p.shimCreateAnswer(F, A),
                        _.shimRTCIceCandidate(F, A),
                        _.shimConnectionState(F, A),
                        _.shimMaxMessageSize(F, A),
                        _.shimSendThrowTypeError(F, A);
                      break;
                    case "safari":
                      if (!g || !U.shimSafari)
                        return (
                          T(
                            "Safari shim is not included in this adapter release."
                          ),
                          L
                        );
                      T("adapter.js shimming safari."),
                        (L.browserShim = g),
                        _.shimAddIceCandidateNullOrEmpty(F, A),
                        _.shimParameterlessSetLocalDescription(F, A),
                        g.shimRTCIceServerUrls(F, A),
                        g.shimCreateOfferLegacy(F, A),
                        g.shimCallbacksAPI(F, A),
                        g.shimLocalStreamsAPI(F, A),
                        g.shimRemoteStreamsAPI(F, A),
                        g.shimTrackEventTransceiver(F, A),
                        g.shimGetUserMedia(F, A),
                        g.shimAudioContext(F, A),
                        _.shimRTCIceCandidate(F, A),
                        _.shimRTCIceCandidateRelayProtocol(F, A),
                        _.shimMaxMessageSize(F, A),
                        _.shimSendThrowTypeError(F, A),
                        _.removeExtmapAllowMixed(F, A);
                      break;
                    default:
                      T("Unsupported browser!");
                  }
                  return L;
                }
              },
              {
                "./chrome/chrome_shim": 3,
                "./common_shim": 6,
                "./firefox/firefox_shim": 7,
                "./safari/safari_shim": 10,
                "./utils": 11,
                sdp: 12,
              },
            ],
            3: [
              function (n, a, c) {
                Object.defineProperty(c, "__esModule", { value: !0 }),
                  (c.fixNegotiationNeeded = Q),
                  (c.shimAddTrackRemoveTrack = $),
                  (c.shimAddTrackRemoveTrackWithNative = L),
                  Object.defineProperty(c, "shimGetDisplayMedia", {
                    enumerable: !0,
                    get: function () {
                      return h.shimGetDisplayMedia;
                    },
                  }),
                  (c.shimGetSendersWithDtmf = U),
                  (c.shimGetStats = T),
                  Object.defineProperty(c, "shimGetUserMedia", {
                    enumerable: !0,
                    get: function () {
                      return l.shimGetUserMedia;
                    },
                  }),
                  (c.shimMediaStream = B),
                  (c.shimOnTrack = F),
                  (c.shimPeerConnection = X),
                  (c.shimSenderReceiverGetStats = A);
                var o = g(n("../utils.js")),
                  l = n("./getusermedia"),
                  h = n("./getdisplaymedia");
                function p(D) {
                  if (typeof WeakMap != "function") return null;
                  var M = /* @__PURE__ */ new WeakMap(),
                    z = /* @__PURE__ */ new WeakMap();
                  return (p = function (ee) {
                    return ee ? z : M;
                  })(D);
                }
                function g(D, M) {
                  if (!M && D && D.__esModule) return D;
                  if (
                    D === null ||
                    (N(D) !== "object" && typeof D != "function")
                  )
                    return { default: D };
                  var z = p(M);
                  if (z && z.has(D)) return z.get(D);
                  var W = {},
                    ee =
                      Object.defineProperty && Object.getOwnPropertyDescriptor;
                  for (var H in D)
                    if (
                      H !== "default" &&
                      Object.prototype.hasOwnProperty.call(D, H)
                    ) {
                      var I = ee ? Object.getOwnPropertyDescriptor(D, H) : null;
                      I && (I.get || I.set)
                        ? Object.defineProperty(W, H, I)
                        : (W[H] = D[H]);
                    }
                  return (W.default = D), z && z.set(D, W), W;
                }
                function _(D, M, z) {
                  return (
                    (M = b(M)) in D
                      ? Object.defineProperty(D, M, {
                          value: z,
                          enumerable: !0,
                          configurable: !0,
                          writable: !0,
                        })
                      : (D[M] = z),
                    D
                  );
                }
                function b(D) {
                  var M = R(D, "string");
                  return N(M) === "symbol" ? M : String(M);
                }
                function R(D, M) {
                  if (N(D) !== "object" || D === null) return D;
                  var z = D[Symbol.toPrimitive];
                  if (z !== void 0) {
                    var W = z.call(D, M || "default");
                    if (N(W) !== "object") return W;
                    throw new TypeError(
                      "@@toPrimitive must return a primitive value."
                    );
                  }
                  return (M === "string" ? String : Number)(D);
                }
                function N(D) {
                  return (
                    (N =
                      typeof Symbol == "function" &&
                      ut(Symbol.iterator) == "symbol"
                        ? function (M) {
                            return ut(M);
                          }
                        : function (M) {
                            return M &&
                              typeof Symbol == "function" &&
                              M.constructor === Symbol &&
                              M !== Symbol.prototype
                              ? "symbol"
                              : ut(M);
                          }),
                    N(D)
                  );
                }
                function B(D) {
                  D.MediaStream = D.MediaStream || D.webkitMediaStream;
                }
                function F(D) {
                  if (
                    N(D) === "object" &&
                    D.RTCPeerConnection &&
                    !("ontrack" in D.RTCPeerConnection.prototype)
                  ) {
                    Object.defineProperty(
                      D.RTCPeerConnection.prototype,
                      "ontrack",
                      {
                        get: function () {
                          return this._ontrack;
                        },
                        set: function (W) {
                          this._ontrack &&
                            this.removeEventListener("track", this._ontrack),
                            this.addEventListener("track", (this._ontrack = W));
                        },
                        enumerable: !0,
                        configurable: !0,
                      }
                    );
                    var M = D.RTCPeerConnection.prototype.setRemoteDescription;
                    D.RTCPeerConnection.prototype.setRemoteDescription =
                      function () {
                        var z = this;
                        return (
                          this._ontrackpoly ||
                            ((this._ontrackpoly = function (W) {
                              W.stream.addEventListener(
                                "addtrack",
                                function (ee) {
                                  var H;
                                  H = D.RTCPeerConnection.prototype.getReceivers
                                    ? z.getReceivers().find(function (S) {
                                        return (
                                          S.track && S.track.id === ee.track.id
                                        );
                                      })
                                    : { track: ee.track };
                                  var I = new Event("track");
                                  (I.track = ee.track),
                                    (I.receiver = H),
                                    (I.transceiver = { receiver: H }),
                                    (I.streams = [W.stream]),
                                    z.dispatchEvent(I);
                                }
                              ),
                                W.stream.getTracks().forEach(function (ee) {
                                  var H;
                                  H = D.RTCPeerConnection.prototype.getReceivers
                                    ? z.getReceivers().find(function (S) {
                                        return S.track && S.track.id === ee.id;
                                      })
                                    : { track: ee };
                                  var I = new Event("track");
                                  (I.track = ee),
                                    (I.receiver = H),
                                    (I.transceiver = { receiver: H }),
                                    (I.streams = [W.stream]),
                                    z.dispatchEvent(I);
                                });
                            }),
                            this.addEventListener(
                              "addstream",
                              this._ontrackpoly
                            )),
                          M.apply(this, arguments)
                        );
                      };
                  } else
                    o.wrapPeerConnectionEvent(D, "track", function (z) {
                      return (
                        z.transceiver ||
                          Object.defineProperty(z, "transceiver", {
                            value: { receiver: z.receiver },
                          }),
                        z
                      );
                    });
                }
                function U(D) {
                  if (
                    N(D) === "object" &&
                    D.RTCPeerConnection &&
                    !("getSenders" in D.RTCPeerConnection.prototype) &&
                    "createDTMFSender" in D.RTCPeerConnection.prototype
                  ) {
                    var M = function (q, J) {
                      return {
                        track: J,
                        get dtmf() {
                          return (
                            this._dtmf === void 0 &&
                              (J.kind === "audio"
                                ? (this._dtmf = q.createDTMFSender(J))
                                : (this._dtmf = null)),
                            this._dtmf
                          );
                        },
                        _pc: q,
                      };
                    };
                    if (!D.RTCPeerConnection.prototype.getSenders) {
                      D.RTCPeerConnection.prototype.getSenders = function () {
                        return (
                          (this._senders = this._senders || []),
                          this._senders.slice()
                        );
                      };
                      var z = D.RTCPeerConnection.prototype.addTrack;
                      D.RTCPeerConnection.prototype.addTrack = function (S, q) {
                        var J = z.apply(this, arguments);
                        return (
                          J || ((J = M(this, S)), this._senders.push(J)), J
                        );
                      };
                      var W = D.RTCPeerConnection.prototype.removeTrack;
                      D.RTCPeerConnection.prototype.removeTrack = function (S) {
                        W.apply(this, arguments);
                        var q = this._senders.indexOf(S);
                        q !== -1 && this._senders.splice(q, 1);
                      };
                    }
                    var ee = D.RTCPeerConnection.prototype.addStream;
                    D.RTCPeerConnection.prototype.addStream = function (S) {
                      var q = this;
                      (this._senders = this._senders || []),
                        ee.apply(this, [S]),
                        S.getTracks().forEach(function (J) {
                          q._senders.push(M(q, J));
                        });
                    };
                    var H = D.RTCPeerConnection.prototype.removeStream;
                    D.RTCPeerConnection.prototype.removeStream = function (S) {
                      var q = this;
                      (this._senders = this._senders || []),
                        H.apply(this, [S]),
                        S.getTracks().forEach(function (J) {
                          var te = q._senders.find(function (ue) {
                            return ue.track === J;
                          });
                          te && q._senders.splice(q._senders.indexOf(te), 1);
                        });
                    };
                  } else if (
                    N(D) === "object" &&
                    D.RTCPeerConnection &&
                    "getSenders" in D.RTCPeerConnection.prototype &&
                    "createDTMFSender" in D.RTCPeerConnection.prototype &&
                    D.RTCRtpSender &&
                    !("dtmf" in D.RTCRtpSender.prototype)
                  ) {
                    var I = D.RTCPeerConnection.prototype.getSenders;
                    (D.RTCPeerConnection.prototype.getSenders = function () {
                      var S = this,
                        q = I.apply(this, []);
                      return (
                        q.forEach(function (J) {
                          return (J._pc = S);
                        }),
                        q
                      );
                    }),
                      Object.defineProperty(D.RTCRtpSender.prototype, "dtmf", {
                        get: function () {
                          return (
                            this._dtmf === void 0 &&
                              (this.track.kind === "audio"
                                ? (this._dtmf = this._pc.createDTMFSender(
                                    this.track
                                  ))
                                : (this._dtmf = null)),
                            this._dtmf
                          );
                        },
                      });
                  }
                }
                function T(D) {
                  if (D.RTCPeerConnection) {
                    var M = D.RTCPeerConnection.prototype.getStats;
                    D.RTCPeerConnection.prototype.getStats = function () {
                      var z = this,
                        W = Array.prototype.slice.call(arguments),
                        ee = W[0],
                        H = W[1],
                        I = W[2];
                      if (arguments.length > 0 && typeof ee == "function")
                        return M.apply(this, arguments);
                      if (
                        M.length === 0 &&
                        (arguments.length === 0 || typeof ee != "function")
                      )
                        return M.apply(this, []);
                      var S = function (ue) {
                          var fe = {};
                          return (
                            ue.result().forEach(function (Re) {
                              var De = {
                                id: Re.id,
                                timestamp: Re.timestamp,
                                type:
                                  {
                                    localcandidate: "local-candidate",
                                    remotecandidate: "remote-candidate",
                                  }[Re.type] || Re.type,
                              };
                              Re.names().forEach(function (At) {
                                De[At] = Re.stat(At);
                              }),
                                (fe[De.id] = De);
                            }),
                            fe
                          );
                        },
                        q = function (ue) {
                          return new Map(
                            Object.keys(ue).map(function (fe) {
                              return [fe, ue[fe]];
                            })
                          );
                        };
                      if (arguments.length >= 2) {
                        var J = function (ue) {
                          H(q(S(ue)));
                        };
                        return M.apply(this, [J, ee]);
                      }
                      return new Promise(function (te, ue) {
                        M.apply(z, [
                          function (fe) {
                            te(q(S(fe)));
                          },
                          ue,
                        ]);
                      }).then(H, I);
                    };
                  }
                }
                function A(D) {
                  if (
                    N(D) === "object" &&
                    D.RTCPeerConnection &&
                    D.RTCRtpSender &&
                    D.RTCRtpReceiver
                  ) {
                    if (!("getStats" in D.RTCRtpSender.prototype)) {
                      var M = D.RTCPeerConnection.prototype.getSenders;
                      M &&
                        (D.RTCPeerConnection.prototype.getSenders =
                          function () {
                            var H = this,
                              I = M.apply(this, []);
                            return (
                              I.forEach(function (S) {
                                return (S._pc = H);
                              }),
                              I
                            );
                          });
                      var z = D.RTCPeerConnection.prototype.addTrack;
                      z &&
                        (D.RTCPeerConnection.prototype.addTrack = function () {
                          var H = z.apply(this, arguments);
                          return (H._pc = this), H;
                        }),
                        (D.RTCRtpSender.prototype.getStats = function () {
                          var H = this;
                          return this._pc.getStats().then(function (I) {
                            return o.filterStats(I, H.track, !0);
                          });
                        });
                    }
                    if (!("getStats" in D.RTCRtpReceiver.prototype)) {
                      var W = D.RTCPeerConnection.prototype.getReceivers;
                      W &&
                        (D.RTCPeerConnection.prototype.getReceivers =
                          function () {
                            var H = this,
                              I = W.apply(this, []);
                            return (
                              I.forEach(function (S) {
                                return (S._pc = H);
                              }),
                              I
                            );
                          }),
                        o.wrapPeerConnectionEvent(D, "track", function (H) {
                          return (H.receiver._pc = H.srcElement), H;
                        }),
                        (D.RTCRtpReceiver.prototype.getStats = function () {
                          var H = this;
                          return this._pc.getStats().then(function (I) {
                            return o.filterStats(I, H.track, !1);
                          });
                        });
                    }
                    if (
                      "getStats" in D.RTCRtpSender.prototype &&
                      "getStats" in D.RTCRtpReceiver.prototype
                    ) {
                      var ee = D.RTCPeerConnection.prototype.getStats;
                      D.RTCPeerConnection.prototype.getStats = function () {
                        if (
                          arguments.length > 0 &&
                          arguments[0] instanceof D.MediaStreamTrack
                        ) {
                          var H,
                            I,
                            S,
                            q = arguments[0];
                          return (
                            this.getSenders().forEach(function (J) {
                              J.track === q && (H ? (S = !0) : (H = J));
                            }),
                            this.getReceivers().forEach(function (J) {
                              return (
                                J.track === q && (I ? (S = !0) : (I = J)),
                                J.track === q
                              );
                            }),
                            S || (H && I)
                              ? Promise.reject(
                                  new DOMException(
                                    "There are more than one sender or receiver for the track.",
                                    "InvalidAccessError"
                                  )
                                )
                              : H
                              ? H.getStats()
                              : I
                              ? I.getStats()
                              : Promise.reject(
                                  new DOMException(
                                    "There is no sender or receiver for the track.",
                                    "InvalidAccessError"
                                  )
                                )
                          );
                        }
                        return ee.apply(this, arguments);
                      };
                    }
                  }
                }
                function L(D) {
                  D.RTCPeerConnection.prototype.getLocalStreams = function () {
                    var H = this;
                    return (
                      (this._shimmedLocalStreams =
                        this._shimmedLocalStreams || {}),
                      Object.keys(this._shimmedLocalStreams).map(function (I) {
                        return H._shimmedLocalStreams[I][0];
                      })
                    );
                  };
                  var M = D.RTCPeerConnection.prototype.addTrack;
                  D.RTCPeerConnection.prototype.addTrack = function (H, I) {
                    if (!I) return M.apply(this, arguments);
                    this._shimmedLocalStreams = this._shimmedLocalStreams || {};
                    var S = M.apply(this, arguments);
                    return (
                      this._shimmedLocalStreams[I.id]
                        ? this._shimmedLocalStreams[I.id].indexOf(S) === -1 &&
                          this._shimmedLocalStreams[I.id].push(S)
                        : (this._shimmedLocalStreams[I.id] = [I, S]),
                      S
                    );
                  };
                  var z = D.RTCPeerConnection.prototype.addStream;
                  D.RTCPeerConnection.prototype.addStream = function (H) {
                    var I = this;
                    (this._shimmedLocalStreams =
                      this._shimmedLocalStreams || {}),
                      H.getTracks().forEach(function (J) {
                        if (
                          I.getSenders().find(function (te) {
                            return te.track === J;
                          })
                        )
                          throw new DOMException(
                            "Track already exists.",
                            "InvalidAccessError"
                          );
                      });
                    var S = this.getSenders();
                    z.apply(this, arguments);
                    var q = this.getSenders().filter(function (J) {
                      return S.indexOf(J) === -1;
                    });
                    this._shimmedLocalStreams[H.id] = [H].concat(q);
                  };
                  var W = D.RTCPeerConnection.prototype.removeStream;
                  D.RTCPeerConnection.prototype.removeStream = function (H) {
                    return (
                      (this._shimmedLocalStreams =
                        this._shimmedLocalStreams || {}),
                      delete this._shimmedLocalStreams[H.id],
                      W.apply(this, arguments)
                    );
                  };
                  var ee = D.RTCPeerConnection.prototype.removeTrack;
                  D.RTCPeerConnection.prototype.removeTrack = function (H) {
                    var I = this;
                    return (
                      (this._shimmedLocalStreams =
                        this._shimmedLocalStreams || {}),
                      H &&
                        Object.keys(this._shimmedLocalStreams).forEach(
                          function (S) {
                            var q = I._shimmedLocalStreams[S].indexOf(H);
                            q !== -1 && I._shimmedLocalStreams[S].splice(q, 1),
                              I._shimmedLocalStreams[S].length === 1 &&
                                delete I._shimmedLocalStreams[S];
                          }
                        ),
                      ee.apply(this, arguments)
                    );
                  };
                }
                function $(D, M) {
                  if (D.RTCPeerConnection) {
                    if (
                      D.RTCPeerConnection.prototype.addTrack &&
                      M.version >= 65
                    )
                      return L(D);
                    var z = D.RTCPeerConnection.prototype.getLocalStreams;
                    D.RTCPeerConnection.prototype.getLocalStreams =
                      function () {
                        var J = this,
                          te = z.apply(this);
                        return (
                          (this._reverseStreams = this._reverseStreams || {}),
                          te.map(function (ue) {
                            return J._reverseStreams[ue.id];
                          })
                        );
                      };
                    var W = D.RTCPeerConnection.prototype.addStream;
                    D.RTCPeerConnection.prototype.addStream = function (J) {
                      var te = this;
                      if (
                        ((this._streams = this._streams || {}),
                        (this._reverseStreams = this._reverseStreams || {}),
                        J.getTracks().forEach(function (fe) {
                          if (
                            te.getSenders().find(function (Re) {
                              return Re.track === fe;
                            })
                          )
                            throw new DOMException(
                              "Track already exists.",
                              "InvalidAccessError"
                            );
                        }),
                        !this._reverseStreams[J.id])
                      ) {
                        var ue = new D.MediaStream(J.getTracks());
                        (this._streams[J.id] = ue),
                          (this._reverseStreams[ue.id] = J),
                          (J = ue);
                      }
                      W.apply(this, [J]);
                    };
                    var ee = D.RTCPeerConnection.prototype.removeStream;
                    (D.RTCPeerConnection.prototype.removeStream = function (J) {
                      (this._streams = this._streams || {}),
                        (this._reverseStreams = this._reverseStreams || {}),
                        ee.apply(this, [this._streams[J.id] || J]),
                        delete this._reverseStreams[
                          this._streams[J.id] ? this._streams[J.id].id : J.id
                        ],
                        delete this._streams[J.id];
                    }),
                      (D.RTCPeerConnection.prototype.addTrack = function (
                        J,
                        te
                      ) {
                        var ue = this;
                        if (this.signalingState === "closed")
                          throw new DOMException(
                            "The RTCPeerConnection's signalingState is 'closed'.",
                            "InvalidStateError"
                          );
                        var fe = [].slice.call(arguments, 1);
                        if (
                          fe.length !== 1 ||
                          !fe[0].getTracks().find(function (At) {
                            return At === J;
                          })
                        )
                          throw new DOMException(
                            "The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.",
                            "NotSupportedError"
                          );
                        if (
                          this.getSenders().find(function (At) {
                            return At.track === J;
                          })
                        )
                          throw new DOMException(
                            "Track already exists.",
                            "InvalidAccessError"
                          );
                        (this._streams = this._streams || {}),
                          (this._reverseStreams = this._reverseStreams || {});
                        var Re = this._streams[te.id];
                        if (Re)
                          Re.addTrack(J),
                            Promise.resolve().then(function () {
                              ue.dispatchEvent(new Event("negotiationneeded"));
                            });
                        else {
                          var De = new D.MediaStream([J]);
                          (this._streams[te.id] = De),
                            (this._reverseStreams[De.id] = te),
                            this.addStream(De);
                        }
                        return this.getSenders().find(function (At) {
                          return At.track === J;
                        });
                      }),
                      ["createOffer", "createAnswer"].forEach(function (J) {
                        var te = D.RTCPeerConnection.prototype[J],
                          ue = _({}, J, function () {
                            var fe = this,
                              Re = arguments;
                            return arguments.length &&
                              typeof arguments[0] == "function"
                              ? te.apply(this, [
                                  function (De) {
                                    var At = S(fe, De);
                                    Re[0].apply(null, [At]);
                                  },
                                  function (De) {
                                    Re[1] && Re[1].apply(null, De);
                                  },
                                  arguments[2],
                                ])
                              : te.apply(this, arguments).then(function (De) {
                                  return S(fe, De);
                                });
                          });
                        D.RTCPeerConnection.prototype[J] = ue[J];
                      });
                    var H = D.RTCPeerConnection.prototype.setLocalDescription;
                    D.RTCPeerConnection.prototype.setLocalDescription =
                      function () {
                        return arguments.length && arguments[0].type
                          ? ((arguments[0] = q(this, arguments[0])),
                            H.apply(this, arguments))
                          : H.apply(this, arguments);
                      };
                    var I = Object.getOwnPropertyDescriptor(
                      D.RTCPeerConnection.prototype,
                      "localDescription"
                    );
                    Object.defineProperty(
                      D.RTCPeerConnection.prototype,
                      "localDescription",
                      {
                        get: function () {
                          var te = I.get.apply(this);
                          return te.type === "" ? te : S(this, te);
                        },
                      }
                    ),
                      (D.RTCPeerConnection.prototype.removeTrack = function (
                        J
                      ) {
                        var te,
                          ue = this;
                        if (this.signalingState === "closed")
                          throw new DOMException(
                            "The RTCPeerConnection's signalingState is 'closed'.",
                            "InvalidStateError"
                          );
                        if (!J._pc)
                          throw new DOMException(
                            "Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.",
                            "TypeError"
                          );
                        if (J._pc !== this)
                          throw new DOMException(
                            "Sender was not created by this connection.",
                            "InvalidAccessError"
                          );
                        (this._streams = this._streams || {}),
                          Object.keys(this._streams).forEach(function (fe) {
                            ue._streams[fe].getTracks().find(function (Re) {
                              return J.track === Re;
                            }) && (te = ue._streams[fe]);
                          }),
                          te &&
                            (te.getTracks().length === 1
                              ? this.removeStream(this._reverseStreams[te.id])
                              : te.removeTrack(J.track),
                            this.dispatchEvent(new Event("negotiationneeded")));
                      });
                  }
                  function S(J, te) {
                    var ue = te.sdp;
                    return (
                      Object.keys(J._reverseStreams || []).forEach(function (
                        fe
                      ) {
                        var Re = J._reverseStreams[fe],
                          De = J._streams[Re.id];
                        ue = ue.replace(new RegExp(De.id, "g"), Re.id);
                      }),
                      new RTCSessionDescription({ type: te.type, sdp: ue })
                    );
                  }
                  function q(J, te) {
                    var ue = te.sdp;
                    return (
                      Object.keys(J._reverseStreams || []).forEach(function (
                        fe
                      ) {
                        var Re = J._reverseStreams[fe],
                          De = J._streams[Re.id];
                        ue = ue.replace(new RegExp(Re.id, "g"), De.id);
                      }),
                      new RTCSessionDescription({ type: te.type, sdp: ue })
                    );
                  }
                }
                function X(D, M) {
                  !D.RTCPeerConnection &&
                    D.webkitRTCPeerConnection &&
                    (D.RTCPeerConnection = D.webkitRTCPeerConnection),
                    D.RTCPeerConnection &&
                      M.version < 53 &&
                      [
                        "setLocalDescription",
                        "setRemoteDescription",
                        "addIceCandidate",
                      ].forEach(function (z) {
                        var W = D.RTCPeerConnection.prototype[z],
                          ee = _({}, z, function () {
                            return (
                              (arguments[0] = new (
                                z === "addIceCandidate"
                                  ? D.RTCIceCandidate
                                  : D.RTCSessionDescription
                              )(arguments[0])),
                              W.apply(this, arguments)
                            );
                          });
                        D.RTCPeerConnection.prototype[z] = ee[z];
                      });
                }
                function Q(D, M) {
                  o.wrapPeerConnectionEvent(
                    D,
                    "negotiationneeded",
                    function (z) {
                      var W = z.target;
                      if (
                        !(
                          M.version < 72 ||
                          (W.getConfiguration &&
                            W.getConfiguration().sdpSemantics === "plan-b")
                        ) ||
                        W.signalingState === "stable"
                      )
                        return z;
                    }
                  );
                }
              },
              {
                "../utils.js": 11,
                "./getdisplaymedia": 4,
                "./getusermedia": 5,
              },
            ],
            4: [
              function (n, a, c) {
                function o(l, h) {
                  (l.navigator.mediaDevices &&
                    "getDisplayMedia" in l.navigator.mediaDevices) ||
                    (l.navigator.mediaDevices &&
                      (typeof h == "function"
                        ? (l.navigator.mediaDevices.getDisplayMedia = function (
                            p
                          ) {
                            return h(p).then(function (g) {
                              var _ = p.video && p.video.width,
                                b = p.video && p.video.height,
                                R = p.video && p.video.frameRate;
                              return (
                                (p.video = {
                                  mandatory: {
                                    chromeMediaSource: "desktop",
                                    chromeMediaSourceId: g,
                                    maxFrameRate: R || 3,
                                  },
                                }),
                                _ && (p.video.mandatory.maxWidth = _),
                                b && (p.video.mandatory.maxHeight = b),
                                l.navigator.mediaDevices.getUserMedia(p)
                              );
                            });
                          })
                        : console.error(
                            "shimGetDisplayMedia: getSourceId argument is not a function"
                          )));
                }
                Object.defineProperty(c, "__esModule", { value: !0 }),
                  (c.shimGetDisplayMedia = o);
              },
              {},
            ],
            5: [
              function (n, a, c) {
                function o(_) {
                  if (typeof WeakMap != "function") return null;
                  var b = /* @__PURE__ */ new WeakMap(),
                    R = /* @__PURE__ */ new WeakMap();
                  return (o = function (B) {
                    return B ? R : b;
                  })(_);
                }
                function l(_, b) {
                  if (!b && _ && _.__esModule) return _;
                  if (
                    _ === null ||
                    (h(_) !== "object" && typeof _ != "function")
                  )
                    return { default: _ };
                  var R = o(b);
                  if (R && R.has(_)) return R.get(_);
                  var N = {},
                    B =
                      Object.defineProperty && Object.getOwnPropertyDescriptor;
                  for (var F in _)
                    if (
                      F !== "default" &&
                      Object.prototype.hasOwnProperty.call(_, F)
                    ) {
                      var U = B ? Object.getOwnPropertyDescriptor(_, F) : null;
                      U && (U.get || U.set)
                        ? Object.defineProperty(N, F, U)
                        : (N[F] = _[F]);
                    }
                  return (N.default = _), R && R.set(_, N), N;
                }
                function h(_) {
                  return (
                    (h =
                      typeof Symbol == "function" &&
                      ut(Symbol.iterator) == "symbol"
                        ? function (b) {
                            return ut(b);
                          }
                        : function (b) {
                            return b &&
                              typeof Symbol == "function" &&
                              b.constructor === Symbol &&
                              b !== Symbol.prototype
                              ? "symbol"
                              : ut(b);
                          }),
                    h(_)
                  );
                }
                Object.defineProperty(c, "__esModule", { value: !0 }),
                  (c.shimGetUserMedia = g);
                var p = l(n("../utils.js")).log;
                function g(_, b) {
                  var R = _ && _.navigator;
                  if (R.mediaDevices) {
                    var N = function (L) {
                        if (h(L) !== "object" || L.mandatory || L.optional)
                          return L;
                        var $ = {};
                        return (
                          Object.keys(L).forEach(function (X) {
                            if (
                              X !== "require" &&
                              X !== "advanced" &&
                              X !== "mediaSource"
                            ) {
                              var Q =
                                h(L[X]) === "object" ? L[X] : { ideal: L[X] };
                              Q.exact !== void 0 &&
                                typeof Q.exact == "number" &&
                                (Q.min = Q.max = Q.exact);
                              var D = function (W, ee) {
                                return W
                                  ? W + ee.charAt(0).toUpperCase() + ee.slice(1)
                                  : ee === "deviceId"
                                  ? "sourceId"
                                  : ee;
                              };
                              if (Q.ideal !== void 0) {
                                $.optional = $.optional || [];
                                var M = {};
                                typeof Q.ideal == "number"
                                  ? ((M[D("min", X)] = Q.ideal),
                                    $.optional.push(M),
                                    ((M = {})[D("max", X)] = Q.ideal),
                                    $.optional.push(M))
                                  : ((M[D("", X)] = Q.ideal),
                                    $.optional.push(M));
                              }
                              Q.exact !== void 0 && typeof Q.exact != "number"
                                ? (($.mandatory = $.mandatory || {}),
                                  ($.mandatory[D("", X)] = Q.exact))
                                : ["min", "max"].forEach(function (z) {
                                    Q[z] !== void 0 &&
                                      (($.mandatory = $.mandatory || {}),
                                      ($.mandatory[D(z, X)] = Q[z]));
                                  });
                            }
                          }),
                          L.advanced &&
                            ($.optional = ($.optional || []).concat(
                              L.advanced
                            )),
                          $
                        );
                      },
                      B = function (L, $) {
                        if (b.version >= 61) return $(L);
                        if (
                          (L = JSON.parse(JSON.stringify(L))) &&
                          h(L.audio) === "object"
                        ) {
                          var X = function (W, ee, H) {
                            ee in W &&
                              !(H in W) &&
                              ((W[H] = W[ee]), delete W[ee]);
                          };
                          X(
                            (L = JSON.parse(JSON.stringify(L))).audio,
                            "autoGainControl",
                            "googAutoGainControl"
                          ),
                            X(
                              L.audio,
                              "noiseSuppression",
                              "googNoiseSuppression"
                            ),
                            (L.audio = N(L.audio));
                        }
                        if (L && h(L.video) === "object") {
                          var Q = L.video.facingMode;
                          Q = Q && (h(Q) === "object" ? Q : { ideal: Q });
                          var D,
                            M = b.version < 66;
                          if (
                            Q &&
                            (Q.exact === "user" ||
                              Q.exact === "environment" ||
                              Q.ideal === "user" ||
                              Q.ideal === "environment") &&
                            (!R.mediaDevices.getSupportedConstraints ||
                              !R.mediaDevices.getSupportedConstraints()
                                .facingMode ||
                              M) &&
                            (delete L.video.facingMode,
                            Q.exact === "environment" ||
                            Q.ideal === "environment"
                              ? (D = ["back", "rear"])
                              : (Q.exact !== "user" && Q.ideal !== "user") ||
                                (D = ["front"]),
                            D)
                          )
                            return R.mediaDevices
                              .enumerateDevices()
                              .then(function (z) {
                                var W = (z = z.filter(function (ee) {
                                  return ee.kind === "videoinput";
                                })).find(function (ee) {
                                  return D.some(function (H) {
                                    return ee.label.toLowerCase().includes(H);
                                  });
                                });
                                return (
                                  !W &&
                                    z.length &&
                                    D.includes("back") &&
                                    (W = z[z.length - 1]),
                                  W &&
                                    (L.video.deviceId = Q.exact
                                      ? { exact: W.deviceId }
                                      : { ideal: W.deviceId }),
                                  (L.video = N(L.video)),
                                  p("chrome: " + JSON.stringify(L)),
                                  $(L)
                                );
                              });
                          L.video = N(L.video);
                        }
                        return p("chrome: " + JSON.stringify(L)), $(L);
                      },
                      F = function (L) {
                        return b.version >= 64
                          ? L
                          : {
                              name:
                                {
                                  PermissionDeniedError: "NotAllowedError",
                                  PermissionDismissedError: "NotAllowedError",
                                  InvalidStateError: "NotAllowedError",
                                  DevicesNotFoundError: "NotFoundError",
                                  ConstraintNotSatisfiedError:
                                    "OverconstrainedError",
                                  TrackStartError: "NotReadableError",
                                  MediaDeviceFailedDueToShutdown:
                                    "NotAllowedError",
                                  MediaDeviceKillSwitchOn: "NotAllowedError",
                                  TabCaptureError: "AbortError",
                                  ScreenCaptureError: "AbortError",
                                  DeviceCaptureError: "AbortError",
                                }[L.name] || L.name,
                              message: L.message,
                              constraint: L.constraint || L.constraintName,
                              toString: function () {
                                return (
                                  this.name +
                                  (this.message && ": ") +
                                  this.message
                                );
                              },
                            };
                      },
                      U = function (L, $, X) {
                        B(L, function (Q) {
                          R.webkitGetUserMedia(Q, $, function (D) {
                            X && X(F(D));
                          });
                        });
                      };
                    if (
                      ((R.getUserMedia = U.bind(R)),
                      R.mediaDevices.getUserMedia)
                    ) {
                      var T = R.mediaDevices.getUserMedia.bind(R.mediaDevices);
                      R.mediaDevices.getUserMedia = function (A) {
                        return B(A, function (L) {
                          return T(L).then(
                            function ($) {
                              if (
                                (L.audio && !$.getAudioTracks().length) ||
                                (L.video && !$.getVideoTracks().length)
                              )
                                throw (
                                  ($.getTracks().forEach(function (X) {
                                    X.stop();
                                  }),
                                  new DOMException("", "NotFoundError"))
                                );
                              return $;
                            },
                            function ($) {
                              return Promise.reject(F($));
                            }
                          );
                        });
                      };
                    }
                  }
                }
              },
              { "../utils.js": 11 },
            ],
            6: [
              function (n, a, c) {
                Object.defineProperty(c, "__esModule", { value: !0 }),
                  (c.removeExtmapAllowMixed = U),
                  (c.shimAddIceCandidateNullOrEmpty = T),
                  (c.shimConnectionState = F),
                  (c.shimMaxMessageSize = N),
                  (c.shimParameterlessSetLocalDescription = A),
                  (c.shimRTCIceCandidate = b),
                  (c.shimRTCIceCandidateRelayProtocol = R),
                  (c.shimSendThrowTypeError = B);
                var o = g(n("sdp")),
                  l = p(n("./utils"));
                function h(L) {
                  if (typeof WeakMap != "function") return null;
                  var $ = /* @__PURE__ */ new WeakMap(),
                    X = /* @__PURE__ */ new WeakMap();
                  return (h = function (D) {
                    return D ? X : $;
                  })(L);
                }
                function p(L, $) {
                  if (!$ && L && L.__esModule) return L;
                  if (
                    L === null ||
                    (_(L) !== "object" && typeof L != "function")
                  )
                    return { default: L };
                  var X = h($);
                  if (X && X.has(L)) return X.get(L);
                  var Q = {},
                    D =
                      Object.defineProperty && Object.getOwnPropertyDescriptor;
                  for (var M in L)
                    if (
                      M !== "default" &&
                      Object.prototype.hasOwnProperty.call(L, M)
                    ) {
                      var z = D ? Object.getOwnPropertyDescriptor(L, M) : null;
                      z && (z.get || z.set)
                        ? Object.defineProperty(Q, M, z)
                        : (Q[M] = L[M]);
                    }
                  return (Q.default = L), X && X.set(L, Q), Q;
                }
                function g(L) {
                  return L && L.__esModule ? L : { default: L };
                }
                function _(L) {
                  return (
                    (_ =
                      typeof Symbol == "function" &&
                      ut(Symbol.iterator) == "symbol"
                        ? function ($) {
                            return ut($);
                          }
                        : function ($) {
                            return $ &&
                              typeof Symbol == "function" &&
                              $.constructor === Symbol &&
                              $ !== Symbol.prototype
                              ? "symbol"
                              : ut($);
                          }),
                    _(L)
                  );
                }
                function b(L) {
                  if (
                    !(
                      !L.RTCIceCandidate ||
                      (L.RTCIceCandidate &&
                        "foundation" in L.RTCIceCandidate.prototype)
                    )
                  ) {
                    var $ = L.RTCIceCandidate;
                    (L.RTCIceCandidate = function (X) {
                      if (
                        (_(X) === "object" &&
                          X.candidate &&
                          X.candidate.indexOf("a=") === 0 &&
                          ((X = JSON.parse(JSON.stringify(X))).candidate =
                            X.candidate.substring(2)),
                        X.candidate && X.candidate.length)
                      ) {
                        var Q = new $(X),
                          D = o.default.parseCandidate(X.candidate);
                        for (var M in D)
                          M in Q ||
                            Object.defineProperty(Q, M, { value: D[M] });
                        return (
                          (Q.toJSON = function () {
                            return {
                              candidate: Q.candidate,
                              sdpMid: Q.sdpMid,
                              sdpMLineIndex: Q.sdpMLineIndex,
                              usernameFragment: Q.usernameFragment,
                            };
                          }),
                          Q
                        );
                      }
                      return new $(X);
                    }),
                      (L.RTCIceCandidate.prototype = $.prototype),
                      l.wrapPeerConnectionEvent(
                        L,
                        "icecandidate",
                        function (X) {
                          return (
                            X.candidate &&
                              Object.defineProperty(X, "candidate", {
                                value: new L.RTCIceCandidate(X.candidate),
                                writable: "false",
                              }),
                            X
                          );
                        }
                      );
                  }
                }
                function R(L) {
                  !L.RTCIceCandidate ||
                    (L.RTCIceCandidate &&
                      "relayProtocol" in L.RTCIceCandidate.prototype) ||
                    l.wrapPeerConnectionEvent(L, "icecandidate", function ($) {
                      if ($.candidate) {
                        var X = o.default.parseCandidate($.candidate.candidate);
                        X.type === "relay" &&
                          ($.candidate.relayProtocol = {
                            0: "tls",
                            1: "tcp",
                            2: "udp",
                          }[X.priority >> 24]);
                      }
                      return $;
                    });
                }
                function N(L, $) {
                  if (L.RTCPeerConnection) {
                    "sctp" in L.RTCPeerConnection.prototype ||
                      Object.defineProperty(
                        L.RTCPeerConnection.prototype,
                        "sctp",
                        {
                          get: function () {
                            return this._sctp === void 0 ? null : this._sctp;
                          },
                        }
                      );
                    var X = function (ee) {
                        if (!ee || !ee.sdp) return !1;
                        var H = o.default.splitSections(ee.sdp);
                        return (
                          H.shift(),
                          H.some(function (I) {
                            var S = o.default.parseMLine(I);
                            return (
                              S &&
                              S.kind === "application" &&
                              S.protocol.indexOf("SCTP") !== -1
                            );
                          })
                        );
                      },
                      Q = function (ee) {
                        var H = ee.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);
                        if (H === null || H.length < 2) return -1;
                        var I = parseInt(H[1], 10);
                        return I != I ? -1 : I;
                      },
                      D = function (ee) {
                        var H = 65536;
                        return (
                          $.browser === "firefox" &&
                            (H =
                              $.version < 57
                                ? ee === -1
                                  ? 16384
                                  : 2147483637
                                : $.version < 60
                                ? $.version === 57
                                  ? 65535
                                  : 65536
                                : 2147483637),
                          H
                        );
                      },
                      M = function (ee, H) {
                        var I = 65536;
                        $.browser === "firefox" &&
                          $.version === 57 &&
                          (I = 65535);
                        var S = o.default.matchPrefix(
                          ee.sdp,
                          "a=max-message-size:"
                        );
                        return (
                          S.length > 0
                            ? (I = parseInt(S[0].substring(19), 10))
                            : $.browser === "firefox" &&
                              H !== -1 &&
                              (I = 2147483637),
                          I
                        );
                      },
                      z = L.RTCPeerConnection.prototype.setRemoteDescription;
                    L.RTCPeerConnection.prototype.setRemoteDescription =
                      function () {
                        if (
                          ((this._sctp = null),
                          $.browser === "chrome" &&
                            $.version >= 76 &&
                            this.getConfiguration().sdpSemantics === "plan-b" &&
                            Object.defineProperty(this, "sctp", {
                              get: function () {
                                return this._sctp === void 0
                                  ? null
                                  : this._sctp;
                              },
                              enumerable: !0,
                              configurable: !0,
                            }),
                          X(arguments[0]))
                        ) {
                          var W,
                            ee = Q(arguments[0]),
                            H = D(ee),
                            I = M(arguments[0], ee);
                          W =
                            H === 0 && I === 0
                              ? Number.POSITIVE_INFINITY
                              : H === 0 || I === 0
                              ? Math.max(H, I)
                              : Math.min(H, I);
                          var S = {};
                          Object.defineProperty(S, "maxMessageSize", {
                            get: function () {
                              return W;
                            },
                          }),
                            (this._sctp = S);
                        }
                        return z.apply(this, arguments);
                      };
                  }
                }
                function B(L) {
                  if (
                    L.RTCPeerConnection &&
                    "createDataChannel" in L.RTCPeerConnection.prototype
                  ) {
                    var $ = L.RTCPeerConnection.prototype.createDataChannel;
                    (L.RTCPeerConnection.prototype.createDataChannel =
                      function () {
                        var Q = $.apply(this, arguments);
                        return X(Q, this), Q;
                      }),
                      l.wrapPeerConnectionEvent(L, "datachannel", function (Q) {
                        return X(Q.channel, Q.target), Q;
                      });
                  }
                  function X(Q, D) {
                    var M = Q.send;
                    Q.send = function () {
                      var z = arguments[0],
                        W = z.length || z.size || z.byteLength;
                      if (
                        Q.readyState === "open" &&
                        D.sctp &&
                        W > D.sctp.maxMessageSize
                      )
                        throw new TypeError(
                          "Message too large (can send a maximum of " +
                            D.sctp.maxMessageSize +
                            " bytes)"
                        );
                      return M.apply(Q, arguments);
                    };
                  }
                }
                function F(L) {
                  if (
                    L.RTCPeerConnection &&
                    !("connectionState" in L.RTCPeerConnection.prototype)
                  ) {
                    var $ = L.RTCPeerConnection.prototype;
                    Object.defineProperty($, "connectionState", {
                      get: function () {
                        return (
                          { completed: "connected", checking: "connecting" }[
                            this.iceConnectionState
                          ] || this.iceConnectionState
                        );
                      },
                      enumerable: !0,
                      configurable: !0,
                    }),
                      Object.defineProperty($, "onconnectionstatechange", {
                        get: function () {
                          return this._onconnectionstatechange || null;
                        },
                        set: function (Q) {
                          this._onconnectionstatechange &&
                            (this.removeEventListener(
                              "connectionstatechange",
                              this._onconnectionstatechange
                            ),
                            delete this._onconnectionstatechange),
                            Q &&
                              this.addEventListener(
                                "connectionstatechange",
                                (this._onconnectionstatechange = Q)
                              );
                        },
                        enumerable: !0,
                        configurable: !0,
                      }),
                      ["setLocalDescription", "setRemoteDescription"].forEach(
                        function (X) {
                          var Q = $[X];
                          $[X] = function () {
                            return (
                              this._connectionstatechangepoly ||
                                ((this._connectionstatechangepoly = function (
                                  D
                                ) {
                                  var M = D.target;
                                  if (
                                    M._lastConnectionState !== M.connectionState
                                  ) {
                                    M._lastConnectionState = M.connectionState;
                                    var z = new Event(
                                      "connectionstatechange",
                                      D
                                    );
                                    M.dispatchEvent(z);
                                  }
                                  return D;
                                }),
                                this.addEventListener(
                                  "iceconnectionstatechange",
                                  this._connectionstatechangepoly
                                )),
                              Q.apply(this, arguments)
                            );
                          };
                        }
                      );
                  }
                }
                function U(L, $) {
                  if (
                    L.RTCPeerConnection &&
                    !(
                      ($.browser === "chrome" && $.version >= 71) ||
                      ($.browser === "safari" && $.version >= 605)
                    )
                  ) {
                    var X = L.RTCPeerConnection.prototype.setRemoteDescription;
                    L.RTCPeerConnection.prototype.setRemoteDescription =
                      function (Q) {
                        if (
                          Q &&
                          Q.sdp &&
                          Q.sdp.indexOf(`
a=extmap-allow-mixed`) !== -1
                        ) {
                          var D = Q.sdp
                            .split(
                              `
`
                            )
                            .filter(function (M) {
                              return M.trim() !== "a=extmap-allow-mixed";
                            }).join(`
`);
                          L.RTCSessionDescription &&
                          Q instanceof L.RTCSessionDescription
                            ? (arguments[0] = new L.RTCSessionDescription({
                                type: Q.type,
                                sdp: D,
                              }))
                            : (Q.sdp = D);
                        }
                        return X.apply(this, arguments);
                      };
                  }
                }
                function T(L, $) {
                  if (L.RTCPeerConnection && L.RTCPeerConnection.prototype) {
                    var X = L.RTCPeerConnection.prototype.addIceCandidate;
                    X &&
                      X.length !== 0 &&
                      (L.RTCPeerConnection.prototype.addIceCandidate =
                        function () {
                          return arguments[0]
                            ? (($.browser === "chrome" && $.version < 78) ||
                                ($.browser === "firefox" && $.version < 68) ||
                                $.browser === "safari") &&
                              arguments[0] &&
                              arguments[0].candidate === ""
                              ? Promise.resolve()
                              : X.apply(this, arguments)
                            : (arguments[1] && arguments[1].apply(null),
                              Promise.resolve());
                        });
                  }
                }
                function A(L, $) {
                  if (L.RTCPeerConnection && L.RTCPeerConnection.prototype) {
                    var X = L.RTCPeerConnection.prototype.setLocalDescription;
                    X &&
                      X.length !== 0 &&
                      (L.RTCPeerConnection.prototype.setLocalDescription =
                        function () {
                          var Q = this,
                            D = arguments[0] || {};
                          if (_(D) !== "object" || (D.type && D.sdp))
                            return X.apply(this, arguments);
                          if (!(D = { type: D.type, sdp: D.sdp }).type)
                            switch (this.signalingState) {
                              case "stable":
                              case "have-local-offer":
                              case "have-remote-pranswer":
                                D.type = "offer";
                                break;
                              default:
                                D.type = "answer";
                            }
                          return D.sdp ||
                            (D.type !== "offer" && D.type !== "answer")
                            ? X.apply(this, [D])
                            : (D.type === "offer"
                                ? this.createOffer
                                : this.createAnswer
                              )
                                .apply(this)
                                .then(function (M) {
                                  return X.apply(Q, [M]);
                                });
                        });
                  }
                }
              },
              { "./utils": 11, sdp: 12 },
            ],
            7: [
              function (n, a, c) {
                Object.defineProperty(c, "__esModule", { value: !0 }),
                  (c.shimAddTransceiver = W),
                  (c.shimCreateAnswer = I),
                  (c.shimCreateOffer = H),
                  Object.defineProperty(c, "shimGetDisplayMedia", {
                    enumerable: !0,
                    get: function () {
                      return h.shimGetDisplayMedia;
                    },
                  }),
                  (c.shimGetParameters = ee),
                  Object.defineProperty(c, "shimGetUserMedia", {
                    enumerable: !0,
                    get: function () {
                      return l.shimGetUserMedia;
                    },
                  }),
                  (c.shimOnTrack = $),
                  (c.shimPeerConnection = X),
                  (c.shimRTCDataChannel = z),
                  (c.shimReceiverGetStats = D),
                  (c.shimRemoveStream = M),
                  (c.shimSenderGetStats = Q);
                var o = g(n("../utils")),
                  l = n("./getusermedia"),
                  h = n("./getdisplaymedia");
                function p(S) {
                  if (typeof WeakMap != "function") return null;
                  var q = /* @__PURE__ */ new WeakMap(),
                    J = /* @__PURE__ */ new WeakMap();
                  return (p = function (ue) {
                    return ue ? J : q;
                  })(S);
                }
                function g(S, q) {
                  if (!q && S && S.__esModule) return S;
                  if (
                    S === null ||
                    (L(S) !== "object" && typeof S != "function")
                  )
                    return { default: S };
                  var J = p(q);
                  if (J && J.has(S)) return J.get(S);
                  var te = {},
                    ue =
                      Object.defineProperty && Object.getOwnPropertyDescriptor;
                  for (var fe in S)
                    if (
                      fe !== "default" &&
                      Object.prototype.hasOwnProperty.call(S, fe)
                    ) {
                      var Re = ue
                        ? Object.getOwnPropertyDescriptor(S, fe)
                        : null;
                      Re && (Re.get || Re.set)
                        ? Object.defineProperty(te, fe, Re)
                        : (te[fe] = S[fe]);
                    }
                  return (te.default = S), J && J.set(S, te), te;
                }
                function _(S) {
                  return B(S) || N(S) || R(S) || b();
                }
                function b() {
                  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
                }
                function R(S, q) {
                  if (S) {
                    if (typeof S == "string") return F(S, q);
                    var J = Object.prototype.toString.call(S).slice(8, -1);
                    return (
                      J === "Object" &&
                        S.constructor &&
                        (J = S.constructor.name),
                      J === "Map" || J === "Set"
                        ? Array.from(S)
                        : J === "Arguments" ||
                          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J)
                        ? F(S, q)
                        : void 0
                    );
                  }
                }
                function N(S) {
                  if (
                    (typeof Symbol != "undefined" &&
                      S[Symbol.iterator] != null) ||
                    S["@@iterator"] != null
                  )
                    return Array.from(S);
                }
                function B(S) {
                  if (Array.isArray(S)) return F(S);
                }
                function F(S, q) {
                  (q == null || q > S.length) && (q = S.length);
                  for (var J = 0, te = new Array(q); J < q; J++) te[J] = S[J];
                  return te;
                }
                function U(S, q, J) {
                  return (
                    (q = T(q)) in S
                      ? Object.defineProperty(S, q, {
                          value: J,
                          enumerable: !0,
                          configurable: !0,
                          writable: !0,
                        })
                      : (S[q] = J),
                    S
                  );
                }
                function T(S) {
                  var q = A(S, "string");
                  return L(q) === "symbol" ? q : String(q);
                }
                function A(S, q) {
                  if (L(S) !== "object" || S === null) return S;
                  var J = S[Symbol.toPrimitive];
                  if (J !== void 0) {
                    var te = J.call(S, q || "default");
                    if (L(te) !== "object") return te;
                    throw new TypeError(
                      "@@toPrimitive must return a primitive value."
                    );
                  }
                  return (q === "string" ? String : Number)(S);
                }
                function L(S) {
                  return (
                    (L =
                      typeof Symbol == "function" &&
                      ut(Symbol.iterator) == "symbol"
                        ? function (q) {
                            return ut(q);
                          }
                        : function (q) {
                            return q &&
                              typeof Symbol == "function" &&
                              q.constructor === Symbol &&
                              q !== Symbol.prototype
                              ? "symbol"
                              : ut(q);
                          }),
                    L(S)
                  );
                }
                function $(S) {
                  L(S) === "object" &&
                    S.RTCTrackEvent &&
                    "receiver" in S.RTCTrackEvent.prototype &&
                    !("transceiver" in S.RTCTrackEvent.prototype) &&
                    Object.defineProperty(
                      S.RTCTrackEvent.prototype,
                      "transceiver",
                      {
                        get: function () {
                          return { receiver: this.receiver };
                        },
                      }
                    );
                }
                function X(S, q) {
                  if (
                    L(S) === "object" &&
                    (S.RTCPeerConnection || S.mozRTCPeerConnection)
                  ) {
                    !S.RTCPeerConnection &&
                      S.mozRTCPeerConnection &&
                      (S.RTCPeerConnection = S.mozRTCPeerConnection),
                      q.version < 53 &&
                        [
                          "setLocalDescription",
                          "setRemoteDescription",
                          "addIceCandidate",
                        ].forEach(function (ue) {
                          var fe = S.RTCPeerConnection.prototype[ue],
                            Re = U({}, ue, function () {
                              return (
                                (arguments[0] = new (
                                  ue === "addIceCandidate"
                                    ? S.RTCIceCandidate
                                    : S.RTCSessionDescription
                                )(arguments[0])),
                                fe.apply(this, arguments)
                              );
                            });
                          S.RTCPeerConnection.prototype[ue] = Re[ue];
                        });
                    var J = {
                        inboundrtp: "inbound-rtp",
                        outboundrtp: "outbound-rtp",
                        candidatepair: "candidate-pair",
                        localcandidate: "local-candidate",
                        remotecandidate: "remote-candidate",
                      },
                      te = S.RTCPeerConnection.prototype.getStats;
                    S.RTCPeerConnection.prototype.getStats = function () {
                      var ue = Array.prototype.slice.call(arguments),
                        fe = ue[0],
                        Re = ue[1],
                        De = ue[2];
                      return te
                        .apply(this, [fe || null])
                        .then(function (At) {
                          if (q.version < 53 && !Re)
                            try {
                              At.forEach(function (Rt) {
                                Rt.type = J[Rt.type] || Rt.type;
                              });
                            } catch (Rt) {
                              if (Rt.name !== "TypeError") throw Rt;
                              At.forEach(function (Dt, Jt) {
                                At.set(
                                  Jt,
                                  Object.assign({}, Dt, {
                                    type: J[Dt.type] || Dt.type,
                                  })
                                );
                              });
                            }
                          return At;
                        })
                        .then(Re, De);
                    };
                  }
                }
                function Q(S) {
                  if (
                    L(S) === "object" &&
                    S.RTCPeerConnection &&
                    S.RTCRtpSender &&
                    (!S.RTCRtpSender ||
                      !("getStats" in S.RTCRtpSender.prototype))
                  ) {
                    var q = S.RTCPeerConnection.prototype.getSenders;
                    q &&
                      (S.RTCPeerConnection.prototype.getSenders = function () {
                        var te = this,
                          ue = q.apply(this, []);
                        return (
                          ue.forEach(function (fe) {
                            return (fe._pc = te);
                          }),
                          ue
                        );
                      });
                    var J = S.RTCPeerConnection.prototype.addTrack;
                    J &&
                      (S.RTCPeerConnection.prototype.addTrack = function () {
                        var te = J.apply(this, arguments);
                        return (te._pc = this), te;
                      }),
                      (S.RTCRtpSender.prototype.getStats = function () {
                        return this.track
                          ? this._pc.getStats(this.track)
                          : Promise.resolve(/* @__PURE__ */ new Map());
                      });
                  }
                }
                function D(S) {
                  if (
                    L(S) === "object" &&
                    S.RTCPeerConnection &&
                    S.RTCRtpSender &&
                    (!S.RTCRtpSender ||
                      !("getStats" in S.RTCRtpReceiver.prototype))
                  ) {
                    var q = S.RTCPeerConnection.prototype.getReceivers;
                    q &&
                      (S.RTCPeerConnection.prototype.getReceivers =
                        function () {
                          var J = this,
                            te = q.apply(this, []);
                          return (
                            te.forEach(function (ue) {
                              return (ue._pc = J);
                            }),
                            te
                          );
                        }),
                      o.wrapPeerConnectionEvent(S, "track", function (J) {
                        return (J.receiver._pc = J.srcElement), J;
                      }),
                      (S.RTCRtpReceiver.prototype.getStats = function () {
                        return this._pc.getStats(this.track);
                      });
                  }
                }
                function M(S) {
                  S.RTCPeerConnection &&
                    !("removeStream" in S.RTCPeerConnection.prototype) &&
                    (S.RTCPeerConnection.prototype.removeStream = function (q) {
                      var J = this;
                      o.deprecated("removeStream", "removeTrack"),
                        this.getSenders().forEach(function (te) {
                          te.track &&
                            q.getTracks().includes(te.track) &&
                            J.removeTrack(te);
                        });
                    });
                }
                function z(S) {
                  S.DataChannel &&
                    !S.RTCDataChannel &&
                    (S.RTCDataChannel = S.DataChannel);
                }
                function W(S) {
                  if (L(S) === "object" && S.RTCPeerConnection) {
                    var q = S.RTCPeerConnection.prototype.addTransceiver;
                    q &&
                      (S.RTCPeerConnection.prototype.addTransceiver =
                        function () {
                          this.setParametersPromises = [];
                          var J = arguments[1] && arguments[1].sendEncodings;
                          J === void 0 && (J = []);
                          var te = (J = _(J)).length > 0;
                          te &&
                            J.forEach(function (De) {
                              if (
                                "rid" in De &&
                                !/^[a-z0-9]{0,16}$/i.test(De.rid)
                              )
                                throw new TypeError(
                                  "Invalid RID value provided."
                                );
                              if (
                                "scaleResolutionDownBy" in De &&
                                !(parseFloat(De.scaleResolutionDownBy) >= 1)
                              )
                                throw new RangeError(
                                  "scale_resolution_down_by must be >= 1.0"
                                );
                              if (
                                "maxFramerate" in De &&
                                !(parseFloat(De.maxFramerate) >= 0)
                              )
                                throw new RangeError(
                                  "max_framerate must be >= 0.0"
                                );
                            });
                          var ue = q.apply(this, arguments);
                          if (te) {
                            var fe = ue.sender,
                              Re = fe.getParameters();
                            (!("encodings" in Re) ||
                              (Re.encodings.length === 1 &&
                                Object.keys(Re.encodings[0]).length === 0)) &&
                              ((Re.encodings = J),
                              (fe.sendEncodings = J),
                              this.setParametersPromises.push(
                                fe
                                  .setParameters(Re)
                                  .then(function () {
                                    delete fe.sendEncodings;
                                  })
                                  .catch(function () {
                                    delete fe.sendEncodings;
                                  })
                              ));
                          }
                          return ue;
                        });
                  }
                }
                function ee(S) {
                  if (L(S) === "object" && S.RTCRtpSender) {
                    var q = S.RTCRtpSender.prototype.getParameters;
                    q &&
                      (S.RTCRtpSender.prototype.getParameters = function () {
                        var J = q.apply(this, arguments);
                        return (
                          "encodings" in J ||
                            (J.encodings = [].concat(
                              this.sendEncodings || [{}]
                            )),
                          J
                        );
                      });
                  }
                }
                function H(S) {
                  if (L(S) === "object" && S.RTCPeerConnection) {
                    var q = S.RTCPeerConnection.prototype.createOffer;
                    S.RTCPeerConnection.prototype.createOffer = function () {
                      var J = arguments,
                        te = this;
                      return this.setParametersPromises &&
                        this.setParametersPromises.length
                        ? Promise.all(this.setParametersPromises)
                            .then(function () {
                              return q.apply(te, J);
                            })
                            .finally(function () {
                              te.setParametersPromises = [];
                            })
                        : q.apply(this, arguments);
                    };
                  }
                }
                function I(S) {
                  if (L(S) === "object" && S.RTCPeerConnection) {
                    var q = S.RTCPeerConnection.prototype.createAnswer;
                    S.RTCPeerConnection.prototype.createAnswer = function () {
                      var J = arguments,
                        te = this;
                      return this.setParametersPromises &&
                        this.setParametersPromises.length
                        ? Promise.all(this.setParametersPromises)
                            .then(function () {
                              return q.apply(te, J);
                            })
                            .finally(function () {
                              te.setParametersPromises = [];
                            })
                        : q.apply(this, arguments);
                    };
                  }
                }
              },
              { "../utils": 11, "./getdisplaymedia": 8, "./getusermedia": 9 },
            ],
            8: [
              function (n, a, c) {
                function o(l, h) {
                  (l.navigator.mediaDevices &&
                    "getDisplayMedia" in l.navigator.mediaDevices) ||
                    (l.navigator.mediaDevices &&
                      (l.navigator.mediaDevices.getDisplayMedia = function (p) {
                        if (!p || !p.video) {
                          var g = new DOMException(
                            "getDisplayMedia without video constraints is undefined"
                          );
                          return (
                            (g.name = "NotFoundError"),
                            (g.code = 8),
                            Promise.reject(g)
                          );
                        }
                        return (
                          p.video === !0
                            ? (p.video = { mediaSource: h })
                            : (p.video.mediaSource = h),
                          l.navigator.mediaDevices.getUserMedia(p)
                        );
                      }));
                }
                Object.defineProperty(c, "__esModule", { value: !0 }),
                  (c.shimGetDisplayMedia = o);
              },
              {},
            ],
            9: [
              function (n, a, c) {
                Object.defineProperty(c, "__esModule", { value: !0 }),
                  (c.shimGetUserMedia = g);
                var o = h(n("../utils"));
                function l(_) {
                  if (typeof WeakMap != "function") return null;
                  var b = /* @__PURE__ */ new WeakMap(),
                    R = /* @__PURE__ */ new WeakMap();
                  return (l = function (B) {
                    return B ? R : b;
                  })(_);
                }
                function h(_, b) {
                  if (!b && _ && _.__esModule) return _;
                  if (
                    _ === null ||
                    (p(_) !== "object" && typeof _ != "function")
                  )
                    return { default: _ };
                  var R = l(b);
                  if (R && R.has(_)) return R.get(_);
                  var N = {},
                    B =
                      Object.defineProperty && Object.getOwnPropertyDescriptor;
                  for (var F in _)
                    if (
                      F !== "default" &&
                      Object.prototype.hasOwnProperty.call(_, F)
                    ) {
                      var U = B ? Object.getOwnPropertyDescriptor(_, F) : null;
                      U && (U.get || U.set)
                        ? Object.defineProperty(N, F, U)
                        : (N[F] = _[F]);
                    }
                  return (N.default = _), R && R.set(_, N), N;
                }
                function p(_) {
                  return (
                    (p =
                      typeof Symbol == "function" &&
                      ut(Symbol.iterator) == "symbol"
                        ? function (b) {
                            return ut(b);
                          }
                        : function (b) {
                            return b &&
                              typeof Symbol == "function" &&
                              b.constructor === Symbol &&
                              b !== Symbol.prototype
                              ? "symbol"
                              : ut(b);
                          }),
                    p(_)
                  );
                }
                function g(_, b) {
                  var R = _ && _.navigator,
                    N = _ && _.MediaStreamTrack;
                  if (
                    ((R.getUserMedia = function (A, L, $) {
                      o.deprecated(
                        "navigator.getUserMedia",
                        "navigator.mediaDevices.getUserMedia"
                      ),
                        R.mediaDevices.getUserMedia(A).then(L, $);
                    }),
                    !(
                      b.version > 55 &&
                      "autoGainControl" in
                        R.mediaDevices.getSupportedConstraints()
                    ))
                  ) {
                    var B = function (L, $, X) {
                        $ in L && !(X in L) && ((L[X] = L[$]), delete L[$]);
                      },
                      F = R.mediaDevices.getUserMedia.bind(R.mediaDevices);
                    if (
                      ((R.mediaDevices.getUserMedia = function (A) {
                        return (
                          p(A) === "object" &&
                            p(A.audio) === "object" &&
                            ((A = JSON.parse(JSON.stringify(A))),
                            B(A.audio, "autoGainControl", "mozAutoGainControl"),
                            B(
                              A.audio,
                              "noiseSuppression",
                              "mozNoiseSuppression"
                            )),
                          F(A)
                        );
                      }),
                      N && N.prototype.getSettings)
                    ) {
                      var U = N.prototype.getSettings;
                      N.prototype.getSettings = function () {
                        var A = U.apply(this, arguments);
                        return (
                          B(A, "mozAutoGainControl", "autoGainControl"),
                          B(A, "mozNoiseSuppression", "noiseSuppression"),
                          A
                        );
                      };
                    }
                    if (N && N.prototype.applyConstraints) {
                      var T = N.prototype.applyConstraints;
                      N.prototype.applyConstraints = function (A) {
                        return (
                          this.kind === "audio" &&
                            p(A) === "object" &&
                            ((A = JSON.parse(JSON.stringify(A))),
                            B(A, "autoGainControl", "mozAutoGainControl"),
                            B(A, "noiseSuppression", "mozNoiseSuppression")),
                          T.apply(this, [A])
                        );
                      };
                    }
                  }
                }
              },
              { "../utils": 11 },
            ],
            10: [
              function (n, a, c) {
                Object.defineProperty(c, "__esModule", { value: !0 }),
                  (c.shimAudioContext = T),
                  (c.shimCallbacksAPI = b),
                  (c.shimConstraints = N),
                  (c.shimCreateOfferLegacy = U),
                  (c.shimGetUserMedia = R),
                  (c.shimLocalStreamsAPI = g),
                  (c.shimRTCIceServerUrls = B),
                  (c.shimRemoteStreamsAPI = _),
                  (c.shimTrackEventTransceiver = F);
                var o = h(n("../utils"));
                function l(A) {
                  if (typeof WeakMap != "function") return null;
                  var L = /* @__PURE__ */ new WeakMap(),
                    $ = /* @__PURE__ */ new WeakMap();
                  return (l = function (Q) {
                    return Q ? $ : L;
                  })(A);
                }
                function h(A, L) {
                  if (!L && A && A.__esModule) return A;
                  if (
                    A === null ||
                    (p(A) !== "object" && typeof A != "function")
                  )
                    return { default: A };
                  var $ = l(L);
                  if ($ && $.has(A)) return $.get(A);
                  var X = {},
                    Q =
                      Object.defineProperty && Object.getOwnPropertyDescriptor;
                  for (var D in A)
                    if (
                      D !== "default" &&
                      Object.prototype.hasOwnProperty.call(A, D)
                    ) {
                      var M = Q ? Object.getOwnPropertyDescriptor(A, D) : null;
                      M && (M.get || M.set)
                        ? Object.defineProperty(X, D, M)
                        : (X[D] = A[D]);
                    }
                  return (X.default = A), $ && $.set(A, X), X;
                }
                function p(A) {
                  return (
                    (p =
                      typeof Symbol == "function" &&
                      ut(Symbol.iterator) == "symbol"
                        ? function (L) {
                            return ut(L);
                          }
                        : function (L) {
                            return L &&
                              typeof Symbol == "function" &&
                              L.constructor === Symbol &&
                              L !== Symbol.prototype
                              ? "symbol"
                              : ut(L);
                          }),
                    p(A)
                  );
                }
                function g(A) {
                  if (p(A) === "object" && A.RTCPeerConnection) {
                    if (
                      ("getLocalStreams" in A.RTCPeerConnection.prototype ||
                        (A.RTCPeerConnection.prototype.getLocalStreams =
                          function () {
                            return (
                              this._localStreams || (this._localStreams = []),
                              this._localStreams
                            );
                          }),
                      !("addStream" in A.RTCPeerConnection.prototype))
                    ) {
                      var L = A.RTCPeerConnection.prototype.addTrack;
                      (A.RTCPeerConnection.prototype.addStream = function ($) {
                        var X = this;
                        this._localStreams || (this._localStreams = []),
                          this._localStreams.includes($) ||
                            this._localStreams.push($),
                          $.getAudioTracks().forEach(function (Q) {
                            return L.call(X, Q, $);
                          }),
                          $.getVideoTracks().forEach(function (Q) {
                            return L.call(X, Q, $);
                          });
                      }),
                        (A.RTCPeerConnection.prototype.addTrack = function ($) {
                          for (
                            var X = this,
                              Q = arguments.length,
                              D = new Array(Q > 1 ? Q - 1 : 0),
                              M = 1;
                            M < Q;
                            M++
                          )
                            D[M - 1] = arguments[M];
                          return (
                            D &&
                              D.forEach(function (z) {
                                X._localStreams
                                  ? X._localStreams.includes(z) ||
                                    X._localStreams.push(z)
                                  : (X._localStreams = [z]);
                              }),
                            L.apply(this, arguments)
                          );
                        });
                    }
                    "removeStream" in A.RTCPeerConnection.prototype ||
                      (A.RTCPeerConnection.prototype.removeStream = function (
                        $
                      ) {
                        var X = this;
                        this._localStreams || (this._localStreams = []);
                        var Q = this._localStreams.indexOf($);
                        if (Q !== -1) {
                          this._localStreams.splice(Q, 1);
                          var D = $.getTracks();
                          this.getSenders().forEach(function (M) {
                            D.includes(M.track) && X.removeTrack(M);
                          });
                        }
                      });
                  }
                }
                function _(A) {
                  if (
                    p(A) === "object" &&
                    A.RTCPeerConnection &&
                    ("getRemoteStreams" in A.RTCPeerConnection.prototype ||
                      (A.RTCPeerConnection.prototype.getRemoteStreams =
                        function () {
                          return this._remoteStreams ? this._remoteStreams : [];
                        }),
                    !("onaddstream" in A.RTCPeerConnection.prototype))
                  ) {
                    Object.defineProperty(
                      A.RTCPeerConnection.prototype,
                      "onaddstream",
                      {
                        get: function () {
                          return this._onaddstream;
                        },
                        set: function (X) {
                          var Q = this;
                          this._onaddstream &&
                            (this.removeEventListener(
                              "addstream",
                              this._onaddstream
                            ),
                            this.removeEventListener(
                              "track",
                              this._onaddstreampoly
                            )),
                            this.addEventListener(
                              "addstream",
                              (this._onaddstream = X)
                            ),
                            this.addEventListener(
                              "track",
                              (this._onaddstreampoly = function (D) {
                                D.streams.forEach(function (M) {
                                  if (
                                    (Q._remoteStreams ||
                                      (Q._remoteStreams = []),
                                    !Q._remoteStreams.includes(M))
                                  ) {
                                    Q._remoteStreams.push(M);
                                    var z = new Event("addstream");
                                    (z.stream = M), Q.dispatchEvent(z);
                                  }
                                });
                              })
                            );
                        },
                      }
                    );
                    var L = A.RTCPeerConnection.prototype.setRemoteDescription;
                    A.RTCPeerConnection.prototype.setRemoteDescription =
                      function () {
                        var $ = this;
                        return (
                          this._onaddstreampoly ||
                            this.addEventListener(
                              "track",
                              (this._onaddstreampoly = function (X) {
                                X.streams.forEach(function (Q) {
                                  if (
                                    ($._remoteStreams ||
                                      ($._remoteStreams = []),
                                    !($._remoteStreams.indexOf(Q) >= 0))
                                  ) {
                                    $._remoteStreams.push(Q);
                                    var D = new Event("addstream");
                                    (D.stream = Q), $.dispatchEvent(D);
                                  }
                                });
                              })
                            ),
                          L.apply($, arguments)
                        );
                      };
                  }
                }
                function b(A) {
                  if (p(A) === "object" && A.RTCPeerConnection) {
                    var L = A.RTCPeerConnection.prototype,
                      $ = L.createOffer,
                      X = L.createAnswer,
                      Q = L.setLocalDescription,
                      D = L.setRemoteDescription,
                      M = L.addIceCandidate;
                    (L.createOffer = function (W, ee) {
                      var H =
                          arguments.length >= 2 ? arguments[2] : arguments[0],
                        I = $.apply(this, [H]);
                      return ee ? (I.then(W, ee), Promise.resolve()) : I;
                    }),
                      (L.createAnswer = function (W, ee) {
                        var H =
                            arguments.length >= 2 ? arguments[2] : arguments[0],
                          I = X.apply(this, [H]);
                        return ee ? (I.then(W, ee), Promise.resolve()) : I;
                      });
                    var z = function (ee, H, I) {
                      var S = Q.apply(this, [ee]);
                      return I ? (S.then(H, I), Promise.resolve()) : S;
                    };
                    (L.setLocalDescription = z),
                      (z = function (ee, H, I) {
                        var S = D.apply(this, [ee]);
                        return I ? (S.then(H, I), Promise.resolve()) : S;
                      }),
                      (L.setRemoteDescription = z),
                      (z = function (ee, H, I) {
                        var S = M.apply(this, [ee]);
                        return I ? (S.then(H, I), Promise.resolve()) : S;
                      }),
                      (L.addIceCandidate = z);
                  }
                }
                function R(A) {
                  var L = A && A.navigator;
                  if (L.mediaDevices && L.mediaDevices.getUserMedia) {
                    var $ = L.mediaDevices,
                      X = $.getUserMedia.bind($);
                    L.mediaDevices.getUserMedia = function (Q) {
                      return X(N(Q));
                    };
                  }
                  !L.getUserMedia &&
                    L.mediaDevices &&
                    L.mediaDevices.getUserMedia &&
                    (L.getUserMedia = function (Q, D, M) {
                      L.mediaDevices.getUserMedia(Q).then(D, M);
                    }.bind(L));
                }
                function N(A) {
                  return A && A.video !== void 0
                    ? Object.assign({}, A, { video: o.compactObject(A.video) })
                    : A;
                }
                function B(A) {
                  if (A.RTCPeerConnection) {
                    var L = A.RTCPeerConnection;
                    (A.RTCPeerConnection = function ($, X) {
                      if ($ && $.iceServers) {
                        for (var Q = [], D = 0; D < $.iceServers.length; D++) {
                          var M = $.iceServers[D];
                          M.urls === void 0 && M.url
                            ? (o.deprecated(
                                "RTCIceServer.url",
                                "RTCIceServer.urls"
                              ),
                              ((M = JSON.parse(JSON.stringify(M))).urls =
                                M.url),
                              delete M.url,
                              Q.push(M))
                            : Q.push($.iceServers[D]);
                        }
                        $.iceServers = Q;
                      }
                      return new L($, X);
                    }),
                      (A.RTCPeerConnection.prototype = L.prototype),
                      "generateCertificate" in L &&
                        Object.defineProperty(
                          A.RTCPeerConnection,
                          "generateCertificate",
                          {
                            get: function () {
                              return L.generateCertificate;
                            },
                          }
                        );
                  }
                }
                function F(A) {
                  p(A) === "object" &&
                    A.RTCTrackEvent &&
                    "receiver" in A.RTCTrackEvent.prototype &&
                    !("transceiver" in A.RTCTrackEvent.prototype) &&
                    Object.defineProperty(
                      A.RTCTrackEvent.prototype,
                      "transceiver",
                      {
                        get: function () {
                          return { receiver: this.receiver };
                        },
                      }
                    );
                }
                function U(A) {
                  var L = A.RTCPeerConnection.prototype.createOffer;
                  A.RTCPeerConnection.prototype.createOffer = function ($) {
                    if ($) {
                      $.offerToReceiveAudio !== void 0 &&
                        ($.offerToReceiveAudio = !!$.offerToReceiveAudio);
                      var X = this.getTransceivers().find(function (D) {
                        return D.receiver.track.kind === "audio";
                      });
                      $.offerToReceiveAudio === !1 && X
                        ? X.direction === "sendrecv"
                          ? X.setDirection
                            ? X.setDirection("sendonly")
                            : (X.direction = "sendonly")
                          : X.direction === "recvonly" &&
                            (X.setDirection
                              ? X.setDirection("inactive")
                              : (X.direction = "inactive"))
                        : $.offerToReceiveAudio !== !0 ||
                          X ||
                          this.addTransceiver("audio", {
                            direction: "recvonly",
                          }),
                        $.offerToReceiveVideo !== void 0 &&
                          ($.offerToReceiveVideo = !!$.offerToReceiveVideo);
                      var Q = this.getTransceivers().find(function (D) {
                        return D.receiver.track.kind === "video";
                      });
                      $.offerToReceiveVideo === !1 && Q
                        ? Q.direction === "sendrecv"
                          ? Q.setDirection
                            ? Q.setDirection("sendonly")
                            : (Q.direction = "sendonly")
                          : Q.direction === "recvonly" &&
                            (Q.setDirection
                              ? Q.setDirection("inactive")
                              : (Q.direction = "inactive"))
                        : $.offerToReceiveVideo !== !0 ||
                          Q ||
                          this.addTransceiver("video", {
                            direction: "recvonly",
                          });
                    }
                    return L.apply(this, arguments);
                  };
                }
                function T(A) {
                  p(A) !== "object" ||
                    A.AudioContext ||
                    (A.AudioContext = A.webkitAudioContext);
                }
              },
              { "../utils": 11 },
            ],
            11: [
              function (n, a, c) {
                function o(Q, D, M) {
                  return (
                    (D = l(D)) in Q
                      ? Object.defineProperty(Q, D, {
                          value: M,
                          enumerable: !0,
                          configurable: !0,
                          writable: !0,
                        })
                      : (Q[D] = M),
                    Q
                  );
                }
                function l(Q) {
                  var D = h(Q, "string");
                  return p(D) === "symbol" ? D : String(D);
                }
                function h(Q, D) {
                  if (p(Q) !== "object" || Q === null) return Q;
                  var M = Q[Symbol.toPrimitive];
                  if (M !== void 0) {
                    var z = M.call(Q, D || "default");
                    if (p(z) !== "object") return z;
                    throw new TypeError(
                      "@@toPrimitive must return a primitive value."
                    );
                  }
                  return (D === "string" ? String : Number)(Q);
                }
                function p(Q) {
                  return (
                    (p =
                      typeof Symbol == "function" &&
                      ut(Symbol.iterator) == "symbol"
                        ? function (D) {
                            return ut(D);
                          }
                        : function (D) {
                            return D &&
                              typeof Symbol == "function" &&
                              D.constructor === Symbol &&
                              D !== Symbol.prototype
                              ? "symbol"
                              : ut(D);
                          }),
                    p(Q)
                  );
                }
                Object.defineProperty(c, "__esModule", { value: !0 }),
                  (c.compactObject = L),
                  (c.deprecated = U),
                  (c.detectBrowser = T),
                  (c.disableLog = N),
                  (c.disableWarnings = B),
                  (c.extractVersion = b),
                  (c.filterStats = X),
                  (c.log = F),
                  (c.walkStats = $),
                  (c.wrapPeerConnectionEvent = R);
                var g = !0,
                  _ = !0;
                function b(Q, D, M) {
                  var z = Q.match(D);
                  return z && z.length >= M && parseInt(z[M], 10);
                }
                function R(Q, D, M) {
                  if (Q.RTCPeerConnection) {
                    var z = Q.RTCPeerConnection.prototype,
                      W = z.addEventListener;
                    z.addEventListener = function (H, I) {
                      if (H !== D) return W.apply(this, arguments);
                      var S = function (J) {
                        var te = M(J);
                        te && (I.handleEvent ? I.handleEvent(te) : I(te));
                      };
                      return (
                        (this._eventMap = this._eventMap || {}),
                        this._eventMap[D] ||
                          (this._eventMap[D] = /* @__PURE__ */ new Map()),
                        this._eventMap[D].set(I, S),
                        W.apply(this, [H, S])
                      );
                    };
                    var ee = z.removeEventListener;
                    (z.removeEventListener = function (H, I) {
                      if (H !== D || !this._eventMap || !this._eventMap[D])
                        return ee.apply(this, arguments);
                      if (!this._eventMap[D].has(I))
                        return ee.apply(this, arguments);
                      var S = this._eventMap[D].get(I);
                      return (
                        this._eventMap[D].delete(I),
                        this._eventMap[D].size === 0 &&
                          delete this._eventMap[D],
                        Object.keys(this._eventMap).length === 0 &&
                          delete this._eventMap,
                        ee.apply(this, [H, S])
                      );
                    }),
                      Object.defineProperty(z, "on" + D, {
                        get: function () {
                          return this["_on" + D];
                        },
                        set: function (I) {
                          this["_on" + D] &&
                            (this.removeEventListener(D, this["_on" + D]),
                            delete this["_on" + D]),
                            I &&
                              this.addEventListener(D, (this["_on" + D] = I));
                        },
                        enumerable: !0,
                        configurable: !0,
                      });
                  }
                }
                function N(Q) {
                  return typeof Q != "boolean"
                    ? new Error(
                        "Argument type: " + p(Q) + ". Please use a boolean."
                      )
                    : ((g = Q),
                      Q
                        ? "adapter.js logging disabled"
                        : "adapter.js logging enabled");
                }
                function B(Q) {
                  return typeof Q != "boolean"
                    ? new Error(
                        "Argument type: " + p(Q) + ". Please use a boolean."
                      )
                    : ((_ = !Q),
                      "adapter.js deprecation warnings " +
                        (Q ? "disabled" : "enabled"));
                }
                function F() {
                  if (
                    (typeof window == "undefined" ? "undefined" : p(window)) ===
                    "object"
                  ) {
                    if (g) return;
                    typeof console != "undefined" &&
                      typeof console.log == "function" &&
                      console.log.apply(console, arguments);
                  }
                }
                function U(Q, D) {
                  _ &&
                    console.warn(
                      Q + " is deprecated, please use " + D + " instead."
                    );
                }
                function T(Q) {
                  var D = { browser: null, version: null };
                  if (Q === void 0 || !Q.navigator || !Q.navigator.userAgent)
                    return (D.browser = "Not a browser."), D;
                  var M = Q.navigator;
                  if (M.mozGetUserMedia)
                    (D.browser = "firefox"),
                      (D.version = b(M.userAgent, /Firefox\/(\d+)\./, 1));
                  else if (
                    M.webkitGetUserMedia ||
                    (Q.isSecureContext === !1 && Q.webkitRTCPeerConnection)
                  )
                    (D.browser = "chrome"),
                      (D.version = b(M.userAgent, /Chrom(e|ium)\/(\d+)\./, 2));
                  else {
                    if (
                      !Q.RTCPeerConnection ||
                      !M.userAgent.match(/AppleWebKit\/(\d+)\./)
                    )
                      return (D.browser = "Not a supported browser."), D;
                    (D.browser = "safari"),
                      (D.version = b(M.userAgent, /AppleWebKit\/(\d+)\./, 1)),
                      (D.supportsUnifiedPlan =
                        Q.RTCRtpTransceiver &&
                        "currentDirection" in Q.RTCRtpTransceiver.prototype);
                  }
                  return D;
                }
                function A(Q) {
                  return (
                    Object.prototype.toString.call(Q) === "[object Object]"
                  );
                }
                function L(Q) {
                  return A(Q)
                    ? Object.keys(Q).reduce(function (D, M) {
                        var z = A(Q[M]),
                          W = z ? L(Q[M]) : Q[M],
                          ee = z && !Object.keys(W).length;
                        return W === void 0 || ee
                          ? D
                          : Object.assign(D, o({}, M, W));
                      }, {})
                    : Q;
                }
                function $(Q, D, M) {
                  D &&
                    !M.has(D.id) &&
                    (M.set(D.id, D),
                    Object.keys(D).forEach(function (z) {
                      z.endsWith("Id")
                        ? $(Q, Q.get(D[z]), M)
                        : z.endsWith("Ids") &&
                          D[z].forEach(function (W) {
                            $(Q, Q.get(W), M);
                          });
                    }));
                }
                function X(Q, D, M) {
                  var z = M ? "outbound-rtp" : "inbound-rtp",
                    W = /* @__PURE__ */ new Map();
                  if (D === null) return W;
                  var ee = [];
                  return (
                    Q.forEach(function (H) {
                      H.type === "track" &&
                        H.trackIdentifier === D.id &&
                        ee.push(H);
                    }),
                    ee.forEach(function (H) {
                      Q.forEach(function (I) {
                        I.type === z && I.trackId === H.id && $(Q, I, W);
                      });
                    }),
                    W
                  );
                }
              },
              {},
            ],
            12: [
              function (n, a, c) {
                var o =
                    typeof Symbol == "function" &&
                    ut(Symbol.iterator) == "symbol"
                      ? function (h) {
                          return ut(h);
                        }
                      : function (h) {
                          return h &&
                            typeof Symbol == "function" &&
                            h.constructor === Symbol &&
                            h !== Symbol.prototype
                            ? "symbol"
                            : ut(h);
                        },
                  l = {
                    generateIdentifier: function () {
                      return Math.random().toString(36).substring(2, 12);
                    },
                  };
                (l.localCName = l.generateIdentifier()),
                  (l.splitLines = function (h) {
                    return h
                      .trim()
                      .split(
                        `
`
                      )
                      .map(function (p) {
                        return p.trim();
                      });
                  }),
                  (l.splitSections = function (h) {
                    return h
                      .split(
                        `
m=`
                      )
                      .map(function (p, g) {
                        return (
                          (g > 0 ? "m=" + p : p).trim() +
                          `\r
`
                        );
                      });
                  }),
                  (l.getDescription = function (h) {
                    var p = l.splitSections(h);
                    return p && p[0];
                  }),
                  (l.getMediaSections = function (h) {
                    var p = l.splitSections(h);
                    return p.shift(), p;
                  }),
                  (l.matchPrefix = function (h, p) {
                    return l.splitLines(h).filter(function (g) {
                      return g.indexOf(p) === 0;
                    });
                  }),
                  (l.parseCandidate = function (h) {
                    for (
                      var p = void 0,
                        g = {
                          foundation: (p =
                            h.indexOf("a=candidate:") === 0
                              ? h.substring(12).split(" ")
                              : h.substring(10).split(" "))[0],
                          component: { 1: "rtp", 2: "rtcp" }[p[1]] || p[1],
                          protocol: p[2].toLowerCase(),
                          priority: parseInt(p[3], 10),
                          ip: p[4],
                          address: p[4],
                          port: parseInt(p[5], 10),
                          type: p[7],
                        },
                        _ = 8;
                      _ < p.length;
                      _ += 2
                    )
                      switch (p[_]) {
                        case "raddr":
                          g.relatedAddress = p[_ + 1];
                          break;
                        case "rport":
                          g.relatedPort = parseInt(p[_ + 1], 10);
                          break;
                        case "tcptype":
                          g.tcpType = p[_ + 1];
                          break;
                        case "ufrag":
                          (g.ufrag = p[_ + 1]), (g.usernameFragment = p[_ + 1]);
                          break;
                        default:
                          g[p[_]] === void 0 && (g[p[_]] = p[_ + 1]);
                      }
                    return g;
                  }),
                  (l.writeCandidate = function (h) {
                    var p = [];
                    p.push(h.foundation);
                    var g = h.component;
                    g === "rtp"
                      ? p.push(1)
                      : g === "rtcp"
                      ? p.push(2)
                      : p.push(g),
                      p.push(h.protocol.toUpperCase()),
                      p.push(h.priority),
                      p.push(h.address || h.ip),
                      p.push(h.port);
                    var _ = h.type;
                    return (
                      p.push("typ"),
                      p.push(_),
                      _ !== "host" &&
                        h.relatedAddress &&
                        h.relatedPort &&
                        (p.push("raddr"),
                        p.push(h.relatedAddress),
                        p.push("rport"),
                        p.push(h.relatedPort)),
                      h.tcpType &&
                        h.protocol.toLowerCase() === "tcp" &&
                        (p.push("tcptype"), p.push(h.tcpType)),
                      (h.usernameFragment || h.ufrag) &&
                        (p.push("ufrag"),
                        p.push(h.usernameFragment || h.ufrag)),
                      "candidate:" + p.join(" ")
                    );
                  }),
                  (l.parseIceOptions = function (h) {
                    return h.substring(14).split(" ");
                  }),
                  (l.parseRtpMap = function (h) {
                    var p = h.substring(9).split(" "),
                      g = { payloadType: parseInt(p.shift(), 10) };
                    return (
                      (p = p[0].split("/")),
                      (g.name = p[0]),
                      (g.clockRate = parseInt(p[1], 10)),
                      (g.channels = p.length === 3 ? parseInt(p[2], 10) : 1),
                      (g.numChannels = g.channels),
                      g
                    );
                  }),
                  (l.writeRtpMap = function (h) {
                    var p = h.payloadType;
                    h.preferredPayloadType !== void 0 &&
                      (p = h.preferredPayloadType);
                    var g = h.channels || h.numChannels || 1;
                    return (
                      "a=rtpmap:" +
                      p +
                      " " +
                      h.name +
                      "/" +
                      h.clockRate +
                      (g !== 1 ? "/" + g : "") +
                      `\r
`
                    );
                  }),
                  (l.parseExtmap = function (h) {
                    var p = h.substring(9).split(" ");
                    return {
                      id: parseInt(p[0], 10),
                      direction:
                        p[0].indexOf("/") > 0 ? p[0].split("/")[1] : "sendrecv",
                      uri: p[1],
                      attributes: p.slice(2).join(" "),
                    };
                  }),
                  (l.writeExtmap = function (h) {
                    return (
                      "a=extmap:" +
                      (h.id || h.preferredId) +
                      (h.direction && h.direction !== "sendrecv"
                        ? "/" + h.direction
                        : "") +
                      " " +
                      h.uri +
                      (h.attributes ? " " + h.attributes : "") +
                      `\r
`
                    );
                  }),
                  (l.parseFmtp = function (h) {
                    for (
                      var p = {},
                        g = void 0,
                        _ = h.substring(h.indexOf(" ") + 1).split(";"),
                        b = 0;
                      b < _.length;
                      b++
                    )
                      p[(g = _[b].trim().split("="))[0].trim()] = g[1];
                    return p;
                  }),
                  (l.writeFmtp = function (h) {
                    var p = "",
                      g = h.payloadType;
                    if (
                      (h.preferredPayloadType !== void 0 &&
                        (g = h.preferredPayloadType),
                      h.parameters && Object.keys(h.parameters).length)
                    ) {
                      var _ = [];
                      Object.keys(h.parameters).forEach(function (b) {
                        h.parameters[b] !== void 0
                          ? _.push(b + "=" + h.parameters[b])
                          : _.push(b);
                      }),
                        (p +=
                          "a=fmtp:" +
                          g +
                          " " +
                          _.join(";") +
                          `\r
`);
                    }
                    return p;
                  }),
                  (l.parseRtcpFb = function (h) {
                    var p = h.substring(h.indexOf(" ") + 1).split(" ");
                    return { type: p.shift(), parameter: p.join(" ") };
                  }),
                  (l.writeRtcpFb = function (h) {
                    var p = "",
                      g = h.payloadType;
                    return (
                      h.preferredPayloadType !== void 0 &&
                        (g = h.preferredPayloadType),
                      h.rtcpFeedback &&
                        h.rtcpFeedback.length &&
                        h.rtcpFeedback.forEach(function (_) {
                          p +=
                            "a=rtcp-fb:" +
                            g +
                            " " +
                            _.type +
                            (_.parameter && _.parameter.length
                              ? " " + _.parameter
                              : "") +
                            `\r
`;
                        }),
                      p
                    );
                  }),
                  (l.parseSsrcMedia = function (h) {
                    var p = h.indexOf(" "),
                      g = { ssrc: parseInt(h.substring(7, p), 10) },
                      _ = h.indexOf(":", p);
                    return (
                      _ > -1
                        ? ((g.attribute = h.substring(p + 1, _)),
                          (g.value = h.substring(_ + 1)))
                        : (g.attribute = h.substring(p + 1)),
                      g
                    );
                  }),
                  (l.parseSsrcGroup = function (h) {
                    var p = h.substring(13).split(" ");
                    return {
                      semantics: p.shift(),
                      ssrcs: p.map(function (g) {
                        return parseInt(g, 10);
                      }),
                    };
                  }),
                  (l.getMid = function (h) {
                    var p = l.matchPrefix(h, "a=mid:")[0];
                    if (p) return p.substring(6);
                  }),
                  (l.parseFingerprint = function (h) {
                    var p = h.substring(14).split(" ");
                    return {
                      algorithm: p[0].toLowerCase(),
                      value: p[1].toUpperCase(),
                    };
                  }),
                  (l.getDtlsParameters = function (h, p) {
                    return {
                      role: "auto",
                      fingerprints: l
                        .matchPrefix(h + p, "a=fingerprint:")
                        .map(l.parseFingerprint),
                    };
                  }),
                  (l.writeDtlsParameters = function (h, p) {
                    var g =
                      "a=setup:" +
                      p +
                      `\r
`;
                    return (
                      h.fingerprints.forEach(function (_) {
                        g +=
                          "a=fingerprint:" +
                          _.algorithm +
                          " " +
                          _.value +
                          `\r
`;
                      }),
                      g
                    );
                  }),
                  (l.parseCryptoLine = function (h) {
                    var p = h.substring(9).split(" ");
                    return {
                      tag: parseInt(p[0], 10),
                      cryptoSuite: p[1],
                      keyParams: p[2],
                      sessionParams: p.slice(3),
                    };
                  }),
                  (l.writeCryptoLine = function (h) {
                    return (
                      "a=crypto:" +
                      h.tag +
                      " " +
                      h.cryptoSuite +
                      " " +
                      (o(h.keyParams) === "object"
                        ? l.writeCryptoKeyParams(h.keyParams)
                        : h.keyParams) +
                      (h.sessionParams ? " " + h.sessionParams.join(" ") : "") +
                      `\r
`
                    );
                  }),
                  (l.parseCryptoKeyParams = function (h) {
                    if (h.indexOf("inline:") !== 0) return null;
                    var p = h.substring(7).split("|");
                    return {
                      keyMethod: "inline",
                      keySalt: p[0],
                      lifeTime: p[1],
                      mkiValue: p[2] ? p[2].split(":")[0] : void 0,
                      mkiLength: p[2] ? p[2].split(":")[1] : void 0,
                    };
                  }),
                  (l.writeCryptoKeyParams = function (h) {
                    return (
                      h.keyMethod +
                      ":" +
                      h.keySalt +
                      (h.lifeTime ? "|" + h.lifeTime : "") +
                      (h.mkiValue && h.mkiLength
                        ? "|" + h.mkiValue + ":" + h.mkiLength
                        : "")
                    );
                  }),
                  (l.getCryptoParameters = function (h, p) {
                    return l
                      .matchPrefix(h + p, "a=crypto:")
                      .map(l.parseCryptoLine);
                  }),
                  (l.getIceParameters = function (h, p) {
                    var g = l.matchPrefix(h + p, "a=ice-ufrag:")[0],
                      _ = l.matchPrefix(h + p, "a=ice-pwd:")[0];
                    return g && _
                      ? {
                          usernameFragment: g.substring(12),
                          password: _.substring(10),
                        }
                      : null;
                  }),
                  (l.writeIceParameters = function (h) {
                    var p =
                      "a=ice-ufrag:" +
                      h.usernameFragment +
                      `\r
a=ice-pwd:` +
                      h.password +
                      `\r
`;
                    return (
                      h.iceLite &&
                        (p += `a=ice-lite\r
`),
                      p
                    );
                  }),
                  (l.parseRtpParameters = function (h) {
                    var p = {
                        codecs: [],
                        headerExtensions: [],
                        fecMechanisms: [],
                        rtcp: [],
                      },
                      g = l.splitLines(h)[0].split(" ");
                    p.profile = g[2];
                    for (var _ = 3; _ < g.length; _++) {
                      var b = g[_],
                        R = l.matchPrefix(h, "a=rtpmap:" + b + " ")[0];
                      if (R) {
                        var N = l.parseRtpMap(R),
                          B = l.matchPrefix(h, "a=fmtp:" + b + " ");
                        switch (
                          ((N.parameters = B.length ? l.parseFmtp(B[0]) : {}),
                          (N.rtcpFeedback = l
                            .matchPrefix(h, "a=rtcp-fb:" + b + " ")
                            .map(l.parseRtcpFb)),
                          p.codecs.push(N),
                          N.name.toUpperCase())
                        ) {
                          case "RED":
                          case "ULPFEC":
                            p.fecMechanisms.push(N.name.toUpperCase());
                        }
                      }
                    }
                    l.matchPrefix(h, "a=extmap:").forEach(function (U) {
                      p.headerExtensions.push(l.parseExtmap(U));
                    });
                    var F = l.matchPrefix(h, "a=rtcp-fb:* ").map(l.parseRtcpFb);
                    return (
                      p.codecs.forEach(function (U) {
                        F.forEach(function (T) {
                          U.rtcpFeedback.find(function (A) {
                            return (
                              A.type === T.type && A.parameter === T.parameter
                            );
                          }) || U.rtcpFeedback.push(T);
                        });
                      }),
                      p
                    );
                  }),
                  (l.writeRtpDescription = function (h, p) {
                    var g = "";
                    (g += "m=" + h + " "),
                      (g += p.codecs.length > 0 ? "9" : "0"),
                      (g += " " + (p.profile || "UDP/TLS/RTP/SAVPF") + " "),
                      (g +=
                        p.codecs
                          .map(function (b) {
                            return b.preferredPayloadType !== void 0
                              ? b.preferredPayloadType
                              : b.payloadType;
                          })
                          .join(" ") +
                        `\r
`),
                      (g += `c=IN IP4 0.0.0.0\r
`),
                      (g += `a=rtcp:9 IN IP4 0.0.0.0\r
`),
                      p.codecs.forEach(function (b) {
                        (g += l.writeRtpMap(b)),
                          (g += l.writeFmtp(b)),
                          (g += l.writeRtcpFb(b));
                      });
                    var _ = 0;
                    return (
                      p.codecs.forEach(function (b) {
                        b.maxptime > _ && (_ = b.maxptime);
                      }),
                      _ > 0 &&
                        (g +=
                          "a=maxptime:" +
                          _ +
                          `\r
`),
                      p.headerExtensions &&
                        p.headerExtensions.forEach(function (b) {
                          g += l.writeExtmap(b);
                        }),
                      g
                    );
                  }),
                  (l.parseRtpEncodingParameters = function (h) {
                    var p = [],
                      g = l.parseRtpParameters(h),
                      _ = g.fecMechanisms.indexOf("RED") !== -1,
                      b = g.fecMechanisms.indexOf("ULPFEC") !== -1,
                      R = l
                        .matchPrefix(h, "a=ssrc:")
                        .map(function (T) {
                          return l.parseSsrcMedia(T);
                        })
                        .filter(function (T) {
                          return T.attribute === "cname";
                        }),
                      N = R.length > 0 && R[0].ssrc,
                      B = void 0,
                      F = l
                        .matchPrefix(h, "a=ssrc-group:FID")
                        .map(function (T) {
                          return T.substring(17)
                            .split(" ")
                            .map(function (A) {
                              return parseInt(A, 10);
                            });
                        });
                    F.length > 0 &&
                      F[0].length > 1 &&
                      F[0][0] === N &&
                      (B = F[0][1]),
                      g.codecs.forEach(function (T) {
                        if (
                          T.name.toUpperCase() === "RTX" &&
                          T.parameters.apt
                        ) {
                          var A = {
                            ssrc: N,
                            codecPayloadType: parseInt(T.parameters.apt, 10),
                          };
                          N && B && (A.rtx = { ssrc: B }),
                            p.push(A),
                            _ &&
                              (((A = JSON.parse(JSON.stringify(A))).fec = {
                                ssrc: N,
                                mechanism: b ? "red+ulpfec" : "red",
                              }),
                              p.push(A));
                        }
                      }),
                      p.length === 0 && N && p.push({ ssrc: N });
                    var U = l.matchPrefix(h, "b=");
                    return (
                      U.length &&
                        ((U =
                          U[0].indexOf("b=TIAS:") === 0
                            ? parseInt(U[0].substring(7), 10)
                            : U[0].indexOf("b=AS:") === 0
                            ? 1e3 * parseInt(U[0].substring(5), 10) * 0.95 -
                              16e3
                            : void 0),
                        p.forEach(function (T) {
                          T.maxBitrate = U;
                        })),
                      p
                    );
                  }),
                  (l.parseRtcpParameters = function (h) {
                    var p = {},
                      g = l
                        .matchPrefix(h, "a=ssrc:")
                        .map(function (R) {
                          return l.parseSsrcMedia(R);
                        })
                        .filter(function (R) {
                          return R.attribute === "cname";
                        })[0];
                    g && ((p.cname = g.value), (p.ssrc = g.ssrc));
                    var _ = l.matchPrefix(h, "a=rtcp-rsize");
                    (p.reducedSize = _.length > 0),
                      (p.compound = _.length === 0);
                    var b = l.matchPrefix(h, "a=rtcp-mux");
                    return (p.mux = b.length > 0), p;
                  }),
                  (l.writeRtcpParameters = function (h) {
                    var p = "";
                    return (
                      h.reducedSize &&
                        (p += `a=rtcp-rsize\r
`),
                      h.mux &&
                        (p += `a=rtcp-mux\r
`),
                      h.ssrc !== void 0 &&
                        h.cname &&
                        (p +=
                          "a=ssrc:" +
                          h.ssrc +
                          " cname:" +
                          h.cname +
                          `\r
`),
                      p
                    );
                  }),
                  (l.parseMsid = function (h) {
                    var p = void 0,
                      g = l.matchPrefix(h, "a=msid:");
                    if (g.length === 1)
                      return {
                        stream: (p = g[0].substring(7).split(" "))[0],
                        track: p[1],
                      };
                    var _ = l
                      .matchPrefix(h, "a=ssrc:")
                      .map(function (b) {
                        return l.parseSsrcMedia(b);
                      })
                      .filter(function (b) {
                        return b.attribute === "msid";
                      });
                    return _.length > 0
                      ? { stream: (p = _[0].value.split(" "))[0], track: p[1] }
                      : void 0;
                  }),
                  (l.parseSctpDescription = function (h) {
                    var p = l.parseMLine(h),
                      g = l.matchPrefix(h, "a=max-message-size:"),
                      _ = void 0;
                    g.length > 0 && (_ = parseInt(g[0].substring(19), 10)),
                      isNaN(_) && (_ = 65536);
                    var b = l.matchPrefix(h, "a=sctp-port:");
                    if (b.length > 0)
                      return {
                        port: parseInt(b[0].substring(12), 10),
                        protocol: p.fmt,
                        maxMessageSize: _,
                      };
                    var R = l.matchPrefix(h, "a=sctpmap:");
                    if (R.length > 0) {
                      var N = R[0].substring(10).split(" ");
                      return {
                        port: parseInt(N[0], 10),
                        protocol: N[1],
                        maxMessageSize: _,
                      };
                    }
                  }),
                  (l.writeSctpDescription = function (h, p) {
                    var g = [];
                    return (
                      (g =
                        h.protocol !== "DTLS/SCTP"
                          ? [
                              "m=" +
                                h.kind +
                                " 9 " +
                                h.protocol +
                                " " +
                                p.protocol +
                                `\r
`,
                              `c=IN IP4 0.0.0.0\r
`,
                              "a=sctp-port:" +
                                p.port +
                                `\r
`,
                            ]
                          : [
                              "m=" +
                                h.kind +
                                " 9 " +
                                h.protocol +
                                " " +
                                p.port +
                                `\r
`,
                              `c=IN IP4 0.0.0.0\r
`,
                              "a=sctpmap:" +
                                p.port +
                                " " +
                                p.protocol +
                                ` 65535\r
`,
                            ]),
                      p.maxMessageSize !== void 0 &&
                        g.push(
                          "a=max-message-size:" +
                            p.maxMessageSize +
                            `\r
`
                        ),
                      g.join("")
                    );
                  }),
                  (l.generateSessionId = function () {
                    return Math.random().toString().substr(2, 22);
                  }),
                  (l.writeSessionBoilerplate = function (h, p, g) {
                    var _ = p !== void 0 ? p : 2;
                    return (
                      `v=0\r
o=` +
                      (g || "thisisadapterortc") +
                      " " +
                      (h || l.generateSessionId()) +
                      " " +
                      _ +
                      ` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`
                    );
                  }),
                  (l.getDirection = function (h, p) {
                    for (var g = l.splitLines(h), _ = 0; _ < g.length; _++)
                      switch (g[_]) {
                        case "a=sendrecv":
                        case "a=sendonly":
                        case "a=recvonly":
                        case "a=inactive":
                          return g[_].substring(2);
                      }
                    return p ? l.getDirection(p) : "sendrecv";
                  }),
                  (l.getKind = function (h) {
                    return l.splitLines(h)[0].split(" ")[0].substring(2);
                  }),
                  (l.isRejected = function (h) {
                    return h.split(" ", 2)[1] === "0";
                  }),
                  (l.parseMLine = function (h) {
                    var p = l.splitLines(h)[0].substring(2).split(" ");
                    return {
                      kind: p[0],
                      port: parseInt(p[1], 10),
                      protocol: p[2],
                      fmt: p.slice(3).join(" "),
                    };
                  }),
                  (l.parseOLine = function (h) {
                    var p = l.matchPrefix(h, "o=")[0].substring(2).split(" ");
                    return {
                      username: p[0],
                      sessionId: p[1],
                      sessionVersion: parseInt(p[2], 10),
                      netType: p[3],
                      addressType: p[4],
                      address: p[5],
                    };
                  }),
                  (l.isValidSDP = function (h) {
                    if (typeof h != "string" || h.length === 0) return !1;
                    for (var p = l.splitLines(h), g = 0; g < p.length; g++)
                      if (p[g].length < 2 || p[g].charAt(1) !== "=") return !1;
                    return !0;
                  }),
                  (a === void 0 ? "undefined" : o(a)) === "object" &&
                    (a.exports = l);
              },
              {},
            ],
          },
          {},
          [1]
        )(1);
      })({ exports: {} });
    var Xi = "4.15.22",
      nd = {},
      bf = mo,
      Sf = Is,
      As =
        Object.keys ||
        function (s) {
          return bf(s, Sf);
        },
      wf = Mt,
      kf = wa,
      Si = vn,
      rd = mn,
      Tf = Ir,
      id = As;
    nd.f =
      wf && !kf
        ? Object.defineProperties
        : function (s, e) {
            rd(s);
            for (var n, a = Tf(e), c = id(e), o = c.length, l = 0; o > l; )
              Si.f(s, (n = c[l++]), a[n]);
            return s;
          };
    var xs,
      ad = mi("document", "documentElement"),
      Ef = mn,
      If = nd,
      Ps = Is,
      $u = Vu,
      Rf = ad,
      Cf = Qn,
      od = Uu("IE_PROTO"),
      Yu = function () {},
      sd = function (e) {
        return "<script>" + e + "</script>";
      },
      Zu = function (e) {
        e.write(sd("")), e.close();
        var n = e.parentWindow.Object;
        return (e = null), n;
      },
      Os = function () {
        try {
          xs = new ActiveXObject("htmlfile");
        } catch (c) {}
        var e, n;
        Os =
          typeof document != "undefined"
            ? document.domain && xs
              ? Zu(xs)
              : (((n = Cf("iframe")).style.display = "none"),
                Rf.appendChild(n),
                (n.src = "javascript:"),
                (e = n.contentWindow.document).open(),
                e.write(sd("document.F=Object")),
                e.close(),
                e.F)
            : Zu(xs);
        for (var a = Ps.length; a--; ) delete Os.prototype[Ps[a]];
        return Os();
      };
    $u[od] = !0;
    var Ra =
        Object.create ||
        function (s, e) {
          var n;
          return (
            s !== null
              ? ((Yu.prototype = Ef(s)),
                (n = new Yu()),
                (Yu.prototype = null),
                (n[od] = s))
              : (n = Os()),
            e === void 0 ? n : If.f(n, e)
          );
        },
      hn = Qt,
      Cg = Ra,
      Ag = vn.f,
      ud = hn("unscopables"),
      cd = Array.prototype;
    cd[ud] == null && Ag(cd, ud, { configurable: !0, value: Cg(null) });
    var ea,
      Af,
      ld,
      Qu = function (e) {
        cd[ud][e] = !0;
      },
      Ca = {},
      Xu = !et(function () {
        function s() {}
        return (
          (s.prototype.constructor = null),
          Object.getPrototypeOf(new s()) !== s.prototype
        );
      }),
      xf = bn,
      xg = Bt,
      Pg = Wn,
      ec = Xu,
      Aa = Uu("IE_PROTO"),
      xa = Object,
      Xr = xa.prototype,
      Ds = ec
        ? xa.getPrototypeOf
        : function (s) {
            var e = Pg(s);
            if (xf(e, Aa)) return e[Aa];
            var n = e.constructor;
            return xg(n) && e instanceof n
              ? n.prototype
              : e instanceof xa
              ? Xr
              : null;
          },
      Pf = et,
      lt = Bt,
      tc = pn,
      ta = Ds,
      Pa = Bn,
      wi = Qt("iterator"),
      na = !1;
    [].keys &&
      ("next" in (ld = [].keys())
        ? (Af = ta(ta(ld))) !== Object.prototype && (ea = Af)
        : (na = !0));
    var Oa =
      !tc(ea) ||
      Pf(function () {
        var s = {};
        return ea[wi].call(s) !== s;
      });
    Oa && (ea = {}),
      lt(ea[wi]) ||
        Pa(ea, wi, function () {
          return this;
        });
    var ki = { IteratorPrototype: ea, BUGGY_SAFARI_ITERATORS: na },
      Da = vn.f,
      Na = bn,
      ra = Qt("toStringTag"),
      Zt = function (e, n, a) {
        e && !a && (e = e.prototype),
          e && !Na(e, ra) && Da(e, ra, { configurable: !0, value: n });
      },
      Of = ki.IteratorPrototype,
      t = Ra,
      f = ft,
      d = Zt,
      y = Ca,
      w = function () {
        return this;
      },
      k = function (e, n, a, c) {
        var o = n + " Iterator";
        return (
          (e.prototype = t(Of, { next: f(+!c, a) })), d(e, o, !1), (y[o] = w), e
        );
      },
      P = Bt,
      V = String,
      j = TypeError,
      x = Qe,
      K = mn,
      ne = function (e) {
        if (ut(e) == "object" || P(e)) return e;
        throw j("Can't set " + V(e) + " as a prototype");
      },
      Y =
        Object.setPrototypeOf ||
        ("__proto__" in {}
          ? (function () {
              var s,
                e = !1,
                n = {};
              try {
                (s = x(
                  Object.getOwnPropertyDescriptor(Object.prototype, "__proto__")
                    .set
                ))(n, []),
                  (e = n instanceof Array);
              } catch (a) {}
              return function (a, c) {
                return K(a), ne(c), e ? s(a, c) : (a.__proto__ = c), a;
              };
            })()
          : void 0),
      Z = Tt,
      ae = Te,
      ve = Bt,
      ie = k,
      oe = Ds,
      se = Y,
      he = Zt,
      pe = Cr,
      ge = Bn,
      be = Ca,
      xe = Ki.PROPER,
      Ce = Ki.CONFIGURABLE,
      Pe = ki.IteratorPrototype,
      _e = ki.BUGGY_SAFARI_ITERATORS,
      Se = Qt("iterator"),
      je = "keys",
      Ze = "values",
      Fe = "entries",
      ot = function () {
        return this;
      },
      ht = function (e, n, a, c, o, l, h) {
        ie(a, n, c);
        var p,
          g,
          _,
          b = function (L) {
            if (L === o && U) return U;
            if (!_e && L in B) return B[L];
            switch (L) {
              case je:
              case Ze:
              case Fe:
                return function () {
                  return new a(this, L);
                };
            }
            return function () {
              return new a(this);
            };
          },
          R = n + " Iterator",
          N = !1,
          B = e.prototype,
          F = B[Se] || B["@@iterator"] || (o && B[o]),
          U = (!_e && F) || b(o),
          T = (n == "Array" && B.entries) || F;
        if (
          (T &&
            (p = oe(T.call(new e()))) !== Object.prototype &&
            p.next &&
            (oe(p) !== Pe && (se ? se(p, Pe) : ve(p[Se]) || ge(p, Se, ot)),
            he(p, R, !0)),
          xe &&
            o == Ze &&
            F &&
            F.name !== Ze &&
            (Ce
              ? pe(B, "name", Ze)
              : ((N = !0),
                (U = function () {
                  return ae(F, this);
                }))),
          o)
        )
          if (((g = { values: b(Ze), keys: l ? U : b(je), entries: b(Fe) }), h))
            for (_ in g) (_e || N || !(_ in B)) && ge(B, _, g[_]);
          else Z({ target: n, proto: !0, forced: _e || N }, g);
        return B[Se] !== U && ge(B, Se, U, { name: o }), (be[n] = U), g;
      },
      Ct = function (e, n) {
        return { value: e, done: n };
      },
      gt = Ir,
      Xt = Qu,
      Wt = Ca,
      kn = an,
      ze = vn.f,
      $e = ht,
      He = Ct,
      qe = Mt,
      Dn = "Array Iterator",
      ei = kn.set,
      jr = kn.getterFor(Dn),
      ia = $e(
        Array,
        "Array",
        function (s, e) {
          ei(this, { type: Dn, target: gt(s), index: 0, kind: e });
        },
        function () {
          var s = jr(this),
            e = s.target,
            n = s.kind,
            a = s.index++;
          return !e || a >= e.length
            ? ((s.target = void 0), He(void 0, !0))
            : He(n == "keys" ? a : n == "values" ? e[a] : [a, e[a]], !1);
        },
        "values"
      ),
      La = (Wt.Arguments = Wt.Array);
    if ((Xt("keys"), Xt("values"), Xt("entries"), qe && La.name !== "values"))
      try {
        ze(La, "name", { value: "values" });
      } catch (s) {}
    var nc = {};
    nc[Qt("toStringTag")] = "z";
    var Ma = String(nc) === "[object z]",
      Br = Ma,
      Ar = Bt,
      Ua = or,
      Ns = Qt("toStringTag"),
      rc = Object,
      Ls =
        Ua(
          (function () {
            return arguments;
          })()
        ) == "Arguments",
      Hr = Br
        ? Ua
        : function (s) {
            var e, n, a;
            return s === void 0
              ? "Undefined"
              : s === null
              ? "Null"
              : typeof (n = (function (c, o) {
                  try {
                    return c[o];
                  } catch (l) {}
                })((e = rc(s)), Ns)) == "string"
              ? n
              : Ls
              ? Ua(e)
              : (a = Ua(e)) == "Object" && Ar(e.callee)
              ? "Arguments"
              : a;
          },
      Ms = Hr,
      zr = Ma
        ? {}.toString
        : function () {
            return "[object " + Ms(this) + "]";
          };
    Ma || Bn(Object.prototype, "toString", zr, { unsafe: !0 });
    var aa = { exports: {} },
      Va = {},
      bo = ds,
      Df = vn,
      So = ft,
      Ti = function (e, n, a) {
        var c = bo(n);
        c in e ? Df.f(e, c, So(0, a)) : (e[c] = a);
      },
      Nf = Vr,
      Lf = wn,
      Mf = Ti,
      wo = Array,
      Us = Math.max,
      ic = function (e, n, a) {
        for (
          var c = Lf(e),
            o = Nf(n, c),
            l = Nf(a === void 0 ? c : a, c),
            h = wo(Us(l - o, 0)),
            p = 0;
          o < l;
          o++, p++
        )
          Mf(h, p, e[o]);
        return (h.length = p), h;
      },
      Uf = or,
      Vf = Ir,
      Ff = Ft.f,
      Og = ic,
      dd =
        (typeof window == "undefined" ? "undefined" : ut(window)) == "object" &&
        window &&
        Object.getOwnPropertyNames
          ? Object.getOwnPropertyNames(window)
          : [];
    Va.f = function (s) {
      return dd && Uf(s) == "Window"
        ? (function (e) {
            try {
              return Ff(e);
            } catch (n) {
              return Og(dd);
            }
          })(s)
        : Ff(Vf(s));
    };
    var Dg = et(function () {
        if (typeof ArrayBuffer == "function") {
          var s = new ArrayBuffer(8);
          Object.isExtensible(s) && Object.defineProperty(s, "a", { value: 8 });
        }
      }),
      jf = et,
      Fa = pn,
      Ng = or,
      hd = Dg,
      ac = Object.isExtensible,
      Bf =
        jf(function () {
          ac(1);
        }) || hd
          ? function (s) {
              return (
                !!Fa(s) && (!hd || Ng(s) != "ArrayBuffer") && (!ac || ac(s))
              );
            }
          : ac,
      Lg = !et(function () {
        return Object.isExtensible(Object.preventExtensions({}));
      }),
      Hf = Tt,
      Mg = Qe,
      Ug = Vu,
      zf = pn,
      fd = bn,
      Wf = vn.f,
      ko = Ft,
      Gf = Va,
      Vg = Bf,
      PP = Lg,
      WS = !1,
      ja = Au("meta"),
      OP = 0,
      Fg = function (e) {
        Wf(e, ja, { value: { objectID: "O" + OP++, weakData: {} } });
      },
      DP = (aa.exports = {
        enable: function () {
          (DP.enable = function () {}), (WS = !0);
          var e = ko.f,
            n = Mg([].splice),
            a = {};
          (a[ja] = 1),
            e(a).length &&
              ((ko.f = function (c) {
                for (var o = e(c), l = 0, h = o.length; l < h; l++)
                  if (o[l] === ja) {
                    n(o, l, 1);
                    break;
                  }
                return o;
              }),
              Hf(
                { target: "Object", stat: !0, forced: !0 },
                { getOwnPropertyNames: Gf.f }
              ));
        },
        fastKey: function (e, n) {
          if (!zf(e))
            return ut(e) == "symbol"
              ? e
              : (typeof e == "string" ? "S" : "P") + e;
          if (!fd(e, ja)) {
            if (!Vg(e)) return "F";
            if (!n) return "E";
            Fg(e);
          }
          return e[ja].objectID;
        },
        getWeakData: function (e, n) {
          if (!fd(e, ja)) {
            if (!Vg(e)) return !0;
            if (!n) return !1;
            Fg(e);
          }
          return e[ja].weakData;
        },
        onFreeze: function (e) {
          return PP && WS && Vg(e) && !fd(e, ja) && Fg(e), e;
        },
      });
    Ug[ja] = !0;
    var NP = ur,
      LP = rn,
      MP = Qe(Qe.bind),
      Ba = function (e, n) {
        return (
          NP(e),
          n === void 0
            ? e
            : LP
            ? MP(e, n)
            : function () {
                return e.apply(n, arguments);
              }
        );
      },
      UP = Ca,
      VP = Qt("iterator"),
      FP = Array.prototype,
      jg = function (e) {
        return e !== void 0 && (UP.Array === e || FP[VP] === e);
      },
      jP = Hr,
      GS = ba,
      BP = Lr,
      HP = Ca,
      zP = Qt("iterator"),
      pd = function (e) {
        if (!BP(e)) return GS(e, zP) || GS(e, "@@iterator") || HP[jP(e)];
      },
      WP = Te,
      GP = ur,
      qP = mn,
      KP = sr,
      JP = pd,
      $P = TypeError,
      qf = function (e, n) {
        var a = arguments.length < 2 ? JP(e) : n;
        if (GP(a)) return qP(WP(a, e));
        throw $P(KP(e) + " is not iterable");
      },
      YP = Te,
      qS = mn,
      ZP = ba,
      KS = function (e, n, a) {
        var c, o;
        qS(e);
        try {
          if (!(c = ZP(e, "return"))) {
            if (n === "throw") throw a;
            return a;
          }
          c = YP(c, e);
        } catch (l) {
          (o = !0), (c = l);
        }
        if (n === "throw") throw a;
        if (o) throw c;
        return qS(c), a;
      },
      QP = Ba,
      XP = Te,
      eO = mn,
      tO = sr,
      nO = jg,
      rO = wn,
      JS = gi,
      iO = qf,
      aO = pd,
      $S = KS,
      oO = TypeError,
      Kf = function (e, n) {
        (this.stopped = e), (this.result = n);
      },
      YS = Kf.prototype,
      vd = function (e, n, a) {
        var c,
          o,
          l,
          h,
          p,
          g,
          _,
          b = a && a.that,
          R = !(!a || !a.AS_ENTRIES),
          N = !(!a || !a.IS_RECORD),
          B = !(!a || !a.IS_ITERATOR),
          F = !(!a || !a.INTERRUPTED),
          U = QP(n, b),
          T = function ($) {
            return c && $S(c, "normal", $), new Kf(!0, $);
          },
          A = function ($) {
            return R
              ? (eO($), F ? U($[0], $[1], T) : U($[0], $[1]))
              : F
              ? U($, T)
              : U($);
          };
        if (N) c = e.iterator;
        else if (B) c = e;
        else {
          if (!(o = aO(e))) throw oO(tO(e) + " is not iterable");
          if (nO(o)) {
            for (l = 0, h = rO(e); h > l; l++)
              if ((p = A(e[l])) && JS(YS, p)) return p;
            return new Kf(!1);
          }
          c = iO(e, o);
        }
        for (g = N ? e.next : c.next; !(_ = XP(g, c)).done; ) {
          try {
            p = A(_.value);
          } catch (L) {
            $S(c, "throw", L);
          }
          if (ut(p) == "object" && p && JS(YS, p)) return p;
        }
        return new Kf(!1);
      },
      sO = gi,
      uO = TypeError,
      To = function (e, n) {
        if (sO(n, e)) return e;
        throw uO("Incorrect invocation");
      },
      ZS = Qt("iterator"),
      QS = !1;
    try {
      var cO = 0,
        XS = {
          next: function () {
            return { done: !!cO++ };
          },
          return: function () {
            QS = !0;
          },
        };
      (XS[ZS] = function () {
        return this;
      }),
        Array.from(XS, function () {
          throw 2;
        });
    } catch (s) {}
    var Jf = function (e, n) {
        if (!n && !QS) return !1;
        var a = !1;
        try {
          var c = {};
          (c[ZS] = function () {
            return {
              next: function () {
                return { done: (a = !0) };
              },
            };
          }),
            e(c);
        } catch (o) {}
        return a;
      },
      lO = Bt,
      dO = pn,
      ew = Y,
      $f = function (e, n, a) {
        var c, o;
        return (
          ew &&
            lO((c = n.constructor)) &&
            c !== a &&
            dO((o = c.prototype)) &&
            o !== a.prototype &&
            ew(e, o),
          e
        );
      },
      hO = Tt,
      fO = Xe,
      pO = Qe,
      tw = yo,
      vO = Bn,
      mO = aa.exports,
      gO = vd,
      _O = To,
      yO = Bt,
      bO = Lr,
      Bg = pn,
      Hg = et,
      SO = Jf,
      wO = Zt,
      kO = $f,
      zg = function (e, n, a) {
        var c = e.indexOf("Map") !== -1,
          o = e.indexOf("Weak") !== -1,
          l = c ? "set" : "add",
          h = fO[e],
          p = h && h.prototype,
          g = h,
          _ = {},
          b = function (A) {
            var L = pO(p[A]);
            vO(
              p,
              A,
              A == "add"
                ? function ($) {
                    return L(this, $ === 0 ? 0 : $), this;
                  }
                : A == "delete"
                ? function ($) {
                    return !(o && !Bg($)) && L(this, $ === 0 ? 0 : $);
                  }
                : A == "get"
                ? function ($) {
                    return o && !Bg($) ? void 0 : L(this, $ === 0 ? 0 : $);
                  }
                : A == "has"
                ? function ($) {
                    return !(o && !Bg($)) && L(this, $ === 0 ? 0 : $);
                  }
                : function ($, X) {
                    return L(this, $ === 0 ? 0 : $, X), this;
                  }
            );
          };
        if (
          tw(
            e,
            !yO(h) ||
              !(
                o ||
                (p.forEach &&
                  !Hg(function () {
                    new h().entries().next();
                  }))
              )
          )
        )
          (g = a.getConstructor(n, e, c, l)), mO.enable();
        else if (tw(e, !0)) {
          var R = new g(),
            N = R[l](o ? {} : -0, 1) != R,
            B = Hg(function () {
              R.has(1);
            }),
            F = SO(function (T) {
              new h(T);
            }),
            U =
              !o &&
              Hg(function () {
                for (var T = new h(), A = 5; A--; ) T[l](A, A);
                return !T.has(-0);
              });
          F ||
            (((g = n(function (T, A) {
              _O(T, p);
              var L = kO(new h(), T, g);
              return bO(A) || gO(A, L[l], { that: L, AS_ENTRIES: c }), L;
            })).prototype = p),
            (p.constructor = g)),
            (B || U) && (b("delete"), b("has"), c && b("get")),
            (U || N) && b(l),
            o && p.clear && delete p.clear;
        }
        return (
          (_[e] = g),
          hO({ global: !0, constructor: !0, forced: g != h }, _),
          wO(g, e),
          o || a.setStrong(g, e, c),
          g
        );
      },
      TO = Bn,
      md = function (e, n, a) {
        for (var c in n) TO(e, c, n[c], a);
        return e;
      },
      EO = mi,
      IO = vn,
      RO = Mt,
      nw = Qt("species"),
      gd = function (e) {
        var n = EO(e),
          a = IO.f;
        RO &&
          n &&
          !n[nw] &&
          a(n, nw, {
            configurable: !0,
            get: function () {
              return this;
            },
          });
      },
      CO = vn.f,
      AO = Ra,
      rw = md,
      xO = Ba,
      PO = To,
      OO = Lr,
      DO = vd,
      NO = ht,
      iw = Ct,
      LO = gd,
      _d = Mt,
      aw = aa.exports.fastKey,
      ow = an.set,
      Wg = an.getterFor,
      sw = {
        getConstructor: function (e, n, a, c) {
          var o = e(function (_, b) {
              PO(_, l),
                ow(_, {
                  type: n,
                  index: AO(null),
                  first: void 0,
                  last: void 0,
                  size: 0,
                }),
                _d || (_.size = 0),
                OO(b) || DO(b, _[c], { that: _, AS_ENTRIES: a });
            }),
            l = o.prototype,
            h = Wg(n),
            p = function (b, R, N) {
              var B,
                F,
                U = h(b),
                T = g(b, R);
              return (
                T
                  ? (T.value = N)
                  : ((U.last = T =
                      {
                        index: (F = aw(R, !0)),
                        key: R,
                        value: N,
                        previous: (B = U.last),
                        next: void 0,
                        removed: !1,
                      }),
                    U.first || (U.first = T),
                    B && (B.next = T),
                    _d ? U.size++ : b.size++,
                    F !== "F" && (U.index[F] = T)),
                b
              );
            },
            g = function (b, R) {
              var N,
                B = h(b),
                F = aw(R);
              if (F !== "F") return B.index[F];
              for (N = B.first; N; N = N.next) if (N.key == R) return N;
            };
          return (
            rw(l, {
              clear: function () {
                for (var b = h(this), R = b.index, N = b.first; N; )
                  (N.removed = !0),
                    N.previous && (N.previous = N.previous.next = void 0),
                    delete R[N.index],
                    (N = N.next);
                (b.first = b.last = void 0),
                  _d ? (b.size = 0) : (this.size = 0);
              },
              delete: function (b) {
                var R = this,
                  N = h(R),
                  B = g(R, b);
                if (B) {
                  var F = B.next,
                    U = B.previous;
                  delete N.index[B.index],
                    (B.removed = !0),
                    U && (U.next = F),
                    F && (F.previous = U),
                    N.first == B && (N.first = F),
                    N.last == B && (N.last = U),
                    _d ? N.size-- : R.size--;
                }
                return !!B;
              },
              forEach: function (b) {
                for (
                  var R,
                    N = h(this),
                    B = xO(b, arguments.length > 1 ? arguments[1] : void 0);
                  (R = R ? R.next : N.first);

                )
                  for (B(R.value, R.key, this); R && R.removed; )
                    R = R.previous;
              },
              has: function (b) {
                return !!g(this, b);
              },
            }),
            rw(
              l,
              a
                ? {
                    get: function (b) {
                      var R = g(this, b);
                      return R && R.value;
                    },
                    set: function (b, R) {
                      return p(this, b === 0 ? 0 : b, R);
                    },
                  }
                : {
                    add: function (b) {
                      return p(this, (b = b === 0 ? 0 : b), b);
                    },
                  }
            ),
            _d &&
              CO(l, "size", {
                get: function () {
                  return h(this).size;
                },
              }),
            o
          );
        },
        setStrong: function (e, n, a) {
          var c = n + " Iterator",
            o = Wg(n),
            l = Wg(c);
          NO(
            e,
            n,
            function (h, p) {
              ow(this, {
                type: c,
                target: h,
                state: o(h),
                kind: p,
                last: void 0,
              });
            },
            function () {
              for (var h = l(this), p = h.kind, g = h.last; g && g.removed; )
                g = g.previous;
              return h.target && (h.last = g = g ? g.next : h.state.first)
                ? iw(
                    p == "keys"
                      ? g.key
                      : p == "values"
                      ? g.value
                      : [g.key, g.value],
                    !1
                  )
                : ((h.target = void 0), iw(void 0, !0));
            },
            a ? "entries" : "values",
            !a,
            !0
          ),
            LO(n);
        },
      };
    zg(
      "Set",
      function (s) {
        return function () {
          return s(this, arguments.length ? arguments[0] : void 0);
        };
      },
      sw
    );
    var MO = Hr,
      UO = String,
      qn = function (e) {
        if (MO(e) === "Symbol")
          throw TypeError("Cannot convert a Symbol value to a string");
        return UO(e);
      },
      Gg = Qe,
      VO = lr,
      FO = qn,
      jO = Vn,
      BO = Gg("".charAt),
      uw = Gg("".charCodeAt),
      HO = Gg("".slice),
      cw = function (e) {
        return function (n, a) {
          var c,
            o,
            l = FO(jO(n)),
            h = VO(a),
            p = l.length;
          return h < 0 || h >= p
            ? e
              ? ""
              : void 0
            : (c = uw(l, h)) < 55296 ||
              c > 56319 ||
              h + 1 === p ||
              (o = uw(l, h + 1)) < 56320 ||
              o > 57343
            ? e
              ? BO(l, h)
              : c
            : e
            ? HO(l, h, h + 2)
            : o - 56320 + ((c - 55296) << 10) + 65536;
        };
      },
      qg = { codeAt: cw(!1), charAt: cw(!0) },
      zO = qg.charAt,
      WO = qn,
      lw = an,
      GO = ht,
      dw = Ct,
      hw = "String Iterator",
      qO = lw.set,
      KO = lw.getterFor(hw);
    GO(
      String,
      "String",
      function (s) {
        qO(this, { type: hw, string: WO(s), index: 0 });
      },
      function () {
        var s,
          e = KO(this),
          n = e.string,
          a = e.index;
        return a >= n.length
          ? dw(void 0, !0)
          : ((s = zO(n, a)), (e.index += s.length), dw(s, !1));
      }
    );
    var fw = {
        CSSRuleList: 0,
        CSSStyleDeclaration: 0,
        CSSValueList: 0,
        ClientRectList: 0,
        DOMRectList: 0,
        DOMStringList: 0,
        DOMTokenList: 1,
        DataTransferItemList: 0,
        FileList: 0,
        HTMLAllCollection: 0,
        HTMLCollection: 0,
        HTMLFormElement: 0,
        HTMLSelectElement: 0,
        MediaList: 0,
        MimeTypeArray: 0,
        NamedNodeMap: 0,
        NodeList: 1,
        PaintRequestList: 0,
        Plugin: 0,
        PluginArray: 0,
        SVGLengthList: 0,
        SVGNumberList: 0,
        SVGPathSegList: 0,
        SVGPointList: 0,
        SVGStringList: 0,
        SVGTransformList: 0,
        SourceBufferList: 0,
        StyleSheetList: 0,
        TextTrackCueList: 0,
        TextTrackList: 0,
        TouchList: 0,
      },
      Kg = Qn("span").classList,
      pw = Kg && Kg.constructor && Kg.constructor.prototype,
      vw = pw === Object.prototype ? void 0 : pw,
      mw = Xe,
      gw = fw,
      JO = vw,
      yd = ia,
      Jg = Cr,
      _w = Qt,
      $g = _w("iterator"),
      yw = _w("toStringTag"),
      Yg = yd.values,
      bw = function (e, n) {
        if (e) {
          if (e[$g] !== Yg)
            try {
              Jg(e, $g, Yg);
            } catch (c) {
              e[$g] = Yg;
            }
          if ((e[yw] || Jg(e, yw, n), gw[n])) {
            for (var a in yd)
              if (e[a] !== yd[a])
                try {
                  Jg(e, a, yd[a]);
                } catch (c) {
                  e[a] = yd[a];
                }
          }
        }
      };
    for (var Zg in gw) bw(mw[Zg] && mw[Zg].prototype, Zg);
    bw(JO, "DOMTokenList");
    var $O = rn,
      Sw = Function.prototype,
      ww = Sw.apply,
      kw = Sw.call,
      Vs =
        ((typeof Reflect == "undefined" ? "undefined" : ut(Reflect)) ==
          "object" &&
          Reflect.apply) ||
        ($O
          ? kw.bind(ww)
          : function () {
              return kw.apply(ww, arguments);
            }),
      oc = Qe([].slice),
      YO = TypeError,
      Yf = function (e, n) {
        if (e < n) throw YO("Not enough arguments");
        return e;
      },
      Qg = Xe,
      ZO = Vs,
      QO = Bt,
      XO = oc,
      e5 = Yf,
      t5 = /MSIE .\./.test($r),
      n5 = Qg.Function,
      Tw = function (e) {
        return t5
          ? function (n, a) {
              var c = e5(arguments.length, 1) > 2,
                o = QO(n) ? n : n5(n),
                l = c ? XO(arguments, 2) : void 0;
              return e(
                c
                  ? function () {
                      ZO(o, this, l);
                    }
                  : o,
                a
              );
            }
          : e;
      },
      Ew = { setTimeout: Tw(Qg.setTimeout), setInterval: Tw(Qg.setInterval) },
      Iw = Ew.setInterval;
    Tt(
      { global: !0, bind: !0, forced: Xe.setInterval !== Iw },
      { setInterval: Iw }
    );
    var Rw = Ew.setTimeout;
    Tt(
      { global: !0, bind: !0, forced: Xe.setTimeout !== Rw },
      { setTimeout: Rw }
    ),
      zg(
        "Map",
        function (s) {
          return function () {
            return s(this, arguments.length ? arguments[0] : void 0);
          };
        },
        sw
      );
    var r5 = or,
      sc =
        Array.isArray ||
        function (s) {
          return r5(s) == "Array";
        },
      i5 = Qe,
      a5 = et,
      Cw = Bt,
      o5 = Hr,
      s5 = Lu,
      Aw = function () {},
      u5 = [],
      xw = mi("Reflect", "construct"),
      Xg = /^\s*(?:class|function)\b/,
      c5 = i5(Xg.exec),
      l5 = !Xg.exec(Aw),
      bd = function (e) {
        if (!Cw(e)) return !1;
        try {
          return xw(Aw, u5, e), !0;
        } catch (n) {
          return !1;
        }
      },
      Pw = function (e) {
        if (!Cw(e)) return !1;
        switch (o5(e)) {
          case "AsyncFunction":
          case "GeneratorFunction":
          case "AsyncGeneratorFunction":
            return !1;
        }
        try {
          return l5 || !!c5(Xg, s5(e));
        } catch (n) {
          return !0;
        }
      };
    Pw.sham = !0;
    var Zf =
        !xw ||
        a5(function () {
          var s;
          return (
            bd(bd.call) ||
            !bd(Object) ||
            !bd(function () {
              s = !0;
            }) ||
            s
          );
        })
          ? Pw
          : bd,
      Ow = sc,
      d5 = Zf,
      h5 = pn,
      f5 = Qt("species"),
      Dw = Array,
      p5 = function (e) {
        var n;
        return (
          Ow(e) &&
            ((n = e.constructor),
            ((d5(n) && (n === Dw || Ow(n.prototype))) ||
              (h5(n) && (n = n[f5]) === null)) &&
              (n = void 0)),
          n === void 0 ? Dw : n
        );
      },
      e_ = function (e, n) {
        return new (p5(e))(n === 0 ? 0 : n);
      },
      v5 = Ba,
      m5 = Er,
      g5 = Wn,
      _5 = wn,
      y5 = e_,
      Nw = Qe([].push),
      Eo = function (e) {
        var n = e == 1,
          a = e == 2,
          c = e == 3,
          o = e == 4,
          l = e == 6,
          h = e == 7,
          p = e == 5 || l;
        return function (g, _, b, R) {
          for (
            var N,
              B,
              F = g5(g),
              U = m5(F),
              T = v5(_, b),
              A = _5(U),
              L = 0,
              $ = R || y5,
              X = n ? $(g, A) : a || h ? $(g, 0) : void 0;
            A > L;
            L++
          )
            if ((p || L in U) && ((B = T((N = U[L]), L, F)), e))
              if (n) X[L] = B;
              else if (B)
                switch (e) {
                  case 3:
                    return !0;
                  case 5:
                    return N;
                  case 6:
                    return L;
                  case 2:
                    Nw(X, N);
                }
              else
                switch (e) {
                  case 4:
                    return !1;
                  case 7:
                    Nw(X, N);
                }
          return l ? -1 : c || o ? o : X;
        };
      },
      dr = {
        forEach: Eo(0),
        map: Eo(1),
        filter: Eo(2),
        some: Eo(3),
        every: Eo(4),
        find: Eo(5),
        findIndex: Eo(6),
        filterReject: Eo(7),
      },
      b5 = et,
      S5 = Wi,
      w5 = Qt("species"),
      Sd = function (e) {
        return (
          S5 >= 51 ||
          !b5(function () {
            var n = [];
            return (
              ((n.constructor = {})[w5] = function () {
                return { foo: 1 };
              }),
              n[e](Boolean).foo !== 1
            );
          })
        );
      },
      k5 = dr.map;
    Tt(
      { target: "Array", proto: !0, forced: !Sd("map") },
      {
        map: function (e) {
          return k5(this, e, arguments.length > 1 ? arguments[1] : void 0);
        },
      }
    );
    var T5 = Mt,
      E5 = sc,
      I5 = TypeError,
      R5 = Object.getOwnPropertyDescriptor,
      C5 =
        T5 &&
        !(function () {
          if (this !== void 0) return !0;
          try {
            Object.defineProperty([], "length", { writable: !1 }).length = 1;
          } catch (s) {
            return s instanceof TypeError;
          }
        })(),
      A5 = TypeError,
      Lw = function (e) {
        if (e > 9007199254740991) throw A5("Maximum allowed index exceeded");
        return e;
      },
      Mw = sr,
      x5 = TypeError,
      Uw = function (e, n) {
        if (!delete e[n])
          throw x5("Cannot delete property " + Mw(n) + " of " + Mw(e));
      },
      P5 = Tt,
      O5 = Wn,
      D5 = Vr,
      N5 = lr,
      L5 = wn,
      M5 = C5
        ? function (s, e) {
            if (E5(s) && !R5(s, "length").writable)
              throw I5("Cannot set read only .length");
            return (s.length = e);
          }
        : function (s, e) {
            return (s.length = e);
          },
      U5 = Lw,
      V5 = e_,
      F5 = Ti,
      t_ = Uw,
      j5 = Sd("splice"),
      B5 = Math.max,
      H5 = Math.min;
    P5(
      { target: "Array", proto: !0, forced: !j5 },
      {
        splice: function (e, n) {
          var a,
            c,
            o,
            l,
            h,
            p,
            g = O5(this),
            _ = L5(g),
            b = D5(e, _),
            R = arguments.length;
          for (
            R === 0
              ? (a = c = 0)
              : R === 1
              ? ((a = 0), (c = _ - b))
              : ((a = R - 2), (c = H5(B5(N5(n), 0), _ - b))),
              U5(_ + a - c),
              o = V5(g, c),
              l = 0;
            l < c;
            l++
          )
            (h = b + l) in g && F5(o, l, g[h]);
          if (((o.length = c), a < c)) {
            for (l = b; l < _ - c; l++)
              (p = l + a), (h = l + c) in g ? (g[p] = g[h]) : t_(g, p);
            for (l = _; l > _ - c + a; l--) t_(g, l - 1);
          } else if (a > c)
            for (l = _ - c; l > b; l--)
              (p = l + a - 1), (h = l + c - 1) in g ? (g[p] = g[h]) : t_(g, p);
          for (l = 0; l < a; l++) g[l + b] = arguments[l + 2];
          return M5(g, _ - c + a), o;
        },
      }
    );
    var z5 = et,
      wd = function (e, n) {
        var a = [][e];
        return (
          !!a &&
          z5(function () {
            a.call(
              null,
              n ||
                function () {
                  return 1;
                },
              1
            );
          })
        );
      },
      W5 = dr.forEach,
      n_ = wd("forEach")
        ? [].forEach
        : function (s) {
            return W5(this, s, arguments.length > 1 ? arguments[1] : void 0);
          };
    Tt(
      { target: "Array", proto: !0, forced: [].forEach != n_ },
      { forEach: n_ }
    );
    var Vw = Xe,
      Fw = fw,
      G5 = vw,
      r_ = n_,
      q5 = Cr,
      jw = function (e) {
        if (e && e.forEach !== r_)
          try {
            q5(e, "forEach", r_);
          } catch (n) {
            e.forEach = r_;
          }
      };
    for (var i_ in Fw) Fw[i_] && jw(Vw[i_] && Vw[i_].prototype);
    jw(G5);
    var K5 = Tt,
      J5 = et,
      $5 = sc,
      Y5 = pn,
      Z5 = Wn,
      Q5 = wn,
      Bw = Lw,
      Hw = Ti,
      X5 = e_,
      eD = Sd,
      tD = Wi,
      zw = Qt("isConcatSpreadable"),
      nD =
        tD >= 51 ||
        !J5(function () {
          var s = [];
          return (s[zw] = !1), s.concat()[0] !== s;
        }),
      rD = eD("concat"),
      iD = function (e) {
        if (!Y5(e)) return !1;
        var n = e[zw];
        return n !== void 0 ? !!n : $5(e);
      };
    K5(
      { target: "Array", proto: !0, arity: 1, forced: !nD || !rD },
      {
        concat: function (e) {
          var n,
            a,
            c,
            o,
            l,
            h = Z5(this),
            p = X5(h, 0),
            g = 0;
          for (n = -1, c = arguments.length; n < c; n++)
            if (iD((l = n === -1 ? h : arguments[n])))
              for (o = Q5(l), Bw(g + o), a = 0; a < o; a++, g++)
                a in l && Hw(p, g, l[a]);
            else Bw(g + 1), Hw(p, g++, l);
          return (p.length = g), p;
        },
      }
    );
    var aD = Tt,
      oD = Er,
      sD = Ir,
      uD = wd,
      cD = Qe([].join),
      lD = oD != Object,
      dD = uD("join", ",");
    aD(
      { target: "Array", proto: !0, forced: lD || !dD },
      {
        join: function (e) {
          return cD(sD(this), e === void 0 ? "," : e);
        },
      }
    );
    var hD = dr.filter;
    Tt(
      { target: "Array", proto: !0, forced: !Sd("filter") },
      {
        filter: function (e) {
          return hD(this, e, arguments.length > 1 ? arguments[1] : void 0);
        },
      }
    );
    var Ww = Qe,
      fD = Bn,
      a_ = Date.prototype,
      Gw = "Invalid Date",
      pD = "toString",
      vD = Ww(a_.toString),
      mD = Ww(a_.getTime);
    String(/* @__PURE__ */ new Date(NaN)) != Gw &&
      fD(a_, pD, function () {
        var s = mD(this);
        return s == s ? vD(this) : Gw;
      });
    var gD = lr,
      _D = qn,
      yD = Vn,
      bD = RangeError,
      qw = function (e) {
        var n = _D(yD(this)),
          a = "",
          c = gD(e);
        if (c < 0 || c == 1 / 0) throw bD("Wrong number of repetitions");
        for (; c > 0; (c >>>= 1) && (n += n)) 1 & c && (a += n);
        return a;
      },
      Kw = Qe,
      SD = on,
      Jw = qn,
      wD = Vn,
      kD = Kw(qw),
      TD = Kw("".slice),
      ED = Math.ceil,
      $w = function (e) {
        return function (n, a, c) {
          var o,
            l,
            h = Jw(wD(n)),
            p = SD(a),
            g = h.length,
            _ = c === void 0 ? " " : Jw(c);
          return p <= g || _ == ""
            ? h
            : ((l = kD(_, ED((o = p - g) / _.length))).length > o &&
                (l = TD(l, 0, o)),
              e ? h + l : l + h);
        };
      },
      ID = { start: $w(!1), end: $w(!0) },
      RD =
        /Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(
          $r
        ),
      CD = ID.start;
    Tt(
      { target: "String", proto: !0, forced: RD },
      {
        padStart: function (e) {
          return CD(this, e, arguments.length > 1 ? arguments[1] : void 0);
        },
      }
    );
    var AD = mn,
      Yw = function () {
        var e = AD(this),
          n = "";
        return (
          e.hasIndices && (n += "d"),
          e.global && (n += "g"),
          e.ignoreCase && (n += "i"),
          e.multiline && (n += "m"),
          e.dotAll && (n += "s"),
          e.unicode && (n += "u"),
          e.unicodeSets && (n += "v"),
          e.sticky && (n += "y"),
          n
        );
      },
      o_ = et,
      s_ = Xe.RegExp,
      u_ = o_(function () {
        var s = s_("a", "y");
        return (s.lastIndex = 2), s.exec("abcd") != null;
      }),
      xD =
        u_ ||
        o_(function () {
          return !s_("a", "y").sticky;
        }),
      Zw = {
        BROKEN_CARET:
          u_ ||
          o_(function () {
            var s = s_("^r", "gy");
            return (s.lastIndex = 2), s.exec("str") != null;
          }),
        MISSED_STICKY: xD,
        UNSUPPORTED_Y: u_,
      },
      PD = et,
      OD = Xe.RegExp,
      Qw = PD(function () {
        var s = OD(".", "s");
        return !(
          s.dotAll &&
          s.exec(`
`) &&
          s.flags === "s"
        );
      }),
      DD = et,
      ND = Xe.RegExp,
      Xw = DD(function () {
        var s = ND("(?<a>b)", "g");
        return s.exec("b").groups.a !== "b" || "b".replace(s, "$<a>c") !== "bc";
      }),
      uc = Te,
      Qf = Qe,
      LD = qn,
      MD = Yw,
      UD = Zw,
      VD = Eu.exports,
      FD = Ra,
      jD = an.get,
      BD = Qw,
      HD = Xw,
      zD = VD("native-string-replace", String.prototype.replace),
      Xf = RegExp.prototype.exec,
      c_ = Xf,
      WD = Qf("".charAt),
      GD = Qf("".indexOf),
      qD = Qf("".replace),
      l_ = Qf("".slice),
      d_ = (function () {
        var s = /a/,
          e = /b*/g;
        return (
          uc(Xf, s, "a"), uc(Xf, e, "a"), s.lastIndex !== 0 || e.lastIndex !== 0
        );
      })(),
      e2 = UD.BROKEN_CARET,
      h_ = /()??/.exec("")[1] !== void 0;
    (d_ || h_ || e2 || BD || HD) &&
      (c_ = function (e) {
        var n,
          a,
          c,
          o,
          l,
          h,
          p,
          g = this,
          _ = jD(g),
          b = LD(e),
          R = _.raw;
        if (R)
          return (
            (R.lastIndex = g.lastIndex),
            (n = uc(c_, R, b)),
            (g.lastIndex = R.lastIndex),
            n
          );
        var N = _.groups,
          B = e2 && g.sticky,
          F = uc(MD, g),
          U = g.source,
          T = 0,
          A = b;
        if (
          (B &&
            ((F = qD(F, "y", "")),
            GD(F, "g") === -1 && (F += "g"),
            (A = l_(b, g.lastIndex)),
            g.lastIndex > 0 &&
              (!g.multiline ||
                (g.multiline &&
                  WD(b, g.lastIndex - 1) !==
                    `
`)) &&
              ((U = "(?: " + U + ")"), (A = " " + A), T++),
            (a = new RegExp("^(?:" + U + ")", F))),
          h_ && (a = new RegExp("^" + U + "$(?!\\s)", F)),
          d_ && (c = g.lastIndex),
          (o = uc(Xf, B ? a : g, A)),
          B
            ? o
              ? ((o.input = l_(o.input, T)),
                (o[0] = l_(o[0], T)),
                (o.index = g.lastIndex),
                (g.lastIndex += o[0].length))
              : (g.lastIndex = 0)
            : d_ && o && (g.lastIndex = g.global ? o.index + o[0].length : c),
          h_ &&
            o &&
            o.length > 1 &&
            uc(zD, o[0], a, function () {
              for (l = 1; l < arguments.length - 2; l++)
                arguments[l] === void 0 && (o[l] = void 0);
            }),
          o && N)
        )
          for (o.groups = h = FD(null), l = 0; l < N.length; l++)
            h[(p = N[l])[0]] = o[p[1]];
        return o;
      });
    var ep = c_;
    Tt({ target: "RegExp", proto: !0, forced: /./.exec !== ep }, { exec: ep });
    var t2 = Qe,
      n2 = Bn,
      KD = ep,
      r2 = et,
      i2 = Qt,
      JD = Cr,
      $D = i2("species"),
      f_ = RegExp.prototype,
      p_ = function (e, n, a, c) {
        var o = i2(e),
          l = !r2(function () {
            var _ = {};
            return (
              (_[o] = function () {
                return 7;
              }),
              ""[e](_) != 7
            );
          }),
          h =
            l &&
            !r2(function () {
              var _ = !1,
                b = /a/;
              return (
                e === "split" &&
                  (((b = {}).constructor = {}),
                  (b.constructor[$D] = function () {
                    return b;
                  }),
                  (b.flags = ""),
                  (b[o] = /./[o])),
                (b.exec = function () {
                  return (_ = !0), null;
                }),
                b[o](""),
                !_
              );
            });
        if (!l || !h || a) {
          var p = t2(/./[o]),
            g = n(o, ""[e], function (_, b, R, N, B) {
              var F = t2(_),
                U = b.exec;
              return U === KD || U === f_.exec
                ? l && !B
                  ? { done: !0, value: p(b, R, N) }
                  : { done: !0, value: F(R, b, N) }
                : { done: !1 };
            });
          n2(String.prototype, e, g[0]), n2(f_, o, g[1]);
        }
        c && JD(f_[o], "sham", !0);
      },
      YD = qg.charAt,
      a2 = function (e, n, a) {
        return n + (a ? YD(e, n).length : 1);
      },
      v_ = Qe,
      ZD = Wn,
      QD = Math.floor,
      m_ = v_("".charAt),
      XD = v_("".replace),
      g_ = v_("".slice),
      e6 = /\$([$&'`]|\d{1,2}|<[^>]*>)/g,
      t6 = /\$([$&'`]|\d{1,2})/g,
      o2 = Te,
      n6 = mn,
      r6 = Bt,
      i6 = or,
      a6 = ep,
      o6 = TypeError,
      __ = function (e, n) {
        var a = e.exec;
        if (r6(a)) {
          var c = o2(a, e, n);
          return c !== null && n6(c), c;
        }
        if (i6(e) === "RegExp") return o2(a6, e, n);
        throw o6("RegExp#exec called on incompatible receiver");
      },
      s6 = Vs,
      s2 = Te,
      tp = Qe,
      u6 = p_,
      c6 = et,
      l6 = mn,
      d6 = Bt,
      h6 = Lr,
      f6 = lr,
      p6 = on,
      cc = qn,
      v6 = Vn,
      m6 = a2,
      g6 = ba,
      _6 = function (e, n, a, c, o, l) {
        var h = a + e.length,
          p = c.length,
          g = t6;
        return (
          o !== void 0 && ((o = ZD(o)), (g = e6)),
          XD(l, g, function (_, b) {
            var R;
            switch (m_(b, 0)) {
              case "$":
                return "$";
              case "&":
                return e;
              case "`":
                return g_(n, 0, a);
              case "'":
                return g_(n, h);
              case "<":
                R = o[g_(b, 1, -1)];
                break;
              default:
                var N = +b;
                if (N === 0) return _;
                if (N > p) {
                  var B = QD(N / 10);
                  return B === 0
                    ? _
                    : B <= p
                    ? c[B - 1] === void 0
                      ? m_(b, 1)
                      : c[B - 1] + m_(b, 1)
                    : _;
                }
                R = c[N - 1];
            }
            return R === void 0 ? "" : R;
          })
        );
      },
      y6 = __,
      y_ = Qt("replace"),
      b6 = Math.max,
      S6 = Math.min,
      w6 = tp([].concat),
      b_ = tp([].push),
      u2 = tp("".indexOf),
      c2 = tp("".slice),
      k6 = "a".replace(/./, "$0") === "$0",
      l2 = !!/./[y_] && /./[y_]("a", "$0") === "",
      T6 = !c6(function () {
        var s = /./;
        return (
          (s.exec = function () {
            var e = [];
            return (e.groups = { a: "7" }), e;
          }),
          "".replace(s, "$<a>") !== "7"
        );
      });
    u6(
      "replace",
      function (s, e, n) {
        var a = l2 ? "$" : "$0";
        return [
          function (c, o) {
            var l = v6(this),
              h = h6(c) ? void 0 : g6(c, y_);
            return h ? s2(h, c, l, o) : s2(e, cc(l), c, o);
          },
          function (c, o) {
            var l = l6(this),
              h = cc(c);
            if (typeof o == "string" && u2(o, a) === -1 && u2(o, "$<") === -1) {
              var p = n(e, l, h, o);
              if (p.done) return p.value;
            }
            var g = d6(o);
            g || (o = cc(o));
            var _ = l.global;
            if (_) {
              var b = l.unicode;
              l.lastIndex = 0;
            }
            for (var R = []; ; ) {
              var N = y6(l, h);
              if (N === null || (b_(R, N), !_)) break;
              cc(N[0]) === "" && (l.lastIndex = m6(h, p6(l.lastIndex), b));
            }
            for (var B, F = "", U = 0, T = 0; T < R.length; T++) {
              for (
                var A = cc((N = R[T])[0]),
                  L = b6(S6(f6(N.index), h.length), 0),
                  $ = [],
                  X = 1;
                X < N.length;
                X++
              )
                b_($, (B = N[X]) === void 0 ? B : String(B));
              var Q = N.groups;
              if (g) {
                var D = w6([A], $, L, h);
                Q !== void 0 && b_(D, Q);
                var M = cc(s6(o, void 0, D));
              } else M = _6(A, h, L, $, Q, o);
              L >= U && ((F += c2(h, U, L) + M), (U = L + A.length));
            }
            return F + c2(h, U);
          },
        ];
      },
      !T6 || !k6 || l2
    );
    var E6 = Te,
      I6 = bn,
      R6 = gi,
      C6 = Yw,
      d2 = RegExp.prototype,
      h2 = function (e) {
        var n = e.flags;
        return n !== void 0 || "flags" in d2 || I6(e, "flags") || !R6(d2, e)
          ? n
          : E6(C6, e);
      },
      A6 = Ki.PROPER,
      x6 = Bn,
      P6 = mn,
      f2 = qn,
      O6 = et,
      D6 = h2,
      p2 = "toString",
      v2 = RegExp.prototype.toString,
      N6 = O6(function () {
        return v2.call({ source: "a", flags: "b" }) != "/a/b";
      }),
      L6 = A6 && v2.name != p2;
    (N6 || L6) &&
      x6(
        RegExp.prototype,
        p2,
        function () {
          var s = P6(this);
          return "/" + f2(s.source) + "/" + f2(D6(s));
        },
        { unsafe: !0 }
      );
    var M6 = et,
      U6 = Qt("iterator"),
      m2 = !M6(function () {
        var s = new URL("b?a=1&b=2&c=3", "http://a"),
          e = s.searchParams,
          n = "";
        return (
          (s.pathname = "c%20d"),
          e.forEach(function (a, c) {
            e.delete("b"), (n += c + a);
          }),
          !e.sort ||
            s.href !== "http://a/c%20d?a=1&c=3" ||
            e.get("c") !== "3" ||
            String(new URLSearchParams("?a=1")) !== "a=1" ||
            !e[U6] ||
            new URL("https://a@b").username !== "a" ||
            new URLSearchParams(new URLSearchParams("a=b")).get("a") !== "b" ||
            new URL("http://").host !== "xn--e1aybc" ||
            new URL("http://a#").hash !== "#%D0%B1" ||
            n !== "a1c3" ||
            new URL("http://x", void 0).host !== "x"
        );
      }),
      g2 = ic,
      V6 = Math.floor,
      S_ = function (e, n) {
        var a = e.length,
          c = V6(a / 2);
        return a < 8 ? F6(e, n) : j6(e, S_(g2(e, 0, c), n), S_(g2(e, c), n), n);
      },
      F6 = function (e, n) {
        for (var a, c, o = e.length, l = 1; l < o; ) {
          for (c = l, a = e[l]; c && n(e[c - 1], a) > 0; ) e[c] = e[--c];
          c !== l++ && (e[c] = a);
        }
        return e;
      },
      j6 = function (e, n, a, c) {
        for (var o = n.length, l = a.length, h = 0, p = 0; h < o || p < l; )
          e[h + p] =
            h < o && p < l
              ? c(n[h], a[p]) <= 0
                ? n[h++]
                : a[p++]
              : h < o
              ? n[h++]
              : a[p++];
        return e;
      },
      _2 = S_,
      w_ = Tt,
      lc = Xe,
      np = Te,
      oa = Qe,
      B6 = Mt,
      y2 = m2,
      b2 = Bn,
      H6 = md,
      z6 = Zt,
      W6 = k,
      k_ = an,
      S2 = To,
      T_ = Bt,
      G6 = bn,
      q6 = Ba,
      K6 = Hr,
      J6 = mn,
      w2 = pn,
      Wr = qn,
      $6 = Ra,
      k2 = ft,
      E_ = qf,
      Y6 = pd,
      dc = Yf,
      Z6 = _2,
      Q6 = Qt("iterator"),
      rp = "URLSearchParams",
      T2 = "URLSearchParamsIterator",
      E2 = k_.set,
      Ei = k_.getterFor(rp),
      X6 = k_.getterFor(T2),
      eN = Object.getOwnPropertyDescriptor,
      I_ = function (e) {
        if (!B6) return lc[e];
        var n = eN(lc, e);
        return n && n.value;
      },
      I2 = I_("fetch"),
      ip = I_("Request"),
      kd = I_("Headers"),
      R_ = ip && ip.prototype,
      R2 = kd && kd.prototype,
      tN = lc.RegExp,
      nN = lc.TypeError,
      C2 = lc.decodeURIComponent,
      rN = lc.encodeURIComponent,
      iN = oa("".charAt),
      A2 = oa([].join),
      Fs = oa([].push),
      C_ = oa("".replace),
      aN = oa([].shift),
      x2 = oa([].splice),
      P2 = oa("".split),
      oN = oa("".slice),
      sN = /\+/g,
      O2 = Array(4),
      uN = function (e) {
        return (
          O2[e - 1] || (O2[e - 1] = tN("((?:%[\\da-f]{2}){" + e + "})", "gi"))
        );
      },
      cN = function (e) {
        try {
          return C2(e);
        } catch (n) {
          return e;
        }
      },
      D2 = function (e) {
        var n = C_(e, sN, " "),
          a = 4;
        try {
          return C2(n);
        } catch (c) {
          for (; a; ) n = C_(n, uN(a--), cN);
          return n;
        }
      },
      lN = /[!'()~]|%20/g,
      dN = {
        "!": "%21",
        "'": "%27",
        "(": "%28",
        ")": "%29",
        "~": "%7E",
        "%20": "+",
      },
      hN = function (e) {
        return dN[e];
      },
      N2 = function (e) {
        return C_(rN(e), lN, hN);
      },
      A_ = W6(
        function (s, e) {
          E2(this, { type: T2, iterator: E_(Ei(s).entries), kind: e });
        },
        "Iterator",
        function () {
          var s = X6(this),
            e = s.kind,
            n = s.iterator.next(),
            a = n.value;
          return (
            n.done ||
              (n.value =
                e === "keys"
                  ? a.key
                  : e === "values"
                  ? a.value
                  : [a.key, a.value]),
            n
          );
        },
        !0
      ),
      L2 = function (e) {
        (this.entries = []),
          (this.url = null),
          e !== void 0 &&
            (w2(e)
              ? this.parseObject(e)
              : this.parseQuery(
                  typeof e == "string"
                    ? iN(e, 0) === "?"
                      ? oN(e, 1)
                      : e
                    : Wr(e)
                ));
      };
    L2.prototype = {
      type: rp,
      bindURL: function (e) {
        (this.url = e), this.update();
      },
      parseObject: function (e) {
        var n,
          a,
          c,
          o,
          l,
          h,
          p,
          g = Y6(e);
        if (g)
          for (a = (n = E_(e, g)).next; !(c = np(a, n)).done; ) {
            if (
              ((l = (o = E_(J6(c.value))).next),
              (h = np(l, o)).done || (p = np(l, o)).done || !np(l, o).done)
            )
              throw nN("Expected sequence with length 2");
            Fs(this.entries, { key: Wr(h.value), value: Wr(p.value) });
          }
        else
          for (var _ in e)
            G6(e, _) && Fs(this.entries, { key: _, value: Wr(e[_]) });
      },
      parseQuery: function (e) {
        if (e)
          for (var n, a, c = P2(e, "&"), o = 0; o < c.length; )
            (n = c[o++]).length &&
              ((a = P2(n, "=")),
              Fs(this.entries, { key: D2(aN(a)), value: D2(A2(a, "=")) }));
      },
      serialize: function () {
        for (var e, n = this.entries, a = [], c = 0; c < n.length; )
          (e = n[c++]), Fs(a, N2(e.key) + "=" + N2(e.value));
        return A2(a, "&");
      },
      update: function () {
        (this.entries.length = 0), this.parseQuery(this.url.query);
      },
      updateURL: function () {
        this.url && this.url.update();
      },
    };
    var ap = function () {
        S2(this, Td);
        var e = arguments.length > 0 ? arguments[0] : void 0;
        E2(this, new L2(e));
      },
      Td = ap.prototype;
    if (
      (H6(
        Td,
        {
          append: function (e, n) {
            dc(arguments.length, 2);
            var a = Ei(this);
            Fs(a.entries, { key: Wr(e), value: Wr(n) }), a.updateURL();
          },
          delete: function (e) {
            dc(arguments.length, 1);
            for (
              var n = Ei(this), a = n.entries, c = Wr(e), o = 0;
              o < a.length;

            )
              a[o].key === c ? x2(a, o, 1) : o++;
            n.updateURL();
          },
          get: function (e) {
            dc(arguments.length, 1);
            for (var n = Ei(this).entries, a = Wr(e), c = 0; c < n.length; c++)
              if (n[c].key === a) return n[c].value;
            return null;
          },
          getAll: function (e) {
            dc(arguments.length, 1);
            for (
              var n = Ei(this).entries, a = Wr(e), c = [], o = 0;
              o < n.length;
              o++
            )
              n[o].key === a && Fs(c, n[o].value);
            return c;
          },
          has: function (e) {
            dc(arguments.length, 1);
            for (var n = Ei(this).entries, a = Wr(e), c = 0; c < n.length; )
              if (n[c++].key === a) return !0;
            return !1;
          },
          set: function (e, n) {
            dc(arguments.length, 1);
            for (
              var a,
                c = Ei(this),
                o = c.entries,
                l = !1,
                h = Wr(e),
                p = Wr(n),
                g = 0;
              g < o.length;
              g++
            )
              (a = o[g]).key === h &&
                (l ? x2(o, g--, 1) : ((l = !0), (a.value = p)));
            l || Fs(o, { key: h, value: p }), c.updateURL();
          },
          sort: function () {
            var e = Ei(this);
            Z6(e.entries, function (n, a) {
              return n.key > a.key ? 1 : -1;
            }),
              e.updateURL();
          },
          forEach: function (e) {
            for (
              var n,
                a = Ei(this).entries,
                c = q6(e, arguments.length > 1 ? arguments[1] : void 0),
                o = 0;
              o < a.length;

            )
              c((n = a[o++]).value, n.key, this);
          },
          keys: function () {
            return new A_(this, "keys");
          },
          values: function () {
            return new A_(this, "values");
          },
          entries: function () {
            return new A_(this, "entries");
          },
        },
        { enumerable: !0 }
      ),
      b2(Td, Q6, Td.entries, { name: "entries" }),
      b2(
        Td,
        "toString",
        function () {
          return Ei(this).serialize();
        },
        { enumerable: !0 }
      ),
      z6(ap, rp),
      w_({ global: !0, constructor: !0, forced: !y2 }, { URLSearchParams: ap }),
      !y2 && T_(kd))
    ) {
      var fN = oa(R2.has),
        pN = oa(R2.set),
        M2 = function (e) {
          if (w2(e)) {
            var n,
              a = e.body;
            if (K6(a) === rp)
              return (
                (n = e.headers ? new kd(e.headers) : new kd()),
                fN(n, "content-type") ||
                  pN(
                    n,
                    "content-type",
                    "application/x-www-form-urlencoded;charset=UTF-8"
                  ),
                $6(e, { body: k2(0, Wr(a)), headers: k2(0, n) })
              );
          }
          return e;
        };
      if (
        (T_(I2) &&
          w_(
            { global: !0, enumerable: !0, dontCallGetSet: !0, forced: !0 },
            {
              fetch: function (e) {
                return I2(e, arguments.length > 1 ? M2(arguments[1]) : {});
              },
            }
          ),
        T_(ip))
      ) {
        var x_ = function (e) {
          return (
            S2(this, R_),
            new ip(e, arguments.length > 1 ? M2(arguments[1]) : {})
          );
        };
        (R_.constructor = x_),
          (x_.prototype = R_),
          w_(
            { global: !0, constructor: !0, dontCallGetSet: !0, forced: !0 },
            { Request: x_ }
          );
      }
    }
    var vN = { URLSearchParams: ap, getState: Ei },
      mN =
        Object.is ||
        function (s, e) {
          return s === e ? s !== 0 || 1 / s == 1 / e : s != s && e != e;
        },
      gN = Te,
      _N = mn,
      yN = Lr,
      bN = Vn,
      U2 = mN,
      V2 = qn,
      SN = ba,
      wN = __;
    p_("search", function (s, e, n) {
      return [
        function (a) {
          var c = bN(this),
            o = yN(a) ? void 0 : SN(a, s);
          return o ? gN(o, a, c) : new RegExp(a)[s](V2(c));
        },
        function (a) {
          var c = _N(this),
            o = V2(a),
            l = n(e, c, o);
          if (l.done) return l.value;
          var h = c.lastIndex;
          U2(h, 0) || (c.lastIndex = 0);
          var p = wN(c, o);
          return (
            U2(c.lastIndex, h) || (c.lastIndex = h), p === null ? -1 : p.index
          );
        },
      ];
    }),
      /* @__PURE__ */ new Date().getTime();
    var P_ = 0,
      hr = function () {
        return /* @__PURE__ */ new Date().getTime() + P_;
      },
      F2 = function () {
        var e = /* @__PURE__ */ new Date();
        return e.setTime(hr()), e.toLocaleString();
      },
      kN = Te,
      TN = mn,
      EN = Lr,
      IN = on,
      O_ = qn,
      RN = Vn,
      CN = ba,
      AN = a2,
      j2 = __;
    p_("match", function (s, e, n) {
      return [
        function (a) {
          var c = RN(this),
            o = EN(a) ? void 0 : CN(a, s);
          return o ? kN(o, a, c) : new RegExp(a)[s](O_(c));
        },
        function (a) {
          var c = TN(this),
            o = O_(a),
            l = n(e, c, o);
          if (l.done) return l.value;
          if (!c.global) return j2(c, o);
          var h = c.unicode;
          c.lastIndex = 0;
          for (var p, g = [], _ = 0; (p = j2(c, o)) !== null; ) {
            var b = O_(p[0]);
            (g[_] = b),
              b === "" && (c.lastIndex = AN(o, IN(c.lastIndex), h)),
              _++;
          }
          return _ === 0 ? null : g;
        },
      ];
    });
    var xN = pn,
      PN = or,
      ON = Qt("match"),
      B2 = function (e) {
        var n;
        return xN(e) && ((n = e[ON]) !== void 0 ? !!n : PN(e) == "RegExp");
      },
      DN = vn.f,
      NN = Mt,
      D_ = Xe,
      Ed = Qe,
      LN = yo,
      MN = $f,
      UN = Cr,
      VN = Ft.f,
      H2 = gi,
      FN = B2,
      z2 = qn,
      jN = h2,
      W2 = Zw,
      BN = function (e, n, a) {
        a in e ||
          DN(e, a, {
            configurable: !0,
            get: function () {
              return n[a];
            },
            set: function (o) {
              n[a] = o;
            },
          });
      },
      HN = Bn,
      zN = et,
      WN = bn,
      GN = an.enforce,
      qN = gd,
      G2 = Qw,
      q2 = Xw,
      KN = Qt("match"),
      Io = D_.RegExp,
      hc = Io.prototype,
      JN = D_.SyntaxError,
      $N = Ed(hc.exec),
      op = Ed("".charAt),
      K2 = Ed("".replace),
      J2 = Ed("".indexOf),
      YN = Ed("".slice),
      ZN = /^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,
      js = /a/g,
      N_ = /a/g,
      QN = new Io(js) !== js,
      $2 = W2.MISSED_STICKY,
      XN = W2.UNSUPPORTED_Y,
      e8 =
        NN &&
        (!QN ||
          $2 ||
          G2 ||
          q2 ||
          zN(function () {
            return (
              (N_[KN] = !1),
              Io(js) != js || Io(N_) == N_ || Io(js, "i") != "/a/i"
            );
          }));
    if (LN("RegExp", e8)) {
      for (
        var Bs = function (e, n) {
            var a,
              c,
              o,
              l,
              h,
              p,
              g = H2(hc, this),
              _ = FN(e),
              b = n === void 0,
              R = [],
              N = e;
            if (!g && _ && b && e.constructor === Bs) return e;
            if (
              ((_ || H2(hc, e)) && ((e = e.source), b && (n = jN(N))),
              (e = e === void 0 ? "" : z2(e)),
              (n = n === void 0 ? "" : z2(n)),
              (N = e),
              G2 &&
                ("dotAll" in js) &&
                (c = !!n && J2(n, "s") > -1) &&
                (n = K2(n, /s/g, "")),
              (a = n),
              $2 &&
                ("sticky" in js) &&
                (o = !!n && J2(n, "y") > -1) &&
                XN &&
                (n = K2(n, /y/g, "")),
              q2 &&
                ((l = (function (B) {
                  for (
                    var F,
                      U = B.length,
                      T = 0,
                      A = "",
                      L = [],
                      $ = {},
                      X = !1,
                      Q = !1,
                      D = 0,
                      M = "";
                    T <= U;
                    T++
                  ) {
                    if ((F = op(B, T)) === "\\") F += op(B, ++T);
                    else if (F === "]") X = !1;
                    else if (!X)
                      switch (!0) {
                        case F === "[":
                          X = !0;
                          break;
                        case F === "(":
                          $N(ZN, YN(B, T + 1)) && ((T += 2), (Q = !0)),
                            (A += F),
                            D++;
                          continue;
                        case F === ">" && Q:
                          if (M === "" || WN($, M))
                            throw new JN("Invalid capture group name");
                          ($[M] = !0),
                            (L[L.length] = [M, D]),
                            (Q = !1),
                            (M = "");
                          continue;
                      }
                    Q ? (M += F) : (A += F);
                  }
                  return [A, L];
                })(e)),
                (e = l[0]),
                (R = l[1])),
              (h = MN(Io(e, n), g ? this : hc, Bs)),
              (c || o || R.length) &&
                ((p = GN(h)),
                c &&
                  ((p.dotAll = !0),
                  (p.raw = Bs(
                    (function (B) {
                      for (
                        var F, U = B.length, T = 0, A = "", L = !1;
                        T <= U;
                        T++
                      )
                        (F = op(B, T)) !== "\\"
                          ? L || F !== "."
                            ? (F === "[" ? (L = !0) : F === "]" && (L = !1),
                              (A += F))
                            : (A += "[\\s\\S]")
                          : (A += F + op(B, ++T));
                      return A;
                    })(e),
                    a
                  ))),
                o && (p.sticky = !0),
                R.length && (p.groups = R)),
              e !== N)
            )
              try {
                UN(h, "source", N === "" ? "(?:)" : N);
              } catch (B) {}
            return h;
          },
          Y2 = VN(Io),
          Z2 = 0;
        Y2.length > Z2;

      )
        BN(Bs, Io, Y2[Z2++]);
      (hc.constructor = Bs),
        (Bs.prototype = hc),
        HN(D_, "RegExp", Bs, { constructor: !0 });
    }
    qN("RegExp");
    var Q2 = Qe((1).valueOf),
      X2 = `	
\v\f\r \u2028\u2029\uFEFF`,
      t8 = Vn,
      n8 = qn,
      ek = Qe("".replace),
      sp = `[	
\v\f\r \u2028\u2029\uFEFF]`,
      r8 = RegExp("^" + sp + sp + "*"),
      i8 = RegExp(sp + sp + "*$"),
      L_ = function (e) {
        return function (n) {
          var a = n8(t8(n));
          return 1 & e && (a = ek(a, r8, "")), 2 & e && (a = ek(a, i8, "")), a;
        };
      },
      up = { start: L_(1), end: L_(2), trim: L_(3) },
      a8 = Mt,
      M_ = Xe,
      tk = Qe,
      o8 = yo,
      s8 = Bn,
      nk = bn,
      u8 = $f,
      c8 = gi,
      l8 = so,
      rk = cs,
      d8 = et,
      h8 = Ft.f,
      f8 = Ot.f,
      p8 = vn.f,
      v8 = Q2,
      m8 = up.trim,
      ik = "Number",
      Ro = M_.Number,
      U_ = Ro.prototype,
      g8 = M_.TypeError,
      _8 = tk("".slice),
      cp = tk("".charCodeAt),
      y8 = function (e) {
        var n = rk(e, "number");
        return typeof n == "bigint" ? n : b8(n);
      },
      b8 = function (e) {
        var n,
          a,
          c,
          o,
          l,
          h,
          p,
          g,
          _ = rk(e, "number");
        if (l8(_)) throw g8("Cannot convert a Symbol value to a number");
        if (typeof _ == "string" && _.length > 2) {
          if (((_ = m8(_)), (n = cp(_, 0)) === 43 || n === 45)) {
            if ((a = cp(_, 2)) === 88 || a === 120) return NaN;
          } else if (n === 48) {
            switch (cp(_, 1)) {
              case 66:
              case 98:
                (c = 2), (o = 49);
                break;
              case 79:
              case 111:
                (c = 8), (o = 55);
                break;
              default:
                return +_;
            }
            for (h = (l = _8(_, 2)).length, p = 0; p < h; p++)
              if ((g = cp(l, p)) < 48 || g > o) return NaN;
            return parseInt(l, c);
          }
        }
        return +_;
      };
    if (o8(ik, !Ro(" 0o1") || !Ro("0b1") || Ro("+0x1"))) {
      for (
        var lp,
          fc = function (e) {
            var n = arguments.length < 1 ? 0 : Ro(y8(e)),
              a = this;
            return c8(U_, a) &&
              d8(function () {
                v8(a);
              })
              ? u8(Object(n), a, fc)
              : n;
          },
          ak = a8
            ? h8(Ro)
            : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(
                ","
              ),
          V_ = 0;
        ak.length > V_;
        V_++
      )
        nk(Ro, (lp = ak[V_])) && !nk(fc, lp) && p8(fc, lp, f8(Ro, lp));
      (fc.prototype = U_),
        (U_.constructor = fc),
        s8(M_, ik, fc, { constructor: !0 });
    }
    var S8 = Fr.includes,
      w8 = Qu;
    Tt(
      {
        target: "Array",
        proto: !0,
        forced: et(function () {
          return !Array(1).includes();
        }),
      },
      {
        includes: function (e) {
          return S8(this, e, arguments.length > 1 ? arguments[1] : void 0);
        },
      }
    ),
      w8("includes");
    var k8 = B2,
      T8 = TypeError,
      ok = function (e) {
        if (k8(e)) throw T8("The method doesn't accept regular expressions");
        return e;
      },
      E8 = Qt("match"),
      sk = function (e) {
        var n = /./;
        try {
          "/./"[e](n);
        } catch (a) {
          try {
            return (n[E8] = !1), "/./"[e](n);
          } catch (c) {}
        }
        return !1;
      },
      I8 = Tt,
      R8 = ok,
      C8 = Vn,
      uk = qn,
      A8 = sk,
      x8 = Qe("".indexOf);
    I8(
      { target: "String", proto: !0, forced: !A8("includes") },
      {
        includes: function (e) {
          return !!~x8(
            uk(C8(this)),
            uk(R8(e)),
            arguments.length > 1 ? arguments[1] : void 0
          );
        },
      }
    );
    var P8 = Tt,
      O8 = Fr.indexOf,
      D8 = wd,
      F_ = Qe([].indexOf),
      ck = !!F_ && 1 / F_([1], 1, -0) < 0,
      N8 = D8("indexOf");
    P8(
      { target: "Array", proto: !0, forced: ck || !N8 },
      {
        indexOf: function (e) {
          var n = arguments.length > 1 ? arguments[1] : void 0;
          return ck ? F_(this, e, n) || 0 : O8(this, e, n);
        },
      }
    );
    var L8 = Wn,
      lk = Ds,
      M8 = Xu;
    Tt(
      {
        target: "Object",
        stat: !0,
        forced: et(function () {
          lk(1);
        }),
        sham: !M8,
      },
      {
        getPrototypeOf: function (e) {
          return lk(L8(e));
        },
      }
    );
    var U8 = Vs,
      V8 = ur,
      F8 = mn;
    Tt(
      {
        target: "Reflect",
        stat: !0,
        forced: !et(function () {
          Reflect.apply(function () {});
        }),
      },
      {
        apply: function (e, n, a) {
          return U8(V8(e), n, F8(a));
        },
      }
    );
    var j8 = Mt,
      B8 = Ki.EXISTS,
      dk = Qe,
      H8 = vn.f,
      hk = Function.prototype,
      z8 = dk(hk.toString),
      fk = /function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,
      W8 = dk(fk.exec);
    j8 &&
      !B8 &&
      H8(hk, "name", {
        configurable: !0,
        get: function () {
          try {
            return W8(fk, z8(this))[1];
          } catch (e) {
            return "";
          }
        },
      });
    var G8 = Tt,
      pk = Date,
      q8 = Qe(pk.prototype.getTime);
    G8(
      { target: "Date", stat: !0 },
      {
        now: function () {
          return q8(new pk());
        },
      }
    );
    var Id,
      pc,
      vk,
      j_,
      Rd = or(Xe.process) == "process",
      K8 = Zf,
      J8 = sr,
      $8 = TypeError,
      mk = function (e) {
        if (K8(e)) return e;
        throw $8(J8(e) + " is not a constructor");
      },
      gk = mn,
      Y8 = mk,
      Z8 = Lr,
      Q8 = Qt("species"),
      dp = function (e, n) {
        var a,
          c = gk(e).constructor;
        return c === void 0 || Z8((a = gk(c)[Q8])) ? n : Y8(a);
      },
      _k = /(?:ipad|iphone|ipod).*applewebkit/i.test($r),
      Gr = Xe,
      X8 = Vs,
      eL = Ba,
      yk = Bt,
      tL = bn,
      nL = et,
      bk = ad,
      rL = oc,
      Sk = Qn,
      iL = Yf,
      aL = _k,
      oL = Rd,
      B_ = Gr.setImmediate,
      H_ = Gr.clearImmediate,
      sL = Gr.process,
      z_ = Gr.Dispatch,
      uL = Gr.Function,
      wk = Gr.MessageChannel,
      cL = Gr.String,
      W_ = 0,
      Cd = {},
      lL = "onreadystatechange";
    try {
      Id = Gr.location;
    } catch (s) {}
    var G_ = function (e) {
        if (tL(Cd, e)) {
          var n = Cd[e];
          delete Cd[e], n();
        }
      },
      q_ = function (e) {
        return function () {
          G_(e);
        };
      },
      kk = function (e) {
        G_(e.data);
      },
      Tk = function (e) {
        Gr.postMessage(cL(e), Id.protocol + "//" + Id.host);
      };
    (B_ && H_) ||
      ((B_ = function (e) {
        iL(arguments.length, 1);
        var n = yk(e) ? e : uL(e),
          a = rL(arguments, 1);
        return (
          (Cd[++W_] = function () {
            X8(n, void 0, a);
          }),
          pc(W_),
          W_
        );
      }),
      (H_ = function (e) {
        delete Cd[e];
      }),
      oL
        ? (pc = function (e) {
            sL.nextTick(q_(e));
          })
        : z_ && z_.now
        ? (pc = function (e) {
            z_.now(q_(e));
          })
        : wk && !aL
        ? ((j_ = (vk = new wk()).port2),
          (vk.port1.onmessage = kk),
          (pc = eL(j_.postMessage, j_)))
        : Gr.addEventListener &&
          yk(Gr.postMessage) &&
          !Gr.importScripts &&
          Id &&
          Id.protocol !== "file:" &&
          !nL(Tk)
        ? ((pc = Tk), Gr.addEventListener("message", kk, !1))
        : (pc =
            lL in Sk("script")
              ? function (s) {
                  bk.appendChild(Sk("script")).onreadystatechange =
                    function () {
                      bk.removeChild(this), G_(s);
                    };
                }
              : function (s) {
                  setTimeout(q_(s), 0);
                }));
    var Ad,
      Hs,
      xd,
      vc,
      K_,
      J_,
      $_,
      Ek,
      Ik = { set: B_, clear: H_ },
      dL = Xe,
      hL = /ipad|iphone|ipod/i.test($r) && dL.Pebble !== void 0,
      fL = /web0s(?!.*chrome)/i.test($r),
      zs = Xe,
      Rk = Ba,
      pL = Ot.f,
      Y_ = Ik.set,
      vL = _k,
      mL = hL,
      gL = fL,
      Z_ = Rd,
      Ck = zs.MutationObserver || zs.WebKitMutationObserver,
      Ak = zs.document,
      xk = zs.process,
      hp = zs.Promise,
      Pk = pL(zs, "queueMicrotask"),
      Ok = Pk && Pk.value;
    Ok ||
      ((Ad = function () {
        var e, n;
        for (Z_ && (e = xk.domain) && e.exit(); Hs; ) {
          (n = Hs.fn), (Hs = Hs.next);
          try {
            n();
          } catch (a) {
            throw (Hs ? vc() : (xd = void 0), a);
          }
        }
        (xd = void 0), e && e.enter();
      }),
      vL || Z_ || gL || !Ck || !Ak
        ? !mL && hp && hp.resolve
          ? ((($_ = hp.resolve(void 0)).constructor = hp),
            (Ek = Rk($_.then, $_)),
            (vc = function () {
              Ek(Ad);
            }))
          : Z_
          ? (vc = function () {
              xk.nextTick(Ad);
            })
          : ((Y_ = Rk(Y_, zs)),
            (vc = function () {
              Y_(Ad);
            }))
        : ((K_ = !0),
          (J_ = Ak.createTextNode("")),
          new Ck(Ad).observe(J_, { characterData: !0 }),
          (vc = function () {
            J_.data = K_ = !K_;
          })));
    var _L =
        Ok ||
        function (s) {
          var e = { fn: s, next: void 0 };
          xd && (xd.next = e), Hs || ((Hs = e), vc()), (xd = e);
        },
      yL = Xe,
      Q_ = function (e) {
        try {
          return { error: !1, value: e() };
        } catch (n) {
          return { error: !0, value: n };
        }
      },
      Dk = function () {
        (this.head = null), (this.tail = null);
      };
    Dk.prototype = {
      add: function (e) {
        var n = { item: e, next: null };
        this.head ? (this.tail.next = n) : (this.head = n), (this.tail = n);
      },
      get: function () {
        var e = this.head;
        if (e)
          return (
            (this.head = e.next), this.tail === e && (this.tail = null), e.item
          );
      },
    };
    var bL = Dk,
      Pd = Xe.Promise,
      Nk =
        (typeof Deno == "undefined" ? "undefined" : ut(Deno)) == "object" &&
        Deno &&
        ut(Deno.version) == "object",
      SL =
        !Nk &&
        !Rd &&
        (typeof window == "undefined" ? "undefined" : ut(window)) == "object" &&
        (typeof document == "undefined" ? "undefined" : ut(document)) ==
          "object",
      wL = Xe,
      Od = Pd,
      kL = Bt,
      TL = yo,
      EL = Lu,
      IL = Qt,
      RL = SL,
      CL = Nk,
      X_ = Wi;
    Od && Od.prototype;
    var AL = IL("species"),
      Lk = !1,
      Mk = kL(wL.PromiseRejectionEvent),
      xL = TL("Promise", function () {
        var s = EL(Od),
          e = s !== String(Od);
        if (!e && X_ === 66) return !0;
        if (!X_ || X_ < 51 || !/native code/.test(s)) {
          var n = new Od(function (c) {
              c(1);
            }),
            a = function (o) {
              o(
                function () {},
                function () {}
              );
            };
          if (
            (((n.constructor = {})[AL] = a),
            !(Lk = n.then(function () {}) instanceof a))
          )
            return !0;
        }
        return !e && (RL || CL) && !Mk;
      }),
      Ws = { CONSTRUCTOR: xL, REJECTION_EVENT: Mk, SUBCLASSING: Lk },
      mc = {},
      Uk = ur,
      PL = TypeError,
      OL = function (e) {
        var n, a;
        (this.promise = new e(function (c, o) {
          if (n !== void 0 || a !== void 0) throw PL("Bad Promise constructor");
          (n = c), (a = o);
        })),
          (this.resolve = Uk(n)),
          (this.reject = Uk(a));
      };
    mc.f = function (s) {
      return new OL(s);
    };
    var ey,
      Vk,
      Fk,
      DL = Tt,
      fp = Rd,
      Co = Xe,
      gc = Te,
      jk = Bn,
      Bk = Y,
      NL = Zt,
      LL = gd,
      ML = ur,
      pp = Bt,
      UL = pn,
      VL = To,
      FL = dp,
      Hk = Ik.set,
      ty = _L,
      jL = function (e, n) {
        var a = yL.console;
        a && a.error && (arguments.length == 1 ? a.error(e) : a.error(e, n));
      },
      BL = Q_,
      HL = bL,
      zk = an,
      vp = Pd,
      Wk = mc,
      mp = "Promise",
      Gk = Ws.CONSTRUCTOR,
      zL = Ws.REJECTION_EVENT,
      WL = Ws.SUBCLASSING,
      ny = zk.getterFor(mp),
      GL = zk.set,
      _c = vp && vp.prototype,
      yc = vp,
      gp = _c,
      qk = Co.TypeError,
      ry = Co.document,
      iy = Co.process,
      ay = Wk.f,
      qL = ay,
      KL = !!(ry && ry.createEvent && Co.dispatchEvent),
      Kk = "unhandledrejection",
      Jk = function (e) {
        var n;
        return !(!UL(e) || !pp((n = e.then))) && n;
      },
      $k = function (e, n) {
        var a,
          c,
          o,
          l = n.value,
          h = n.state == 1,
          p = h ? e.ok : e.fail,
          g = e.resolve,
          _ = e.reject,
          b = e.domain;
        try {
          p
            ? (h || (n.rejection === 2 && $L(n), (n.rejection = 1)),
              p === !0
                ? (a = l)
                : (b && b.enter(), (a = p(l)), b && (b.exit(), (o = !0))),
              a === e.promise
                ? _(qk("Promise-chain cycle"))
                : (c = Jk(a))
                ? gc(c, a, g, _)
                : g(a))
            : _(l);
        } catch (R) {
          b && !o && b.exit(), _(R);
        }
      },
      Yk = function (e, n) {
        e.notified ||
          ((e.notified = !0),
          ty(function () {
            for (var a, c = e.reactions; (a = c.get()); ) $k(a, e);
            (e.notified = !1), n && !e.rejection && JL(e);
          }));
      },
      Zk = function (e, n, a) {
        var c, o;
        KL
          ? (((c = ry.createEvent("Event")).promise = n),
            (c.reason = a),
            c.initEvent(e, !1, !0),
            Co.dispatchEvent(c))
          : (c = { promise: n, reason: a }),
          !zL && (o = Co["on" + e])
            ? o(c)
            : e === Kk && jL("Unhandled promise rejection", a);
      },
      JL = function (e) {
        gc(Hk, Co, function () {
          var n,
            a = e.facade,
            c = e.value;
          if (
            Qk(e) &&
            ((n = BL(function () {
              fp ? iy.emit("unhandledRejection", c, a) : Zk(Kk, a, c);
            })),
            (e.rejection = fp || Qk(e) ? 2 : 1),
            n.error)
          )
            throw n.value;
        });
      },
      Qk = function (e) {
        return e.rejection !== 1 && !e.parent;
      },
      $L = function (e) {
        gc(Hk, Co, function () {
          var n = e.facade;
          fp
            ? iy.emit("rejectionHandled", n)
            : Zk("rejectionhandled", n, e.value);
        });
      },
      bc = function (e, n, a) {
        return function (c) {
          e(n, c, a);
        };
      },
      Sc = function (e, n, a) {
        e.done ||
          ((e.done = !0),
          a && (e = a),
          (e.value = n),
          (e.state = 2),
          Yk(e, !0));
      },
      oy = function (e, n, a) {
        if (!e.done) {
          (e.done = !0), a && (e = a);
          try {
            if (e.facade === n) throw qk("Promise can't be resolved itself");
            var c = Jk(n);
            c
              ? ty(function () {
                  var o = { done: !1 };
                  try {
                    gc(c, n, bc(oy, o, e), bc(Sc, o, e));
                  } catch (l) {
                    Sc(o, l, e);
                  }
                })
              : ((e.value = n), (e.state = 1), Yk(e, !1));
          } catch (o) {
            Sc({ done: !1 }, o, e);
          }
        }
      };
    if (
      Gk &&
      ((gp = (yc = function (e) {
        VL(this, gp), ML(e), gc(ey, this);
        var n = ny(this);
        try {
          e(bc(oy, n), bc(Sc, n));
        } catch (a) {
          Sc(n, a);
        }
      }).prototype),
      ((ey = function (e) {
        GL(this, {
          type: mp,
          done: !1,
          notified: !1,
          parent: !1,
          reactions: new HL(),
          rejection: !1,
          state: 0,
          value: void 0,
        });
      }).prototype = jk(gp, "then", function (s, e) {
        var n = ny(this),
          a = ay(FL(this, yc));
        return (
          (n.parent = !0),
          (a.ok = !pp(s) || s),
          (a.fail = pp(e) && e),
          (a.domain = fp ? iy.domain : void 0),
          n.state == 0
            ? n.reactions.add(a)
            : ty(function () {
                $k(a, n);
              }),
          a.promise
        );
      })),
      (Vk = function () {
        var e = new ey(),
          n = ny(e);
        (this.promise = e),
          (this.resolve = bc(oy, n)),
          (this.reject = bc(Sc, n));
      }),
      (Wk.f = ay =
        function (e) {
          return e === yc || e === void 0 ? new Vk(e) : qL(e);
        }),
      pp(vp) && _c !== Object.prototype)
    ) {
      (Fk = _c.then),
        WL ||
          jk(
            _c,
            "then",
            function (s, e) {
              var n = this;
              return new yc(function (a, c) {
                gc(Fk, n, a, c);
              }).then(s, e);
            },
            { unsafe: !0 }
          );
      try {
        delete _c.constructor;
      } catch (s) {}
      Bk && Bk(_c, gp);
    }
    DL({ global: !0, constructor: !0, wrap: !0, forced: Gk }, { Promise: yc }),
      NL(yc, mp, !1),
      LL(mp);
    var YL = Pd,
      Xk =
        Ws.CONSTRUCTOR ||
        !Jf(function (s) {
          YL.all(s).then(void 0, function () {});
        }),
      ZL = Te,
      QL = ur,
      XL = mc,
      eM = Q_,
      tM = vd;
    Tt(
      { target: "Promise", stat: !0, forced: Xk },
      {
        all: function (e) {
          var n = this,
            a = XL.f(n),
            c = a.resolve,
            o = a.reject,
            l = eM(function () {
              var h = QL(n.resolve),
                p = [],
                g = 0,
                _ = 1;
              tM(e, function (b) {
                var R = g++,
                  N = !1;
                _++,
                  ZL(h, n, b).then(function (B) {
                    N || ((N = !0), (p[R] = B), --_ || c(p));
                  }, o);
              }),
                --_ || c(p);
            });
          return l.error && o(l.value), a.promise;
        },
      }
    );
    var nM = Tt,
      rM = Ws.CONSTRUCTOR,
      sy = Pd,
      iM = mi,
      aM = Bt,
      oM = Bn,
      eT = sy && sy.prototype;
    if (
      (nM(
        { target: "Promise", proto: !0, forced: rM, real: !0 },
        {
          catch: function (e) {
            return this.then(void 0, e);
          },
        }
      ),
      aM(sy))
    ) {
      var tT = iM("Promise").prototype.catch;
      eT.catch !== tT && oM(eT, "catch", tT, { unsafe: !0 });
    }
    var sM = Te,
      uM = ur,
      cM = mc,
      lM = Q_,
      dM = vd;
    Tt(
      { target: "Promise", stat: !0, forced: Xk },
      {
        race: function (e) {
          var n = this,
            a = cM.f(n),
            c = a.reject,
            o = lM(function () {
              var l = uM(n.resolve);
              dM(e, function (h) {
                sM(l, n, h).then(a.resolve, c);
              });
            });
          return o.error && c(o.value), a.promise;
        },
      }
    );
    var hM = Te,
      fM = mc;
    Tt(
      { target: "Promise", stat: !0, forced: Ws.CONSTRUCTOR },
      {
        reject: function (e) {
          var n = fM.f(this);
          return hM(n.reject, void 0, e), n.promise;
        },
      }
    );
    var pM = mn,
      vM = pn,
      mM = mc,
      nT = function (e, n) {
        if ((pM(e), vM(n) && n.constructor === e)) return n;
        var a = mM.f(e);
        return (0, a.resolve)(n), a.promise;
      },
      gM = Tt,
      _M = Ws.CONSTRUCTOR,
      yM = nT;
    mi("Promise"),
      gM(
        { target: "Promise", stat: !0, forced: _M },
        {
          resolve: function (e) {
            return yM(this, e);
          },
        }
      );
    var bM = Wn,
      rT = As;
    Tt(
      {
        target: "Object",
        stat: !0,
        forced: et(function () {
          rT(1);
        }),
      },
      {
        keys: function (e) {
          return rT(bM(e));
        },
      }
    );
    var iT = "canvas",
      mt = "audio",
      dt = "video",
      uy = "screen",
      Ha = "small",
      _p = "big",
      ln = "auxiliary",
      ti = "aux",
      yp = "smallVideo",
      aT = "user",
      oT = "environment",
      ir = "mute",
      sa = "unmute",
      Nn = "ended",
      Ao = "playing",
      xo = "pause",
      wc = "error",
      cy = "loadeddata",
      Dd = "audioinput",
      bp = "videoinput",
      sT = "detail",
      SM = "text",
      jt = "main",
      Ii = "backup",
      wM = "banned",
      kM = "kick",
      TM = "user_time_out",
      EM = "room_disband",
      uT = "sei-message",
      kc = "PLAYING",
      ua = "PAUSED",
      Po = "STOPPED",
      Tc = "inactive",
      Oo = "sendonly",
      ly = "recvonly",
      cT = "add",
      lT = "remove",
      IM = "replace",
      dy = "track",
      RM = "wss://trtc.rtc.qq.com",
      CM = "wss://webrtc.qq.com",
      Sp = "qcloud",
      AM = "trtc",
      xM = "webrtc",
      Nd = "",
      dT = "jssdk_log",
      PM = "jssdk_event",
      OM = "jssdk_new_endreport",
      hy = function (e) {
        return (Nd = e);
      },
      DM = 1,
      NM = 2,
      wp = "live",
      Ec = 20,
      fy = 21,
      ca = "anchor",
      Gs = "audience",
      la = "5Y2wZK8nANNAoVw6dSAHVjNxrD1ObBM2kBPV",
      Ld = "224d130c-7b5c-415b-aaa2-79c2eb5a6df2",
      LM = 2,
      fn = jt,
      Pn = ln,
      kp = "unknown",
      fr = "DISCONNECTED",
      hT = "CONNECTING",
      py = "RECONNECTING",
      pr = "CONNECTED",
      MM = "new",
      Tp = "connecting",
      fT = "failed",
      vy = "closed",
      UM = "disconnected",
      pT = "connected",
      VM = "completed",
      my = 30,
      vT = "join",
      FM = "delta-join",
      mT = "rejoin",
      jM = "leave",
      BM = "delta-leave",
      gT = "publish",
      HM = "delta-publish",
      _T = "unpublish",
      yT = "subscribe",
      bT = "unsubscribe",
      ST = "uplink-connection",
      wT = "uplink-reconnection",
      kT = "downlink-connection",
      TT = "downlink-reconnection",
      Ep = "setLocalDescription",
      ET = "setRemoteDescription",
      IT = "iceConnectionState",
      Md = "stream-initialize",
      gy = "websocketConnectionState",
      RT = "websocketReconnectionState",
      CT = "update-stream",
      AT = "recover-subscription",
      xT = "start-mix-transcode",
      PT = "stop-mix-transcode",
      OT = "player-error",
      DT = "schedule",
      _y = "unsubscribe",
      yy = "subscribe_change",
      Ud = "unified-plan",
      by = "plan-b",
      Sy = { MANUAL: "manual", PRESET_LAYOUT: "preset-layout" },
      NT = { REMOTE: "$PLACE_HOLDER_REMOTE$" },
      LT = {
        IT_AUDIO_VIDEO: 0,
        IT_PICTURE: 2,
        IT_CANVAS: 3,
        IT_PURE_AUDIO: 4,
        IT_PURE_VIDEO: 5,
      },
      sn = "string",
      Tn = "number",
      Kn = "boolean",
      MT = "array",
      qr = "object",
      vr = { ADD: cT, REMOVE: lT },
      wy = { unknown: 0, wifi: 1, "4g": 2, "3g": 3, "2g": 4, wired: 5 },
      UT = -1,
      Vd = 0,
      zM = 1,
      VT = _p,
      FT = Ha,
      jT = 6048e5,
      WM = "schedule.cloud-rtc.com",
      GM = "schedule.rtc.qcloud.com",
      qM = "schedule.rtc.tencentcloud.com",
      KM = "schedule-ecdn.rtc.tencentcloud.com",
      ky = "",
      BT = function (e) {
        return (ky = e);
      },
      Fd = "TRTC",
      mr = "Client",
      Do = "LocalStream",
      Ty = "RemoteStream",
      JM = "Stream",
      Ey = "web.sdk.qcloud.com",
      HT = "web.sdk.tencent.cn",
      zT = "web.sdk.cloud.tencent.cn",
      WT = "https://console.cloud.tencent.com/trtc",
      Ic = "https://".concat(Ey, "/trtc/webrtc/doc"),
      Iy = "".concat(Ic, "/zh-cn/"),
      Ry = "trtc_error_assistance",
      Ip = "default",
      GT = "communications",
      ni = { TRACE: 0, DEBUG: 1, INFO: 2, WARN: 3, ERROR: 4, NONE: 5 },
      $M = 1,
      qT = 2,
      YM = 1,
      KT = 2,
      qs = Object.keys(ni),
      ZM = ["normal leave", "timeout leave", "kick", "role change"],
      Rp = 2e3,
      Rc = "ric",
      Cp = "raf",
      QM = "interval",
      JT = "timeout",
      $T =
        "Resolution reset to 1080p, need to upgrade ability here https://cloud.tencent.com/document/product/647/85386",
      XM = {
        "TRTC.checkSystemRequirements": 40001,
        "TRTC.isScreenShareSupported": 40002,
        "TRTC.isSmallStreamSupported": 40003,
        "TRTC.createClient.rtc": 40004,
        "TRTC.createClient.live": 40005,
        "TRTC.createClient.intRoomId": 40006,
        "TRTC.createClient.stringRoomId": 40007,
        "TRTC.createClient.autoSubscribe": 40008,
        "TRTC.createClient.manualSubscribe": 40009,
        "TRTC.enableUploadLog": 40010,
        "TRTC.disableUploadLog": 40011,
        "Client.publish": 40012,
        "Client.publish.isAuxiliary": 40013,
        "Client.switchRole": 40014,
        "Client.startPublishCDNStream": 40015,
        "Client.stopPublishCDNStream": 40016,
        "Client.startMixTranscode": 40017,
        "Client.stopMixTranscode": 40018,
        "Client.enableAudioVolumeEvaluation": 40019,
        "Client.enableSmallStream": 40020,
        "Client.disableSmallStream": 40021,
        "Client.setSmallStreamProfile": 40022,
        "Client.setRemoteVideoStreamType": 40023,
        "Client.sendSEIMessage": 40024,
        "Client.setProxyServer": 40025,
        "Client.setTurnServer": 40026,
        "LocalStream.setAudioProfile.standard": 40027,
        "LocalStream.setAudioProfile.high": 40028,
        "LocalStream.setAudioProfile.standard-stereo": 40029,
        "LocalStream.setAudioProfile.high-stereo": 40030,
        "LocalStream.setVideoProfile.120p": 40031,
        "LocalStream.setVideoProfile.120p_2": 40032,
        "LocalStream.setVideoProfile.180p": 40033,
        "LocalStream.setVideoProfile.180p_2": 40034,
        "LocalStream.setVideoProfile.240p": 40035,
        "LocalStream.setVideoProfile.240p_2": 40036,
        "LocalStream.setVideoProfile.360p": 40037,
        "LocalStream.setVideoProfile.360p_2": 40038,
        "LocalStream.setVideoProfile.480p": 40039,
        "LocalStream.setVideoProfile.480p_2": 40040,
        "LocalStream.setVideoProfile.720p": 40041,
        "LocalStream.setVideoProfile.1080p": 40042,
        "LocalStream.setVideoProfile.1440p": 40043,
        "LocalStream.setVideoProfile.4K": 40044,
        "LocalStream.setScreenProfile.480p": 40045,
        "LocalStream.setScreenProfile.480p_2": 40046,
        "LocalStream.setScreenProfile.720p": 40047,
        "LocalStream.setScreenProfile.720p_2": 40048,
        "LocalStream.setScreenProfile.1080p": 40049,
        "LocalStream.setScreenProfile.1080p_2": 40050,
        "LocalStream.setVideoContentHint.motion": 40051,
        "LocalStream.setVideoContentHint.detail": 40052,
        "LocalStream.setVideoContentHint.text": 40053,
        "LocalStream.setAudioCaptureVolume": 40054,
        "LocalStream.getVideoFrame": 40055,
        "RemoteStream.setAudioOutput": 40056,
        "RemoteStream.getVideoFrame": 40057,
        AI_DENOISER: 1700,
        SPATIAL_AUDIO: 1701,
        "2K_4K": 1704,
      },
      Cy = [
        "width",
        "height",
        "frameRate",
        "facingMode",
        "sampleRate",
        "sampleSize",
        "channelCount",
        "deviceId",
      ],
      e7 = Vn,
      YT = qn,
      t7 = /"/g,
      n7 = Qe("".replace),
      ZT = function (e, n, a, c) {
        var o = YT(e7(e)),
          l = "<" + n;
        return (
          a !== "" && (l += " " + a + '="' + n7(YT(c), t7, "&quot;") + '"'),
          l + ">" + o + "</" + n + ">"
        );
      },
      r7 = et,
      QT = function (e) {
        return r7(function () {
          var n = ""[e]('"');
          return n !== n.toLowerCase() || n.split('"').length > 3;
        });
      },
      i7 = ZT;
    Tt(
      { target: "String", proto: !0, forced: QT("link") },
      {
        link: function (e) {
          return i7(this, "a", "href", e);
        },
      }
    ),
      Tt({ target: "Array", stat: !0 }, { isArray: sc });
    var a7 = "AVOID_REPEATED_CALL",
      o7 = "INVALID_PARAMETER_REQUIRED",
      XT = "INVALID_PARAMETER_TYPE",
      s7 = "INVALID_PARAMETER_EMPTY",
      eE = "INVALID_PARAMETER_INSTANCE",
      u7 = "INVALID_PARAMETER_RANGE",
      c7 = "API_CALL_TIMEOUT",
      l7 = "SIGNAL_CHANNEL_RECONNECTION_FAILED",
      d7 = "SIGNAL_CHANNEL_SETUP_FAILED",
      h7 = "ERROR_MESSAGE",
      f7 = "EXCHANGE_SDP_TIMEOUT",
      p7 = "DOWNLINK_RECONNECTION_FAILED",
      v7 = "EXCHANGE_SDP_FAILED",
      m7 = "UPLINK_RECONNECTION_FAILED",
      g7 = "INVALID_PURE_AUDIO",
      _7 = "INVALID_STREAMID",
      y7 = "INVALID_USER_DEFINE_RECORDID",
      b7 = "INVALID_USER_DEFINE_PUSH_ARGS",
      S7 = "INVALID_PROXY",
      w7 = "INVALID_JOIN",
      k7 = "INVALID_ROOMID_STRING",
      T7 = "INVALID_ROOMID_INTEGER",
      E7 = "JOIN_ROOM_TIMEOUT",
      tE = "JOIN_ROOM_FAILED",
      I7 = "REJOIN_ROOM_FAILED",
      R7 = "INVALID_DESTROY",
      C7 = "INVALID_PUBLISH",
      A7 = "INVALID_UNPUBLISH",
      x7 = "INVALID_AUDIENCE",
      P7 = "INVALID_INITIALIZE",
      O7 = "INVALID_DUPLICATE_PUBLISHING",
      Ay = "INVALID_REMOTE_STREAM",
      D7 = "SUBSCRIBE_FAILED",
      N7 = "INVALID_ROLE",
      L7 = "INVALID_OPERATION_SWITCH_ROLE",
      M7 = "SWITCH_ROLE_TIMEOUT",
      U7 = "SWITCH_ROLE_FAILED",
      V7 = "CLIENT_BANNED",
      nE = "INVALID_OPERATION_START_PUBLISH_CDN",
      F7 = "INVALID_OPERATION_STOP_PUBLISH_CDN",
      j7 = "INVALID_STREAM_ID",
      rE = "START_PUBLISH_CDN_FAILED",
      iE = "STOP_PUBLISH_CDN_FAILED",
      B7 = "START_MIX_TRANSCODE",
      H7 = "STOP_MIX_TRANSCODE",
      z7 = "INVALID_AUDIO_VOLUME",
      W7 = "ENABLE_SMALL_STREAM_PUBLISHED",
      G7 = "DISABLE_SMALL_STREAM_PUBLISHED",
      q7 = "NOT_SUPPORTED_SMALL_STREAM",
      K7 = "INVALID_SMALL_STREAM_PROFILE",
      J7 = "INVALID_PARAMETER_REMOTE_STREAM",
      $7 = "INVALID_SWITCH_DEVICE",
      Y7 = "INVALID_SWITCH_DEVICE_PUBLISHING",
      aE = "INVALID_REPLACE_TRACK",
      Z7 = "INVALID_INITIALIZE_LOCAL_STREAM",
      Q7 = "INVALID_ADD_TRACK_REPETITIVE",
      X7 = "INVALID_ADD_TRACK_REMOVING",
      eU = "INVALID_ADD_TRACK_PUBLISHING",
      oE = "INVALID_STREAM_INITIALIZED",
      tU = "INVALID_ADD_TRACK_NUMBER",
      nU = "INVALID_REMOVE_AUDIO_TRACK",
      rU = "INVALID_REMOVE_AUDIO_ADDING",
      iU = "INVALID_REMOVE_AUDIO_ON",
      aU = "INVALID_REMOVE_TRACK_PUBLISHING",
      oU = "INVALID_REMOVE_TRACK_NOT_PUBLISHING",
      sU = "INVALID_REMOVE_TRACK_NUMBER",
      uU = "INVALID_REPLACE_TRACK_NO_TRACK",
      cU = "REPEAT_JOIN",
      xy = "CLIENT_DESTROYED",
      lU = "START_MIX_TRANSCODE_FAILED",
      dU = "STOP_MIX_TRANSCODE_FAILED",
      hU = "MIX_TRANSCODE_NOT_STARTED",
      fU = "CANNOT_LESS_THAN_ZERO",
      pU = "MIX_PARAMS_VIDEO_FRAMERATE",
      vU = "MIX_PARAMS_VIDEO_GOP",
      mU = "MIX_PARAMS_AUDIO_BITRATE",
      gU = "MIX_PARAMS_USER_Z_ORDER",
      _U = "MIX_PARAMS_NOT_SELF",
      yU = "MIX_PARAMS_USER_STREAM",
      bU = "INVALID_ELEMENT_ID",
      SU = "INVALID_ELEMENT_ID_TYPE",
      Py = "PLAY_FAILED",
      wU = "INVALID_CREATE_STREAM_SOURCE",
      kU = "INVALID_CREATE_STREAM_SCREEN",
      TU = "INVALID_CREATE_STREAM_AUDIO",
      EU = "INVALID_CREATE_STREAM_SCREEN_AUDIO",
      sE = "NOT_SUPPORTED_HTTP",
      uE = "NOT_SUPPORTED_WEBRTC",
      IU = "NOT_SUPPORTED_PROFILE",
      cE = "NOT_SUPPORTED_H264ENCODE",
      lE = "NOT_SUPPORTED_H264DECODE",
      Oy = "NOT_SUPPORTED_TRACK",
      RU = "NOT_SUPPORTED_SWITCH_DEVICE",
      CU = "NOT_SUPPORTED_CAPTURE",
      AU = "NOT_SUPPORTED_AUX",
      xU = "MICROPHONE_NOT_FOUND",
      PU = "CAMERA_NOT_FOUND",
      dE = "SIGNAL_RESPONSE_FAILED",
      OU = "CATCH_HANDLER_ERROR",
      DU = "API_NOT_EXIST",
      NU = "CONNECTION_CLOSED",
      LU = "SUBSCRIBE_ALL_FALSE",
      hE = "SEI_NOT_SUPPORT",
      MU = "SEI_DISABLED",
      UU = "SEI_EMPTY",
      VU = "SEI_OVERSIZE",
      FU = "SEI_BEFORE_PUBLISH",
      jU = "SEI_NOT_VIDEO",
      BU = "CALL_FREQUENCY_LIMIT",
      HU = "CONNECTION_ABORTED",
      Dy = "API_CALL_ABORTED",
      zU = "DUPLICATE_AUX",
      No = {
        AVOID_REPEATED_CALL: function (e) {
          return "previous ".concat(
            e.name,
            "() is ongoing, please avoid repeated calls."
          );
        },
        INVALID_PARAMETER_REQUIRED: function (e) {
          var n = e.key,
            a = e.rule,
            c = e.fnName,
            o = e.value;
          return "'"
            .concat(n || a.name, "' is a required param when calling ")
            .concat(c, "(), received: ")
            .concat(o, ".");
        },
        INVALID_PARAMETER_TYPE: function (e) {
          var n = e.key,
            a = e.rule,
            c = e.fnName,
            o = e.value,
            l = "".concat(n || a.name),
            h = "";
          return (
            (h = Array.isArray(a.type) ? a.type.join("|") : a.type),
            "'"
              .concat(l, "' must be type of ")
              .concat(h, " when calling ")
              .concat(c, "(), received type: ")
              .concat(Vo(o), ".")
          );
        },
        INVALID_PARAMETER_EMPTY: function (e) {
          var n = e.key,
            a = e.rule,
            c = e.fnName,
            o = e.value;
          return "'"
            .concat(n || a.name, "' cannot be '")
            .concat(o, "' when calling ")
            .concat(c, "().");
        },
        INVALID_PARAMETER_INSTANCE: function (e) {
          var n = e.key,
            a = e.rule,
            c = e.fnName,
            o = e.value,
            l = "".concat(n || a.name),
            h = "".concat(a.instanceOf.name || a.instanceOf);
          return "'"
            .concat(l, "' must be instanceof ")
            .concat(h, " when calling ")
            .concat(c, "(), received type: ")
            .concat(Vo(o), ".");
        },
        INVALID_PARAMETER_RANGE: function (e) {
          var n = e.key,
            a = e.rule,
            c = e.fnName,
            o = e.value;
          return "'"
            .concat(n || a.name, "' must be one of ")
            .concat(a.values.join("|"), " when calling ")
            .concat(c, "(), received: ")
            .concat(o, ".");
        },
        API_CALL_TIMEOUT: function (e) {
          return "".concat(e.commandDesc || e.command, " timeout observed.");
        },
        SIGNAL_CHANNEL_RECONNECTION_FAILED:
          "signal channel reconnection failed, please check your network.",
        SIGNAL_CHANNEL_SETUP_FAILED: function (e) {
          return "SignalChannel setup failure: (errorCode: "
            .concat(e.errorCode, ", errorMsg: ")
            .concat(e.errorMsg, " }).");
        },
        ERROR_MESSAGE: function (e) {
          var n = "".concat(e.type, " failed");
          return (
            e.message && (n = "".concat(n, ": ").concat(e.message, ".")), n
          );
        },
        EXCHANGE_SDP_TIMEOUT: "exchange sdp timeout.",
        DOWNLINK_RECONNECTION_FAILED:
          "downlink reconnection failed, please check your network and re-join room.",
        EXCHANGE_SDP_FAILED: function (e) {
          return "exchange sdp failed ".concat(e.errMsg, ".");
        },
        UPDATE_OFFER_TIMEOUT: "update offer timeout observed.",
        UPLINK_RECONNECTION_FAILED:
          "uplink reconnection failed, please check your network and publish again.",
        INVALID_RECORDID: "recordId must be an integer number.",
        INVALID_PURE_AUDIO: "pureAudioPushMode must be 1 or 2.",
        INVALID_STREAMID:
          "streamId must be a sting literal within 64 bytes, and not be empty.",
        INVALID_USER_DEFINE_RECORDID:
          "userDefineRecordId must be a sting literal contains (a-zA-Z),(0-9), underline and hyphen, within 64 bytes, and not be empty.",
        INVALID_USER_DEFINE_PUSH_ARGS:
          "userDefinePushArgs must be a sting literal within 256 bytes, and not be empty.",
        INVALID_PROXY: 'proxy server url must start with "wss://".',
        INVALID_JOIN: "duplicate join() called.",
        INVALID_ROOMID_STRING: function (e) {
          return "'".concat(
            e,
            "' must be validate string when useStringRoomId is true."
          );
        },
        INVALID_ROOMID_INTEGER: function (e) {
          return "'".concat(
            e,
            "' must be an integer between [1, 4294967294] when useStringRoomId is false."
          );
        },
        INVALID_SIGNAL_CHANNEL: "SignalChannel is not ready yet.",
        JOIN_ROOM_TIMEOUT: "join room timeout.",
        JOIN_ROOM_FAILED: function (e) {
          var n = e.error,
            a = e.code;
          return "Failed to join room - ".concat(n, " code: ").concat(a);
        },
        REJOIN_ROOM_FAILED: function (e) {
          return "reJoin room: ".concat(
            e.roomId,
            " failed, please check your network."
          );
        },
        INVALID_DESTROY: "please call leave() before destroy().",
        INVALID_PUBLISH: "please call join() before publish().",
        INVALID_UNPUBLISH: "stream has not been published yet.",
        INVALID_AUDIENCE: "no permission to publish() under live/"
          .concat(Gs, ', please call switchRole("')
          .concat(ca, '") firstly before publish().'),
        INVALID_INITIALIZE:
          "cannot publish stream because stream is not initialized, is switching device, or has been closed.",
        INVALID_DUPLICATE_PUBLISHING: function (e) {
          return "duplicate "
            .concat(e, " stream publishing, please unpublish your prev ")
            .concat(e, " stream and then re-publish.");
        },
        INVALID_SUBSCRIBE_UNDEFINED: "stream is undefined or null.",
        INVALID_SUBSCRIBE_LOCAL: "stream cannot be LocalStream.",
        INVALID_REMOTE_STREAM:
          "remoteStream does not exist because it has been unpublished by remote peer.",
        SUBSCRIBE_FAILED: function (e) {
          var n = e.message,
            a = e.stream;
          return "failed to subscribe "
            .concat(a.getUserId(), " ")
            .concat(a.getType(), " stream, reason: ")
            .concat(n, ".");
        },
        INVALID_ROLE: "switchRole can only be called in live mode.",
        INVALID_PARAMETER_SWITCH_ROLE: "role could only be set to a value as "
          .concat(ca, " or ")
          .concat(Gs, "."),
        INVALID_OPERATION_SWITCH_ROLE:
          "please call join() before switchRole().",
        SWITCH_ROLE_TIMEOUT: "switchRole timeout.",
        SWITCH_ROLE_FAILED: function (e) {
          return "switchRole failed, errCode: "
            .concat(e.code, " errMsg: ")
            .concat(e.message, ".");
        },
        CLIENT_BANNED: function (e) {
          return "client was banned because of " + e.message + ".";
        },
        INVALID_OPERATION_START_PUBLISH_CDN:
          "please call startPublishCDNStream() before client join the room or after client join the room and successfully publish the local stream.",
        INVALID_OPERATION_STOP_PUBLISH_CDN:
          "please call startPublishCDNStream() before stopPublishCDNStream().",
        START_PUBLISH_CDN_FAILED: function (e) {
          return "startPublishCDNStream failed, errMsg: ".concat(
            e.message,
            "."
          );
        },
        STOP_PUBLISH_CDN_FAILED: function (e) {
          return "stopPublishCDNStream failed, errMsg: ".concat(e.message, ".");
        },
        INVALID_STREAM_ID: function (e) {
          return "'".concat(
            e,
            "' can only consist of uppercase and lowercase english letters (a-zA-Z), numbers (0-9), hyphens and underscores."
          );
        },
        START_MIX_TRANSCODE: "please call startMixTranscode() after join().",
        STOP_MIX_TRANSCODE:
          "please call stopMixTranscode() after startMixTranscode().",
        INVALID_AUDIO_VOLUME: "interval must be a number.",
        ENABLE_SMALL_STREAM_PUBLISHED:
          "Cannot enable small stream after localStream published.",
        DISABLE_SMALL_STREAM_PUBLISHED:
          "Cannot disable small stream after localStream published.",
        NOT_SUPPORTED_SMALL_STREAM:
          "your browser does not support opening small stream.",
        INVALID_SMALL_STREAM_PROFILE: "small stream profile is invalid.",
        INVALID_PARAMETER_REMOTE_STREAM: "remoteStream is invalid.",
        INVALID_OPERATION_CHANGE_SMALL:
          "cannot switch to the small stream without subscribing to the video of remoteStream.",
        REMOTE_NOT_PUBLISH_SMALL_STREAM:
          "remote peer does not publish small stream.",
        INVALID_SWITCH_DEVICE: "cannot switch device on current stream.",
        INVALID_SWITCH_DEVICE_PUBLISHING:
          "cannot switch device when publishing localStream.",
        INVALID_REPLACE_TRACK:
          "cannot replace track when publishing localStream.",
        INVALID_INITIALIZE_LOCAL_STREAM:
          "local stream has not initialized yet.",
        INVALID_ADD_TRACK_REPETITIVE:
          "previous addTrack is ongoing, please avoid repetitive execution.",
        INVALID_ADD_TRACK_REMOVING:
          "cannot add track when a track is removing.",
        INVALID_ADD_TRACK_PUBLISHING:
          "cannot add track when publishing localStream.",
        INVALID_STREAM_INITIALIZED:
          "your local stream haven't been initialized yet.",
        INVALID_ADD_TRACK_NUMBER:
          "a Stream has at most one audio track and one video track.",
        INVALID_REMOVE_AUDIO_TRACK:
          "remove audio track is not supported on your browser.",
        INVALID_REMOVE_AUDIO_ADDING:
          "cannot remove track when a track is adding.",
        INVALID_REMOVE_AUDIO_ON:
          "previous removeTrack is ongoing, please avoid repetitive execution.",
        INVALID_REMOVE_TRACK_PUBLISHING:
          "cannot remove track when publishing localStream.",
        INVALID_REMOVE_TRACK_NOT_PUBLISHING:
          "the track to be removed is not being publishing.",
        INVALID_REMOVE_TRACK_NUMBER:
          "remove the only video track is not supported, please use replaceTrack or muteVideo.",
        INVALID_REPLACE_TRACK_NO_TRACK: function (e) {
          return "cannot replace "
            .concat(e.kind, " track because stream has not ")
            .concat(e.kind, " track");
        },
        START_MIX_TRANSCODE_FAILED: function (e) {
          return "startMixTranscode failed, errMsg: ".concat(e.message, ".");
        },
        STOP_MIX_TRANSCODE_FAILED: function (e) {
          return "stopMixTranscode failed, errMsg: ".concat(e.message, ".");
        },
        MIX_TRANSCODE_NOT_STARTED: "mixTranscode has not been started.",
        CANNOT_LESS_THAN_ZERO: function (e) {
          var n = e.key,
            a = e.rule,
            c = e.fnName;
          return (
            e.value,
            "'"
              .concat(n || a.name, "' cannot be less than 0 when calling ")
              .concat(c, "().")
          );
        },
        MIX_PARAMS_VIDEO_FRAMERATE:
          "'config.videoFramerate' should be an integer between 0 and 30, excluding 0.",
        MIX_PARAMS_VIDEO_GOP:
          "'config.videoGOP' should be an integer between 1 and 8.",
        MIX_PARAMS_AUDIO_BITRATE:
          "'config.audioBitrate' should be an integer between 32 and 192.",
        MIX_PARAMS_USER_Z_ORDER: function (e) {
          return "'".concat(e, "' is required and must be between 1 and 15.");
        },
        MIX_PARAMS_NOT_SELF: "'config.mixUsers' must contain self.",
        MIX_PARAMS_USER_STREAM:
          "'config.videoWidth' and 'config.videoHeight' of output stream should be contain all mix stream.",
        INVALID_PLAY: "duplicate play() call observed, please stop() firstly.",
        INVALID_ELEMENT_ID: function (e) {
          var n = e.key,
            a = e.fnName;
          return "'"
            .concat(n, "' is not found in the document object when calling ")
            .concat(a, "().");
        },
        INVALID_ELEMENT_ID_TYPE: function (e) {
          var n = e.key,
            a = e.fnName,
            c = e.type;
          return "the element corresponding to '"
            .concat(n, "' must be instanceof HTMLDivElement when calling ")
            .concat(a, "(), received: ")
            .concat(c, ".");
        },
        PLAY_FAILED: function (e) {
          return ""
            .concat(e.media, " play failedbrowser exception: ")
            .concat(e.error.toString());
        },
        INVALID_USERID: "userId cannot be all spaces.",
        INVALID_CREATE_STREAM_SOURCE:
          "LocalStream must be created by createStream() with either audio/video or audioSource/videoSource, but can not be mixed with audio/video and audioSource/videoSource.",
        INVALID_CREATE_STREAM_SCREEN: "screen/video cannot be both true.",
        INVALID_CREATE_STREAM_AUDIO: "audio/screenAudio cannot be both true.",
        INVALID_CREATE_STREAM_SCREEN_AUDIO:
          "when screen is true, screenAudio can be configured.",
        NOT_SUPPORTED_HTTP:
          "http protocol does not support the ability to capture and publish streams, please use the https protocol.",
        NOT_SUPPORTED_WEBRTC:
          "your browser or environment does not support full WebRTC capabilities.",
        NOT_SUPPORTED_PROFILE: "your browser does not support setVideoProfile.",
        NOT_SUPPORTED_MEDIA:
          "your browser or environment does not support navigator.mediaDevices.",
        NOT_SUPPORTED_H264ENCODE:
          "your device does not support H.264 encoding.",
        NOT_SUPPORTED_H264DECODE:
          "your device does not support H.264 decoding.",
        NOT_SUPPORTED_TRACK: function (e) {
          return "".concat(e, "Track is not supported on your browser.");
        },
        NOT_SUPPORTED_SWITCH_DEVICE:
          "switchDevice is not supported on your browser.",
        NOT_SUPPORTED_CAPTURE:
          "Your browser or environment does not support screen sharing, please check whether the browser version.",
        MICROPHONE_NOT_FOUND:
          "no microphone detected, please check your microphone and the configuration on TRTC.createStream.",
        CAMERA_NOT_FOUND:
          "no camera detected, please check your camera and the configuration on TRTC.createStream.",
        SIGNAL_RESPONSE_FAILED: function (e) {
          return ""
            .concat(e.signalResponse, " failed, response code is ")
            .concat(e.code, " , errMsg: ")
            .concat(e.message, ".");
        },
        CATCH_HANDLER_ERROR: function (e) {
          var n = e.name,
            a = e.event;
          return "an error was caught on "
            .concat(n, ".on('")
            .concat(a, "', handler), please check your code on 'handler'.");
        },
        API_NOT_EXIST: function (e) {
          var n = e.name;
          return "experimental api ".concat(n, " does not exist.");
        },
        REPEAT_JOIN: function (e) {
          return "[".concat(
            e,
            "] is calling client.join api or has already joined room, please avoid repeated join."
          );
        },
        CONNECTION_CLOSED:
          "remoteStream has been unsubscribed or unpublished by remote user.",
        SUBSCRIBE_ALL_FALSE:
          "cannot subscribe when both audio & video are false, use client.unsubscribe() instead",
        CLIENT_DESTROYED: function (e) {
          var n = e.funName;
          return "failed to call ".concat(
            n,
            "() because client was destroyed."
          );
        },
        SEI_NOT_SUPPORT: function (e) {
          return "not support to sendSEIMessage".concat(
            e === !1 ? " without using h264 codec" : ""
          );
        },
        SEI_DISABLED:
          "SEI is disabled, to enable SEI: TRTC.createClient({ enableSEI: true })",
        SEI_EMPTY: "buffer cannot be empty",
        SEI_OVERSIZE: function (e) {
          return "buffer size(".concat(e, ") is over 1000 Bytes");
        },
        SEI_BEFORE_PUBLISH:
          "please call sendSEIMessage() after publish() success",
        SEI_NOT_VIDEO: "cannot send sei when localStream has not video.",
        CALL_FREQUENCY_LIMIT: function (e) {
          var n = e.isSize,
            a = e.name,
            c = e.timesInSecond,
            o = e.maxSizeInSecond;
          return "api "
            .concat(a, " call ")
            .concat(n ? "size" : "times", " is over ")
            .concat(n ? o + " bytes" : c, " in a second.");
        },
        CONNECTION_ABORTED: function (e) {
          return "connection aborted due to: " + e;
        },
        API_CALL_ABORTED: function (e) {
          return e.message.includes("REMOTE_STREAM_NOT_EXIST")
            ? "Subscribe "
                .concat(e.stream.getUserId(), " ")
                .concat(
                  e.stream.getType(),
                  " stream aborted, reason: remote user "
                )
                .concat(e.stream.getUserId(), " unpublished stream.")
            : "API aborted, reason: ".concat(e.message);
        },
        DUPLICATE_AUX: "only one auxiliary stream can be published in a room.",
        NOT_SUPPORTED_AUX:
          "publish auxiliary stream is not supported on your browser.",
      },
      fE = Xe,
      WU = et,
      GU = qn,
      qU = up.trim,
      KU = Qe("".charAt),
      Ap = fE.parseFloat,
      pE = fE.Symbol,
      vE = pE && pE.iterator,
      mE =
        1 /
          Ap(`	
\v\f\r \u2028\u2029\uFEFF-0`) !=
          -1 / 0 ||
        (vE &&
          !WU(function () {
            Ap(Object(vE));
          }))
          ? function (s) {
              var e = qU(GU(s)),
                n = Ap(e);
              return n === 0 && KU(e, 0) == "-" ? -0 : n;
            }
          : Ap;
    Tt({ global: !0, forced: parseFloat != mE }, { parseFloat: mE });
    var yt = (window.navigator && window.navigator.userAgent) || "",
      gE = /AppleWebKit\/([\d.]+)/i.exec(yt);
    gE && parseFloat(gE.pop());
    var Ny = /iPad/i.test(yt),
      _E =
        navigator.maxTouchPoints &&
        navigator.maxTouchPoints > 2 &&
        /Macintosh/.test(yt),
      Ly = /iPhone/i.test(yt) && !Ny,
      JU = /iPod/i.test(yt),
      Lo = Ly || Ny || JU || _E,
      Cc = /Android/i.test(yt);
    Cc &&
      (function () {
        var s = yt.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);
        if (!s) return null;
        var e = s[1] && parseFloat(s[1]),
          n = s[2] && parseFloat(s[2]);
        e && n && parseFloat(s[1] + "." + s[2]);
      })();
    var ri = /Firefox/i.test(yt),
      yE =
        ri &&
        (function () {
          var s = yt.match(/Firefox\/(\d+)/);
          return s && s[1] ? parseFloat(s[1]) : null;
        })(),
      xp = /Edge\//i.test(yt),
      $U =
        xp &&
        (function () {
          var s = yt.match(/Edge\/(\d+)/i);
          if (s && s[1]) return s[1];
        })(),
      Pp = /Edg\//i.test(yt),
      bE =
        Pp &&
        (function () {
          var s = yt.match(/Edg\/(\d+)/);
          return s && s[1] ? parseFloat(s[1]) : null;
        })(),
      My = /SogouMobileBrowser\//i.test(yt),
      YU =
        My &&
        (function () {
          var s = yt.match(/SogouMobileBrowser\/(\d+)/);
          return s && s[1] ? parseFloat(s[1]) : null;
        })(),
      Uy = /MetaSr\s/i.test(yt),
      ZU =
        Uy &&
        (function () {
          var s = yt.match(/MetaSr(\s\d+(\.\d+)+)/);
          return s && s[1] ? parseFloat(s[1]) : null;
        })(),
      za = /TBS\/\d+/i.test(yt),
      QU =
        za &&
        (function () {
          var s = yt.match(/TBS\/(\d+)/i);
          if (s && s[1]) return s[1];
        })(),
      Vy = /XWEB\/\d+/i.test(yt),
      XU =
        Vy &&
        (function () {
          var s = yt.match(/XWEB\/(\d+)/i);
          if (s && s[1]) return s[1];
        })();
    /MSIE\/\d+/i.test(yt) &&
      (function () {
        var s = /MSIE\s(\d+)\.\d/.exec(yt);
        s && parseFloat(s[1]);
      })();
    var Fy = /(micromessenger|webbrowser)/i.test(yt),
      eV =
        Fy &&
        (function () {
          var s = yt.match(/MicroMessenger\/(\d+)/i);
          if (s && s[1]) return s[1];
        })(),
      jy = !za && /MQQBrowser\/\d+/i.test(yt) && /COVC\/\d+/i.test(yt),
      By = !za && /MQQBrowser\/\d+/i.test(yt) && !/COVC\/\d+/i.test(yt),
      SE =
        (By || jy) &&
        (function () {
          var s = yt.match(/ MQQBrowser\/([\d.]+)/);
          return s && s[1] ? s[1] : null;
        })(),
      Hy = !za && / QQBrowser\/\d+/i.test(yt),
      tV =
        Hy &&
        (function () {
          var s = yt.match(/ QQBrowser\/([\d.]+)/);
          return s && s[1] ? s[1] : null;
        })(),
      zy = !za && /QQBrowserLite\/\d+/i.test(yt),
      nV =
        zy &&
        (function () {
          var s = yt.match(/QQBrowserLite\/([\d.]+)/);
          return s && s[1] ? s[1] : null;
        })(),
      Wy = !za && /MQBHD\/\d+/i.test(yt),
      rV =
        Wy &&
        (function () {
          var s = yt.match(/MQBHD\/([\d.]+)/);
          return s && s[1] ? s[1] : null;
        })(),
      wE = /Windows/i.test(yt),
      jd = !Lo && /MAC OS X/i.test(yt),
      kE = !Cc && /Linux/i.test(yt),
      iV = /UCBrowser/i.test(yt),
      TE,
      Op,
      Gy = /MiuiBrowser/i.test(yt),
      aV =
        Gy &&
        (function () {
          var s = yt.match(/MiuiBrowser\/([\d.]+)/);
          return s && s[1] ? s[1] : null;
        })(),
      qy = /HuaweiBrowser/i.test(yt),
      Ky = /Huawei/i.test(yt),
      oV =
        qy &&
        (function () {
          var s = yt.match(/HuaweiBrowser\/([\d.]+)/);
          return s && s[1] ? s[1] : null;
        })(),
      Jy = /SamsungBrowser/i.test(yt),
      sV =
        Jy &&
        (function () {
          var s = yt.match(/SamsungBrowser\/([\d.]+)/);
          return s && s[1] ? s[1] : null;
        })(),
      Dp = /HeyTapBrowser/i.test(yt),
      uV =
        Dp &&
        (function () {
          var s = yt.match(/HeyTapBrowser\/([\d.]+)/);
          return s && s[1] ? s[1] : null;
        })(),
      Np = /VivoBrowser/i.test(yt),
      cV =
        Np &&
        (function () {
          var s = yt.match(/VivoBrowser\/([\d.]+)/);
          return s && s[1] ? s[1] : null;
        })(),
      Ac = function () {
        var e = yt.match(/Chrome\/(\d+)/);
        return e && e[1] ? Number(e[1]) : null;
      },
      lV = /Chrome/i.test(yt),
      Lp =
        !xp &&
        !Uy &&
        !My &&
        !za &&
        !Vy &&
        !Pp &&
        !Hy &&
        !Gy &&
        !qy &&
        !Jy &&
        !Dp &&
        !Np &&
        /Chrome/i.test(yt),
      $y = Lp && Ac(),
      dV =
        Lp &&
        (function () {
          var s = yt.match(/Chrome\/([\d.]+)/);
          return s && s[1] ? s[1] : null;
        })(),
      Ks = !lV && !By && !jy && !zy && !Wy && /Safari/i.test(yt),
      Yy = (function () {
        if (Ks) {
          var s = yt.match(/Version\/([\d.]+)/);
          if (s && s[1]) return s[1];
        }
        return "";
      })(),
      hV = /Android.*(wv|.0.0.0)/.test(yt),
      Mo = (function () {
        if (_E) return Yy;
        if (Lo) {
          var s = yt.match(/OS (\d+)_(\d+)/i);
          if (s && s[1]) {
            var e = s[1];
            return s[2] && (e += ".".concat(s[2])), e;
          }
        }
        return "";
      })(),
      EE = Number(Mo.split(".")[0]),
      Mp = Yy === "15.1",
      Up = Mo === "15.1",
      fV = (TE = Number(Mo.split(".")[0])) === 14 || TE === 13,
      Js =
        location.protocol === "file:" ||
        location.hostname === "localhost" ||
        location.hostname === "127.0.0.1",
      $s = function () {
        if (rt(Op))
          try {
            Op = window.localStorage;
          } catch (e) {
            it.warn(e), (Op = !1);
          }
        return Op;
      },
      Zy = /* @__PURE__ */ new Map([
        [ri, ["Firefox", yE]],
        [Pp, ["Edg", bE]],
        [Lp, ["Chrome", dV]],
        [Ks, ["Safari", Yy]],
        [za, ["TBS", QU]],
        [Vy, ["XWEB", XU]],
        [Fy && Ly, ["WeChat", eV]],
        [Hy, ["QQ(Win)", tV]],
        [By, ["QQ(Mobile)", SE]],
        [jy, ["QQ(Mobile X5)", SE]],
        [zy, ["QQ(Mac)", nV]],
        [Wy, ["QQ(iPad)", rV]],
        [Gy, ["MI", aV]],
        [qy, ["HW", oV]],
        [Jy, ["Samsung", sV]],
        [Dp, ["OPPO", uV]],
        [Np, ["VIVO", cV]],
        [xp, ["EDGE", $U]],
        [My, ["SogouMobile", YU]],
        [Uy, ["Sogou", ZU]],
      ]);
    function Ys() {
      var s = "unknown",
        e = "unknown";
      return (
        Zy.get(!0) && ((s = Zy.get(!0)[0]), (e = Zy.get(!0)[1])),
        { name: s, version: e }
      );
    }
    var IE = function (e, n) {
        return n ? Ic + "/" + e + "/" + n : Ic + "/" + e + "/index.html";
      },
      pV = function () {
        if (!$s()) return !1;
        var e = localStorage.getItem(Ry);
        (e &&
          !(function (n) {
            var a =
                n.saveTime &&
                /* @__PURE__ */ new Date().getTime() - n.saveTime >= jT,
              c = !n.saveVersion || n.saveVersion !== Xi;
            return a || c;
          })(JSON.parse(e))) ||
          (it.info("init debug info"),
          (function () {
            var n = new XMLHttpRequest();
            if (
              (n.open(
                "GET",
                "https://web.sdk.qcloud.com/trtc/webrtc/download/error-message/0.0.3/script.js",
                !1
              ),
              n.send(null),
              n.readyState === 4 && n.status === 200)
            ) {
              var a = document.createElement("script");
              (a.type = "text/javascript"),
                (a.text = n.responseText),
                document.body.appendChild(a),
                localStorage.setItem(
                  Ry,
                  JSON.stringify({
                    message: n.responseText,
                    saveTime: /* @__PURE__ */ new Date().getTime(),
                    saveVersion: Xi,
                  })
                ),
                document.body.removeChild(a);
            }
          })());
      };
    function Le(s) {
      var e = s.key,
        n = s.data,
        a = s.link,
        c = s.addDocLink,
        o = c === void 0 || c,
        l = "",
        h = "",
        p = "";
      gr(No[e]) ? (l = No[e](n)) : zn(No[e]) && (l = No[e]);
      var g = (function () {
          if (window.TRTC_ERROR_INFO && window.TRTC_ERROR_LINK)
            return {
              TRTC_ERROR_INFO: window.TRTC_ERROR_INFO,
              TRTC_ERROR_LINK: window.TRTC_ERROR_LINK,
            };
          var N = localStorage.getItem(Ry);
          if (N) {
            N = JSON.parse(N);
            var B = document.createElement("script");
            (B.type = "text/javascript"),
              (B.text = N.message),
              document.body.appendChild(B);
            var F = window.TRTC_ERROR_INFO,
              U = window.TRTC_ERROR_LINK;
            return (
              document.body.removeChild(B),
              { TRTC_ERROR_INFO: F, TRTC_ERROR_LINK: U }
            );
          }
          return {};
        })(),
        _ = g.TRTC_ERROR_INFO,
        b = g.TRTC_ERROR_LINK;
      a
        ? (p = "".concat(a.className, ".html#").concat(a.fnName))
        : b && b[e] && (gr(b[e]) ? (p = b[e](n)) : zn(b[e]) && (p = b[e]));
      var R = l;
      return (
        Zs() &&
          (_ && _[e] && (gr(_[e]) ? (h = _[e](n)) : zn(_[e]) && (h = _[e])),
          h &&
            ((R = o
              ? h +
                `
: ` +
                IE("zh-cn", p) +
                `

`
              : h +
                `

`),
            (R += l))),
        o &&
          (R +=
            ` 
Refer to: ` +
            IE("en", p) +
            `
`),
        R
      );
    }
    var RE = function () {
        return (function (e) {
          var n = window.location.search.match(
            new RegExp("(\\?|&)" + e + "=([^&]*)(&|$)")
          );
          return n ? decodeURIComponent(n[2]) : "";
        })("trtc_env");
      },
      CE = function (e) {
        return (e = Number(e)) > 0 && e < 14e8;
      },
      Vp = function (e, n) {
        var a;
        a = Nd
          ? Nd.includes("http")
            ? Nd
            : "https://" + Nd
          : CE(e)
          ? "https://apisgp.my-imcloud.com"
          : "https://yun.tim.qq.com";
        var c = Math.floor(Math.random() * Math.pow(2, 31));
        return ""
          .concat(a, "/v5/AVQualityReportSvc/C2S?random=")
          .concat(c, "&sdkappid=")
          .concat(e, "&cmdtype=")
          .concat(n);
      };
    function Qy() {
      var s = navigator.userAgent,
        e = navigator.connection,
        n = s.match(/NetType\/\w+/) ? s.match(/NetType\/\w+/)[0] : "";
      (n = n.toLowerCase().replace("nettype/", "")) === "3gnet" && (n = "3g");
      var a = e && e.type && e.type.toLowerCase(),
        c = e && e.effectiveType && e.effectiveType.toLowerCase();
      c === "slow-2" && (c = "2g");
      var o = n || "unknown";
      if (a)
        switch (a) {
          case "cellular":
          case "wimax":
            o = c || "unknown";
            break;
          case "wifi":
            o = "wifi";
            break;
          case "ethernet":
            o = "wired";
            break;
          case "none":
          case "other":
          case "unknown":
            o = "unknown";
        }
      return o;
    }
    var Uo = function (e) {
      if (
        !e ||
        E(e) !== "object" ||
        Object.prototype.toString.call(e) != "[object Object]"
      )
        return !1;
      var n = Object.getPrototypeOf(e);
      if (n === null) return !0;
      var a =
        Object.prototype.hasOwnProperty.call(n, "constructor") && n.constructor;
      return (
        typeof a == "function" &&
        a instanceof a &&
        Function.prototype.toString.call(a) ===
          Function.prototype.toString.call(Object)
      );
    };
    function Fp(s) {
      var e =
          arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1,
        n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1;
      return s <= 1 ? n : Fp(s - 1, n, e + n);
    }
    function Xy(s) {
      var e = Math.round(s / 2) + 1;
      return e > 6 ? 13e3 : 1e3 * Fp(e);
    }
    var gr = function (e) {
        return typeof e == "function";
      },
      rt = function (e) {
        return e === void 0;
      },
      zn = function (e) {
        return typeof e == "string";
      },
      Ri = function (e) {
        return typeof e == "number";
      },
      Ci = function (e) {
        return typeof e == "boolean";
      },
      AE = function (e) {
        return Vo(e) === "object";
      },
      xc = function (e) {
        return Vo(e) === "array";
      },
      xE = function (e) {
        return Vo(e) === "MediaStreamTrack".toLowerCase();
      };
    function Vo(s) {
      return Reflect.apply(Object.prototype.toString, s, [])
        .replace(/^\[object\s(\w+)\]$/, "$1")
        .toLowerCase();
    }
    function PE(s) {
      var e = {};
      return (
        (e.urls = "turn:".concat(s.url)),
        rt(s.username) ||
          rt(s.credential) ||
          ((e.username = s.username),
          (e.credential = s.credential),
          (e.credentialType = "password"),
          rt(s.credentialType) || (e.credentialType = s.credentialType)),
        e
      );
    }
    function En() {
      return performance && performance.now
        ? Math.floor(performance.now())
        : Date.now();
    }
    function e0(s) {
      var e =
        arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "big";
      if (!zn(s)) return 0;
      var n = s.split(".");
      return e === "big"
        ? ((Number(n[0]) << 24) |
            (Number(n[1]) << 16) |
            (Number(n[2]) << 8) |
            Number(n[3])) >>>
            0
        : ((Number(n[3]) << 24) |
            (Number(n[2]) << 16) |
            (Number(n[1]) << 8) |
            Number(n[0])) >>>
            0;
    }
    var t0,
      n0,
      Zs = function () {
        var e = navigator.language || navigator.userLanguage;
        return (e = e.substr(0, 2)) === "zh";
      },
      OE =
        ((t0 = !1),
        (n0 = document.visibilityState),
        function () {
          document.visibilityState !== n0 &&
            it.info("visibility change: ".concat(document.visibilityState)),
            t0 ||
              (document.addEventListener("visibilitychange", function () {
                it.info("visibility change: " + document.visibilityState),
                  (n0 = document.visibilityState);
              }),
              (t0 = !0));
        });
    window.AudioContext =
      window.AudioContext ||
      window.webkitAudioContext ||
      window.mozAudioContext;
    var DE = function () {
        return new window.AudioContext();
      },
      NE = (function () {
        var s;
        return function () {
          return (
            s ||
            ((s = new window.AudioContext()),
            (s.onstatechange = function () {
              it.info("gain context state: ".concat(s.state)),
                s.state === "suspended"
                  ? (s.resume(), document.addEventListener("click", s.resume))
                  : s.state === "interrupted"
                  ? s.resume()
                  : document.removeEventListener("click", s.resume);
            }),
            s)
          );
        };
      })(),
      vV = !!window.AudioWorkletNode,
      LE = function (e, n) {
        var a = e.emit;
        return (
          (e.emit = function () {
            for (var c = arguments.length, o = new Array(c), l = 0; l < c; l++)
              o[l] = arguments[l];
            try {
              a.apply(e, o);
            } catch (p) {
              var h = Le({
                key: OU,
                data: { name: n, event: o[0] },
                addDocLink: !1,
              });
              it.warn(
                h +
                  `

` +
                  p.stack
              );
            }
          }),
          e
        );
      },
      ME = function (e) {
        return +e < 10 ? "0".concat(e) : e;
      },
      mV = function (e) {
        var n = e.match(/^\d+\.\d+\.\d+/)[0];
        if (!n) return e;
        var a = n.split("."),
          c = ME(a[1]) + ME(a[2]);
        return (
          a[1] - 15 > 0 && (a[1] = "15"),
          a[2] - 15 > 0 && (a[2] = "15"),
          a.join(".") + "." + c
        );
      };
    function Pc(s, e) {
      try {
        if (xc(s))
          return "[".concat(
            s
              .map(function (c) {
                return Pc(c, e);
              })
              .join(","),
            "]"
          );
        if (!Uo(s) || !xc(e)) return JSON.stringify(s);
        var n = {},
          a = new Set(e);
        return (
          Object.keys(s).forEach(function (c) {
            a.has(c) && (n[c] = s[c]);
          }),
          JSON.stringify(n)
        );
      } catch (c) {
        return "{}";
      }
    }
    function jp(s) {
      var e = s.url,
        n = s.body,
        a = s.method,
        c = s.timeout,
        o = new XMLHttpRequest();
      return new Promise(function (l, h) {
        o.onload = function (g) {
          if (o.status >= 200 && o.status < 300 && o.responseText.length > 0)
            try {
              var _ = JSON.parse(o.response);
              l({ data: _ });
            } catch (b) {
              l({ data: o.response });
            }
          else
            o.status > 0 &&
              h({
                code: o.status,
                message: "request failed, readyState:"
                  .concat(o.readyState, " status:")
                  .concat(o.status, " loaded size:")
                  .concat(g.loaded),
              });
        };
        var p = function (_) {
          h({
            code: o.readyState,
            message: "request "
              .concat(_.type, ", readyState:")
              .concat(o.readyState, " status:")
              .concat(o.status, " loaded size:")
              .concat(_.loaded),
          });
        };
        (o.onerror = p),
          (o.onabort = p),
          (o.ontimeout = p),
          (o.timeout = c || 5e3),
          o.open(a || "POST", e, !0),
          o.send(n);
      });
    }
    var UE = { exports: {} };
    (function (s) {
      var e = Object.prototype.hasOwnProperty,
        n = "~";
      function a() {}
      function c(p, g, _) {
        (this.fn = p), (this.context = g), (this.once = _ || !1);
      }
      function o(p, g, _, b, R) {
        if (typeof _ != "function")
          throw new TypeError("The listener must be a function");
        var N = new c(_, b || p, R),
          B = n ? n + g : g;
        return (
          p._events[B]
            ? p._events[B].fn
              ? (p._events[B] = [p._events[B], N])
              : p._events[B].push(N)
            : ((p._events[B] = N), p._eventsCount++),
          p
        );
      }
      function l(p, g) {
        --p._eventsCount == 0 ? (p._events = new a()) : delete p._events[g];
      }
      function h() {
        (this._events = new a()), (this._eventsCount = 0);
      }
      Object.create &&
        ((a.prototype = /* @__PURE__ */ Object.create(null)),
        new a().__proto__ || (n = !1)),
        (h.prototype.eventNames = function () {
          var p,
            g,
            _ = [];
          if (this._eventsCount === 0) return _;
          for (g in (p = this._events))
            e.call(p, g) && _.push(n ? g.slice(1) : g);
          return Object.getOwnPropertySymbols
            ? _.concat(Object.getOwnPropertySymbols(p))
            : _;
        }),
        (h.prototype.listeners = function (p) {
          var g = n ? n + p : p,
            _ = this._events[g];
          if (!_) return [];
          if (_.fn) return [_.fn];
          for (var b = 0, R = _.length, N = new Array(R); b < R; b++)
            N[b] = _[b].fn;
          return N;
        }),
        (h.prototype.listenerCount = function (p) {
          var g = n ? n + p : p,
            _ = this._events[g];
          return _ ? (_.fn ? 1 : _.length) : 0;
        }),
        (h.prototype.emit = function (p, g, _, b, R, N) {
          var B = n ? n + p : p;
          if (!this._events[B]) return !1;
          var F,
            U,
            T = this._events[B],
            A = arguments.length;
          if (T.fn) {
            switch ((T.once && this.removeListener(p, T.fn, void 0, !0), A)) {
              case 1:
                return T.fn.call(T.context), !0;
              case 2:
                return T.fn.call(T.context, g), !0;
              case 3:
                return T.fn.call(T.context, g, _), !0;
              case 4:
                return T.fn.call(T.context, g, _, b), !0;
              case 5:
                return T.fn.call(T.context, g, _, b, R), !0;
              case 6:
                return T.fn.call(T.context, g, _, b, R, N), !0;
            }
            for (U = 1, F = new Array(A - 1); U < A; U++)
              F[U - 1] = arguments[U];
            T.fn.apply(T.context, F);
          } else {
            var L,
              $ = T.length;
            for (U = 0; U < $; U++)
              switch (
                (T[U].once && this.removeListener(p, T[U].fn, void 0, !0), A)
              ) {
                case 1:
                  T[U].fn.call(T[U].context);
                  break;
                case 2:
                  T[U].fn.call(T[U].context, g);
                  break;
                case 3:
                  T[U].fn.call(T[U].context, g, _);
                  break;
                case 4:
                  T[U].fn.call(T[U].context, g, _, b);
                  break;
                default:
                  if (!F)
                    for (L = 1, F = new Array(A - 1); L < A; L++)
                      F[L - 1] = arguments[L];
                  T[U].fn.apply(T[U].context, F);
              }
          }
          return !0;
        }),
        (h.prototype.on = function (p, g, _) {
          return o(this, p, g, _, !1);
        }),
        (h.prototype.once = function (p, g, _) {
          return o(this, p, g, _, !0);
        }),
        (h.prototype.removeListener = function (p, g, _, b) {
          var R = n ? n + p : p;
          if (!this._events[R]) return this;
          if (!g) return l(this, R), this;
          var N = this._events[R];
          if (N.fn)
            N.fn !== g ||
              (b && !N.once) ||
              (_ && N.context !== _) ||
              l(this, R);
          else {
            for (var B = 0, F = [], U = N.length; B < U; B++)
              (N[B].fn !== g ||
                (b && !N[B].once) ||
                (_ && N[B].context !== _)) &&
                F.push(N[B]);
            F.length
              ? (this._events[R] = F.length === 1 ? F[0] : F)
              : l(this, R);
          }
          return this;
        }),
        (h.prototype.removeAllListeners = function (p) {
          var g;
          return (
            p
              ? ((g = n ? n + p : p), this._events[g] && l(this, g))
              : ((this._events = new a()), (this._eventsCount = 0)),
            this
          );
        }),
        (h.prototype.off = h.prototype.removeListener),
        (h.prototype.addListener = h.prototype.on),
        (h.prefixed = n),
        (h.EventEmitter = h),
        (s.exports = h);
    })(UE);
    var Fo = UE.exports,
      ye = new Fo(),
      Bp = 1,
      r0 = 2,
      i0 = 3,
      Oc = 4,
      Qs = 5,
      a0 = 20,
      o0 = 21,
      Dc = 22,
      s0 = 23,
      u0 = 24,
      c0 = 27,
      l0 = 28,
      Hp = 29,
      VE = 30,
      FE = 31,
      d0 = 32,
      h0 = 33,
      jE = 40,
      gV = 41,
      _V = 52,
      yV = 100,
      BE = 101,
      Bd = 102,
      f0 = 103,
      ii = 110,
      zp = 111,
      p0 = 112,
      Wa = 113,
      Ga = 114,
      bV = 115,
      Xs = 116,
      SV = 120,
      v0 = 121,
      m0 = 122,
      g0 = 123,
      Hd = 130,
      _0 = 131,
      y0 = 132,
      b0 = 133,
      S0 = 134,
      w0 = 135,
      k0 = 136,
      T0 = 137,
      Wp = 200,
      E0 = 201,
      I0 = 300,
      zd = 301,
      R0 = 302,
      C0 = 303;
    function Wd(s) {
      var e = s.retryFunction,
        n = s.settings,
        a = s.onError,
        c = s.onRetrying,
        o = s.onRetryFailed,
        l = s.onRetrySuccess,
        h = s.context;
      return function () {
        for (
          var p = this, g = arguments.length, _ = new Array(g), b = 0;
          b < g;
          b++
        )
          _[b] = arguments[b];
        var R = n.retries || 5,
          N = 0,
          B = -1,
          F = 0,
          U = (function () {
            var T = C(
              m().mark(function A(L, $) {
                var X, Q, D, M;
                return m().wrap(
                  function (z) {
                    for (;;)
                      switch ((z.prev = z.next)) {
                        case 0:
                          return (
                            (X = h || p),
                            (z.prev = 1),
                            (z.next = 4),
                            e.apply(X, _)
                          );
                        case 4:
                          (Q = z.sent),
                            N !== 0 && gr(l) && l.call(X, N),
                            (N = 0),
                            L(Q),
                            (z.next = 15);
                          break;
                        case 10:
                          (z.prev = 10),
                            (z.t0 = z.catch(1)),
                            (D = function () {
                              clearTimeout(B), (N = 0), (F = 2), $(z.t0);
                            }),
                            (M = function () {
                              F !== 2 && N < R
                                ? (N++,
                                  (F = 1),
                                  gr(c) && c.call(X, N, D),
                                  (B = setTimeout(
                                    function () {
                                      (B = -1), U(L, $);
                                    },
                                    rt(n.timeout) ? 1e3 : n.timeout
                                  )))
                                : (D(), gr(o) && o.call(X, z.t0));
                            }),
                            gr(a) ? a.call(X, z.t0, M, $, _, N) : M();
                        case 15:
                        case "end":
                          return z.stop();
                      }
                  },
                  A,
                  null,
                  [[1, 10]]
                );
              })
            );
            return function (A, L) {
              return T.apply(this, arguments);
            };
          })();
        return new Promise(U);
      };
    }
    var wV = ce(function s(e) {
        G(this, s),
          (this.log = e.log),
          (this.level = e.level),
          (this.userId = e.userId),
          (this.sdkAppId = e.sdkAppId),
          (this.forAllJoinedClients = e.forAllJoinedClients),
          (this.uploaded = !1);
      }),
      kV = (function () {
        function s(e) {
          G(this, s),
            (this.id_ = e.id),
            (this.userId_ = e.userId),
            (this.sdkAppId_ = e.sdkAppId),
            (this.type_ = e.type),
            (this.isLocal_ = !Ci(e.isLocal) || e.isLocal);
        }
        return (
          ce(s, [
            {
              key: "setUserId",
              value: function (n) {
                this.userId_ = n;
              },
            },
            {
              key: "setSdkAppId",
              value: function (n) {
                this.sdkAppId_ = n;
              },
            },
            {
              key: "log",
              value: function (n, a) {
                it.log({
                  log: "["
                    .concat(this.isLocal_ ? "" : "")
                    .concat(this.id_, "] ")
                    .concat(this.type_ ? this.type_ + " " : "")
                    .concat(a),
                  level: n,
                  forAllJoinedClients: rt(this.userId_),
                  userId: this.userId_,
                  sdkAppId: this.sdkAppId_,
                });
              },
            },
            {
              key: "info",
              value: function (n) {
                this.log(ni.INFO, n);
              },
            },
            {
              key: "debug",
              value: function (n) {
                this.log(ni.DEBUG, n);
              },
            },
            {
              key: "warn",
              value: function (n) {
                this.log(ni.WARN, n);
              },
            },
            {
              key: "error",
              value: function (n) {
                this.log(ni.ERROR, n);
              },
            },
          ]),
          s
        );
      })(),
      TV = !(Lo || Cc),
      EV = (function () {
        function s() {
          var a = this;
          G(this, s),
            (this.clients_ = /* @__PURE__ */ new Set()),
            (this.queue_ = []),
            (this.timeoutId_ = -1),
            (this.logLevel_ = ni.DEBUG),
            (this.logLevelToUpload_ = ni.INFO),
            (this.enableUploadLog_ = !0),
            (this.isAbleToUpload_ = !1),
            this.checkURLParam(),
            ye.on(VE, function (c) {
              var o = c.client;
              a.timeoutId_ === -1 && a.startUpload(), a.clients_.add(o);
            }),
            ye.on(h0, function (c) {
              var o = c.client;
              return a.clients_.delete(o);
            }),
            ye.on(FE, function (c) {
              c &&
                Uo(c.config) &&
                qs[c.config.logLevelToUpload] &&
                (a.logLevelToUpload_ = c.config.logLevelToUpload);
            }),
            ye.on(Oc, this.setIsAbleToUpload, this),
            ye.on(Qs, this.setIsAbleToUpload, this);
        }
        var e, n;
        return (
          ce(s, [
            {
              key: "getIsAbleToUpload",
              value: function () {
                return this.isAbleToUpload_;
              },
            },
            {
              key: "setIsAbleToUpload",
              value: function () {
                (this.isAbleToUpload_ = !0),
                  ye.off(Oc, this.setIsAbleToUpload, this),
                  ye.off(Qs, this.setIsAbleToUpload, this);
              },
            },
            {
              key: "startUpload",
              value:
                ((n = C(
                  m().mark(function a() {
                    var c = this;
                    return m().wrap(
                      function (o) {
                        for (;;)
                          switch ((o.prev = o.next)) {
                            case 0:
                              return (o.prev = 0), (o.next = 3), this.upload();
                            case 3:
                              o.next = 7;
                              break;
                            case 5:
                              (o.prev = 5), (o.t0 = o.catch(0));
                            case 7:
                              this.timeoutId_ = setTimeout(function () {
                                return c.startUpload();
                              }, 2e3);
                            case 8:
                            case "end":
                              return o.stop();
                          }
                      },
                      a,
                      this,
                      [[0, 5]]
                    );
                  })
                )),
                function () {
                  return n.apply(this, arguments);
                }),
            },
            {
              key: "getLogsToUpload",
              value: function () {
                var c = this,
                  o = { map: /* @__PURE__ */ new Map(), splicedQueue: [] };
                if (
                  this.queue_[0].forAllJoinedClients &&
                  this.clients_.size === 0
                )
                  return o;
                for (
                  var l = 0,
                    h = function () {
                      if (l === 50) return "break";
                      var g = c.queue_[l];
                      if (g.forAllJoinedClients) {
                        var _ = /* @__PURE__ */ new Set();
                        c.clients_.forEach(function (b) {
                          if (b.getIsJoined()) {
                            var R = b.getUserId(),
                              N = b.getSDKAppId();
                            _.has("".concat(R, "-").concat(N)) ||
                              (_.add("".concat(R, "-").concat(N)),
                              o.map.has(R)
                                ? o.map.get(R).logs.push(g)
                                : o.map.set(R, {
                                    userId: R,
                                    sdkAppId: N,
                                    logs: [g],
                                  }));
                          }
                        });
                      } else
                        o.map.has(g.userId)
                          ? o.map.get(g.userId).logs.push(g)
                          : o.map.set(g.userId, {
                              userId: g.userId,
                              sdkAppId: g.sdkAppId,
                              logs: [g],
                            });
                    };
                  l < this.queue_.length && h() !== "break";
                  l++
                );
                return (
                  o.map.size > 0 && (o.splicedQueue = this.queue_.splice(0, l)),
                  o
                );
              },
            },
            {
              key: "upload",
              value:
                ((e = C(
                  m().mark(function a() {
                    var c, o, l, h, p, g, _, b, R, N;
                    return m().wrap(
                      function (B) {
                        for (;;)
                          switch ((B.prev = B.next)) {
                            case 0:
                              if (
                                this.queue_.length !== 0 &&
                                this.isAbleToUpload_
                              ) {
                                B.next = 2;
                                break;
                              }
                              return B.abrupt("return");
                            case 2:
                              if (
                                ((c = this.getLogsToUpload()),
                                (o = c.map),
                                (l = c.splicedQueue),
                                o.size !== 0)
                              ) {
                                B.next = 5;
                                break;
                              }
                              return B.abrupt("return");
                            case 5:
                              (B.prev = 5), (h = Je(o.values())), (p = 0);
                            case 8:
                              if (!(p < h.length)) {
                                B.next = 16;
                                break;
                              }
                              return (
                                (g = h[p]),
                                (_ = g.userId),
                                (b = g.sdkAppId),
                                (R = g.logs),
                                (B.next = 12),
                                this.uploadLogWithRetry(
                                  JSON.stringify({
                                    timestamp: F2(),
                                    sdkAppId: String(b),
                                    userId: _,
                                    version: Xi,
                                    log: R.map(function (F) {
                                      return F.log;
                                    }).join(`
`),
                                  }),
                                  b
                                )
                              );
                            case 12:
                              R.forEach(function (F) {
                                return (F.uploaded = !0);
                              });
                            case 13:
                              p++, (B.next = 8);
                              break;
                            case 16:
                              B.next = 20;
                              break;
                            case 18:
                              (B.prev = 18), (B.t0 = B.catch(5));
                            case 20:
                              (N = l.filter(function (F) {
                                return !F.uploaded;
                              })),
                                N.length > 0 &&
                                  (this.queue_ = N.concat(this.queue_));
                            case 22:
                            case "end":
                              return B.stop();
                          }
                      },
                      a,
                      this,
                      [[5, 18]]
                    );
                  })
                )),
                function () {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "uploadLogWithRetry",
              value: function (c, o) {
                return Wd({
                  retryFunction: function () {
                    return jp({ url: Vp(o, dT), body: c, timeout: 5e3 });
                  },
                  settings: { retries: 3, timeout: 1e3 },
                  onError: function (h, p) {
                    p();
                  },
                })();
              },
            },
            {
              key: "getPrefix",
              value: function (c) {
                var o = /* @__PURE__ */ new Date();
                return (
                  o.setTime(hr()),
                  String.prototype.padStart
                    ? "["
                        .concat(
                          o
                            .toTimeString()
                            .replace(/.*(\d{2}:\d{2}:\d{2}).*/, "$1"),
                          ":"
                        )
                        .concat(
                          o.getMilliseconds().toString().padStart(3, "0"),
                          "] <"
                        )
                        .concat(qs[c], ">")
                    : "["
                        .concat(
                          o
                            .toTimeString()
                            .replace(/.*(\d{2}:\d{2}:\d{2}).*/, "$1"),
                          ":"
                        )
                        .concat(o.getMilliseconds(), "] <")
                        .concat(qs[c], ">")
                );
              },
            },
            {
              key: "getLogLevel",
              value: function () {
                return this.logLevel_;
              },
            },
            {
              key: "setLogLevel",
              value: function (c) {
                rt(qs[c]) ||
                  (this.logLevel_ !== c && this.info("setLogLevel ".concat(c)),
                  (this.logLevel_ = c));
              },
            },
            {
              key: "enableUploadLog",
              value: function () {
                this.enableUploadLog_ = !0;
              },
            },
            {
              key: "disableUploadLog",
              value: function () {
                this.enableUploadLog_ = !1;
              },
            },
            {
              key: "log",
              value: function (c) {
                var o = c.log,
                  l = c.level,
                  h = c.forAllJoinedClients,
                  p = h === void 0 || h,
                  g = c.userId,
                  _ = c.sdkAppId;
                if (
                  ((o = "".concat(this.getPrefix(l), " ").concat(o)),
                  this.enableUploadLog_ &&
                    l >= this.logLevelToUpload_ &&
                    this.queue_.push(
                      new wV({
                        log: o,
                        level: l,
                        userId: g,
                        sdkAppId: _,
                        forAllJoinedClients: p,
                      })
                    ),
                  !(l < this.logLevel_))
                ) {
                  var b = qs[l] ? qs[l].toLowerCase() : "info";
                  TV
                    ? console[b](
                        "%cTRTC%c%s",
                        "padding: 1px 4px;border-radius: 3px;color: #fff;background: #1E88E5;",
                        "display: inline",
                        o
                      )
                    : console[b](o);
                }
              },
            },
            {
              key: "debug",
              value: function (c) {
                this.log({ log: c, level: ni.DEBUG });
              },
            },
            {
              key: "info",
              value: function (c) {
                this.log({ log: c, level: ni.INFO });
              },
            },
            {
              key: "warn",
              value: function (c) {
                this.log({ log: c, level: ni.WARN });
              },
            },
            {
              key: "error",
              value: function (c) {
                this.log({ log: c, level: ni.ERROR });
              },
            },
            {
              key: "createLogger",
              value: function (c) {
                return new kV(c);
              },
            },
            {
              key: "checkURLParam",
              value: function () {
                var c = new URLSearchParams(location.search).get(
                  "logLevelToUpload"
                );
                qs[c] && (this.logLevelToUpload_ = c);
              },
            },
          ]),
          s
        );
      })(),
      it = new EV(),
      HE = !0,
      IV = pn,
      RV = Math.floor,
      zE =
        Number.isInteger ||
        function (s) {
          return !IV(s) && isFinite(s) && RV(s) === s;
        };
    Tt({ target: "Number", stat: !0 }, { isInteger: zE });
    var A0,
      CV = Tt,
      WE = Qe,
      AV = Ot.f,
      xV = on,
      GE = qn,
      PV = ok,
      OV = Vn,
      DV = sk,
      qE = WE("".startsWith),
      NV = WE("".slice),
      LV = Math.min,
      KE = DV("startsWith");
    CV(
      {
        target: "String",
        proto: !0,
        forced:
          !!(
            KE ||
            ((A0 = AV(String.prototype, "startsWith")), !A0 || A0.writable)
          ) && !KE,
      },
      {
        startsWith: function (e) {
          var n = GE(OV(this));
          PV(e);
          var a = xV(
              LV(arguments.length > 1 ? arguments[1] : void 0, n.length)
            ),
            c = GE(e);
          return qE ? qE(n, c, a) : NV(n, a, a + c.length) === c;
        },
      }
    );
    var JE = Mt,
      MV = Qe,
      UV = Te,
      VV = et,
      x0 = As,
      FV = Zl,
      jV = we,
      BV = Wn,
      HV = Er,
      Nc = Object.assign,
      $E = Object.defineProperty,
      zV = MV([].concat),
      YE =
        !Nc ||
        VV(function () {
          if (
            JE &&
            Nc(
              { b: 1 },
              Nc(
                $E({}, "a", {
                  enumerable: !0,
                  get: function () {
                    $E(this, "b", { value: 3, enumerable: !1 });
                  },
                }),
                { b: 2 }
              )
            ).b !== 1
          )
            return !0;
          var s = {},
            e = {},
            n = Symbol(),
            a = "abcdefghijklmnopqrst";
          return (
            (s[n] = 7),
            a.split("").forEach(function (c) {
              e[c] = c;
            }),
            Nc({}, s)[n] != 7 || x0(Nc({}, e)).join("") != a
          );
        })
          ? function (s, e) {
              for (
                var n = BV(s), a = arguments.length, c = 1, o = FV.f, l = jV.f;
                a > c;

              )
                for (
                  var h,
                    p = HV(arguments[c++]),
                    g = o ? zV(x0(p), o(p)) : x0(p),
                    _ = g.length,
                    b = 0;
                  _ > b;

                )
                  (h = g[b++]), (JE && !UV(l, p, h)) || (n[h] = p[h]);
              return n;
            }
          : Nc,
      ZE = YE;
    Tt(
      { target: "Object", stat: !0, arity: 2, forced: Object.assign !== ZE },
      { assign: ZE }
    );
    var QE = Qe,
      WV = ur,
      GV = pn,
      qV = bn,
      XE = oc,
      KV = rn,
      eI = Function,
      JV = QE([].concat),
      $V = QE([].join),
      P0 = {},
      YV = function (e, n, a) {
        if (!qV(P0, n)) {
          for (var c = [], o = 0; o < n; o++) c[o] = "a[" + o + "]";
          P0[n] = eI("C,a", "return new C(" + $V(c, ",") + ")");
        }
        return P0[n](e, a);
      },
      ZV = KV
        ? eI.bind
        : function (s) {
            var e = WV(this),
              n = e.prototype,
              a = XE(arguments, 1),
              c = function () {
                var l = JV(a, XE(arguments));
                return this instanceof c ? YV(e, l.length, l) : e.apply(s, l);
              };
            return GV(n) && (c.prototype = n), c;
          },
      tI = ZV;
    Tt(
      { target: "Function", proto: !0, forced: Function.bind !== tI },
      { bind: tI }
    );
    var QV = Tt,
      XV = dr.findIndex,
      e9 = Qu,
      nI = "findIndex",
      rI = !0;
    nI in [] &&
      Array(1).findIndex(function () {
        rI = !1;
      }),
      QV(
        { target: "Array", proto: !0, forced: rI },
        {
          findIndex: function (e) {
            return XV(this, e, arguments.length > 1 ? arguments[1] : void 0);
          },
        }
      ),
      e9(nI);
    var t9 = Mt,
      iI = Qe,
      n9 = As,
      r9 = Ir,
      i9 = iI(we.f),
      a9 = iI([].push),
      aI = function (e) {
        return function (n) {
          for (
            var a, c = r9(n), o = n9(c), l = o.length, h = 0, p = [];
            l > h;

          )
            (a = o[h++]), (t9 && !i9(c, a)) || a9(p, e ? [a, c[a]] : c[a]);
          return p;
        };
      },
      o9 = { entries: aI(!0), values: aI(!1) }.values;
    Tt(
      { target: "Object", stat: !0 },
      {
        values: function (e) {
          return o9(e);
        },
      }
    );
    var oI = 1,
      sI = 5,
      O0 = 2,
      Gd = 3,
      D0 = 4,
      Gp = "DISCONNECTED",
      uI = "CONNECTING",
      N0 = "RECONNECTING",
      qd = "CONNECTED",
      qa = {
        CLIENT_BANNED: 9,
        CHANNEL_SETUP_RESULT: 19,
        CHANNEL_RECONNECT_RESULT: 514,
        JOIN_ROOM_RESULT: 20,
        PEER_JOIN: 4134,
        PEER_LEAVE: 4135,
        STREAM_ADDED: 16,
        STREAM_REMOVED: 18,
        UPLINK_NETWORK_STATS: 22,
        UPDATE_REMOTE_MUTE_STAT: 23,
        PUBLISH_RESULT: 4098,
        PUBLISH_STATE_CHANGE_RESULT: 4112,
        UNPUBLISH_RESULT: 4100,
        SUBSCRIBE_RESULT: 4102,
        UNSUBSCRIBE_RESULT: 4104,
        SUBSCRIBE_CHANGE_RESULT: 4106,
        MUTE_RESULT: 4108,
        UPDATE_OFFER_RESULT: 4128,
        START_PUBLISH_TENCENT_CDN_RES: 1286,
        STOP_PUBLISH_TENCENT_CDN_RES: 1288,
        START_PUBLISH_GIVEN_CDN_RES: 777,
        STOP_PUBLISH_GIVEN_CDN_RES: 779,
        START_MIX_TRANSCODE_RES: 781,
        STOP_MIX_TRANSCODE_RES: 783,
        USER_LIST_RES: 4137,
        SWITCH_ROLE_RES: 4110,
        UPDATE_CONSTRAINT_CONFIG_RES: 772,
        CONNECT_OTHER_ROOM_RES: 8209,
        DISCONNECT_OTHER_ROOM_RES: 8211,
        UPDATE_OTHER_ROOM_FORWARD_MODE_RES: 8213,
      },
      s9 = [
        qa.UPDATE_REMOTE_MUTE_STAT,
        qa.UPLINK_NETWORK_STATS,
        qa.USER_LIST_RES,
        qa.MUTE_RESULT,
      ],
      en = {
        CLIENT_BANNED: "client-banned",
        CHANNEL_SETUP_RESULT: "channel-setup-result",
        CHANNEL_RECONNECT_RESULT: "channel-reconnect-result",
        JOIN_ROOM_RESULT: "join-room-result",
        PEER_JOIN: "peer-join",
        PEER_LEAVE: "peer-leave",
        STREAM_ADDED: "stream-added",
        STREAM_REMOVED: "stream-removed",
        UPLINK_NETWORK_STATS: "uplink-network-stats",
        UPDATE_REMOTE_MUTE_STAT: "update-remote-mute-stat",
        PUBLISH_RESULT: "publish-result",
        PUBLISH_STATE_CHANGE_RESULT: "publish-state-change-result",
        UNPUBLISH_RESULT: "unpublish-result",
        SUBSCRIBE_RESULT: "subscribe-result",
        SUBSCRIBE_CHANGE_RESULT: "subscribe-change-result",
        UNSUBSCRIBE_RESULT: "unsubscribe-result",
        UPDATE_OFFER_RESULT: "update-offer-result",
        START_PUBLISH_TENCENT_CDN_RES: "start-publish-tencent-cdn-res",
        STOP_PUBLISH_TENCENT_CDN_RES: "stop-publish-tencent-cdn-res",
        START_PUBLISH_GIVEN_CDN_RES: "start-publish-given-cdn-res",
        STOP_PUBLISH_GIVEN_CDN_RES: "stop-publish-given-cdn-res",
        START_MIX_TRANSCODE_RES: "start-mix-transcode-res",
        STOP_MIX_TRANSCODE_RES: "stop-mix-transcode-res",
        USER_LIST_RES: "user-list-res",
        SWITCH_ROLE_RES: "switch_role_res",
        MUTE_RESULT: "mute-result",
        UPDATE_CONSTRAINT_CONFIG_RES: "update-contraint-config-res",
        CONNECT_OTHER_ROOM_RES: "connect_other_room_res",
        UPDATE_OTHER_ROOM_FORWARD_MODE_RES:
          "update_other_room_forward_mode_res",
        DISCONNECT_OTHER_ROOM_RES: "disconnect_other_room_res",
      },
      u9 = "publish_change",
      c9 = "publish_state_change",
      l9 = "join",
      d9 = "leave",
      h9 = "quality_report",
      f9 = "mute_uplink",
      p9 = "publish",
      cI = "unpublish",
      v9 = "subscribe",
      m9 = "unsubscribe",
      g9 = "subscribe_change",
      _9 = "start_publishing",
      y9 = "stop_publishing",
      b9 = "start_push_user_cdn",
      S9 = "stop_push_user_cdn",
      w9 = "start_mcu_mix",
      k9 = "stop_mcu_mix",
      T9 = "get_user_list",
      E9 = "change_role",
      I9 = "update_constraint_config",
      R9 = "connect_other_room",
      C9 = "update_other_room_forward_mode",
      A9 = "disconnect_other_room",
      ke = {
        INVALID_PARAMETER: 4096,
        INVALID_OPERATION: 4097,
        NOT_SUPPORTED: 4098,
        DEVICE_NOT_FOUND: 4099,
        INITIALIZE_FAILED: 4100,
        SIGNAL_CHANNEL_SETUP_FAILED: 16385,
        SIGNAL_CHANNEL_ERROR: 16386,
        ICE_TRANSPORT_ERROR: 16387,
        JOIN_ROOM_FAILED: 16388,
        CREATE_OFFER_FAILED: 16389,
        SIGNAL_CHANNEL_RECONNECTION_FAILED: 16390,
        UPLINK_RECONNECTION_FAILED: 16391,
        DOWNLINK_RECONNECTION_FAILED: 16392,
        REMOTE_STREAM_NOT_EXIST: 16400,
        CLIENT_BANNED: 16448,
        SERVER_TIMEOUT: 16449,
        SUBSCRIPTION_TIMEOUT: 16450,
        PLAY_NOT_ALLOWED: 16451,
        DEVICE_AUTO_RECOVER_FAILED: 16452,
        START_PUBLISH_CDN_FAILED: 16453,
        STOP_PUBLISH_CDN_FAILED: 16454,
        START_MIX_TRANSCODE_FAILED: 16455,
        STOP_MIX_TRANSCODE_FAILED: 16456,
        NOT_SUPPORTED_H264: 16457,
        SWITCH_ROLE_FAILED: 16458,
        API_CALL_TIMEOUT: 16459,
        SCHEDULE_FAILED: 16460,
        API_CALL_ABORTED: 16461,
        UNKNOWN: 65535,
      },
      Ie = (function (s) {
        me(n, s);
        var e = St(n);
        function n(a) {
          var c,
            o = a.name,
            l = o === void 0 ? "RtcError" : o,
            h = a.message,
            p = a.code,
            g = p === void 0 ? ke.UNKNOWN : p,
            _ = a.extraCode,
            b = _ === void 0 ? 0 : _,
            R = a.constraint;
          G(this, n);
          var N = "<"
            .concat(
              (function (B) {
                for (var F in ke) if (ke[F] === B) return F;
                return "UNKNOWN";
              })(g),
              " 0x"
            )
            .concat(g.toString(16), ">");
          return (
            ((c = e.call(
              this,
              h +
                "".concat(R ? " constraint: ".concat(R) : "") +
                "".concat(h != null && h.includes(N) ? "" : " " + N)
            )).code_ = g),
            (c.extraCode_ = b),
            (c.name = l),
            (c.message_ = h),
            R && (c.constraint = R),
            c
          );
        }
        return (
          ce(n, [
            {
              key: "getCode",
              value: function () {
                return this.code_;
              },
            },
            {
              key: "getExtraCode",
              value: function () {
                return this.extraCode_;
              },
            },
          ]),
          n
        );
      })(bt(Error)),
      lI = 32768,
      dI = 32769,
      hI = 32770,
      fI = 32771,
      x9 = 32772,
      P9 = 32773,
      O9 = 32774,
      D9 = 32775,
      pI = 32777,
      N9 = 32778,
      L0 = 32779,
      L9 = 32780,
      M9 = 32781,
      U9 = 32782,
      V9 = 32783,
      F9 = 32784,
      j9 = 32785,
      B9 = 32786,
      H9 = 32787,
      z9 = 32788,
      W9 = 32789,
      G9 = 32790,
      q9 = 32791,
      K9 = 32792,
      J9 = 32793,
      $9 = 32794,
      Y9 = 32795,
      Z9 = 32796,
      Q9 = 32797,
      X9 = 32798,
      eF = 32799,
      tF = 32800,
      nF = 32801,
      rF = 32802,
      iF = 32803,
      aF = 32804,
      Kd = /* @__PURE__ */ new Map(),
      xr = function (e, n) {
        var a = Kd.get(e);
        a || (Kd.set(e, []), (a = Kd.get(e))), a.push(n);
      },
      oF = function (e) {
        var n = Kd.get(e),
          a = [];
        return (
          n
            ? (Kd.delete(e),
              (a = n.map(function (c) {
                return {
                  uint32_event_id: c.eventId,
                  uint64_date: c.timestamp,
                  str_userid: c.remoteUserId,
                  str_event_json: c.eventDesc,
                };
              })))
            : (a = []),
          a
        );
      },
      sF = Object.prototype.hasOwnProperty;
    function Ka(s) {
      if (s == null) return !0;
      if (typeof s == "boolean") return !1;
      if (typeof s == "number") return s === 0;
      if (typeof s == "string" || typeof s == "function" || Array.isArray(s))
        return s.length === 0;
      if (s instanceof Error) return s.message === "";
      if (Uo(s))
        switch (Object.prototype.toString.call(s)) {
          case "[object File]":
          case "[object Map]":
          case "[object Set]":
            return s.size === 0;
          case "[object Object]":
            for (var e in s) if (sF.call(s, e)) return !1;
            return !0;
        }
      return !1;
    }
    var uF = (function () {
        function s() {
          G(this, s);
          var e = Ys(),
            n = e.name,
            a = e.version;
          (this.roomIdMap_ = /* @__PURE__ */ new Map()),
            (this.configs_ = {
              sdkAppId: "",
              userId: "",
              version: Xi,
              env: Sp,
              browserVersion: n + a,
              ua: navigator.userAgent,
            });
        }
        return (
          ce(s, [
            {
              key: "setConfig",
              value: function (n) {
                var a = n.sdkAppId,
                  c = n.env,
                  o = n.userId,
                  l = n.roomId;
                a !== this.configs_.sdkAppId &&
                  (this.configs_.sdkAppId = String(a)),
                  (this.configs_.env = c),
                  (this.configs_.userId = o),
                  this.roomIdMap_.set(o, String(l));
              },
            },
            {
              key: "logEvent",
              value: function (n) {
                if (!Js) {
                  var a = v(
                    v(v({}, n), this.configs_),
                    {},
                    { userId: n.userId || this.configs_.userId }
                  );
                  rt(a.code) &&
                    (a.code = a.result === "failed" ? ke.UNKNOWN : 0),
                    this.sendRequest(Vp(this.configs_.sdkAppId, PM), a);
                }
              },
            },
            {
              key: "logSuccessEvent",
              value: function (n) {
                Js ||
                  (this.logEvent(
                    v(
                      v({}, n),
                      {},
                      {
                        result: "success",
                        roomId: this.roomIdMap_.get(n.userId),
                      }
                    )
                  ),
                  this.configs_.env === Sp &&
                    this.uploadEventToKibana(
                      v(v({}, n), {}, { result: "success" })
                    ));
              },
            },
            {
              key: "logFailedEvent",
              value: function (n) {
                if (!Js) {
                  var a = n.eventType,
                    c = n.code,
                    o = n.error,
                    l = n.userId,
                    h = {
                      roomId: this.roomIdMap_.get(l),
                      userId: l,
                      eventType: a,
                      result: "failed",
                      code:
                        c ||
                        (o instanceof Ie
                          ? o.getExtraCode() || o.getCode()
                          : ke.UNKNOWN),
                    };
                  this.logEvent(h),
                    this.configs_.env === Sp &&
                      this.uploadEventToKibana(v(v({}, h), {}, { error: o }));
                }
              },
            },
            {
              key: "uploadEventToKibana",
              value: function (n) {
                var a = "stat-".concat(n.eventType, "-").concat(n.result);
                (n.eventType !== "delta-join" &&
                  n.eventType !== "delta-leave" &&
                  n.eventType !== "delta-publish") ||
                  (a = "".concat(n.eventType, ":").concat(n.delta)),
                  this.uploadEvent({ log: a, userId: n.userId }),
                  n.result === "failed" &&
                    ((a = "stat-"
                      .concat(n.eventType, "-")
                      .concat(n.result, "-")
                      .concat(n.code)),
                    this.uploadEvent({
                      log: a,
                      userId: n.userId,
                      error: n.error,
                    }));
              },
            },
            {
              key: "uploadEvent",
              value: function (n) {
                var a = n.log,
                  c = n.userId,
                  o = n.error,
                  l = {
                    timestamp: F2(),
                    sdkAppId: this.configs_.sdkAppId,
                    userId: c || this.configs_.userId,
                    version: this.configs_.version,
                    log: a,
                  };
                o && (l.errorInfo = o.message),
                  this.sendRequest(Vp(this.configs_.sdkAppId, dT), l);
              },
            },
            {
              key: "sendRequest",
              value: function (n, a) {
                var c = this;
                it.getIsAbleToUpload()
                  ? jp({ url: n, body: JSON.stringify(a) }).catch(
                      function () {}
                    )
                  : setTimeout(function () {
                      c.sendRequest(n, a);
                    }, 1e3);
              },
            },
          ]),
          s
        );
      })(),
      st = new uF(),
      cF = Wn,
      lF = cs;
    Tt(
      {
        target: "Date",
        proto: !0,
        arity: 1,
        forced: et(function () {
          return (
            /* @__PURE__ */ new Date(NaN).toJSON() !== null ||
            Date.prototype.toJSON.call({
              toISOString: function () {
                return 1;
              },
            }) !== 1
          );
        }),
      },
      {
        toJSON: function (e) {
          var n = cF(this),
            a = lF(n, "number");
          return typeof a != "number" || isFinite(a) ? n.toISOString() : null;
        },
      }
    );
    var dF = Te;
    Tt(
      { target: "URL", proto: !0, enumerable: !0 },
      {
        toJSON: function () {
          return dF(URL.prototype.toString, this);
        },
      }
    );
    var hF = Tt,
      M0 = Qe,
      fF = lr,
      pF = Q2,
      vF = qw,
      vI = et,
      mF = RangeError,
      mI = String,
      gI = Math.floor,
      U0 = M0(vF),
      _I = M0("".slice),
      Jd = M0((1).toFixed),
      Lc = function (e, n, a) {
        return n === 0
          ? a
          : n % 2 == 1
          ? Lc(e, n - 1, a * e)
          : Lc(e * e, n / 2, a);
      },
      Mc = function (e, n, a) {
        for (var c = -1, o = a; ++c < 6; )
          (o += n * e[c]), (e[c] = o % 1e7), (o = gI(o / 1e7));
      },
      V0 = function (e, n) {
        for (var a = 6, c = 0; --a >= 0; )
          (c += e[a]), (e[a] = gI(c / n)), (c = (c % n) * 1e7);
      },
      yI = function (e) {
        for (var n = 6, a = ""; --n >= 0; )
          if (a !== "" || n === 0 || e[n] !== 0) {
            var c = mI(e[n]);
            a = a === "" ? c : a + U0("0", 7 - c.length) + c;
          }
        return a;
      };
    hF(
      {
        target: "Number",
        proto: !0,
        forced:
          vI(function () {
            return (
              Jd(8e-5, 3) !== "0.000" ||
              Jd(0.9, 0) !== "1" ||
              Jd(1.255, 2) !== "1.25" ||
              Jd(1000000000000000100, 0) !== "1000000000000000128"
            );
          }) ||
          !vI(function () {
            Jd({});
          }),
      },
      {
        toFixed: function (e) {
          var n,
            a,
            c,
            o,
            l = pF(this),
            h = fF(e),
            p = [0, 0, 0, 0, 0, 0],
            g = "",
            _ = "0";
          if (h < 0 || h > 20) throw mF("Incorrect fraction digits");
          if (l != l) return "NaN";
          if (l <= -1e21 || l >= 1e21) return mI(l);
          if ((l < 0 && ((g = "-"), (l = -l)), l > 1e-21))
            if (
              ((a =
                (n =
                  (function (b) {
                    for (var R = 0, N = b; N >= 4096; ) (R += 12), (N /= 4096);
                    for (; N >= 2; ) (R += 1), (N /= 2);
                    return R;
                  })(l * Lc(2, 69, 1)) - 69) < 0
                  ? l * Lc(2, -n, 1)
                  : l / Lc(2, n, 1)),
              (a *= 4503599627370496),
              (n = 52 - n) > 0)
            ) {
              for (Mc(p, 0, a), c = h; c >= 7; ) Mc(p, 1e7, 0), (c -= 7);
              for (Mc(p, Lc(10, c, 1), 0), c = n - 1; c >= 23; )
                V0(p, 1 << 23), (c -= 23);
              V0(p, 1 << c), Mc(p, 1, 1), V0(p, 2), (_ = yI(p));
            } else Mc(p, 0, a), Mc(p, 1 << -n, 0), (_ = yI(p) + U0("0", h));
          return (_ =
            h > 0
              ? g +
                ((o = _.length) <= h
                  ? "0." + U0("0", h - o) + _
                  : _I(_, 0, o - h) + "." + _I(_, o - h))
              : g + _);
        },
      }
    );
    var F0 = null,
      j0 = !0;
    function jo(s) {
      Ci(s) && s !== j0 && ((j0 = s), it.info("setIsNeedToSchedule " + s));
    }
    function gF(s, e) {
      try {
        if (PerformanceObserver) {
          var n = En(),
            a = qp(s, jt),
            c = qp(s, Ii),
            o = new PerformanceObserver(function (l) {
              l.getEntries().forEach(function (h) {
                if (h.startTime >= n && (h.name === a || h.name === c)) {
                  var p = h.name === a ? jt : Ii;
                  if (h.code && h.code !== 200)
                    return void it.warn(
                      ""
                        .concat(p, " schedule with code ")
                        .concat(h.code, ", ")
                        .concat(JSON.stringify(h.toJSON()))
                    );
                  var g = h.responseEnd - h.startTime,
                    _ = [
                      h.domainLookupStart - h.startTime,
                      h.domainLookupEnd - h.domainLookupStart,
                      h.requestStart - h.secureConnectionStart,
                      h.secureConnectionStart - h.connectStart,
                      h.responseStart - h.requestStart,
                      h.responseEnd - h.responseStart,
                    ].map(function (b) {
                      return b.toFixed(1);
                    });
                  o.disconnect(),
                    st.uploadEvent({
                      log: "stat-schedule-net:"
                        .concat(g.toFixed(1), "(")
                        .concat(_.join("->"), ") ")
                        .concat(p),
                      userId: e,
                    });
                }
              });
            });
          o.observe({ type: "resource", buffered: !0 });
        }
      } catch (l) {}
    }
    function _F(s) {
      return B0.apply(this, arguments);
    }
    function B0() {
      return (
        (B0 = C(
          m().mark(function s(e) {
            var n, a, c, o, l, h, p, g, _, b, R, N, B;
            return m().wrap(
              function (F) {
                for (;;)
                  switch ((F.prev = F.next)) {
                    case 0:
                      if (
                        ((n = e.userId),
                        (a = e.sdkAppId),
                        (c = e.useStringRoomId),
                        (o = e.roomId),
                        (l = e.userSig),
                        j0 || !F0)
                      ) {
                        F.next = 3;
                        break;
                      }
                      return F.abrupt("return", { isCached: !0, result: F0 });
                    case 3:
                      return (
                        (h = { delta: 0, count: [1, 1], msg: [] }),
                        (F.prev = 4),
                        (p = new FormData()).append("userId", String(n)),
                        p.append("sdkAppId", String(a)),
                        p.append("isStrGroupId", c),
                        p.append("groupId", String(o)),
                        p.append("sdkVersion", Xi),
                        p.append("userSig", String(l)),
                        ky && p.append("oversea", !0),
                        gF(a, n),
                        (g = En()),
                        (F.next = 17),
                        bF(p, h, a)
                      );
                    case 17:
                      return (
                        (_ = F.sent).config &&
                          (_.config.loggerDomain && hy(_.config.loggerDomain),
                          Ci(_.config.scheduleCache) &&
                            jo(!_.config.scheduleCache)),
                        (h.delta = En() - g),
                        bI({ stat: h, userId: n }),
                        (F0 = _),
                        F.abrupt("return", { isCached: !1, result: _ })
                      );
                    case 25:
                      throw (
                        ((F.prev = 25),
                        (F.t0 = F.catch(4)),
                        (b = xc(F.t0) ? F.t0[0] : F.t0),
                        (R = Ri(b.code) ? b.code : 0),
                        (N = "schedule failed".concat(
                          b.message ? ": ".concat(b.message) : ""
                        )),
                        (B = new Ie({
                          code: ke.SCHEDULE_FAILED,
                          extraCode: R,
                          message: Le({ key: tE, data: { error: N, code: R } }),
                        })),
                        it.error(B),
                        bI({ stat: h, userId: n, roomId: o, error: B }),
                        B)
                      );
                    case 34:
                    case "end":
                      return F.stop();
                  }
              },
              s,
              null,
              [[4, 25]]
            );
          })
        )),
        B0.apply(this, arguments)
      );
    }
    function bI(s) {
      var e = s.stat,
        n = s.userId,
        a = s.error;
      a
        ? st.logFailedEvent({ eventType: DT, error: a, userId: n })
        : st.logSuccessEvent({ eventType: DT, delta: e.delta, userId: n }),
        st.uploadEvent({
          log: "stat-schedule:" + JSON.stringify(e),
          userId: n,
        });
    }
    function qp(s) {
      var e,
        n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : jt;
      return (
        (e = ky || (CE(s) ? (n === jt ? qM : KM) : n === jt ? WM : GM)),
        "https://".concat(e, "/api/v1/config")
      );
    }
    function yF(s, e, n) {
      return new Promise(function (a, c) {
        jp({ url: s, body: e, timeout: n.timeout })
          .then(function (o) {
            o.data.code === 0
              ? a(o.data.data)
              : c({ code: o.data.code, message: o.data.msg });
          })
          .catch(c);
      });
    }
    ye.on(Qs, function () {
      return jo(!0);
    }),
      ye.on(gV, function () {
        return jo(!0);
      }),
      ye.on(_V, function () {
        return jo(!0);
      }),
      ye.on(jE, function () {
        return jo(!0);
      }),
      ye.on(Wp, function (s) {
        s.state === py && jo(!0);
      });
    var SI = function (e, n) {
      return Wd({
        retryFunction: yF,
        settings: { retries: 3, timeout: 0 },
        onError: n,
        onRetrying: e,
      });
    };
    function bF(s, e, n) {
      return new Promise(function (a, c) {
        var o,
          l = null;
        ((o = [
          SI(
            function (h) {
              return (e.count[0] = h + 1);
            },
            function (h, p) {
              (e.msg[0] = h.message), l || p();
            }
          )(qp(n, jt), s, {
            get timeout() {
              return 1e3 * Fp(2 + e.count[0]);
            },
          }),
          SI(
            function (h) {
              return (e.count[1] = h + 1);
            },
            function (h, p) {
              (e.msg[1] = h.message), l || p();
            }
          )(qp(n, Ii), s, {
            get timeout() {
              return 1e3 * Fp(2 + e.count[1]);
            },
          }),
        ]),
        new Promise(function (h, p) {
          var g = [];
          o.forEach(function (_) {
            _.then(h).catch(function (b) {
              g.push(b), g.length === o.length && p(g);
            });
          });
        }))
          .then(function (h) {
            a((l = h));
          })
          .catch(c);
      });
    }
    var SF = (function () {
        function s(a) {
          G(this, s),
            (this.client_ = a.client),
            (this.sdkAppId_ = a.sdkAppId),
            (this.userId_ = a.userId),
            (this.userSig_ = a.userSig),
            (this.url_ = a.url),
            (this.backupUrl_ = a.backupUrl);
          var c = "?sdkAppId="
              .concat(encodeURIComponent(this.sdkAppId_), "&userId=")
              .concat(encodeURIComponent(this.userId_), "&userSig=")
              .concat(encodeURIComponent(this.userSig_), "&roomId=")
              .concat(encodeURIComponent(a.roomId)),
            o = this.client_.getSystemResult();
          if (o && o.detail) {
            var l = o.detail,
              h = l.isH264EncodeSupported,
              p = l.isVp8EncodeSupported,
              g = l.isH264DecodeSupported,
              _ = l.isVp8DecodeSupported;
            c += "&enc264="
              .concat(Number(h), "&dec264=")
              .concat(Number(g), "&encVp8=")
              .concat(Number(p), "&decVp8=")
              .concat(Number(_));
          }
          a.signalDomainWhenUnifiedProxy &&
            (c += "&signalDomain=".concat(
              encodeURIComponent(a.signalDomainWhenUnifiedProxy)
            )),
            (this.urlParams = c),
            (this.isConnected_ = !1),
            (this.isConnecting_ = !1),
            (this.socketInUse_ = null),
            (this.socket_ = null),
            (this.backupSocket_ = null),
            (this.backupTimer_ = -1),
            (this.signalInfo_ = {}),
            (this.currentState_ = Gp),
            (this.reconnectionCount_ = 0),
            (this.reconnectionTimer_ = -1),
            (this.lastMessageTime_ = -1),
            (this.seq_ = 0),
            (this.log_ = it.createLogger({
              id: "ws|" + this.userId_,
              userId: this.userId_,
              sdkAppId: this.sdkAppId_,
            })),
            (this.emitter_ = new Fo());
        }
        var e, n;
        return (
          ce(s, [
            {
              key: "urlWithParam_",
              get: function () {
                return "".concat(this.url_).concat(this.urlParams);
              },
            },
            {
              key: "backupUrlWithParam_",
              get: function () {
                return "".concat(this.backupUrl_).concat(this.urlParams);
              },
            },
            {
              key: "isOnline",
              get: function () {
                return (
                  this.currentState_ === qd &&
                  Date.now() - this.lastMessageTime_ < 12e3
                );
              },
            },
            {
              key: "connect",
              value: function () {
                var c = this;
                return new Promise(function (o, l) {
                  c.log_.info("connect to url: ".concat(c.urlWithParam_)),
                    c.emitConnectionStateChanged(uI),
                    (c.socket_ = new WebSocket(c.urlWithParam_)),
                    c.bindSocket(c.socket_),
                    (c.backupTimer_ = setTimeout(function () {
                      c.isConnected_ ||
                        (c.log_.info("trying to connect to backupUrl"),
                        c.tryConnectBackup());
                    }, 5e3));
                  var h = setTimeout(function () {
                    c.close(),
                      l(
                        new Ie({
                          code: ke.JOIN_ROOM_FAILED,
                          message: "join room timeout",
                        })
                      );
                  }, 1e4);
                  c.once(Gd, function () {
                    clearTimeout(h), o();
                  }),
                    c.once(D0, function (p) {
                      clearTimeout(h), l(p);
                    });
                });
              },
            },
            {
              key: "tryConnectBackup",
              value: function () {
                this.backupSocket_ ||
                  (this.unbindAndCloseSocket(jt),
                  this.log_.debug(
                    "try to connect to url: ".concat(this.backupUrlWithParam_)
                  ),
                  (this.backupSocket_ = new WebSocket(
                    this.backupUrlWithParam_
                  )),
                  this.bindSocket(this.backupSocket_));
              },
            },
            {
              key: "bindSocket",
              value: function (c) {
                (c.onopen = this.onopen.bind(this)),
                  (c.onclose = this.onclose.bind(this)),
                  (c.onerror = this.onerror.bind(this)),
                  (c.onmessage = this.onmessage.bind(this));
              },
            },
            {
              key: "unbindSocket",
              value: function (c) {
                (c.onopen = function () {}),
                  (c.onclose = function () {}),
                  (c.onerror = function () {}),
                  (c.onmessage = function () {});
              },
            },
            {
              key: "unbindAndCloseSocket",
              value: function (c) {
                if (c === jt) {
                  if (this.socket_) {
                    this.unbindSocket(this.socket_);
                    try {
                      this.socket_.close(1e3);
                    } catch (o) {}
                    this.socket_ = null;
                  }
                } else if (this.backupSocket_) {
                  this.unbindSocket(this.backupSocket_);
                  try {
                    this.backupSocket_.close(1e3);
                  } catch (o) {}
                  this.backupSocket_ = null;
                }
              },
            },
            {
              key: "clearBackupTimer",
              value: function () {
                this.backupTimer_ !== -1 &&
                  (clearTimeout(this.backupTimer_), (this.backupTimer_ = -1));
              },
            },
            {
              key: "clearReconnectionTimer",
              value: function () {
                this.reconnectionTimer_ !== -1 &&
                  (clearTimeout(this.reconnectionTimer_),
                  (this.reconnectionTimer_ = -1));
              },
            },
            {
              key: "onopen",
              value: function (c) {
                if (!this.isConnected_) {
                  (this.isConnected_ = !0),
                    (this.isConnecting_ = !1),
                    this.isReconnecting_ &&
                      Ka(this.signalInfo_) &&
                      this.stopReconnection(),
                    this.clearBackupTimer(),
                    c.target === this.socket_
                      ? (this.unbindAndCloseSocket(Ii),
                        (this.socketInUse_ = this.socket_))
                      : (this.unbindAndCloseSocket(jt),
                        (this.socketInUse_ = this.backupSocket_));
                  var o = c.target.url;
                  this.log_.info("websocket[".concat(o, "] is connected")),
                    this.currentState_ === uI
                      ? this.addSignalEvent(q9, "signal channel is connected")
                      : this.currentState_ === N0 &&
                        this.addSignalEvent(
                          Y9,
                          "signal channel reconnect success"
                        ),
                    this.emitConnectionStateChanged(qd),
                    this.emitter_.emit(Gd);
                }
              },
            },
            {
              key: "onclose",
              value: function (c) {
                var o = c.target.url,
                  l = c.target === this.socketInUse_;
                if (
                  (this.log_.info(
                    "websocket["
                      .concat(o, " InUse: ")
                      .concat(l, "] is closed with code: ")
                      .concat(c.code)
                  ),
                  l &&
                    ((this.isConnected_ = !1),
                    this.emitConnectionStateChanged(Gp),
                    this.addSignalEvent(G9, "signal channel is disconnected"),
                    !c.wasClean || c.code !== 1e3))
                ) {
                  this.log_.warn(
                    "onclose code:".concat(c.code, " reason:").concat(c.reason)
                  ),
                    this.log_.warn(
                      "close current websocket and schedule a reconnect timeout"
                    ),
                    (this.socketInUse_.onclose = function () {}),
                    this.socketInUse_.close(4011);
                  var h = this.socketInUse_ === this.socket_;
                  (this.socket_ =
                    this.backupSocket_ =
                    this.socketInUse_ =
                      null),
                    this.reconnect(h ? Ii : jt);
                }
              },
            },
            {
              key: "onerror",
              value: function (c) {
                var o = c.target.url;
                if (
                  (this.log_.error("websocket[".concat(o, "] error observed")),
                  this.isConnected_)
                ) {
                  if (c.target === this.socketInUse_) {
                    (this.isConnected_ = !1),
                      this.unbindAndCloseSocket(jt),
                      this.unbindAndCloseSocket(Ii);
                    var l = this.socketInUse_ === this.socket_;
                    (this.socketInUse_ = null), this.reconnect(l ? Ii : jt);
                  }
                } else
                  this.isReconnecting_ ||
                    st.logFailedEvent({
                      userId: this.client_.getUserId(),
                      eventType: gy,
                      code: ke.UNKNOWN,
                    }),
                    c.target == this.socket_
                      ? (this.unbindAndCloseSocket(jt), this.reconnect(Ii))
                      : (this.unbindAndCloseSocket(Ii), this.reconnect(jt));
                (this.isConnecting_ = !1), (this.isConnected_ = !1);
              },
            },
            {
              key: "onmessage",
              value: function (c) {
                if (this.isConnected_) {
                  this.lastMessageTime_ = Date.now();
                  var o = JSON.parse(c.data),
                    l = o.cmd,
                    h = o.data,
                    p = Object.values(qa),
                    g = Object.keys(qa)[p.indexOf(l)],
                    _ = en[g];
                  switch (
                    (s9.includes(l) ||
                      (this.log_.debug("received msg: ".concat(c.data)),
                      this.log_.info(
                        "Received event: [ ".concat(
                          _ || "unknown cmd: " + l,
                          " ]"
                        )
                      )),
                    l)
                  ) {
                    case qa.CHANNEL_SETUP_RESULT:
                      if (o.code === 0)
                        (this.signalInfo_.clientIp = h.clientIp),
                          (this.signalInfo_.signalIp = h.signalInnerIp),
                          (this.signalInfo_.tinyId = o.tinyId),
                          h.svrTime &&
                            (function (R) {
                              P_ = R - /* @__PURE__ */ new Date().getTime();
                              var N = /* @__PURE__ */ new Date();
                              N.setTime(R),
                                it.info(
                                  "baseTime from server: " +
                                    N +
                                    " offset: " +
                                    P_
                                );
                            })(h.svrTime),
                          this.log_.info("ChannelSetup Success"),
                          st.logSuccessEvent({
                            userId: this.userId_,
                            eventType: gy,
                          }),
                          this.emitter_.emit(oI, {
                            signalInfo: this.signalInfo_,
                          });
                      else {
                        var b = new Ie({
                          code: ke.SIGNAL_CHANNEL_SETUP_FAILED,
                          extraCode: o.code,
                          message: Le({
                            key: d7,
                            data: { errorCode: o.code, errorMsg: o.message },
                          }),
                        });
                        this.log_.error(
                          "".concat(o.code, ", ").concat(o.message)
                        ),
                          this.close(),
                          st.logFailedEvent({
                            userId: this.userId_,
                            eventType: gy,
                            error: b,
                          }),
                          this.emitter_.emit(sI, b);
                      }
                      break;
                    case qa.JOIN_ROOM_RESULT:
                      o.code === 0 &&
                        ((this.signalInfo_.relayIp = h.relayOuterIp),
                        (this.signalInfo_.relayInnerIp = h.relayInnerIp),
                        (this.signalInfo_.relayPort = h.relayPort),
                        this.log_.info(
                          "signalIp:"
                            .concat(this.signalInfo_.signalIp, " clientIp:")
                            .concat(this.signalInfo_.clientIp, " relayIp: ")
                            .concat(this.signalInfo_.relayIp)
                        )),
                        this.emitter_.emit(_, { data: o });
                      break;
                    case qa.CHANNEL_RECONNECT_RESULT:
                      o.code === 0
                        ? (this.log_.warn("reconnect success"),
                          this.stopReconnection(),
                          st.logSuccessEvent({
                            userId: this.userId_,
                            eventType: RT,
                          }),
                          this.client_.syncUserList(),
                          this.client_.checkConnectionsToReconnect())
                        : (this.log_.warn(
                            "reconnect failed, "
                              .concat(o.code, " ")
                              .concat(o.message)
                          ),
                          this.client_.reJoin());
                      break;
                    default:
                      this.emitter_.emit(_, { data: o });
                  }
                }
              },
            },
            {
              key: "addSignalEvent",
              value: function (c, o) {
                xr(this.userId_, {
                  eventId: c,
                  eventDesc: o,
                  timestamp: hr(),
                  userId: this.userId_,
                  tinyId: this.signalInfo_.tinyId,
                });
              },
            },
            {
              key: "reconnect",
              value:
                ((n = C(
                  m().mark(function a() {
                    var c,
                      o,
                      l,
                      h,
                      p = this,
                      g = arguments;
                    return m().wrap(
                      function (_) {
                        for (;;)
                          switch ((_.prev = _.next)) {
                            case 0:
                              if (
                                ((c =
                                  g.length > 0 && g[0] !== void 0 ? g[0] : jt),
                                !this.isConnecting_ &&
                                  this.reconnectionTimer_ === -1)
                              ) {
                                _.next = 4;
                                break;
                              }
                              return (
                                this.log_.info(
                                  "signal channel is reconnecting, ignoring current reconnection"
                                ),
                                _.abrupt("return")
                              );
                            case 4:
                              if (
                                (ye.emit(jE, this.client_),
                                !(this.reconnectionCount_ >= my))
                              ) {
                                _.next = 12;
                                break;
                              }
                              return (
                                this.log_.warn(
                                  "SDK has tried reconnect signal channel for ".concat(
                                    my,
                                    " times, but all failed. please check your network"
                                  )
                                ),
                                (o = new Ie({
                                  code: ke.SIGNAL_CHANNEL_RECONNECTION_FAILED,
                                  message: Le({ key: l7 }),
                                })),
                                st.logFailedEvent({
                                  userId: this.client_.getUserId(),
                                  eventType: RT,
                                  error: o,
                                }),
                                this.addSignalEvent(
                                  Z9,
                                  "signal channel reconnect fail"
                                ),
                                this.emitter_.emit(D0, o),
                                _.abrupt("return")
                              );
                            case 12:
                              if (
                                ((this.isConnecting_ = !0),
                                this.reconnectionCount_++,
                                this.currentState_ !== N0 &&
                                  (this.emitConnectionStateChanged(N0),
                                  this.addSignalEvent(
                                    $9,
                                    "signal channel is reconnecting"
                                  )),
                                this.log_.warn(
                                  "reconnecting to "
                                    .concat(c, " signal channel [")
                                    .concat(this.reconnectionCount_, "/")
                                    .concat(my, "]")
                                ),
                                !(
                                  this.reconnectionCount_ >= 3 &&
                                  this.reconnectionCount_ % 3 == 0
                                ))
                              ) {
                                _.next = 20;
                                break;
                              }
                              return (
                                this.log_.warn("re-schedule to get new ws url"),
                                (_.next = 20),
                                this.reGetSignalChannelUrl()
                              );
                            case 20:
                              (l = this.getReconnectionUrl(c)),
                                c === jt
                                  ? ((this.socket_ = new WebSocket(l)),
                                    this.bindSocket(this.socket_))
                                  : ((this.backupSocket_ = new WebSocket(l)),
                                    this.bindSocket(this.backupSocket_)),
                                (h = Xy(this.reconnectionCount_)),
                                (this.reconnectionTimer_ = setTimeout(
                                  function () {
                                    p.log_.warn(
                                      "reconnect "
                                        .concat(c, " signal channel timeout(")
                                        .concat(
                                          h / 1e3,
                                          "s), close and try again"
                                        )
                                    ),
                                      (p.isConnecting_ = !1),
                                      p.clearReconnectionTimer(),
                                      p.unbindAndCloseSocket(c),
                                      p.reconnect(c === jt ? Ii : jt);
                                  },
                                  h
                                ));
                            case 24:
                            case "end":
                              return _.stop();
                          }
                      },
                      a,
                      this
                    );
                  })
                )),
                function () {
                  return n.apply(this, arguments);
                }),
            },
            {
              key: "reGetSignalChannelUrl",
              value:
                ((e = C(
                  m().mark(function a() {
                    var c, o, l, h;
                    return m().wrap(
                      function (p) {
                        for (;;)
                          switch ((p.prev = p.next)) {
                            case 0:
                              if (
                                ((p.prev = 0),
                                !this.client_.getWSProxy() &&
                                  !this.client_.getUnifiedProxy())
                              ) {
                                p.next = 3;
                                break;
                              }
                              return p.abrupt("return");
                            case 3:
                              return (
                                jo(!0),
                                (p.next = 6),
                                this.client_.schedule(this.client_.getRoomId())
                              );
                            case 6:
                              (c = this.client_.getSignalChannelUrl()),
                                (o = c.mainUrl),
                                (l = c.backupUrl),
                                (this.url_ = o),
                                (this.backupUrl_ = l),
                                (h = new URLSearchParams(this.urlParams)).has(
                                  "signalDomain"
                                ) &&
                                  (h.set("signalDomain", o),
                                  (this.urlParams = h.toString())),
                                (p.next = 15);
                              break;
                            case 13:
                              (p.prev = 13), (p.t0 = p.catch(0));
                            case 15:
                            case "end":
                              return p.stop();
                          }
                      },
                      a,
                      this,
                      [[0, 13]]
                    );
                  })
                )),
                function () {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "isConnected",
              value: function () {
                return this.isConnected_;
              },
            },
            {
              key: "isReconnecting_",
              get: function () {
                return this.reconnectionTimer_ !== -1;
              },
            },
            {
              key: "getReconnectionUrl",
              value: function (c) {
                var o =
                  c === jt ? this.urlWithParam_ : this.backupUrlWithParam_;
                if (!Ka(this.signalInfo_) && o.indexOf("&rc=1") === -1) {
                  var l = this.client_.getRoomId(),
                    h = this.client_.getUseStringRoomId();
                  o += "&rc=1&relayInnerIp="
                    .concat(this.signalInfo_.relayInnerIp, "&relayOuterIp=")
                    .concat(this.signalInfo_.relayIp, "&relayPort=")
                    .concat(this.signalInfo_.relayPort, "&roomId=")
                    .concat(l, "&useStringRoomId=")
                    .concat(h);
                }
                return o;
              },
            },
            {
              key: "send",
              value: function (c) {
                var o =
                  arguments.length > 1 && arguments[1] !== void 0
                    ? arguments[1]
                    : {};
                if (this.isConnected_) {
                  var l = {
                    cmd: c,
                    data: o,
                    userId: this.userId_,
                    tinyId: this.signalInfo_.tinyId,
                    seq: ++this.seq_,
                  };
                  return this.socketInUse_.send(JSON.stringify(l)), l.seq;
                }
              },
            },
            {
              key: "sendWaitForResponse",
              value: function (c) {
                var o = this,
                  l = c.command,
                  h = c.data,
                  p = c.timeout,
                  g = p === void 0 ? 5e3 : p,
                  _ = c.responseCommand,
                  b = c.commandDesc,
                  R = c.enableLog,
                  N = R === void 0 || R;
                return new Promise(function (B, F) {
                  var U = setTimeout(function () {
                      o.off(_, T);
                      var L = new Ie({
                        code: ke.API_CALL_TIMEOUT,
                        message: Le({
                          key: c7,
                          data: { commandDesc: b, command: l },
                        }),
                      });
                      N && o.log_.warn(L), F(L);
                    }, g),
                    T = function L($) {
                      $.data.seq === A && (clearTimeout(U), o.off(_, L), B($));
                    };
                  o.on(_, T);
                  var A = o.send(l, h);
                });
              },
            },
            {
              key: "sendWaitForResponseWithRetry",
              value: function () {
                var c = this,
                  o = arguments.length <= 0 ? void 0 : arguments[0],
                  l = o.commandDesc,
                  h = o.command,
                  p = o.retries,
                  g = p === void 0 ? 0 : p,
                  _ = o.retryTimeout,
                  b = _ === void 0 ? 0 : _;
                return Wd({
                  retryFunction: this.sendWaitForResponse,
                  onRetrying: function (N) {
                    c.log_.warn(
                      ""
                        .concat(l || h, " timeout observed, retrying [")
                        .concat(N, "/")
                        .concat(g, "]")
                    );
                  },
                  settings: { retries: g, timeout: b },
                  context: this,
                }).apply(void 0, arguments);
              },
            },
            {
              key: "getCurrentState",
              value: function () {
                return this.currentState_;
              },
            },
            {
              key: "getSignalInfo",
              value: function () {
                return this.signalInfo_;
              },
            },
            {
              key: "stopReconnection",
              value: function () {
                this.isReconnecting_ &&
                  ((this.reconnectionCount_ = 0),
                  this.clearReconnectionTimer());
              },
            },
            {
              key: "close",
              value: function () {
                this.log_.info("close SignalChannel"),
                  this.clearBackupTimer(),
                  this.stopReconnection(),
                  (this.signalInfo_ = {}),
                  (this.isConnecting_ = !1),
                  (this.isConnected_ = !1),
                  (this.socketInUse_ = null),
                  this.unbindAndCloseSocket(jt),
                  this.unbindAndCloseSocket(Ii),
                  this.emitConnectionStateChanged(Gp);
              },
            },
            {
              key: "on",
              value: function (c, o, l) {
                this.emitter_.on(c, o, l);
              },
            },
            {
              key: "removeListener",
              value: function (c, o, l) {
                this.emitter_.removeListener(c, o, l);
              },
            },
            {
              key: "once",
              value: function (c, o, l) {
                this.emitter_.once(c, o, l);
              },
            },
            {
              key: "off",
              value: function (c, o, l) {
                this.emitter_.off(c, o, l);
              },
            },
            {
              key: "emitConnectionStateChanged",
              value: function (c) {
                c !== this.currentState_ &&
                  (this.emitter_.emit(O0, {
                    prevState: this.currentState_,
                    state: c,
                  }),
                  (this.currentState_ = c));
              },
            },
          ]),
          s
        );
      })(),
      wF = Tt,
      kF = dr.find,
      TF = Qu,
      wI = "find",
      kI = !0;
    wI in [] &&
      Array(1).find(function () {
        kI = !1;
      }),
      wF(
        { target: "Array", proto: !0, forced: kI },
        {
          find: function (e) {
            return kF(this, e, arguments.length > 1 ? arguments[1] : void 0);
          },
        }
      ),
      TF(wI);
    var Ai = {},
      TI = {},
      H0 = { exports: {} },
      EI = (H0.exports = {
        v: [{ name: "version", reg: /^(\d*)$/ }],
        o: [
          {
            name: "origin",
            reg: /^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,
            names: [
              "username",
              "sessionId",
              "sessionVersion",
              "netType",
              "ipVer",
              "address",
            ],
            format: "%s %s %d %s IP%d %s",
          },
        ],
        s: [{ name: "name" }],
        i: [{ name: "description" }],
        u: [{ name: "uri" }],
        e: [{ name: "email" }],
        p: [{ name: "phone" }],
        z: [{ name: "timezones" }],
        r: [{ name: "repeats" }],
        t: [
          {
            name: "timing",
            reg: /^(\d*) (\d*)/,
            names: ["start", "stop"],
            format: "%d %d",
          },
        ],
        c: [
          {
            name: "connection",
            reg: /^IN IP(\d) (\S*)/,
            names: ["version", "ip"],
            format: "IN IP%d %s",
          },
        ],
        b: [
          {
            push: "bandwidth",
            reg: /^(TIAS|AS|CT|RR|RS):(\d*)/,
            names: ["type", "limit"],
            format: "%s:%s",
          },
        ],
        m: [
          {
            reg: /^(\w*) (\d*) ([\w/]*)(?: (.*))?/,
            names: ["type", "port", "protocol", "payloads"],
            format: "%s %d %s %s",
          },
        ],
        a: [
          {
            push: "rtp",
            reg: /^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,
            names: ["payload", "codec", "rate", "encoding"],
            format: function (e) {
              return e.encoding
                ? "rtpmap:%d %s/%s/%s"
                : e.rate
                ? "rtpmap:%d %s/%s"
                : "rtpmap:%d %s";
            },
          },
          {
            push: "fmtp",
            reg: /^fmtp:(\d*) ([\S| ]*)/,
            names: ["payload", "config"],
            format: "fmtp:%d %s",
          },
          { name: "control", reg: /^control:(.*)/, format: "control:%s" },
          {
            name: "rtcp",
            reg: /^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,
            names: ["port", "netType", "ipVer", "address"],
            format: function (e) {
              return e.address != null ? "rtcp:%d %s IP%d %s" : "rtcp:%d";
            },
          },
          {
            push: "rtcpFbTrrInt",
            reg: /^rtcp-fb:(\*|\d*) trr-int (\d*)/,
            names: ["payload", "value"],
            format: "rtcp-fb:%s trr-int %d",
          },
          {
            push: "rtcpFb",
            reg: /^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,
            names: ["payload", "type", "subtype"],
            format: function (e) {
              return e.subtype != null ? "rtcp-fb:%s %s %s" : "rtcp-fb:%s %s";
            },
          },
          {
            push: "ext",
            reg: /^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,
            names: ["value", "direction", "encrypt-uri", "uri", "config"],
            format: function (e) {
              return (
                "extmap:%d" +
                (e.direction ? "/%s" : "%v") +
                (e["encrypt-uri"] ? " %s" : "%v") +
                " %s" +
                (e.config ? " %s" : "")
              );
            },
          },
          { name: "extmapAllowMixed", reg: /^(extmap-allow-mixed)/ },
          {
            push: "crypto",
            reg: /^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,
            names: ["id", "suite", "config", "sessionConfig"],
            format: function (e) {
              return e.sessionConfig != null
                ? "crypto:%d %s %s %s"
                : "crypto:%d %s %s";
            },
          },
          { name: "setup", reg: /^setup:(\w*)/, format: "setup:%s" },
          {
            name: "connectionType",
            reg: /^connection:(new|existing)/,
            format: "connection:%s",
          },
          { name: "mid", reg: /^mid:([^\s]*)/, format: "mid:%s" },
          { name: "msid", reg: /^msid:(.*)/, format: "msid:%s" },
          { name: "ptime", reg: /^ptime:(\d*(?:\.\d*)*)/, format: "ptime:%d" },
          {
            name: "maxptime",
            reg: /^maxptime:(\d*(?:\.\d*)*)/,
            format: "maxptime:%d",
          },
          { name: "direction", reg: /^(sendrecv|recvonly|sendonly|inactive)/ },
          { name: "icelite", reg: /^(ice-lite)/ },
          { name: "iceUfrag", reg: /^ice-ufrag:(\S*)/, format: "ice-ufrag:%s" },
          { name: "icePwd", reg: /^ice-pwd:(\S*)/, format: "ice-pwd:%s" },
          {
            name: "fingerprint",
            reg: /^fingerprint:(\S*) (\S*)/,
            names: ["type", "hash"],
            format: "fingerprint:%s %s",
          },
          {
            push: "candidates",
            reg: /^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,
            names: [
              "foundation",
              "component",
              "transport",
              "priority",
              "ip",
              "port",
              "type",
              "raddr",
              "rport",
              "tcptype",
              "generation",
              "network-id",
              "network-cost",
            ],
            format: function (e) {
              var n = "candidate:%s %d %s %d %s %d typ %s";
              return (
                (n += e.raddr != null ? " raddr %s rport %d" : "%v%v"),
                (n += e.tcptype != null ? " tcptype %s" : "%v"),
                e.generation != null && (n += " generation %d"),
                (n += e["network-id"] != null ? " network-id %d" : "%v"),
                (n += e["network-cost"] != null ? " network-cost %d" : "%v")
              );
            },
          },
          { name: "endOfCandidates", reg: /^(end-of-candidates)/ },
          {
            name: "remoteCandidates",
            reg: /^remote-candidates:(.*)/,
            format: "remote-candidates:%s",
          },
          {
            name: "iceOptions",
            reg: /^ice-options:(\S*)/,
            format: "ice-options:%s",
          },
          {
            push: "ssrcs",
            reg: /^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,
            names: ["id", "attribute", "value"],
            format: function (e) {
              var n = "ssrc:%d";
              return (
                e.attribute != null &&
                  ((n += " %s"), e.value != null && (n += ":%s")),
                n
              );
            },
          },
          {
            push: "ssrcGroups",
            reg: /^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,
            names: ["semantics", "ssrcs"],
            format: "ssrc-group:%s %s",
          },
          {
            name: "msidSemantic",
            reg: /^msid-semantic:\s?(\w*) (\S*)/,
            names: ["semantic", "token"],
            format: "msid-semantic: %s %s",
          },
          {
            push: "groups",
            reg: /^group:(\w*) (.*)/,
            names: ["type", "mids"],
            format: "group:%s %s",
          },
          { name: "rtcpMux", reg: /^(rtcp-mux)/ },
          { name: "rtcpRsize", reg: /^(rtcp-rsize)/ },
          {
            name: "sctpmap",
            reg: /^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,
            names: ["sctpmapNumber", "app", "maxMessageSize"],
            format: function (e) {
              return e.maxMessageSize != null
                ? "sctpmap:%s %s %s"
                : "sctpmap:%s %s";
            },
          },
          {
            name: "xGoogleFlag",
            reg: /^x-google-flag:([^\s]*)/,
            format: "x-google-flag:%s",
          },
          {
            push: "rids",
            reg: /^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,
            names: ["id", "direction", "params"],
            format: function (e) {
              return e.params ? "rid:%s %s %s" : "rid:%s %s";
            },
          },
          {
            push: "imageattrs",
            reg: new RegExp(
              "^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"
            ),
            names: ["pt", "dir1", "attrs1", "dir2", "attrs2"],
            format: function (e) {
              return "imageattr:%s %s %s" + (e.dir2 ? " %s %s" : "");
            },
          },
          {
            name: "simulcast",
            reg: new RegExp(
              "^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"
            ),
            names: ["dir1", "list1", "dir2", "list2"],
            format: function (e) {
              return "simulcast:%s %s" + (e.dir2 ? " %s %s" : "");
            },
          },
          {
            name: "simulcast_03",
            reg: /^simulcast:[\s\t]+([\S+\s\t]+)$/,
            names: ["value"],
            format: "simulcast: %s",
          },
          {
            name: "framerate",
            reg: /^framerate:(\d+(?:$|\.\d+))/,
            format: "framerate:%s",
          },
          {
            name: "sourceFilter",
            reg: /^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,
            names: [
              "filterMode",
              "netType",
              "addressTypes",
              "destAddress",
              "srcList",
            ],
            format: "source-filter: %s %s %s %s %s",
          },
          { name: "bundleOnly", reg: /^(bundle-only)/ },
          { name: "label", reg: /^label:(.+)/, format: "label:%s" },
          {
            name: "sctpPort",
            reg: /^sctp-port:(\d+)$/,
            format: "sctp-port:%s",
          },
          {
            name: "maxMessageSize",
            reg: /^max-message-size:(\d+)$/,
            format: "max-message-size:%s",
          },
          {
            push: "tsRefClocks",
            reg: /^ts-refclk:([^\s=]*)(?:=(\S*))?/,
            names: ["clksrc", "clksrcExt"],
            format: function (e) {
              return "ts-refclk:%s" + (e.clksrcExt != null ? "=%s" : "");
            },
          },
          {
            name: "mediaClk",
            reg: /^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,
            names: [
              "id",
              "mediaClockName",
              "mediaClockValue",
              "rateNumerator",
              "rateDenominator",
            ],
            format: function (e) {
              var n = "mediaclk:";
              return (
                (n += e.id != null ? "id=%s %s" : "%v%s"),
                (n += e.mediaClockValue != null ? "=%s" : ""),
                (n += e.rateNumerator != null ? " rate=%s" : ""),
                (n += e.rateDenominator != null ? "/%s" : "")
              );
            },
          },
          { name: "keywords", reg: /^keywds:(.+)$/, format: "keywds:%s" },
          { name: "content", reg: /^content:(.+)/, format: "content:%s" },
          {
            name: "bfcpFloorCtrl",
            reg: /^floorctrl:(c-only|s-only|c-s)/,
            format: "floorctrl:%s",
          },
          { name: "bfcpConfId", reg: /^confid:(\d+)/, format: "confid:%s" },
          { name: "bfcpUserId", reg: /^userid:(\d+)/, format: "userid:%s" },
          {
            name: "bfcpFloorId",
            reg: /^floorid:(.+) (?:m-stream|mstrm):(.+)/,
            names: ["id", "mStream"],
            format: "floorid:%s mstrm:%s",
          },
          { push: "invalid", names: ["value"] },
        ],
      });
    Object.keys(EI).forEach(function (s) {
      EI[s].forEach(function (e) {
        e.reg || (e.reg = /(.*)/), e.format || (e.format = "%s");
      });
    }),
      (function (s) {
        var e = function (h) {
            return String(Number(h)) === h ? Number(h) : h;
          },
          n = function (h, p, g) {
            var _ = h.name && h.names;
            h.push && !p[h.push]
              ? (p[h.push] = [])
              : _ && !p[h.name] && (p[h.name] = {});
            var b = h.push ? {} : _ ? p[h.name] : p;
            (function (R, N, B, F) {
              if (F && !B) N[F] = e(R[1]);
              else
                for (var U = 0; U < B.length; U += 1)
                  R[U + 1] != null && (N[B[U]] = e(R[U + 1]));
            })(g.match(h.reg), b, h.names, h.name),
              h.push && p[h.push].push(b);
          },
          a = H0.exports,
          c = RegExp.prototype.test.bind(/^([a-z])=(.*)/);
        s.parse = function (l) {
          var h = {},
            p = [],
            g = h;
          return (
            l
              .split(/(\r\n|\r|\n)/)
              .filter(c)
              .forEach(function (_) {
                var b = _[0],
                  R = _.slice(2);
                b === "m" &&
                  (p.push({ rtp: [], fmtp: [] }), (g = p[p.length - 1]));
                for (var N = 0; N < (a[b] || []).length; N += 1) {
                  var B = a[b][N];
                  if (B.reg.test(R)) return n(B, g, R);
                }
              }),
            (h.media = p),
            h
          );
        };
        var o = function (h, p) {
          var g = p.split(/=(.+)/, 2);
          return (
            g.length === 2
              ? (h[g[0]] = e(g[1]))
              : g.length === 1 && p.length > 1 && (h[g[0]] = void 0),
            h
          );
        };
        (s.parseParams = function (l) {
          return l.split(/;\s?/).reduce(o, {});
        }),
          (s.parseFmtpConfig = s.parseParams),
          (s.parsePayloads = function (l) {
            return l.toString().split(" ").map(Number);
          }),
          (s.parseRemoteCandidates = function (l) {
            for (
              var h = [], p = l.split(" ").map(e), g = 0;
              g < p.length;
              g += 3
            )
              h.push({ component: p[g], ip: p[g + 1], port: p[g + 2] });
            return h;
          }),
          (s.parseImageAttributes = function (l) {
            return l.split(" ").map(function (h) {
              return h
                .substring(1, h.length - 1)
                .split(",")
                .reduce(o, {});
            });
          }),
          (s.parseSimulcastStreamList = function (l) {
            return l.split(";").map(function (h) {
              return h.split(",").map(function (p) {
                var g,
                  _ = !1;
                return (
                  p[0] !== "~"
                    ? (g = e(p))
                    : ((g = e(p.substring(1, p.length))), (_ = !0)),
                  { scid: g, paused: _ }
                );
              });
            });
          });
      })(TI);
    var z0 = H0.exports,
      EF = /%[sdv%]/g,
      IF = function (e) {
        var n = 1,
          a = arguments,
          c = a.length;
        return e.replace(EF, function (o) {
          if (n >= c) return o;
          var l = a[n];
          switch (((n += 1), o)) {
            case "%%":
              return "%";
            case "%s":
              return String(l);
            case "%d":
              return Number(l);
            case "%v":
              return "";
          }
        });
      },
      $d = function (e, n, a) {
        var c = [
          e +
            "=" +
            (n.format instanceof Function
              ? n.format(n.push ? a : a[n.name])
              : n.format),
        ];
        if (n.names)
          for (var o = 0; o < n.names.length; o += 1) {
            var l = n.names[o];
            n.name ? c.push(a[n.name][l]) : c.push(a[n.names[o]]);
          }
        else c.push(a[n.name]);
        return IF.apply(null, c);
      },
      RF = ["v", "o", "s", "i", "u", "e", "p", "c", "b", "t", "r", "z", "a"],
      CF = ["i", "c", "b", "a"],
      eu = TI,
      AF = function (e, n) {
        (n = n || {}),
          e.version == null && (e.version = 0),
          e.name == null && (e.name = " "),
          e.media.forEach(function (l) {
            l.payloads == null && (l.payloads = "");
          });
        var a = n.outerOrder || RF,
          c = n.innerOrder || CF,
          o = [];
        return (
          a.forEach(function (l) {
            z0[l].forEach(function (h) {
              h.name in e && e[h.name] != null
                ? o.push($d(l, h, e))
                : h.push in e &&
                  e[h.push] != null &&
                  e[h.push].forEach(function (p) {
                    o.push($d(l, h, p));
                  });
            });
          }),
          e.media.forEach(function (l) {
            o.push($d("m", z0.m[0], l)),
              c.forEach(function (h) {
                z0[h].forEach(function (p) {
                  p.name in l && l[p.name] != null
                    ? o.push($d(h, p, l))
                    : p.push in l &&
                      l[p.push] != null &&
                      l[p.push].forEach(function (g) {
                        o.push($d(h, p, g));
                      });
                });
              });
          }),
          o.join(`\r
`) +
            `\r
`
        );
      };
    (Ai.write = AF),
      (Ai.parse = eu.parse),
      (Ai.parseParams = eu.parseParams),
      (Ai.parseFmtpConfig = eu.parseFmtpConfig),
      (Ai.parsePayloads = eu.parsePayloads),
      (Ai.parseRemoteCandidates = eu.parseRemoteCandidates),
      (Ai.parseImageAttributes = eu.parseImageAttributes),
      (Ai.parseSimulcastStreamList = eu.parseSimulcastStreamList);
    var W0,
      G0,
      q0,
      K0,
      Ja = function (e) {
        return Ai.parse(e);
      },
      Uc = function (e) {
        return Ai.write(e);
      },
      xF = function (e) {
        var n = Ja(e);
        return (
          n.media.forEach(function (a) {
            a.type === mt &&
              a.fmtp.forEach(function (c) {
                c.config += ";sprop-stereo=1;stereo=1";
              });
          }),
          Uc(n)
        );
      },
      II =
        ((W0 = window) === null || W0 === void 0
          ? void 0
          : W0.requestIdleCallback) ||
        function (s) {
          var e = Date.now();
          return setTimeout(function () {
            s({
              didTimeout: !1,
              timeRemaining: function () {
                return Math.max(0, 50 - (Date.now() - e));
              },
            });
          }, 1e3);
        },
      PF =
        ((G0 = window) === null || G0 === void 0
          ? void 0
          : G0.cancelIdleCallback) ||
        function (s) {
          clearTimeout(s);
        },
      OF =
        ((q0 = window) === null || q0 === void 0
          ? void 0
          : q0.cancelAnimationFrame) ||
        ((K0 = window) === null || K0 === void 0
          ? void 0
          : K0.mozCancelAnimationFrame),
      un = (function () {
        function s() {
          G(this, s);
        }
        return (
          ce(s, null, [
            {
              key: "generateTaskID",
              value: function () {
                return this.currentTaskID++;
              },
            },
            {
              key: "run",
              value: function () {
                var n =
                    arguments.length > 0 && arguments[0] !== void 0
                      ? arguments[0]
                      : JT,
                  a = arguments.length > 1 ? arguments[1] : void 0,
                  c = arguments.length > 2 ? arguments[2] : void 0;
                (c = v(
                  v(
                    {},
                    n === QM
                      ? { delay: 2e3, count: 0, backgroundTask: !0 }
                      : n === Rc
                      ? { delay: 1e4, count: 0 }
                      : n === Cp
                      ? { fps: 60, delay: 16.6, count: 0, backgroundTask: !0 }
                      : { delay: 2e3, count: 0, backgroundTask: !0 }
                  ),
                  c
                )),
                  AE(a) && (c = v(v({}, c), a)),
                  gr(n) && ((a = n), (n = JT));
                var o = v(
                  {
                    taskID: this.generateTaskID(),
                    loopCount: 0,
                    intervalID: null,
                    timeoutID: null,
                    rafID: null,
                    ricID: null,
                    taskName: n,
                    callback: a,
                  },
                  c
                );
                return this.taskMap.set(o.taskID, o), this[n](o), o.taskID;
              },
            },
            {
              key: "interval",
              value: function (n) {
                var a = this;
                return (n.intervalID = setInterval(function () {
                  n.callback(), (n.loopCount += 1), a.isBreakLoop(n);
                }, n.delay));
              },
            },
            {
              key: "timeout",
              value: function (n) {
                var a = this;
                return (n.timeoutID = setTimeout(function c() {
                  if ((n.callback(), (n.loopCount += 1), !a.isBreakLoop(n)))
                    return (n.timeoutID = setTimeout(c, n.delay));
                }, n.delay));
              },
            },
            {
              key: "ric",
              value: function (n) {
                var a,
                  c = this,
                  o = En();
                return (n.ricID = II(
                  function l() {
                    if (
                      ((a = En() - o) >= n.delay &&
                        ((o = En() - Math.floor(a % n.delay)),
                        n.callback(),
                        (n.loopCount += 1)),
                      !c.isBreakLoop(n))
                    )
                      return (n.ricID = II(l, { timeout: n.delay }));
                  },
                  { timeout: n.delay }
                ));
              },
            },
            {
              key: "raf",
              value: function (n) {
                var a = this;
                n.delay = (1e3 / n.fps).toFixed(2);
                var c,
                  o = En(),
                  l = function p() {
                    if (document.hidden && n.backgroundTask)
                      return (
                        (c = En() - o),
                        (o = En()),
                        n.callback(),
                        (n.loopCount += 1),
                        a.isBreakLoop(n)
                          ? void 0
                          : (n.timeoutID = setTimeout(
                              p,
                              n.delay - Math.floor(c % n.delay)
                            ))
                      );
                    if (
                      ((c = En() - o) >= n.delay &&
                        ((o = En() - Math.floor(c % n.delay)),
                        n.callback(),
                        (n.loopCount += 1)),
                      !a.isBreakLoop(n))
                    )
                      return (n.rafID = requestAnimationFrame(p));
                  };
                if (((n.rafID = requestAnimationFrame(l)), n.backgroundTask)) {
                  var h = function () {
                    if (document.hidden) {
                      var g = En() - o;
                      g >= n.delay
                        ? l()
                        : (n.timeoutID = setTimeout(l, n.delay - g));
                    }
                  };
                  document.addEventListener("visibilitychange", h),
                    (n.onVisibilitychange = h),
                    document.hidden && h();
                }
                return n.taskID;
              },
            },
            {
              key: "hasTask",
              value: function (n) {
                return this.taskMap.has(n);
              },
            },
            {
              key: "clearTask",
              value: function (n) {
                if (!this.taskMap.has(n)) return !0;
                var a = this.taskMap.get(n),
                  c = a.intervalID,
                  o = a.timeoutID,
                  l = a.rafID,
                  h = a.ricID,
                  p = a.onVisibilitychange;
                return (
                  c && clearInterval(c),
                  o && clearTimeout(o),
                  l && OF(l),
                  h && PF(h),
                  p && document.removeEventListener("visibilitychange", p),
                  this.taskMap.delete(n),
                  !0
                );
              },
            },
            {
              key: "isBreakLoop",
              value: function (n) {
                return (
                  !this.taskMap.has(n.taskID) ||
                  (n.count !== 0 &&
                    n.loopCount >= n.count &&
                    (this.clearTask(n.taskID), !0))
                );
              },
            },
          ]),
          s
        );
      })();
    de(un, "taskMap", /* @__PURE__ */ new Map()), de(un, "currentTaskID", 1);
    var DF = (function () {
        function s() {
          G(this, s),
            (this.prefix_ = "TRTC"),
            (this.queue_ = /* @__PURE__ */ new Map()),
            this.checkStorage();
        }
        return (
          ce(s, [
            {
              key: "getRealKey",
              value: function (n) {
                return "".concat(this.prefix_, "_").concat(n);
              },
            },
            {
              key: "checkStorage",
              value: function () {
                var n = this;
                if ($s()) {
                  var a = Object.keys(localStorage).filter(function (c) {
                    if (c.startsWith(n.prefix_)) {
                      var o = JSON.parse(localStorage.getItem(c));
                      if (o && o.expiresIn < Date.now()) return !0;
                    }
                    return !1;
                  });
                  a.forEach(function (c) {
                    return localStorage.removeItem(c);
                  });
                }
              },
            },
            {
              key: "doFlush",
              value: function () {
                if ($s())
                  try {
                    var n,
                      a = We(this.queue_);
                    try {
                      for (a.s(); !(n = a.n()).done; ) {
                        var c = wt(n.value, 2),
                          o = c[0],
                          l = c[1];
                        localStorage.setItem(o, JSON.stringify(l));
                      }
                    } catch (h) {
                      a.e(h);
                    } finally {
                      a.f();
                    }
                  } catch (h) {
                    it.warn(h);
                  }
              },
            },
            {
              key: "getItem",
              value: function (n) {
                if (!$s()) return null;
                try {
                  var a = JSON.parse(localStorage.getItem(this.getRealKey(n)));
                  return a && a.expiresIn >= Date.now() ? a.value : null;
                } catch (c) {
                  it.warn(c);
                }
              },
            },
            {
              key: "setItem",
              value: function (n, a) {
                var c =
                  arguments.length > 2 &&
                  arguments[2] !== void 0 &&
                  arguments[2];
                if ($s())
                  try {
                    var o = { expiresIn: Date.now() + jT, value: a };
                    c
                      ? localStorage.setItem(
                          this.getRealKey(n),
                          JSON.stringify(o)
                        )
                      : (this.queue_.set(this.getRealKey(n), o),
                        un.hasTask(this.intervalId_) ||
                          (this.intervalId_ = un.run(
                            Rc,
                            this.doFlush.bind(this),
                            { count: 1 }
                          )));
                  } catch (l) {
                    it.warn(l);
                  }
              },
            },
            {
              key: "deleteItem",
              value: function (n) {
                if (!$s()) return !1;
                try {
                  return (
                    (n = this.getRealKey(n)),
                    this.queue_.delete(n),
                    localStorage.removeItem(n),
                    !0
                  );
                } catch (a) {
                  return it.warn(a), !1;
                }
              },
            },
            {
              key: "clear",
              value: function () {
                if ($s())
                  try {
                    localStorage.clear();
                  } catch (n) {
                    it.warn(n);
                  }
              },
            },
          ]),
          s
        );
      })(),
      Vc = new DF(),
      dn = {
        result: !1,
        detail: {
          isBrowserSupported: !1,
          isWebRTCSupported: !1,
          isMediaDevicesSupported: !1,
          isH264EncodeSupported: !1,
          isVp8EncodeSupported: !1,
          isH264DecodeSupported: !1,
          isVp8DecodeSupported: !1,
        },
      },
      RI = "checkResult",
      CI = function () {
        return !iV && !xp && !(Pp && bE < 80) && !(ri && yE < 56);
      },
      J0 = function () {
        return (
          [
            "RTCPeerConnection",
            "webkitRTCPeerConnection",
            "RTCIceGatherer",
          ].filter(function (e) {
            return e in window;
          }).length > 0
        );
      },
      NF = function () {
        if (!navigator.mediaDevices) return !1;
        var e = ["getUserMedia", "enumerateDevices"];
        return (
          e.filter(function (n) {
            return n in navigator.mediaDevices;
          }).length === e.length
        );
      },
      AI = (function () {
        var s = C(
          m().mark(function e() {
            var n, a, c, o, l, h;
            return m().wrap(
              function (p) {
                for (;;)
                  switch ((p.prev = p.next)) {
                    case 0:
                      if (
                        !dn.detail.isH264EncodeSupported ||
                        !dn.detail.isVp8EncodeSupported
                      ) {
                        p.next = 2;
                        break;
                      }
                      return p.abrupt("return", {
                        isH264EncodeSupported: dn.detail.isH264EncodeSupported,
                        isVp8EncodeSupported: dn.detail.isVp8EncodeSupported,
                      });
                    case 2:
                      return (
                        (n = ""),
                        (a = !1),
                        (c = !1),
                        (p.prev = 5),
                        (o = new RTCPeerConnection()),
                        (l = document.createElement(iT)).getContext("2d"),
                        (h = l.captureStream(0)),
                        o.addTrack(h.getVideoTracks()[0], h),
                        (p.next = 13),
                        o.createOffer()
                      );
                    case 13:
                      return (
                        (n = p.sent).sdp.toLowerCase().indexOf("h264") !== -1 &&
                          (a = !0),
                        n.sdp.toLowerCase().indexOf("vp8") !== -1 && (c = !0),
                        o.close(),
                        (dn.detail.isH264EncodeSupported = a),
                        (dn.detail.isVp8EncodeSupported = c),
                        p.abrupt("return", {
                          isH264EncodeSupported:
                            dn.detail.isH264EncodeSupported,
                          isVp8EncodeSupported: dn.detail.isVp8EncodeSupported,
                        })
                      );
                    case 22:
                      return (
                        (p.prev = 22),
                        (p.t0 = p.catch(5)),
                        p.abrupt("return", {
                          isH264EncodeSupported: !1,
                          isVp8EncodeSupported: !1,
                        })
                      );
                    case 25:
                    case "end":
                      return p.stop();
                  }
              },
              e,
              null,
              [[5, 22]]
            );
          })
        );
        return function () {
          return s.apply(this, arguments);
        };
      })();
    function LF() {
      return $0.apply(this, arguments);
    }
    function $0() {
      return (
        ($0 = C(
          m().mark(function s() {
            return m().wrap(function (e) {
              for (;;)
                switch ((e.prev = e.next)) {
                  case 0:
                    return e.abrupt(
                      "return",
                      new Promise(
                        (function () {
                          var n = C(
                            m().mark(function a(c) {
                              var o, l, h, p, g, _, b, R, N, B, F, U, T, A;
                              return m().wrap(
                                function (L) {
                                  for (;;)
                                    switch ((L.prev = L.next)) {
                                      case 0:
                                        return (
                                          (o = { encode: !1, decode: !1 }),
                                          (l = null),
                                          (L.prev = 2),
                                          (h =
                                            document.createElement("canvas")),
                                          (p = h.getContext("2d")),
                                          (h.width = 640),
                                          (h.height = 480),
                                          (g = setInterval(function () {
                                            p.fillText(
                                              "test",
                                              Math.floor(640 * Math.random()),
                                              Math.floor(480 * Math.random())
                                            );
                                          }, 33)),
                                          (_ = -1),
                                          (b = -1),
                                          (l = function () {
                                            clearInterval(_),
                                              clearInterval(g),
                                              clearTimeout(b),
                                              N.close(),
                                              B.close(),
                                              R.getTracks().forEach(function (
                                                X
                                              ) {
                                                return X.stop();
                                              });
                                          }),
                                          (b = setTimeout(function () {
                                            l(), c(o);
                                          }, 3e3)),
                                          (R = h.captureStream()),
                                          (N = new RTCPeerConnection({})),
                                          (B = new RTCPeerConnection({
                                            offerToReceiveAudio: !0,
                                            offerToReceiveVideo: !0,
                                          })),
                                          N.addEventListener(
                                            "icecandidate",
                                            function ($) {
                                              return B.addIceCandidate(
                                                $.candidate
                                              );
                                            }
                                          ),
                                          B.addEventListener(
                                            "icecandidate",
                                            function ($) {
                                              return N.addIceCandidate(
                                                $.candidate
                                              );
                                            }
                                          ),
                                          N.addTrack(R.getVideoTracks()[0], R),
                                          (L.next = 20),
                                          N.createOffer()
                                        );
                                      case 20:
                                        return (
                                          (F = L.sent),
                                          (L.next = 23),
                                          N.setLocalDescription(F)
                                        );
                                      case 23:
                                        return (
                                          (L.next = 25),
                                          B.setRemoteDescription(F)
                                        );
                                      case 25:
                                        return (L.next = 27), B.createAnswer();
                                      case 27:
                                        return (
                                          (U = L.sent),
                                          (T = Ja(U.sdp)),
                                          (A = T.media[0].rtp.findIndex(
                                            function ($) {
                                              return $.codec === "H264";
                                            }
                                          )),
                                          (T.media[0].rtp = [
                                            T.media[0].rtp[A],
                                          ]),
                                          (T.media[0].fmtp =
                                            T.media[0].fmtp.filter(function (
                                              $
                                            ) {
                                              return (
                                                $.payload ===
                                                T.media[0].rtp[0].payload
                                              );
                                            })),
                                          (T.media[0].rtcpFb =
                                            T.media[0].rtcpFb.filter(function (
                                              $
                                            ) {
                                              return (
                                                $.payload ===
                                                T.media[0].rtp[0].payload
                                              );
                                            })),
                                          (U.sdp = Uc(T)),
                                          (L.next = 36),
                                          B.setLocalDescription(U)
                                        );
                                      case 36:
                                        return (
                                          (L.next = 38),
                                          N.setRemoteDescription(U)
                                        );
                                      case 38:
                                        (_ = setInterval(
                                          C(
                                            m().mark(function $() {
                                              var X, Q;
                                              return m().wrap(function (D) {
                                                for (;;)
                                                  switch ((D.prev = D.next)) {
                                                    case 0:
                                                      return (
                                                        o.encode &&
                                                          o.decode &&
                                                          (l(), c(o)),
                                                        (D.next = 3),
                                                        N.getStats()
                                                      );
                                                    case 3:
                                                      return (
                                                        (X = D.sent),
                                                        (D.next = 6),
                                                        B.getStats()
                                                      );
                                                    case 6:
                                                      (Q = D.sent),
                                                        o.encode ||
                                                          X.forEach(function (
                                                            M
                                                          ) {
                                                            M.type ===
                                                              "outbound-rtp" &&
                                                              M.mediaType ===
                                                                dt &&
                                                              M.framesEncoded >
                                                                0 &&
                                                              (o.encode = !0);
                                                          }),
                                                        o.decode ||
                                                          Q.forEach(function (
                                                            M
                                                          ) {
                                                            M.type ===
                                                              "inbound-rtp" &&
                                                              M.mediaType ===
                                                                dt &&
                                                              M.framesDecoded >
                                                                0 &&
                                                              (o.decode = !0);
                                                          });
                                                    case 9:
                                                    case "end":
                                                      return D.stop();
                                                  }
                                              }, $);
                                            })
                                          ),
                                          500
                                        )),
                                          (L.next = 46);
                                        break;
                                      case 41:
                                        (L.prev = 41),
                                          (L.t0 = L.catch(2)),
                                          l(),
                                          it.warn(L.t0),
                                          c(o);
                                      case 46:
                                      case "end":
                                        return L.stop();
                                    }
                                },
                                a,
                                null,
                                [[2, 41]]
                              );
                            })
                          );
                          return function (a) {
                            return n.apply(this, arguments);
                          };
                        })()
                      )
                    );
                  case 1:
                  case "end":
                    return e.stop();
                }
            }, s);
          })
        )),
        $0.apply(this, arguments)
      );
    }
    var xI = (function () {
        var s = C(
          m().mark(function e() {
            var n, a, c, o;
            return m().wrap(
              function (l) {
                for (;;)
                  switch ((l.prev = l.next)) {
                    case 0:
                      if (
                        !dn.detail.isH264DecodeSupported ||
                        !dn.detail.isVp8DecodeSupported
                      ) {
                        l.next = 2;
                        break;
                      }
                      return l.abrupt("return", {
                        isH264DecodeSupported: dn.detail.isH264DecodeSupported,
                        isVp8DecodeSupported: dn.detail.isVp8DecodeSupported,
                      });
                    case 2:
                      return (
                        (n = ""),
                        (a = !1),
                        (c = !1),
                        (l.prev = 5),
                        (o = new RTCPeerConnection()),
                        (l.next = 9),
                        o.createOffer({
                          offerToReceiveAudio: 1,
                          offerToReceiveVideo: 1,
                        })
                      );
                    case 9:
                      return (
                        (n = l.sent).sdp.toLowerCase().indexOf("h264") !== -1 &&
                          (a = !0),
                        n.sdp.toLowerCase().indexOf("vp8") !== -1 && (c = !0),
                        o.close(),
                        l.abrupt("return", {
                          isH264DecodeSupported: a,
                          isVp8DecodeSupported: c,
                        })
                      );
                    case 16:
                      return (
                        (l.prev = 16),
                        (l.t0 = l.catch(5)),
                        l.abrupt("return", {
                          isH264DecodeSupported: !1,
                          isVp8DecodeSupported: !1,
                        })
                      );
                    case 19:
                    case "end":
                      return l.stop();
                  }
              },
              e,
              null,
              [[5, 16]]
            );
          })
        );
        return function () {
          return s.apply(this, arguments);
        };
      })(),
      MF = (function () {
        var s = C(
          m().mark(function e() {
            var n, a, c, o, l, h, p, g, _, b, R, N, B;
            return m().wrap(function (F) {
              for (;;)
                switch ((F.prev = F.next)) {
                  case 0:
                    if (PI()) {
                      F.next = 2;
                      break;
                    }
                    return F.abrupt("return", dn);
                  case 2:
                    return (
                      (n = CI()), (a = J0()), (c = NF()), (F.next = 7), AI()
                    );
                  case 7:
                    return (
                      (o = F.sent),
                      (l = o.isH264EncodeSupported),
                      (h = o.isVp8EncodeSupported),
                      (F.next = 12),
                      xI()
                    );
                  case 12:
                    if (
                      ((p = F.sent),
                      (g = p.isH264DecodeSupported),
                      (_ = p.isVp8DecodeSupported),
                      l && h)
                    ) {
                      F.next = 21;
                      break;
                    }
                    return (F.next = 18), AI();
                  case 18:
                    (b = F.sent),
                      (l = b.isH264EncodeSupported),
                      (h = b.isVp8EncodeSupported);
                  case 21:
                    if (!(l && g && (Dp || Np || hV) && !za && Ac() < 79)) {
                      F.next = 29;
                      break;
                    }
                    return (F.next = 24), LF();
                  case 24:
                    (R = F.sent),
                      (N = R.encode),
                      (B = R.decode),
                      (l = N),
                      (g = B);
                  case 29:
                    return (
                      (dn.result = n && a && c && (l || h) && (g || _)),
                      (dn.detail.isBrowserSupported = n),
                      (dn.detail.isWebRTCSupported = a),
                      (dn.detail.isMediaDevicesSupported = c),
                      (dn.detail.isH264EncodeSupported = l),
                      (dn.detail.isVp8EncodeSupported = h),
                      (dn.detail.isH264DecodeSupported = g),
                      (dn.detail.isVp8DecodeSupported = _),
                      UF(),
                      Vc.setItem(
                        RI,
                        { ua: navigator.userAgent, checkResult: dn },
                        !0
                      ),
                      F.abrupt("return", dn)
                    );
                  case 40:
                  case "end":
                    return F.stop();
                }
            }, e);
          })
        );
        return function () {
          return s.apply(this, arguments);
        };
      })(),
      Y0 = (function (s, e) {
        var n = null;
        return function () {
          if (n) return n;
          for (var a = arguments.length, c = new Array(a), o = 0; o < a; o++)
            c[o] = arguments[o];
          return (
            (n = s.apply(e || this, c))
              .then(function (l) {
                return (n = null), l;
              })
              .catch(function (l) {
                throw ((n = null), l);
              }),
            n
          );
        };
      })(MF);
    function PI() {
      return (
        Object.keys(dn.detail).findIndex(function (s) {
          return !dn.detail[s];
        }) >= 0
      );
    }
    function UF() {
      PI() &&
        (it.warn(Le({ key: uE })),
        it.info(
          "".concat(navigator.userAgent, " ").concat(JSON.stringify(dn.detail))
        ));
    }
    function OI() {
      return !(
        !navigator.mediaDevices || !navigator.mediaDevices.getDisplayMedia
      );
    }
    function DI() {
      return (
        "RTCPeerConnection" in window &&
        "getReceivers" in window.RTCPeerConnection.prototype
      );
    }
    function Kp() {
      return (
        "RTCPeerConnection" in window &&
        "getSenders" in window.RTCPeerConnection.prototype
      );
    }
    function Bo() {
      return (
        "RTCPeerConnection" in window &&
        "getTransceivers" in window.RTCPeerConnection.prototype
      );
    }
    function Jp() {
      return (
        "RTCPeerConnection" in window &&
        "addTransceiver" in window.RTCPeerConnection.prototype
      );
    }
    function Z0() {
      return (
        "RTCRtpSender" in window &&
        "replaceTrack" in window.RTCRtpSender.prototype
      );
    }
    function NI() {
      return (
        "RTCRtpSender" in window &&
        "setParameters" in window.RTCRtpSender.prototype &&
        Kp()
      );
    }
    function $p() {
      return (
        !!rt(navigator.mediaDevices) && (it.error(No.NOT_SUPPORTED_MEDIA), !0)
      );
    }
    function Yp() {
      return (
        location.protocol === "http:" && !Js && (it.warn(Le({ key: sE })), !0)
      );
    }
    var Q0 =
      "RTCRtpSender" in window &&
      "createEncodedStreams" in window.RTCRtpSender.prototype &&
      Ac() >= 86;
    function X0(s) {
      return (
        !(
          s.type !== "candidate-pair" ||
          !s.nominated ||
          (s.state !== "in-progress" && s.state !== "succeeded")
        ) && !(Ci(s.selected) && !s.selected)
      );
    }
    var LI = /* @__PURE__ */ new Map([
      [Cc, "Android"],
      [Lo, "iOS"],
      [wE, "Windows"],
      [jd, "MacOS"],
      [kE, "Linux"],
    ]);
    function e1() {
      var s = "unknown";
      return LI.get(!0) && (s = LI.get(!0)), s;
    }
    function VF() {
      var s = "";
      return (
        screen.width &&
          (s +=
            (screen.width ? screen.width * window.devicePixelRatio : "") +
            " * " +
            (screen.height ? screen.height * window.devicePixelRatio : "")),
        s
      );
    }
    function FF() {
      var s = !1;
      return (
        (navigator.getUserMedia ||
          (navigator.mediaDevices && navigator.mediaDevices.getUserMedia)) &&
          (s = !0),
        s
      );
    }
    function jF() {
      for (
        var s = { isSupported: !1 },
          e = [
            "AudioContext",
            "webkitAudioContext",
            "mozAudioContext",
            "msAudioContext",
          ],
          n = 0;
        n < e.length;
        n++
      )
        if (e[n] in window) {
          s.isSupported = !0;
          break;
        }
      return s.isSupported;
    }
    function MI() {
      return (
        !(Fy && Ac() < 86) &&
        !(Lo && Ri(Mo) && Mo < 15) &&
        !($y && $y < 63) &&
        !(!CI() || !("captureStream" in HTMLCanvasElement.prototype))
      );
    }
    var tu =
        window.MediaStreamTrack && "getSettings" in MediaStreamTrack.prototype,
      BF =
        window.MediaStreamTrack &&
        "getCapabilities" in MediaStreamTrack.prototype,
      HF = function () {
        var e, n, a;
        return (
          ((e = window) === null || e === void 0
            ? void 0
            : e.OffscreenCanvas) &&
          ((n = window) === null || n === void 0
            ? void 0
            : n.MediaStreamTrackProcessor) &&
          ((a = window) === null || a === void 0
            ? void 0
            : a.MediaStreamTrackGenerator)
        );
      };
    (function () {
      Yp();
      var s = Vc.getItem(RI);
      s && s.ua === navigator.userAgent && (dn = s.checkResult), Y0();
    })();
    var Kt = {
        STREAM_ADDED: "stream-added",
        STREAM_REMOVED: "stream-removed",
        STREAM_UPDATED: "stream-updated",
        STREAM_PUBLISHED: "stream-published",
        STREAM_SUBSCRIBED: "stream-subscribed",
        STREAM_UNSUBSCRIBED: "stream-unsubscribed",
        STATE_CHANGED: "state-changed",
        ERROR: "error",
        CONNECTION_STATE_CHANGED: "connection-state-changed",
        SEI_MESSAGE: uT,
      },
      tn = {
        STREAM_ADDED: "stream-added",
        STREAM_REMOVED: "stream-removed",
        STREAM_UPDATED: "stream-updated",
        STREAM_SUBSCRIBED: "stream-subscribed",
        CONNECTION_STATE_CHANGED: "connection-state-changed",
        PEER_JOIN: "peer-join",
        PEER_LEAVE: "peer-leave",
        MUTE_AUDIO: "mute-audio",
        MUTE_VIDEO: "mute-video",
        UNMUTE_AUDIO: "unmute-audio",
        UNMUTE_VIDEO: "unmute-video",
        CLIENT_BANNED: "client-banned",
        NETWORK_QUALITY: "network-quality",
        AUDIO_VOLUME: "audio-volume",
        SEI_MESSAGE: uT,
        ERROR: "error",
      },
      UI = "player-state-changed",
      zF = "screen-sharing-stopped",
      WF = "connection-state-changed",
      GF = "device-auto-recovered",
      t1 = "error",
      Pr = "player-state-changed",
      VI = "error",
      qF = ZT;
    Tt(
      { target: "String", proto: !0, forced: QT("small") },
      {
        small: function () {
          return qF(this, "small", "", "");
        },
      }
    );
    var KF = (function () {
        function s(o) {
          G(this, s);
          var l = o.getUserId();
          (this.log_ = it.createLogger({
            id: l,
            userId: l,
            sdkAppId: o.getSDKAppId(),
          })),
            (this.prevReportTime_ = 0),
            (this.prevReport_ = {}),
            (this.prevEncoderImplementation_ = ""),
            (this.prevQualityLimitationReason_ = ""),
            (this.prevDecoderImplementationMap_ = /* @__PURE__ */ new Map());
        }
        var e, n, a, c;
        return (
          ce(s, [
            {
              key: "statInterval",
              get: function () {
                return this.prevReportTime_ === 0
                  ? 2
                  : (Date.now() - this.prevReportTime_) / 1e3;
              },
            },
            {
              key: "getSenderStats",
              value:
                ((c = C(
                  m().mark(function o(l) {
                    var h,
                      p,
                      g,
                      _,
                      b = this;
                    return m().wrap(
                      function (R) {
                        for (;;)
                          switch ((R.prev = R.next)) {
                            case 0:
                              if (
                                ((h = {
                                  audio: {
                                    bytesSent: 0,
                                    packetsSent: 0,
                                    audioLevel: 0,
                                    totalAudioEnergy: 0,
                                  },
                                  video: {
                                    bytesSent: 0,
                                    packetsSent: 0,
                                    framesEncoded: 0,
                                    frameWidth: 0,
                                    frameHeight: 0,
                                    framesSent: 0,
                                    fpsCapture: 0,
                                  },
                                  small: {
                                    bytesSent: 0,
                                    packetsSent: 0,
                                    framesEncoded: 0,
                                    frameWidth: 0,
                                    frameHeight: 0,
                                    framesSent: 0,
                                    fpsCapture: 0,
                                  },
                                  auxiliary: {
                                    bytesSent: 0,
                                    packetsSent: 0,
                                    framesEncoded: 0,
                                    frameWidth: 0,
                                    frameHeight: 0,
                                    framesSent: 0,
                                    fpsCapture: 0,
                                  },
                                  rtt: 0,
                                }),
                                (p = l.getPeerConnection()),
                                (g = l.getSSRC()),
                                !p)
                              ) {
                                R.next = 15;
                                break;
                              }
                              return (R.prev = 4), (R.next = 7), p.getStats();
                            case 7:
                              R.sent.forEach(function (N) {
                                var B;
                                if (N.type === "outbound-rtp")
                                  if ((N.mediaType || N.kind) === dt) {
                                    if (!ri && N.bytesSent === 0) return;
                                    N.ssrc !== g.video ||
                                      rt(N.encoderImplementation) ||
                                      b.prevEncoderImplementation_ ===
                                        N.encoderImplementation ||
                                      (b.log_.info(
                                        "encoderImplementation change to ".concat(
                                          N.encoderImplementation
                                        )
                                      ),
                                      (b.prevEncoderImplementation_ =
                                        N.encoderImplementation)),
                                      N.ssrc !== g.video ||
                                        rt(N.qualityLimitationReason) ||
                                        b.prevQualityLimitationReason_ ===
                                          N.qualityLimitationReason ||
                                        (b.log_.info(
                                          "qualityLimitationReason change to ".concat(
                                            N.qualityLimitationReason
                                          )
                                        ),
                                        (b.prevQualityLimitationReason_ =
                                          N.qualityLimitationReason));
                                    var F = dt;
                                    N.ssrc === g.small
                                      ? (F = Ha)
                                      : N.ssrc === g.auxiliary && (F = ln),
                                      (h[F].bytesSent = N.bytesSent),
                                      (h[F].packetsSent = N.packetsSent),
                                      (h[F].framesEncoded = N.framesEncoded);
                                  } else
                                    (h.audio.bytesSent = N.bytesSent),
                                      (h.audio.packetsSent = N.packetsSent);
                                else
                                  N.type === "candidate-pair"
                                    ? X0(N) &&
                                      Ri(N.currentRoundTripTime) &&
                                      (h.rtt = Math.floor(
                                        1e3 * N.currentRoundTripTime
                                      ))
                                    : N.type === "media-source" &&
                                      (N.kind === mt
                                        ? ((h.audio.audioLevel =
                                            N.audioLevel || 0),
                                          (h.audio.totalAudioEnergy =
                                            N.totalAudioEnergy || 0))
                                        : N.kind === dt &&
                                          (N.trackIdentifier ===
                                          l.getVideoTrackId(dt)
                                            ? (h.video.fpsCapture =
                                                N.framesPerSecond)
                                            : N.trackIdentifier ===
                                              l.getVideoTrackId(ln)
                                            ? (h.auxiliary.fpsCapture =
                                                N.framesPerSecond)
                                            : (h.small.fpsCapture =
                                                N.framesPerSecond)));
                                rt(N.audioLevel) ||
                                  ((h.audio.audioLevel = N.audioLevel || 0),
                                  (h.audio.totalAudioEnergy =
                                    N.totalAudioEnergy || 0)),
                                  rt(N.frameWidth) ||
                                    (N.trackIdentifier ===
                                      l.getVideoTrackId(dt) ||
                                    N.ssrc === g.video
                                      ? (B = dt)
                                      : N.trackIdentifier ===
                                          l.getVideoTrackId(ln) ||
                                        N.ssrc === g.auxiliary
                                      ? (B = ln)
                                      : (N.trackIdentifier !==
                                          l.getVideoTrackId(Ha) &&
                                          N.ssrc !== g.small) ||
                                        (B = Ha),
                                    B &&
                                      ((h[B].frameWidth = N.frameWidth),
                                      (h[B].frameHeight = N.frameHeight),
                                      (h[B].framesSent = N.framesSent)));
                              }),
                                h.audio.audioLevel === 0 &&
                                  (h.audio.audioLevel =
                                    ((_ = l.getLocalStream()) === null ||
                                    _ === void 0
                                      ? void 0
                                      : _.getInternalAudioLevel()) || 0),
                                (R.next = 15);
                              break;
                            case 12:
                              (R.prev = 12),
                                (R.t0 = R.catch(4)),
                                this.log_.warn(
                                  "failed to getStats on sender connection " +
                                    R.t0
                                );
                            case 15:
                              return R.abrupt("return", h);
                            case 16:
                            case "end":
                              return R.stop();
                          }
                      },
                      o,
                      this,
                      [[4, 12]]
                    );
                  })
                )),
                function (o) {
                  return c.apply(this, arguments);
                }),
            },
            {
              key: "getReceiverStats",
              value:
                ((a = C(
                  m().mark(function o(l) {
                    var h,
                      p,
                      g,
                      _,
                      b,
                      R = this;
                    return m().wrap(
                      function (N) {
                        for (;;)
                          switch ((N.prev = N.next)) {
                            case 0:
                              if (
                                ((h = {
                                  tinyId: l.getTinyId(),
                                  userId: l.getUserId(),
                                  rtt: 0,
                                  hasAudio: !1,
                                  hasVideo: !1,
                                  hasAuxiliary: !1,
                                  audio: {
                                    bytesReceived: 0,
                                    packetsReceived: 0,
                                    packetsLost: 0,
                                    jitter: 0,
                                    audioLevel: 0,
                                    totalAudioEnergy: 0,
                                  },
                                  video: {
                                    bytesReceived: 0,
                                    packetsReceived: 0,
                                    packetsLost: 0,
                                    framesReceived: 0,
                                    framesDecoded: 0,
                                    frameWidth: 0,
                                    frameHeight: 0,
                                  },
                                  auxiliary: {
                                    bytesReceived: 0,
                                    packetsReceived: 0,
                                    packetsLost: 0,
                                    framesReceived: 0,
                                    framesDecoded: 0,
                                    frameWidth: 0,
                                    frameHeight: 0,
                                  },
                                }),
                                !(p = l.getPeerConnection()))
                              ) {
                                N.next = 16;
                                break;
                              }
                              return (
                                (N.prev = 3),
                                (g = l.getSSRC()),
                                (_ = l.getTrackState()),
                                (N.next = 8),
                                p.getStats()
                              );
                            case 8:
                              N.sent.forEach(function (B) {
                                if (B.type === "inbound-rtp")
                                  if ((B.mediaType || B.kind) === mt) {
                                    if (B.ssrc !== g.audio || !_.audio) return;
                                    (h.audio.packetsReceived =
                                      B.packetsReceived),
                                      (h.audio.bytesReceived = B.bytesReceived),
                                      (h.audio.packetsLost = B.packetsLost),
                                      (h.audio.jitter = B.jitter),
                                      (h.hasAudio = !0);
                                  } else {
                                    if (ri && B.bytesReceived === 0) return;
                                    B.ssrc === g.video &&
                                      _.video &&
                                      ((h.video.packetsReceived =
                                        B.packetsReceived),
                                      (h.video.bytesReceived = B.bytesReceived),
                                      (h.video.packetsLost = B.packetsLost),
                                      (h.video.framesReceived =
                                        B.framesReceived),
                                      (h.video.framesDecoded = B.framesDecoded),
                                      (h.video.fpsDecoded = B.framesPerSecond),
                                      (h.hasVideo = !0),
                                      !B.decoderImplementation ||
                                        (R.prevDecoderImplementationMap_.has(
                                          h.userId
                                        ) &&
                                          R.prevDecoderImplementationMap_.get(
                                            h.userId
                                          ) === B.decoderImplementation) ||
                                        (R.log_.info(
                                          ""
                                            .concat(
                                              h.userId,
                                              " decoderImplementation change to "
                                            )
                                            .concat(B.decoderImplementation)
                                        ),
                                        R.prevDecoderImplementationMap_.set(
                                          h.userId,
                                          B.decoderImplementation
                                        ))),
                                      B.ssrc === g.auxiliary &&
                                        _.auxiliary &&
                                        ((h.auxiliary.packetsReceived =
                                          B.packetsReceived),
                                        (h.auxiliary.bytesReceived =
                                          B.bytesReceived),
                                        (h.auxiliary.packetsLost =
                                          B.packetsLost),
                                        (h.auxiliary.framesReceived =
                                          B.framesReceived),
                                        (h.auxiliary.framesDecoded =
                                          B.framesDecoded),
                                        (h.auxiliary.fpsDecoded =
                                          B.framesPerSecond),
                                        (h.hasAuxiliary = !0));
                                  }
                                else
                                  B.type === "candidate-pair" &&
                                    X0(B) &&
                                    Ri(B.currentRoundTripTime) &&
                                    (h.rtt = Math.floor(
                                      1e3 * B.currentRoundTripTime
                                    ));
                                rt(B.frameWidth) ||
                                  ((B.trackIdentifier !==
                                    l.getMainStreamVideoTrackId() &&
                                    B.ssrc !== g.video) ||
                                    ((h.video.frameWidth = B.frameWidth),
                                    (h.video.frameHeight = B.frameHeight)),
                                  (B.trackIdentifier !==
                                    l.getAuxStreamVideoTrackId() &&
                                    B.ssrc !== g.auxiliary) ||
                                    ((h.auxiliary.frameWidth = B.frameWidth),
                                    (h.auxiliary.frameHeight = B.frameHeight))),
                                  rt(B.audioLevel) ||
                                    ((h.audio.audioLevel = B.audioLevel || 0),
                                    (h.audio.totalAudioEnergy =
                                      B.totalAudioEnergy || 0));
                              }),
                                h.audio.audioLevel === 0 &&
                                  (h.audio.audioLevel =
                                    ((b = l.getMainStream()) === null ||
                                    b === void 0
                                      ? void 0
                                      : b.getInternalAudioLevel()) || 0),
                                (N.next = 16);
                              break;
                            case 13:
                              (N.prev = 13),
                                (N.t0 = N.catch(3)),
                                this.log_.warn(
                                  "failed to getStats on receiver connection " +
                                    N.t0
                                );
                            case 16:
                              return N.abrupt("return", h);
                            case 17:
                            case "end":
                              return N.stop();
                          }
                      },
                      o,
                      this,
                      [[3, 13]]
                    );
                  })
                )),
                function (o) {
                  return a.apply(this, arguments);
                }),
            },
            {
              key: "getStats",
              value:
                ((n = C(
                  m().mark(function o(l, h) {
                    var p, g, _, b, R, N, B;
                    return m().wrap(
                      function (F) {
                        for (;;)
                          switch ((F.prev = F.next)) {
                            case 0:
                              if (((p = {}), !l)) {
                                F.next = 5;
                                break;
                              }
                              return (F.next = 4), this.getSenderStats(l);
                            case 4:
                              p = F.sent;
                            case 5:
                              (g = []), (_ = We(h)), (F.prev = 7), _.s();
                            case 9:
                              if ((b = _.n()).done) {
                                F.next = 17;
                                break;
                              }
                              return (
                                (R = wt(b.value, 2))[0],
                                (N = R[1]),
                                (F.next = 13),
                                this.getReceiverStats(N)
                              );
                            case 13:
                              (B = F.sent), g.push(B);
                            case 15:
                              F.next = 9;
                              break;
                            case 17:
                              F.next = 22;
                              break;
                            case 19:
                              (F.prev = 19), (F.t0 = F.catch(7)), _.e(F.t0);
                            case 22:
                              return (F.prev = 22), _.f(), F.finish(22);
                            case 25:
                              return F.abrupt("return", {
                                senderStats: p,
                                receiverStats: g,
                              });
                            case 26:
                            case "end":
                              return F.stop();
                          }
                      },
                      o,
                      this,
                      [[7, 19, 22, 25]]
                    );
                  })
                )),
                function (o, l) {
                  return n.apply(this, arguments);
                }),
            },
            {
              key: "getDifferenceValue",
              value: function (l, h) {
                if (Ka(l)) return h;
                var p = h - l;
                return p < 0 ? 0 : p;
              },
            },
            {
              key: "prepareReport",
              value: function (l) {
                var h = this,
                  p = l.stats,
                  g = l.report,
                  _ = l.freezeMap;
                if (!Ka(p.senderStats)) {
                  var b;
                  b = {
                    uint32_audio_level: 1e8 * p.senderStats.audio.audioLevel,
                    uint32_audio_energy:
                      1e6 * p.senderStats.audio.totalAudioEnergy,
                    uint32_audio_codec_bitrate: p.senderStats.audio.bytesSent,
                    audioLevel: p.senderStats.audio.audioLevel,
                  };
                  var R = [],
                    N = {
                      uint32_video_stream_type: 2,
                      uint32_video_codec_fps: p.senderStats.video.framesSent,
                      uint32_video_capture_fps: p.senderStats.video.fpsCapture,
                      uint32_video_width: p.senderStats.video.frameWidth,
                      uint32_video_height: p.senderStats.video.frameHeight,
                      uint32_video_codec_bitrate: p.senderStats.video.bytesSent,
                      uint32_video_enc_fps: p.senderStats.video.framesEncoded,
                    };
                  if ((R.push(N), p.senderStats.small.bytesSent)) {
                    var B = {
                      uint32_video_stream_type: 3,
                      uint32_video_codec_fps:
                        p.senderStats.small.framesSent || 0,
                      uint32_video_capture_fps:
                        p.senderStats.small.fpsCapture || 0,
                      uint32_video_width: p.senderStats.small.frameWidth || 0,
                      uint32_video_height: p.senderStats.small.frameHeight || 0,
                      uint32_video_codec_bitrate: p.senderStats.small.bytesSent,
                      uint32_video_enc_fps:
                        p.senderStats.small.framesEncoded || 0,
                    };
                    R.push(B);
                  }
                  if (p.senderStats.auxiliary.bytesSent) {
                    var F = {
                      uint32_video_stream_type: 7,
                      uint32_video_codec_fps:
                        p.senderStats.auxiliary.framesSent || 0,
                      uint32_video_capture_fps:
                        p.senderStats.auxiliary.fpsCapture || 0,
                      uint32_video_width:
                        p.senderStats.auxiliary.frameWidth || 0,
                      uint32_video_height:
                        p.senderStats.auxiliary.frameHeight || 0,
                      uint32_video_codec_bitrate:
                        p.senderStats.auxiliary.bytesSent,
                      uint32_video_enc_fps:
                        p.senderStats.auxiliary.framesEncoded || 0,
                    };
                    R.push(F);
                  }
                  var U = { uint32_bitrate: 0, uint32_rtt: p.senderStats.rtt };
                  g.msg_up_stream_info = {
                    msg_audio_status: b,
                    msg_video_status: R,
                    msg_network_status: U,
                  };
                }
                var T = this.statInterval;
                (g.msg_down_stream_info = []),
                  p.receiverStats.forEach(function (z) {
                    var W = {};
                    if (
                      ((W.msg_user_info = {
                        str_identifier: z.userId,
                        uint64_tinyid: z.tinyId,
                      }),
                      (W.msg_network_status = { uint32_rtt: z.rtt }),
                      (W.msg_video_status = {}),
                      z.hasAudio)
                    ) {
                      var ee = {
                        uint32_audio_codec_bitrate: z.audio.bytesReceived,
                        uint32_audio_total_bitrate: z.audio.bytesReceived,
                        uint32_audio_level: 1e8 * z.audio.audioLevel,
                        uint32_audio_energy: 1e6 * z.audio.totalAudioEnergy,
                        uint32_audio_receive: z.audio.packetsReceived,
                        uint32_audio_origin_lost: z.audio.packetsLost,
                        audioLevel: z.audio.audioLevel,
                      };
                      W.msg_audio_status = ee;
                    }
                    if (((W.msg_video_status = []), z.hasVideo)) {
                      var H = _.get(z.userId + "_" + fn),
                        I = H ? H.duration : 0,
                        S = {
                          uint32_video_stream_type: 2,
                          uint32_video_receive_fps: z.video.framesReceived,
                          uint32_video_width: z.video.frameWidth,
                          uint32_video_height: z.video.frameHeight,
                          uint32_video_codec_bitrate: z.video.bytesReceived,
                          uint32_video_receive: z.video.packetsReceived,
                          uint32_video_origin_lost: z.video.packetsLost,
                          uint32_video_block_time: I,
                          uint32_video_dec_fps: z.video.framesDecoded,
                        };
                      W.msg_video_status.push(S);
                    }
                    if (z.hasAuxiliary) {
                      var q = _.get(z.userId + "_" + Pn),
                        J = q ? q.duration : 0,
                        te = {
                          uint32_video_stream_type: 7,
                          uint32_video_receive_fps: z.auxiliary.framesReceived,
                          uint32_video_width: z.auxiliary.frameWidth,
                          uint32_video_height: z.auxiliary.frameHeight,
                          uint32_video_codec_bitrate: z.auxiliary.bytesReceived,
                          uint32_video_receive:
                            z.auxiliary.packetsReceived +
                            z.auxiliary.packetsLost,
                          uint32_video_origin_lost: z.auxiliary.packetsLost,
                          uint32_video_block_time: J,
                          uint32_video_dec_fps: z.auxiliary.framesDecoded,
                        };
                      W.msg_video_status.push(te);
                    }
                    g.msg_down_stream_info.push(W);
                  });
                var A = this.prevReport_;
                if (
                  ((this.prevReport_ = JSON.parse(JSON.stringify(g))),
                  g.msg_up_stream_info.msg_audio_status &&
                    A.msg_up_stream_info.msg_audio_status)
                ) {
                  var L = A.msg_up_stream_info.msg_audio_status,
                    $ = g.msg_up_stream_info.msg_audio_status,
                    X = this.getDifferenceValue(
                      L.uint32_audio_codec_bitrate,
                      $.uint32_audio_codec_bitrate
                    );
                  ($.uint32_audio_codec_bitrate = Math.round((8 * X) / T)),
                    (g.msg_up_stream_info.msg_network_status.uint32_bitrate +=
                      $.uint32_audio_codec_bitrate);
                }
                var Q = A.msg_up_stream_info.msg_video_status;
                g.msg_up_stream_info.msg_video_status.forEach(function (z) {
                  var W = Q.find(function (q) {
                    return (
                      q.uint32_video_stream_type === z.uint32_video_stream_type
                    );
                  });
                  if (!W || W.uint32_video_codec_bitrate === 0)
                    return (
                      (z.uint32_video_codec_bitrate = 0),
                      (z.uint32_video_enc_fps = 0),
                      void (z.uint32_video_codec_fps = 0)
                    );
                  var ee = W.uint32_video_codec_bitrate,
                    H = W.uint32_video_enc_fps,
                    I = W.uint32_video_codec_fps,
                    S = h.getDifferenceValue(ee, z.uint32_video_codec_bitrate);
                  (z.uint32_video_codec_bitrate = Math.round((8 * S) / T)),
                    (g.msg_up_stream_info.msg_network_status.uint32_bitrate +=
                      z.uint32_video_codec_bitrate),
                    (z.uint32_video_enc_fps = Math.round(
                      h.getDifferenceValue(H, z.uint32_video_enc_fps) / T
                    )),
                    (z.uint32_video_codec_fps = Math.round(
                      h.getDifferenceValue(I, z.uint32_video_codec_fps) / T
                    ));
                });
                var D = g.msg_down_stream_info,
                  M = A.msg_down_stream_info;
                return (
                  D.forEach(function (z) {
                    var W = M.find(function (J) {
                      return (
                        J.msg_user_info.uint64_tinyid ===
                        z.msg_user_info.uint64_tinyid
                      );
                    });
                    if (W) {
                      if (z.msg_audio_status && W.msg_audio_status) {
                        var ee = z.msg_audio_status,
                          H = W.msg_audio_status;
                        (ee.uint32_audio_origin_lost = h.getDifferenceValue(
                          H.uint32_audio_origin_lost,
                          ee.uint32_audio_origin_lost
                        )),
                          (ee.uint32_audio_receive = h.getDifferenceValue(
                            H.uint32_audio_receive,
                            ee.uint32_audio_receive
                          )),
                          (ee.uint32_audio_receive +=
                            ee.uint32_audio_origin_lost);
                        var I = h.getDifferenceValue(
                          H.uint32_audio_codec_bitrate,
                          ee.uint32_audio_codec_bitrate
                        );
                        (ee.uint32_audio_codec_bitrate = Math.round(
                          (8 * I) / T
                        )),
                          (ee.uint32_audio_total_bitrate = Math.round(
                            (8 * I) / T
                          ));
                      }
                      if (z.msg_video_status && W.msg_video_status) {
                        var S = z.msg_video_status,
                          q = W.msg_video_status;
                        S.forEach(function (J) {
                          var te = q.find(function (Jt) {
                            return (
                              Jt.uint32_video_stream_type ===
                              J.uint32_video_stream_type
                            );
                          });
                          if (!te)
                            return (
                              (J.uint32_video_receive = 0),
                              (J.uint32_video_origin_lost = 0),
                              (J.uint32_video_codec_bitrate = 0),
                              (J.uint32_video_receive_fps = 0),
                              void (J.uint32_video_dec_fps = 0)
                            );
                          var ue = te.uint32_video_receive,
                            fe = te.uint32_video_origin_lost,
                            Re = te.uint32_video_codec_bitrate,
                            De = te.uint32_video_receive_fps,
                            At = te.uint32_video_dec_fps;
                          (J.uint32_video_origin_lost = h.getDifferenceValue(
                            fe,
                            J.uint32_video_origin_lost
                          )),
                            (J.uint32_video_receive =
                              h.getDifferenceValue(ue, J.uint32_video_receive) +
                              J.uint32_video_origin_lost);
                          var Rt = h.getDifferenceValue(
                            Re,
                            J.uint32_video_codec_bitrate
                          );
                          J.uint32_video_codec_bitrate = Math.round(
                            (8 * Rt) / T
                          );
                          var Dt = h.getDifferenceValue(
                            De,
                            J.uint32_video_receive_fps
                          );
                          (J.uint32_video_receive_fps = Math.round(Dt / T)),
                            (J.uint32_video_dec_fps = Math.round(
                              h.getDifferenceValue(At, J.uint32_video_dec_fps) /
                                T
                            ));
                        });
                      }
                    }
                  }),
                  g
                );
              },
            },
            {
              key: "getStatsReport",
              value:
                ((e = C(
                  m().mark(function o(l) {
                    var h, p, g, _, b;
                    return m().wrap(
                      function (R) {
                        for (;;)
                          switch ((R.prev = R.next)) {
                            case 0:
                              return (
                                (h = l.uplinkConnection),
                                (p = l.downlinkConnections),
                                (g = l.freezeMap),
                                (_ = {
                                  msg_up_stream_info: {
                                    msg_audio_status: {
                                      uint32_audio_format: 0,
                                      uint32_audio_sample_rate: 0,
                                      uint32_audio_codec_bitrate: 0,
                                      uint32_audio_receive: 0,
                                      uint32_audio_origin_lost: 0,
                                      uint32_audio_level: 0,
                                      uint32_audio_energy: 0,
                                      audioLevel: 0,
                                    },
                                    msg_video_status: [
                                      {
                                        uint32_video_stream_type: 0,
                                        uint32_video_codec_fps: 0,
                                        uint32_video_capture_fps: 0,
                                        uint32_video_width: 0,
                                        uint32_video_height: 0,
                                        uint32_video_codec_bitrate: 0,
                                        uint32_video_receive: 0,
                                        uint32_video_origin_lost: 0,
                                        uint32_video_final_lost: 0,
                                        uint32_video_enc_fps: 0,
                                      },
                                    ],
                                    msg_network_status: {
                                      uint32_bitrate: 0,
                                      uint32_rtt: 0,
                                      uint32_lost: 0,
                                    },
                                  },
                                  msg_down_stream_info: [
                                    {
                                      msg_user_info: {
                                        str_identifier: "",
                                        uint64_tinyid: "",
                                      },
                                      msg_audio_status: {
                                        uint32_audio_format: 0,
                                        uint32_audio_sample_rate: 0,
                                        uint32_audio_codec_bitrate: 0,
                                        uint32_audio_total_bitrate: 0,
                                        uint32_audio_level: 0,
                                        uint32_audio_energy: 0,
                                        uint32_audio_receive: 0,
                                        uint32_audio_origin_lost: 0,
                                        uint32_audio_final_lost: 0,
                                        audioLevel: 0,
                                      },
                                      msg_video_status: [
                                        {
                                          uint32_video_stream_type: 0,
                                          uint32_video_receive_fps: 0,
                                          uint32_video_width: 0,
                                          uint32_video_height: 0,
                                          uint32_video_codec_bitrate: 0,
                                          uint32_video_receive: 0,
                                          uint32_video_origin_lost: 0,
                                          uint32_video_block_time: 0,
                                          uint32_video_dec_fps: 0,
                                        },
                                      ],
                                      msg_network_status: {
                                        uint32_bitrate: 0,
                                        uint32_rtt: 0,
                                        uint32_lost: 0,
                                        uint32_jitter: 0,
                                      },
                                    },
                                  ],
                                }),
                                (R.next = 4),
                                this.getStats(h, p)
                              );
                            case 4:
                              return (
                                (b = R.sent),
                                JSON.stringify(this.prevReport_) === "{}" &&
                                  (this.prevReport_ = JSON.parse(
                                    JSON.stringify(_)
                                  )),
                                this.prepareReport({
                                  stats: b,
                                  report: _,
                                  freezeMap: g,
                                  uplinkConnection: h,
                                  downlinkConnections: p,
                                }),
                                (this.prevReportTime_ = Date.now()),
                                R.abrupt("return", _)
                              );
                            case 9:
                            case "end":
                              return R.stop();
                          }
                      },
                      o,
                      this
                    );
                  })
                )),
                function (o) {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "reset",
              value: function () {
                (this.prevReportTime_ = 0),
                  (this.prevReport_ = {}),
                  (this.prevEncoderImplementation_ = ""),
                  (this.prevQualityLimitationReason_ = ""),
                  (this.prevDecoderImplementationMap_ =
                    /* @__PURE__ */ new Map());
              },
            },
          ]),
          s
        );
      })(),
      JF = (function () {
        function s(a) {
          var c = a.signalChannel,
            o = a.connections,
            l = a.client;
          G(this, s),
            (this.client_ = l),
            (this.signalChannel_ = c),
            (this.connections_ = o),
            (this.client_ = l),
            (this.log_ = it.createLogger({
              id: "q|" + this.client_.getUserId(),
              userId: this.client_.getUserId(),
              sdkAppId: this.client_.getSDKAppId(),
            })),
            (this.uplinkConnection_ = null),
            (this.uplinkNetworkQuality_ = 0),
            (this.uplinkRTT_ = 0),
            (this.uplinkLoss_ = 0),
            (this.downlinkNetworkQuality_ = 0),
            (this.downlinkRTT_ = 0),
            (this.downlinkLoss_ = 0),
            (this.downlinkPrevStatMap_ = /* @__PURE__ */ new Map()),
            (this.downlinkLossAndRTTMap_ = /* @__PURE__ */ new Map()),
            (this.interval_ = -1),
            (this.emitter_ = new Fo()),
            this.initialize();
        }
        var e, n;
        return (
          ce(s, [
            {
              key: "uplinkNetworkQuality",
              get: function () {
                return this.uplinkNetworkQuality_;
              },
              set: function (c) {
                c !== this.uplinkNetworkQuality_ &&
                  this.log_.info(
                    "uplink network quality change "
                      .concat(this.uplinkNetworkQuality, " -> ")
                      .concat(c, ", rtt: ")
                      .concat(this.uplinkRTT_, ", loss: ")
                      .concat(this.uplinkLoss_)
                  ),
                  (this.uplinkNetworkQuality_ = c);
              },
            },
            {
              key: "downlinkNetworkQuality",
              get: function () {
                return this.downlinkNetworkQuality_;
              },
              set: function (c) {
                if (c !== this.downlinkNetworkQuality_) {
                  var o = this.getAverageLossAndRTT(
                      Je(this.downlinkLossAndRTTMap_.values())
                    ),
                    l = o.rtt,
                    h = o.loss;
                  this.log_.info(
                    "downlink network quality change "
                      .concat(this.downlinkNetworkQuality, " -> ")
                      .concat(c, ", rtt: ")
                      .concat(l, ", loss: ")
                      .concat(h)
                  );
                }
                this.downlinkNetworkQuality_ = c;
              },
            },
            {
              key: "initialize",
              value: function () {
                var c = this;
                this.signalChannel_.on(en.UPLINK_NETWORK_STATS, function (o) {
                  c.handleUplinkNetworkQuality(o);
                }),
                  this.signalChannel_.on(
                    O0,
                    this.handleSignalConnectionStateChange.bind(this)
                  ),
                  this.start();
              },
            },
            {
              key: "handleUplinkNetworkQuality",
              value: function (c) {
                if (!this.uplinkConnection_)
                  return (
                    (this.uplinkNetworkQuality = 0),
                    (this.uplinkLoss_ = 0),
                    void (this.uplinkRTT_ = 0)
                  );
                var o = this.uplinkConnection_.getPeerConnection();
                if (o && this.isPeerConnectionDisconnected(o))
                  return (
                    (this.uplinkNetworkQuality = 6),
                    (this.uplinkLoss_ = 0),
                    void (this.uplinkRTT_ = 0)
                  );
                if (c.data.code === 0) {
                  var l = c.data.data,
                    h = l.expectAudPkg + l.expectVidPkg,
                    p = l.recvAudPkg + l.recvVidPkg,
                    g = h - p,
                    _ = l.delay;
                  if ((_ && this.updateDelay(_), h === 0 && p === 0)) return;
                  (this.uplinkLoss_ = g <= 0 ? 0 : Math.round((g / h) * 100)),
                    (this.uplinkRTT_ = l.rtt),
                    (this.uplinkNetworkQuality = this.getNetworkQuality(
                      this.uplinkLoss_,
                      this.uplinkRTT_
                    ));
                }
              },
            },
            {
              key: "handleDownlinkNetworkQuality",
              value:
                ((n = C(
                  m().mark(function a() {
                    var c,
                      o,
                      l,
                      h,
                      p,
                      g,
                      _,
                      b,
                      R,
                      N,
                      B,
                      F,
                      U,
                      T,
                      A,
                      L = this;
                    return m().wrap(
                      function ($) {
                        for (;;)
                          switch (($.prev = $.next)) {
                            case 0:
                              if (
                                this.connections_ &&
                                this.connections_.size !== 0
                              ) {
                                $.next = 3;
                                break;
                              }
                              return (
                                (this.downlinkNetworkQuality = 0),
                                $.abrupt("return")
                              );
                            case 3:
                              if (
                                ((c = Je(this.connections_.values())),
                                (o = c.filter(function (X) {
                                  return (
                                    X.getPeerConnection() &&
                                    X.getPeerConnection().connectionState === pT
                                  );
                                })),
                                c.filter(function (X) {
                                  return (
                                    X.getPeerConnection() &&
                                    L.isPeerConnectionDisconnected(
                                      X.getPeerConnection()
                                    )
                                  );
                                }).length !== c.length)
                              ) {
                                $.next = 9;
                                break;
                              }
                              return (
                                (this.downlinkNetworkQuality = 6),
                                $.abrupt("return")
                              );
                            case 9:
                              l = 0;
                            case 10:
                              if (!(l < o.length)) {
                                $.next = 31;
                                break;
                              }
                              return (
                                (h = o[l].getPeerConnection()),
                                ($.next = 14),
                                this.getStat(h)
                              );
                            case 14:
                              if (
                                ((p = $.sent),
                                (g = p.rtt),
                                (_ = p.totalPacketsLost),
                                (b = p.totalPacketsReceived),
                                this.downlinkPrevStatMap_.has(h))
                              ) {
                                $.next = 21;
                                break;
                              }
                              return (
                                this.downlinkPrevStatMap_.set(h, {
                                  totalPacketsLost: _,
                                  totalPacketsReceived: b,
                                }),
                                $.abrupt("continue", 28)
                              );
                            case 21:
                              (R = 0),
                                (N = this.downlinkPrevStatMap_.get(h)),
                                (B = _ - N.totalPacketsLost),
                                (F = b - N.totalPacketsReceived),
                                (R =
                                  B <= 0 || F < 0
                                    ? 0
                                    : Math.round((B / (B + F)) * 100)),
                                this.downlinkPrevStatMap_.set(h, {
                                  totalPacketsLost: _,
                                  totalPacketsReceived: b,
                                }),
                                this.downlinkLossAndRTTMap_.set(h, {
                                  rtt: g,
                                  loss: R,
                                  userId: o[l].getUserId(),
                                });
                            case 28:
                              l++, ($.next = 10);
                              break;
                            case 31:
                              if (
                                (Je(this.downlinkPrevStatMap_.keys()).forEach(
                                  function (X) {
                                    L.isPeerConnectionDisconnected(X) &&
                                      (L.downlinkPrevStatMap_.delete(X),
                                      L.downlinkLossAndRTTMap_.delete(X));
                                  }
                                ),
                                this.downlinkLossAndRTTMap_.size !== 0)
                              ) {
                                $.next = 34;
                                break;
                              }
                              return $.abrupt("return");
                            case 34:
                              (U = this.getAverageLossAndRTT(
                                Je(this.downlinkLossAndRTTMap_.values())
                              )),
                                (T = U.rtt),
                                (A = U.loss),
                                (this.downlinkRTT_ = T),
                                (this.downlinkLoss_ = A),
                                (this.downlinkNetworkQuality =
                                  this.getNetworkQuality(A, T));
                            case 38:
                            case "end":
                              return $.stop();
                          }
                      },
                      a,
                      this
                    );
                  })
                )),
                function () {
                  return n.apply(this, arguments);
                }),
            },
            {
              key: "getStat",
              value:
                ((e = C(
                  m().mark(function a(c) {
                    var o, l, h, p;
                    return m().wrap(
                      function (g) {
                        for (;;)
                          switch ((g.prev = g.next)) {
                            case 0:
                              if (
                                ((o = {
                                  rtt: 0,
                                  totalPacketsLost: 0,
                                  totalPacketsReceived: 0,
                                }),
                                c && DI())
                              ) {
                                g.next = 3;
                                break;
                              }
                              return g.abrupt("return", o);
                            case 3:
                              (l = c.getReceivers()), (g.prev = 4), (h = 0);
                            case 6:
                              if (!(h < l.length)) {
                                g.next = 15;
                                break;
                              }
                              return (p = l[h]), (g.next = 10), p.getStats();
                            case 10:
                              g.sent.forEach(function (_) {
                                _.type === "candidate-pair" &&
                                  Ri(_.currentRoundTripTime) &&
                                  (o.rtt = Math.round(
                                    1e3 * _.currentRoundTripTime
                                  )),
                                  _.type !== "inbound-rtp" ||
                                    (_.mediaType !== mt &&
                                      _.mediaType !== dt) ||
                                    ((o.totalPacketsLost += _.packetsLost),
                                    (o.totalPacketsReceived +=
                                      _.packetsReceived));
                              });
                            case 12:
                              h++, (g.next = 6);
                              break;
                            case 15:
                              return g.abrupt("return", o);
                            case 18:
                              return (
                                (g.prev = 18),
                                (g.t0 = g.catch(4)),
                                g.abrupt("return", o)
                              );
                            case 21:
                            case "end":
                              return g.stop();
                          }
                      },
                      a,
                      null,
                      [[4, 18]]
                    );
                  })
                )),
                function (a) {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "getAverageLossAndRTT",
              value: function (c) {
                var o = { rtt: 0, loss: 0 };
                return (
                  Array.isArray(c) &&
                    c.length > 0 &&
                    (c.forEach(function (l) {
                      (o.rtt += l.rtt), (o.loss += l.loss);
                    }),
                    Object.keys(o).forEach(function (l) {
                      o[l] = Math.round(o[l] / c.length);
                    })),
                  o
                );
              },
            },
            {
              key: "getNetworkQuality",
              value: function (c, o) {
                return c > 50 || o > 500
                  ? 5
                  : c > 30 || o > 350
                  ? 4
                  : c > 20 || o > 200
                  ? 3
                  : c > 10 || o > 100
                  ? 2
                  : c >= 0 || o >= 0
                  ? 1
                  : 0;
              },
            },
            {
              key: "handleSignalConnectionStateChange",
              value: function (c) {
                c.state === Gp
                  ? ((this.uplinkRTT_ = 0),
                    (this.uplinkLoss_ = 0),
                    (this.uplinkNetworkQuality = 6))
                  : c.state === qd &&
                    this.uplinkNetworkQuality === 6 &&
                    (this.uplinkNetworkQuality = 5);
              },
            },
            {
              key: "handleUplinkConnectionStateChange",
              value: function (c) {
                var o = c.state;
                o === fr
                  ? ((this.uplinkLoss_ = 0),
                    (this.uplinkRTT_ = 0),
                    (this.uplinkNetworkQuality = 6))
                  : o === pr &&
                    this.uplinkNetworkQuality === 6 &&
                    (this.uplinkNetworkQuality = 5);
              },
            },
            {
              key: "isPeerConnectionDisconnected",
              value: function (c) {
                return !(
                  !c ||
                  (c.connectionState !== UM &&
                    c.connectionState !== fT &&
                    c.connectionState !== vy)
                );
              },
            },
            {
              key: "setUplinkConnection",
              value: function (c) {
                (this.uplinkConnection_ = c),
                  this.uplinkConnection_
                    ? this.uplinkConnection_.on(
                        Kt.CONNECTION_STATE_CHANGED,
                        this.handleUplinkConnectionStateChange.bind(this)
                      )
                    : ((this.uplinkNetworkQuality = 0),
                      (this.uplinkRTT_ = 0),
                      (this.uplinkLoss_ = 0));
              },
            },
            {
              key: "start",
              value: function () {
                var c = this;
                this.interval_ === -1
                  ? (this.log_.info("start network quality calculating"),
                    (this.interval_ = un.run(
                      Rc,
                      function () {
                        c.handleDownlinkNetworkQuality(),
                          ye.emit(I0, {
                            client: c.client_,
                            uplinkNetworkQuality: c.uplinkNetworkQuality,
                            downlinkNetworkQuality: c.downlinkNetworkQuality,
                            uplinkRTT: c.uplinkRTT_,
                            uplinkLoss: c.uplinkLoss_,
                            downlinkRTT: c.downlinkRTT_,
                            downlinkLoss: c.downlinkLoss_,
                            downlinkLossAndRTTMap: c.downlinkLossAndRTTMap_,
                          }),
                          c.emitter_.emit(tn.NETWORK_QUALITY, {
                            uplinkNetworkQuality: c.uplinkNetworkQuality,
                            downlinkNetworkQuality: c.downlinkNetworkQuality,
                            uplinkRTT: c.uplinkRTT_,
                            uplinkLoss: c.uplinkLoss_,
                            downlinkRTT: c.downlinkRTT_,
                            downlinkLoss: c.downlinkLoss_,
                          });
                      },
                      { delay: 2e3 }
                    )))
                  : this.log_.info(
                      "network quality calculating is already started"
                    );
              },
            },
            {
              key: "stop",
              value: function () {
                this.log_.info("stop network quality calculating"),
                  this.interval_ !== -1 &&
                    (un.clearTask(this.interval_), (this.interval_ = -1)),
                  this.downlinkLossAndRTTMap_.clear(),
                  this.downlinkPrevStatMap_.clear();
              },
            },
            {
              key: "on",
              value: function (c, o) {
                this.emitter_.on(c, o);
              },
            },
            {
              key: "updateDelay",
              value: function (c) {
                var o = this;
                c.forEach(function (l) {
                  var h = l.srcTinyId,
                    p = l.videoDelay,
                    g = l.audioDelay,
                    _ = o.connections_.get(h);
                  _ && _.setDelay({ videoDelay: p, audioDelay: g });
                });
              },
            },
          ]),
          s
        );
      })(),
      $F = (function () {
        function s(a) {
          G(this, s),
            (this.log_ = it.createLogger({
              id: a.client.getUserId(),
              userId: a.client.getUserId(),
              sdkAppId: a.client.getSDKAppId(),
            })),
            (this.localStream_ = null),
            (this.prevDevices_ = []),
            this.initialize();
        }
        var e, n;
        return (
          ce(s, [
            {
              key: "initialize",
              value: function () {
                navigator.mediaDevices &&
                  navigator.mediaDevices.addEventListener &&
                  ((this.onDeviceChange = this.onDeviceChange.bind(this)),
                  navigator.mediaDevices.addEventListener(
                    "devicechange",
                    this.onDeviceChange
                  ));
              },
            },
            {
              key: "destroy",
              value: function () {
                navigator.mediaDevices &&
                  navigator.mediaDevices.removeEventListener &&
                  navigator.mediaDevices.removeEventListener(
                    "devicechange",
                    this.onDeviceChange
                  );
              },
            },
            {
              key: "onDeviceChange",
              value:
                ((n = C(
                  m().mark(function a() {
                    var c,
                      o,
                      l,
                      h = this;
                    return m().wrap(
                      function (p) {
                        for (;;)
                          switch ((p.prev = p.next)) {
                            case 0:
                              if (
                                this.localStream_ &&
                                this.localStream_.getMediaStream() &&
                                !this.localStream_.getScreen()
                              ) {
                                p.next = 2;
                                break;
                              }
                              return p.abrupt("return");
                            case 2:
                              return (p.next = 4), r1();
                            case 4:
                              (c = p.sent),
                                (o = c.filter(function (g) {
                                  return (
                                    h.prevDevices_.findIndex(function (_) {
                                      var b = _.deviceId;
                                      return g.deviceId === b;
                                    }) < 0
                                  );
                                })),
                                (l = this.prevDevices_.filter(function (g) {
                                  return (
                                    c.findIndex(function (_) {
                                      var b = _.deviceId;
                                      return g.deviceId === b;
                                    }) < 0
                                  );
                                })),
                                o.length > 0 &&
                                  this.handleDeviceAdded(this.prevDevices_, o),
                                l.length > 0 && this.handleDeviceRemoved(c, l),
                                (this.prevDevices_ = c);
                            case 10:
                            case "end":
                              return p.stop();
                          }
                      },
                      a,
                      this
                    );
                  })
                )),
                function () {
                  return n.apply(this, arguments);
                }),
            },
            {
              key: "setLocalStream",
              value:
                ((e = C(
                  m().mark(function a(c) {
                    return m().wrap(
                      function (o) {
                        for (;;)
                          switch ((o.prev = o.next)) {
                            case 0:
                              if (!c) {
                                o.next = 4;
                                break;
                              }
                              return (o.next = 3), r1();
                            case 3:
                              this.prevDevices_ = o.sent;
                            case 4:
                              this.localStream_ = c;
                            case 5:
                            case "end":
                              return o.stop();
                          }
                      },
                      a,
                      this
                    );
                  })
                )),
                function (a) {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "handleDeviceAdded",
              value: function (c, o) {
                var l, h;
                if (this.localStream_) {
                  this.log_.warn("devicesAdded: ".concat(JSON.stringify(o))),
                    this.localStream_.updateDeviceIdInUse();
                  var p = o.filter(function (B) {
                      return B.kind === bp;
                    }),
                    g = o.filter(function (B) {
                      return B.kind === Dd;
                    }),
                    _ = c.filter(function (B) {
                      return B.kind === bp;
                    }),
                    b = c.filter(function (B) {
                      return B.kind === Dd;
                    }),
                    R =
                      p.length > 0 &&
                      _.length === 0 &&
                      ((l = this.localStream_.getVideoTrack()) === null ||
                      l === void 0
                        ? void 0
                        : l.readyState) !== "live",
                    N =
                      g.length > 0 &&
                      b.length === 0 &&
                      ((h = this.localStream_.getAudioTrack()) === null ||
                      h === void 0
                        ? void 0
                        : h.readyState) !== "live";
                  if (N && R)
                    return (
                      this.log_.info(
                        "new microphone and camera detected, but there was no device before."
                      ),
                      void this.localStream_.recoverCapture({
                        audio: !0,
                        video: !0,
                        cameraId: p[0].deviceId,
                        microphoneId: g[0].deviceId,
                      })
                    );
                  R &&
                    (this.log_.info(
                      "new camera detected, but there was no camera before."
                    ),
                    this.localStream_.recoverCapture({
                      audio: !1,
                      video: !0,
                      cameraId: p[0].deviceId,
                    })),
                    N &&
                      (this.log_.info(
                        "new microphone detected, but there was no microphone before."
                      ),
                      this.localStream_.recoverCapture({
                        audio: !0,
                        video: !1,
                        microphoneId: g[0].deviceId,
                      }));
                }
              },
            },
            {
              key: "handleDeviceRemoved",
              value: function (c, o) {
                if (this.localStream_) {
                  this.log_.warn("devicesRemoved: ".concat(JSON.stringify(o))),
                    this.localStream_.updateDeviceIdInUse();
                  var l = !1,
                    h = !1,
                    p = this.localStream_.getCameraId(),
                    g = this.localStream_.getMicrophoneId();
                  if (g === Ip) {
                    var _ = this.localStream_.getMicrophoneGroupId(),
                      b = c.filter(function (R) {
                        return R.deviceId === Ip && R.kind === Dd;
                      })[0];
                    b && b.groupId !== _ && (h = !0);
                  }
                  if (
                    (o.forEach(function (R) {
                      var N = R.deviceId;
                      p.length > 0 && N === p
                        ? (l = !0)
                        : g.length > 0 && N === g && (h = !0);
                    }),
                    l && h)
                  )
                    return (
                      this.log_.warn(
                        "current camera and microphone in use is lost, cameraId: "
                          .concat(p, ", microphoneId: ")
                          .concat(g)
                      ),
                      void (
                        (this.localStream_.getAudio() ||
                          this.localStream_.getVideo()) &&
                        this.localStream_.recoverCapture({
                          video: !0,
                          audio: !0,
                        })
                      )
                    );
                  l &&
                    (this.log_.warn(
                      "current camera in use is lost, deviceId: ".concat(p)
                    ),
                    this.localStream_.getVideo() &&
                      this.localStream_.recoverCapture({
                        video: !0,
                        audio: !1,
                      })),
                    h &&
                      (this.log_.warn(
                        "current microphone in use is lost, deviceId: ".concat(
                          g
                        )
                      ),
                      this.localStream_.getAudio() &&
                        this.localStream_.recoverCapture({
                          video: !1,
                          audio: !0,
                        }));
                }
              },
            },
          ]),
          s
        );
      })();
    function n1() {
      return (
        (n1 = C(
          m().mark(function s() {
            var e;
            return m().wrap(function (n) {
              for (;;)
                switch ((n.prev = n.next)) {
                  case 0:
                    if (!Yp() && !$p()) {
                      n.next = 2;
                      break;
                    }
                    return n.abrupt("return", []);
                  case 2:
                    return (n.next = 4), Zp();
                  case 4:
                    return (
                      (e = n.sent),
                      n.abrupt(
                        "return",
                        e
                          .filter(function (a) {
                            return a.kind === bp;
                          })
                          .map(function (a, c) {
                            var o = a.label;
                            a.label || (o = "camera_" + c);
                            var l = {
                              label: o,
                              deviceId: a.deviceId,
                              kind: a.kind,
                            };
                            return (
                              a.groupId && (l.groupId = a.groupId),
                              a.getCapabilities &&
                                (l.getCapabilities = function () {
                                  return a.getCapabilities();
                                }),
                              l
                            );
                          })
                      )
                    );
                  case 6:
                  case "end":
                    return n.stop();
                }
            }, s);
          })
        )),
        n1.apply(this, arguments)
      );
    }
    var FI = /* @__PURE__ */ new Set();
    function Zp() {
      return jI.apply(this, arguments);
    }
    function jI() {
      return (jI = C(
        m().mark(function s() {
          var e;
          return m().wrap(function (n) {
            for (;;)
              switch ((n.prev = n.next)) {
                case 0:
                  if (!Yp() && !$p()) {
                    n.next = 2;
                    break;
                  }
                  return n.abrupt("return", []);
                case 2:
                  return (
                    (n.next = 4), navigator.mediaDevices.enumerateDevices()
                  );
                case 4:
                  return (
                    (e = n.sent).forEach(function (a) {
                      FI.add("".concat(a.deviceId, "_").concat(a.kind));
                    }),
                    n.abrupt("return", e)
                  );
                case 7:
                case "end":
                  return n.stop();
              }
          }, s);
        })
      )).apply(this, arguments);
    }
    function r1() {
      return i1.apply(this, arguments);
    }
    function i1() {
      return (
        (i1 = C(
          m().mark(function s() {
            var e;
            return m().wrap(function (n) {
              for (;;)
                switch ((n.prev = n.next)) {
                  case 0:
                    return (n.next = 2), Zp();
                  case 2:
                    return (
                      (e = n.sent),
                      n.abrupt(
                        "return",
                        e
                          .filter(function (a) {
                            return a.kind !== Dd || a.deviceId != GT;
                          })
                          .map(function (a, c) {
                            var o = a.label;
                            a.label || (o = a.kind + "_" + c);
                            var l = {
                              label: o,
                              deviceId: a.deviceId,
                              kind: a.kind,
                            };
                            return (
                              a.groupId && (l.groupId = a.groupId),
                              a.getCapabilities &&
                                (l.getCapabilities = function () {
                                  return a.getCapabilities();
                                }),
                              l
                            );
                          })
                      )
                    );
                  case 4:
                  case "end":
                    return n.stop();
                }
            }, s);
          })
        )),
        i1.apply(this, arguments)
      );
    }
    function BI() {
      return a1.apply(this, arguments);
    }
    function a1() {
      return (
        (a1 = C(
          m().mark(function s() {
            var e;
            return m().wrap(function (n) {
              for (;;)
                switch ((n.prev = n.next)) {
                  case 0:
                    return (n.next = 2), Zp();
                  case 2:
                    return (
                      (e = n.sent),
                      n.abrupt(
                        "return",
                        e
                          .filter(function (a) {
                            return a.kind === Dd && a.deviceId !== GT;
                          })
                          .map(function (a, c) {
                            var o = a.label;
                            a.label || (o = "microphone_" + c);
                            var l = {
                              label: o,
                              deviceId: a.deviceId,
                              kind: a.kind,
                            };
                            return (
                              a.groupId && (l.groupId = a.groupId),
                              a.getCapabilities &&
                                (l.getCapabilities = function () {
                                  return a.getCapabilities();
                                }),
                              l
                            );
                          })
                      )
                    );
                  case 4:
                  case "end":
                    return n.stop();
                }
            }, s);
          })
        )),
        a1.apply(this, arguments)
      );
    }
    function HI() {
      return o1.apply(this, arguments);
    }
    function o1() {
      return (
        (o1 = C(
          m().mark(function s() {
            var e;
            return m().wrap(function (n) {
              for (;;)
                switch ((n.prev = n.next)) {
                  case 0:
                    return (n.next = 2), Zp();
                  case 2:
                    return (
                      (e = n.sent),
                      n.abrupt(
                        "return",
                        e
                          .filter(function (a) {
                            return a.kind === "audiooutput";
                          })
                          .map(function (a, c) {
                            var o = a.label;
                            a.label || (o = "speaker_" + c);
                            var l = {
                              label: o,
                              deviceId: a.deviceId,
                              kind: a.kind,
                            };
                            return a.groupId && (l.groupId = a.groupId), l;
                          })
                      )
                    );
                  case 4:
                  case "end":
                    return n.stop();
                }
            }, s);
          })
        )),
        o1.apply(this, arguments)
      );
    }
    function YF(s) {
      var e;
      if (
        s instanceof CanvasCaptureMediaStreamTrack ||
        !(s instanceof window.MediaStreamTrack)
      )
        return !1;
      var n = s.label.toLocaleLowerCase();
      if (n.includes("camera") || n.includes("webcam")) return !0;
      var a = ""
        .concat(
          (e = s.getSettings()) === null || e === void 0 ? void 0 : e.deviceId,
          "_"
        )
        .concat(bp);
      return !!FI.has(a);
    }
    function ZF(s, e) {
      return zI.apply(this, arguments);
    }
    function zI() {
      return (zI = C(
        m().mark(function s(e, n) {
          var a, c;
          return m().wrap(function (o) {
            for (;;)
              switch ((o.prev = o.next)) {
                case 0:
                  return (o.next = 2), BI();
                case 2:
                  if (
                    ((a = o.sent),
                    ((c = a.find(function (l) {
                      return l.deviceId === Ip;
                    })) == null
                      ? void 0
                      : c.groupId) !== e || c.label !== n)
                  ) {
                    o.next = 6;
                    break;
                  }
                  return o.abrupt("return", !0);
                case 6:
                  return o.abrupt("return", !1);
                case 7:
                case "end":
                  return o.stop();
              }
          }, s);
        })
      )).apply(this, arguments);
    }
    var ai,
      WI = Du.exports,
      QF = vn,
      XF = mn,
      ej = KS,
      tj = Ba,
      nj = Te,
      rj = Wn,
      ij = function (e, n, a, c) {
        try {
          return c ? n(XF(a)[0], a[1]) : n(a);
        } catch (o) {
          ej(e, "throw", o);
        }
      },
      aj = jg,
      oj = Zf,
      sj = wn,
      GI = Ti,
      uj = qf,
      cj = pd,
      qI = Array,
      KI = function (e) {
        var n = rj(e),
          a = oj(this),
          c = arguments.length,
          o = c > 1 ? arguments[1] : void 0,
          l = o !== void 0;
        l && (o = tj(o, c > 2 ? arguments[2] : void 0));
        var h,
          p,
          g,
          _,
          b,
          R,
          N = cj(n),
          B = 0;
        if (!N || (this === qI && aj(N)))
          for (h = sj(n), p = a ? new this(h) : qI(h); h > B; B++)
            (R = l ? o(n[B], B) : n[B]), GI(p, B, R);
        else
          for (
            b = (_ = uj(n, N)).next, p = a ? new this() : [];
            !(g = nj(b, _)).done;
            B++
          )
            (R = l ? ij(_, o, [g.value, B], !0) : g.value), GI(p, B, R);
        return (p.length = B), p;
      },
      nu = Qe,
      s1 = 2147483647,
      lj = /[^\0-\u007E]/,
      JI = /[.\u3002\uFF0E\uFF61]/g,
      $I = "Overflow: input needs wider integers to process",
      YI = RangeError,
      dj = nu(JI.exec),
      Fc = Math.floor,
      u1 = String.fromCharCode,
      ZI = nu("".charCodeAt),
      QI = nu([].join),
      Ho = nu([].push),
      hj = nu("".replace),
      fj = nu("".split),
      pj = nu("".toLowerCase),
      XI = function (e) {
        return e + 22 + 75 * (e < 26);
      },
      vj = function (e, n, a) {
        var c = 0;
        for (e = a ? Fc(e / 700) : e >> 1, e += Fc(e / n); e > 455; )
          (e = Fc(e / 35)), (c += 36);
        return Fc(c + (36 * e) / (e + 38));
      },
      mj = function (e) {
        var n = [];
        e = (function (A) {
          for (var L = [], $ = 0, X = A.length; $ < X; ) {
            var Q = ZI(A, $++);
            if (Q >= 55296 && Q <= 56319 && $ < X) {
              var D = ZI(A, $++);
              (64512 & D) == 56320
                ? Ho(L, ((1023 & Q) << 10) + (1023 & D) + 65536)
                : (Ho(L, Q), $--);
            } else Ho(L, Q);
          }
          return L;
        })(e);
        var a,
          c,
          o = e.length,
          l = 128,
          h = 0,
          p = 72;
        for (a = 0; a < e.length; a++) (c = e[a]) < 128 && Ho(n, u1(c));
        var g = n.length,
          _ = g;
        for (g && Ho(n, "-"); _ < o; ) {
          var b = s1;
          for (a = 0; a < e.length; a++) (c = e[a]) >= l && c < b && (b = c);
          var R = _ + 1;
          if (b - l > Fc((s1 - h) / R)) throw YI($I);
          for (h += (b - l) * R, l = b, a = 0; a < e.length; a++) {
            if ((c = e[a]) < l && ++h > s1) throw YI($I);
            if (c == l) {
              for (var N = h, B = 36; ; ) {
                var F = B <= p ? 1 : B >= p + 26 ? 26 : B - p;
                if (N < F) break;
                var U = N - F,
                  T = 36 - F;
                Ho(n, u1(XI(F + (U % T)))), (N = Fc(U / T)), (B += 36);
              }
              Ho(n, u1(XI(N))), (p = vj(h, R, _ == g)), (h = 0), _++;
            }
          }
          h++, l++;
        }
        return QI(n, "");
      },
      gj = Tt,
      c1 = Mt,
      _j = m2,
      l1 = Xe,
      eR = Ba,
      oi = Qe,
      Qp = Bn,
      si = function (e, n, a) {
        return (
          a.get && WI(a.get, n, { getter: !0 }),
          a.set && WI(a.set, n, { setter: !0 }),
          QF.f(e, n, a)
        );
      },
      yj = To,
      d1 = bn,
      h1 = YE,
      jc = KI,
      xi = ic,
      bj = qg.codeAt,
      Sj = function (e) {
        var n,
          a,
          c = [],
          o = fj(hj(pj(e), JI, "."), ".");
        for (n = 0; n < o.length; n++)
          (a = o[n]), Ho(c, dj(lj, a) ? "xn--" + mj(a) : a);
        return QI(c, ".");
      },
      $a = qn,
      wj = Zt,
      kj = Yf,
      tR = vN,
      nR = an,
      Tj = nR.set,
      Xp = nR.getterFor("URL"),
      Ej = tR.URLSearchParams,
      Ij = tR.getState,
      Yd = l1.URL,
      f1 = l1.TypeError,
      ev = l1.parseInt,
      Rj = Math.floor,
      rR = Math.pow,
      ui = oi("".charAt),
      Pi = oi(/./.exec),
      Zd = oi([].join),
      Cj = oi((1).toString),
      Aj = oi([].pop),
      Bc = oi([].push),
      iR = oi("".replace),
      xj = oi([].shift),
      Pj = oi("".split),
      Qd = oi("".slice),
      tv = oi("".toLowerCase),
      Oj = oi([].unshift),
      p1 = "Invalid scheme",
      ru = "Invalid host",
      aR = "Invalid port",
      oR = /[a-z]/i,
      Dj = /[\d+-.a-z]/i,
      v1 = /\d/,
      Nj = /^0x/i,
      Lj = /^[0-7]+$/,
      Mj = /^\d+$/,
      sR = /^[\da-f]+$/i,
      Uj = /[\0\t\n\r #%/:<>?@[\\\]^|]/,
      Vj = /[\0\t\n\r #/:<>?@[\\\]^|]/,
      Fj = /^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,
      jj = /[\t\n\r]/g,
      Xd = function (e) {
        var n, a, c, o;
        if (typeof e == "number") {
          for (n = [], a = 0; a < 4; a++) Oj(n, e % 256), (e = Rj(e / 256));
          return Zd(n, ".");
        }
        if (ut(e) == "object") {
          for (
            n = "",
              c = (function (l) {
                for (var h = null, p = 1, g = null, _ = 0, b = 0; b < 8; b++)
                  l[b] !== 0
                    ? (_ > p && ((h = g), (p = _)), (g = null), (_ = 0))
                    : (g === null && (g = b), ++_);
                return _ > p && ((h = g), (p = _)), h;
              })(e),
              a = 0;
            a < 8;
            a++
          )
            (o && e[a] === 0) ||
              (o && (o = !1),
              c === a
                ? ((n += a ? ":" : "::"), (o = !0))
                : ((n += Cj(e[a], 16)), a < 7 && (n += ":")));
          return "[" + n + "]";
        }
        return e;
      },
      nv = {},
      uR = h1({}, nv, { " ": 1, '"': 1, "<": 1, ">": 1, "`": 1 }),
      cR = h1({}, uR, { "#": 1, "?": 1, "{": 1, "}": 1 }),
      m1 = h1({}, cR, {
        "/": 1,
        ":": 1,
        ";": 1,
        "=": 1,
        "@": 1,
        "[": 1,
        "\\": 1,
        "]": 1,
        "^": 1,
        "|": 1,
      }),
      zo = function (e, n) {
        var a = bj(e, 0);
        return a > 32 && a < 127 && !d1(n, e) ? e : encodeURIComponent(e);
      },
      rv = { ftp: 21, file: null, http: 80, https: 443, ws: 80, wss: 443 },
      eh = function (e, n) {
        var a;
        return (
          e.length == 2 &&
          Pi(oR, ui(e, 0)) &&
          ((a = ui(e, 1)) == ":" || (!n && a == "|"))
        );
      },
      lR = function (e) {
        var n;
        return (
          e.length > 1 &&
          eh(Qd(e, 0, 2)) &&
          (e.length == 2 ||
            (n = ui(e, 2)) === "/" ||
            n === "\\" ||
            n === "?" ||
            n === "#")
        );
      },
      Bj = function (e) {
        return e === "." || tv(e) === "%2e";
      },
      g1 = {},
      dR = {},
      _1 = {},
      hR = {},
      fR = {},
      y1 = {},
      pR = {},
      vR = {},
      iv = {},
      av = {},
      b1 = {},
      S1 = {},
      w1 = {},
      k1 = {},
      mR = {},
      T1 = {},
      Hc = {},
      da = {},
      gR = {},
      iu = {},
      Ya = {},
      E1 = function (e, n, a) {
        var c,
          o,
          l,
          h = $a(e);
        if (n) {
          if ((o = this.parse(h))) throw f1(o);
          this.searchParams = null;
        } else {
          if (
            (a !== void 0 && (c = new E1(a, !0)), (o = this.parse(h, null, c)))
          )
            throw f1(o);
          (l = Ij(new Ej())).bindURL(this), (this.searchParams = l);
        }
      };
    E1.prototype = {
      type: "URL",
      parse: function (e, n, a) {
        var c,
          o,
          l,
          h,
          p,
          g = this,
          _ = n || g1,
          b = 0,
          R = "",
          N = !1,
          B = !1,
          F = !1;
        for (
          e = $a(e),
            n ||
              ((g.scheme = ""),
              (g.username = ""),
              (g.password = ""),
              (g.host = null),
              (g.port = null),
              (g.path = []),
              (g.query = null),
              (g.fragment = null),
              (g.cannotBeABaseURL = !1),
              (e = iR(e, Fj, ""))),
            e = iR(e, jj, ""),
            c = jc(e);
          b <= c.length;

        ) {
          switch (((o = c[b]), _)) {
            case g1:
              if (!o || !Pi(oR, o)) {
                if (n) return p1;
                _ = _1;
                continue;
              }
              (R += tv(o)), (_ = dR);
              break;
            case dR:
              if (o && (Pi(Dj, o) || o == "+" || o == "-" || o == "."))
                R += tv(o);
              else {
                if (o != ":") {
                  if (n) return p1;
                  (R = ""), (_ = _1), (b = 0);
                  continue;
                }
                if (
                  n &&
                  (g.isSpecial() != d1(rv, R) ||
                    (R == "file" &&
                      (g.includesCredentials() || g.port !== null)) ||
                    (g.scheme == "file" && !g.host))
                )
                  return;
                if (((g.scheme = R), n))
                  return void (
                    g.isSpecial() &&
                    rv[g.scheme] == g.port &&
                    (g.port = null)
                  );
                (R = ""),
                  g.scheme == "file"
                    ? (_ = k1)
                    : g.isSpecial() && a && a.scheme == g.scheme
                    ? (_ = hR)
                    : g.isSpecial()
                    ? (_ = vR)
                    : c[b + 1] == "/"
                    ? ((_ = fR), b++)
                    : ((g.cannotBeABaseURL = !0), Bc(g.path, ""), (_ = gR));
              }
              break;
            case _1:
              if (!a || (a.cannotBeABaseURL && o != "#")) return p1;
              if (a.cannotBeABaseURL && o == "#") {
                (g.scheme = a.scheme),
                  (g.path = xi(a.path)),
                  (g.query = a.query),
                  (g.fragment = ""),
                  (g.cannotBeABaseURL = !0),
                  (_ = Ya);
                break;
              }
              _ = a.scheme == "file" ? k1 : y1;
              continue;
            case hR:
              if (o != "/" || c[b + 1] != "/") {
                _ = y1;
                continue;
              }
              (_ = iv), b++;
              break;
            case fR:
              if (o == "/") {
                _ = av;
                break;
              }
              _ = da;
              continue;
            case y1:
              if (((g.scheme = a.scheme), o == ai))
                (g.username = a.username),
                  (g.password = a.password),
                  (g.host = a.host),
                  (g.port = a.port),
                  (g.path = xi(a.path)),
                  (g.query = a.query);
              else if (o == "/" || (o == "\\" && g.isSpecial())) _ = pR;
              else if (o == "?")
                (g.username = a.username),
                  (g.password = a.password),
                  (g.host = a.host),
                  (g.port = a.port),
                  (g.path = xi(a.path)),
                  (g.query = ""),
                  (_ = iu);
              else {
                if (o != "#") {
                  (g.username = a.username),
                    (g.password = a.password),
                    (g.host = a.host),
                    (g.port = a.port),
                    (g.path = xi(a.path)),
                    g.path.length--,
                    (_ = da);
                  continue;
                }
                (g.username = a.username),
                  (g.password = a.password),
                  (g.host = a.host),
                  (g.port = a.port),
                  (g.path = xi(a.path)),
                  (g.query = a.query),
                  (g.fragment = ""),
                  (_ = Ya);
              }
              break;
            case pR:
              if (!g.isSpecial() || (o != "/" && o != "\\")) {
                if (o != "/") {
                  (g.username = a.username),
                    (g.password = a.password),
                    (g.host = a.host),
                    (g.port = a.port),
                    (_ = da);
                  continue;
                }
                _ = av;
              } else _ = iv;
              break;
            case vR:
              if (((_ = iv), o != "/" || ui(R, b + 1) != "/")) continue;
              b++;
              break;
            case iv:
              if (o != "/" && o != "\\") {
                _ = av;
                continue;
              }
              break;
            case av:
              if (o == "@") {
                N && (R = "%40" + R), (N = !0), (l = jc(R));
                for (var U = 0; U < l.length; U++) {
                  var T = l[U];
                  if (T != ":" || F) {
                    var A = zo(T, m1);
                    F ? (g.password += A) : (g.username += A);
                  } else F = !0;
                }
                R = "";
              } else if (
                o == ai ||
                o == "/" ||
                o == "?" ||
                o == "#" ||
                (o == "\\" && g.isSpecial())
              ) {
                if (N && R == "") return "Invalid authority";
                (b -= jc(R).length + 1), (R = ""), (_ = b1);
              } else R += o;
              break;
            case b1:
            case S1:
              if (n && g.scheme == "file") {
                _ = T1;
                continue;
              }
              if (o != ":" || B) {
                if (
                  o == ai ||
                  o == "/" ||
                  o == "?" ||
                  o == "#" ||
                  (o == "\\" && g.isSpecial())
                ) {
                  if (g.isSpecial() && R == "") return ru;
                  if (
                    n &&
                    R == "" &&
                    (g.includesCredentials() || g.port !== null)
                  )
                    return;
                  if ((h = g.parseHost(R))) return h;
                  if (((R = ""), (_ = Hc), n)) return;
                  continue;
                }
                o == "[" ? (B = !0) : o == "]" && (B = !1), (R += o);
              } else {
                if (R == "") return ru;
                if ((h = g.parseHost(R))) return h;
                if (((R = ""), (_ = w1), n == S1)) return;
              }
              break;
            case w1:
              if (!Pi(v1, o)) {
                if (
                  o == ai ||
                  o == "/" ||
                  o == "?" ||
                  o == "#" ||
                  (o == "\\" && g.isSpecial()) ||
                  n
                ) {
                  if (R != "") {
                    var L = ev(R, 10);
                    if (L > 65535) return aR;
                    (g.port = g.isSpecial() && L === rv[g.scheme] ? null : L),
                      (R = "");
                  }
                  if (n) return;
                  _ = Hc;
                  continue;
                }
                return aR;
              }
              R += o;
              break;
            case k1:
              if (((g.scheme = "file"), o == "/" || o == "\\")) _ = mR;
              else {
                if (!a || a.scheme != "file") {
                  _ = da;
                  continue;
                }
                if (o == ai)
                  (g.host = a.host), (g.path = xi(a.path)), (g.query = a.query);
                else if (o == "?")
                  (g.host = a.host),
                    (g.path = xi(a.path)),
                    (g.query = ""),
                    (_ = iu);
                else {
                  if (o != "#") {
                    lR(Zd(xi(c, b), "")) ||
                      ((g.host = a.host),
                      (g.path = xi(a.path)),
                      g.shortenPath()),
                      (_ = da);
                    continue;
                  }
                  (g.host = a.host),
                    (g.path = xi(a.path)),
                    (g.query = a.query),
                    (g.fragment = ""),
                    (_ = Ya);
                }
              }
              break;
            case mR:
              if (o == "/" || o == "\\") {
                _ = T1;
                break;
              }
              a &&
                a.scheme == "file" &&
                !lR(Zd(xi(c, b), "")) &&
                (eh(a.path[0], !0) ? Bc(g.path, a.path[0]) : (g.host = a.host)),
                (_ = da);
              continue;
            case T1:
              if (o == ai || o == "/" || o == "\\" || o == "?" || o == "#") {
                if (!n && eh(R)) _ = da;
                else if (R == "") {
                  if (((g.host = ""), n)) return;
                  _ = Hc;
                } else {
                  if ((h = g.parseHost(R))) return h;
                  if ((g.host == "localhost" && (g.host = ""), n)) return;
                  (R = ""), (_ = Hc);
                }
                continue;
              }
              R += o;
              break;
            case Hc:
              if (g.isSpecial()) {
                if (((_ = da), o != "/" && o != "\\")) continue;
              } else if (n || o != "?")
                if (n || o != "#") {
                  if (o != ai && ((_ = da), o != "/")) continue;
                } else (g.fragment = ""), (_ = Ya);
              else (g.query = ""), (_ = iu);
              break;
            case da:
              if (
                o == ai ||
                o == "/" ||
                (o == "\\" && g.isSpecial()) ||
                (!n && (o == "?" || o == "#"))
              ) {
                if (
                  ((p = tv((p = R))) === ".." ||
                  p === "%2e." ||
                  p === ".%2e" ||
                  p === "%2e%2e"
                    ? (g.shortenPath(),
                      o == "/" ||
                        (o == "\\" && g.isSpecial()) ||
                        Bc(g.path, ""))
                    : Bj(R)
                    ? o == "/" || (o == "\\" && g.isSpecial()) || Bc(g.path, "")
                    : (g.scheme == "file" &&
                        !g.path.length &&
                        eh(R) &&
                        (g.host && (g.host = ""), (R = ui(R, 0) + ":")),
                      Bc(g.path, R)),
                  (R = ""),
                  g.scheme == "file" && (o == ai || o == "?" || o == "#"))
                )
                  for (; g.path.length > 1 && g.path[0] === ""; ) xj(g.path);
                o == "?"
                  ? ((g.query = ""), (_ = iu))
                  : o == "#" && ((g.fragment = ""), (_ = Ya));
              } else R += zo(o, cR);
              break;
            case gR:
              o == "?"
                ? ((g.query = ""), (_ = iu))
                : o == "#"
                ? ((g.fragment = ""), (_ = Ya))
                : o != ai && (g.path[0] += zo(o, nv));
              break;
            case iu:
              n || o != "#"
                ? o != ai &&
                  (o == "'" && g.isSpecial()
                    ? (g.query += "%27")
                    : (g.query += o == "#" ? "%23" : zo(o, nv)))
                : ((g.fragment = ""), (_ = Ya));
              break;
            case Ya:
              o != ai && (g.fragment += zo(o, uR));
          }
          b++;
        }
      },
      parseHost: function (e) {
        var n, a, c;
        if (ui(e, 0) == "[") {
          if (
            ui(e, e.length - 1) != "]" ||
            ((n = (function (o) {
              var l,
                h,
                p,
                g,
                _,
                b,
                R,
                N = [0, 0, 0, 0, 0, 0, 0, 0],
                B = 0,
                F = null,
                U = 0,
                T = function () {
                  return ui(o, U);
                };
              if (T() == ":") {
                if (ui(o, 1) != ":") return;
                (U += 2), (F = ++B);
              }
              for (; T(); ) {
                if (B == 8) return;
                if (T() != ":") {
                  for (l = h = 0; h < 4 && Pi(sR, T()); )
                    (l = 16 * l + ev(T(), 16)), U++, h++;
                  if (T() == ".") {
                    if (h == 0 || ((U -= h), B > 6)) return;
                    for (p = 0; T(); ) {
                      if (((g = null), p > 0)) {
                        if (!(T() == "." && p < 4)) return;
                        U++;
                      }
                      if (!Pi(v1, T())) return;
                      for (; Pi(v1, T()); ) {
                        if (((_ = ev(T(), 10)), g === null)) g = _;
                        else {
                          if (g == 0) return;
                          g = 10 * g + _;
                        }
                        if (g > 255) return;
                        U++;
                      }
                      (N[B] = 256 * N[B] + g), (++p != 2 && p != 4) || B++;
                    }
                    if (p != 4) return;
                    break;
                  }
                  if (T() == ":") {
                    if ((U++, !T())) return;
                  } else if (T()) return;
                  N[B++] = l;
                } else {
                  if (F !== null) return;
                  U++, (F = ++B);
                }
              }
              if (F !== null)
                for (b = B - F, B = 7; B != 0 && b > 0; )
                  (R = N[B]), (N[B--] = N[F + b - 1]), (N[F + --b] = R);
              else if (B != 8) return;
              return N;
            })(Qd(e, 1, -1))),
            !n)
          )
            return ru;
          this.host = n;
        } else if (this.isSpecial()) {
          if (
            ((e = Sj(e)),
            Pi(Uj, e) ||
              ((n = (function (o) {
                var l,
                  h,
                  p,
                  g,
                  _,
                  b,
                  R,
                  N = Pj(o, ".");
                if (
                  (N.length && N[N.length - 1] == "" && N.length--,
                  (l = N.length) > 4)
                )
                  return o;
                for (h = [], p = 0; p < l; p++) {
                  if ((g = N[p]) == "") return o;
                  if (
                    ((_ = 10),
                    g.length > 1 &&
                      ui(g, 0) == "0" &&
                      ((_ = Pi(Nj, g) ? 16 : 8), (g = Qd(g, _ == 8 ? 1 : 2))),
                    g === "")
                  )
                    b = 0;
                  else {
                    if (!Pi(_ == 10 ? Mj : _ == 8 ? Lj : sR, g)) return o;
                    b = ev(g, _);
                  }
                  Bc(h, b);
                }
                for (p = 0; p < l; p++)
                  if (((b = h[p]), p == l - 1)) {
                    if (b >= rR(256, 5 - l)) return null;
                  } else if (b > 255) return null;
                for (R = Aj(h), p = 0; p < h.length; p++)
                  R += h[p] * rR(256, 3 - p);
                return R;
              })(e)),
              n === null))
          )
            return ru;
          this.host = n;
        } else {
          if (Pi(Vj, e)) return ru;
          for (n = "", a = jc(e), c = 0; c < a.length; c++) n += zo(a[c], nv);
          this.host = n;
        }
      },
      cannotHaveUsernamePasswordPort: function () {
        return !this.host || this.cannotBeABaseURL || this.scheme == "file";
      },
      includesCredentials: function () {
        return this.username != "" || this.password != "";
      },
      isSpecial: function () {
        return d1(rv, this.scheme);
      },
      shortenPath: function () {
        var e = this.path,
          n = e.length;
        !n || (this.scheme == "file" && n == 1 && eh(e[0], !0)) || e.length--;
      },
      serialize: function () {
        var e = this,
          n = e.scheme,
          a = e.username,
          c = e.password,
          o = e.host,
          l = e.port,
          h = e.path,
          p = e.query,
          g = e.fragment,
          _ = n + ":";
        return (
          o !== null
            ? ((_ += "//"),
              e.includesCredentials() && (_ += a + (c ? ":" + c : "") + "@"),
              (_ += Xd(o)),
              l !== null && (_ += ":" + l))
            : n == "file" && (_ += "//"),
          (_ += e.cannotBeABaseURL ? h[0] : h.length ? "/" + Zd(h, "/") : ""),
          p !== null && (_ += "?" + p),
          g !== null && (_ += "#" + g),
          _
        );
      },
      setHref: function (e) {
        var n = this.parse(e);
        if (n) throw f1(n);
        this.searchParams.update();
      },
      getOrigin: function () {
        var e = this.scheme,
          n = this.port;
        if (e == "blob")
          try {
            return new zc(e.path[0]).origin;
          } catch (a) {
            return "null";
          }
        return e != "file" && this.isSpecial()
          ? e + "://" + Xd(this.host) + (n !== null ? ":" + n : "")
          : "null";
      },
      getProtocol: function () {
        return this.scheme + ":";
      },
      setProtocol: function (e) {
        this.parse($a(e) + ":", g1);
      },
      getUsername: function () {
        return this.username;
      },
      setUsername: function (e) {
        var n = jc($a(e));
        if (!this.cannotHaveUsernamePasswordPort()) {
          this.username = "";
          for (var a = 0; a < n.length; a++) this.username += zo(n[a], m1);
        }
      },
      getPassword: function () {
        return this.password;
      },
      setPassword: function (e) {
        var n = jc($a(e));
        if (!this.cannotHaveUsernamePasswordPort()) {
          this.password = "";
          for (var a = 0; a < n.length; a++) this.password += zo(n[a], m1);
        }
      },
      getHost: function () {
        var e = this.host,
          n = this.port;
        return e === null ? "" : n === null ? Xd(e) : Xd(e) + ":" + n;
      },
      setHost: function (e) {
        this.cannotBeABaseURL || this.parse(e, b1);
      },
      getHostname: function () {
        var e = this.host;
        return e === null ? "" : Xd(e);
      },
      setHostname: function (e) {
        this.cannotBeABaseURL || this.parse(e, S1);
      },
      getPort: function () {
        var e = this.port;
        return e === null ? "" : $a(e);
      },
      setPort: function (e) {
        this.cannotHaveUsernamePasswordPort() ||
          ((e = $a(e)) == "" ? (this.port = null) : this.parse(e, w1));
      },
      getPathname: function () {
        var e = this.path;
        return this.cannotBeABaseURL ? e[0] : e.length ? "/" + Zd(e, "/") : "";
      },
      setPathname: function (e) {
        this.cannotBeABaseURL || ((this.path = []), this.parse(e, Hc));
      },
      getSearch: function () {
        var e = this.query;
        return e ? "?" + e : "";
      },
      setSearch: function (e) {
        (e = $a(e)) == ""
          ? (this.query = null)
          : (ui(e, 0) == "?" && (e = Qd(e, 1)),
            (this.query = ""),
            this.parse(e, iu)),
          this.searchParams.update();
      },
      getSearchParams: function () {
        return this.searchParams.facade;
      },
      getHash: function () {
        var e = this.fragment;
        return e ? "#" + e : "";
      },
      setHash: function (e) {
        (e = $a(e)) != ""
          ? (ui(e, 0) == "#" && (e = Qd(e, 1)),
            (this.fragment = ""),
            this.parse(e, Ya))
          : (this.fragment = null);
      },
      update: function () {
        this.query = this.searchParams.serialize() || null;
      },
    };
    var zc = function (e) {
        var n = yj(this, _r),
          a = kj(arguments.length, 1) > 1 ? arguments[1] : void 0,
          c = Tj(n, new E1(e, !1, a));
        c1 ||
          ((n.href = c.serialize()),
          (n.origin = c.getOrigin()),
          (n.protocol = c.getProtocol()),
          (n.username = c.getUsername()),
          (n.password = c.getPassword()),
          (n.host = c.getHost()),
          (n.hostname = c.getHostname()),
          (n.port = c.getPort()),
          (n.pathname = c.getPathname()),
          (n.search = c.getSearch()),
          (n.searchParams = c.getSearchParams()),
          (n.hash = c.getHash()));
      },
      _r = zc.prototype,
      ci = function (e, n) {
        return {
          get: function () {
            return Xp(this)[e]();
          },
          set:
            n &&
            function (a) {
              return Xp(this)[n](a);
            },
          configurable: !0,
          enumerable: !0,
        };
      };
    if (
      (c1 &&
        (si(_r, "href", ci("serialize", "setHref")),
        si(_r, "origin", ci("getOrigin")),
        si(_r, "protocol", ci("getProtocol", "setProtocol")),
        si(_r, "username", ci("getUsername", "setUsername")),
        si(_r, "password", ci("getPassword", "setPassword")),
        si(_r, "host", ci("getHost", "setHost")),
        si(_r, "hostname", ci("getHostname", "setHostname")),
        si(_r, "port", ci("getPort", "setPort")),
        si(_r, "pathname", ci("getPathname", "setPathname")),
        si(_r, "search", ci("getSearch", "setSearch")),
        si(_r, "searchParams", ci("getSearchParams")),
        si(_r, "hash", ci("getHash", "setHash"))),
      Qp(
        _r,
        "toJSON",
        function () {
          return Xp(this).serialize();
        },
        { enumerable: !0 }
      ),
      Qp(
        _r,
        "toString",
        function () {
          return Xp(this).serialize();
        },
        { enumerable: !0 }
      ),
      Yd)
    ) {
      var _R = Yd.createObjectURL,
        yR = Yd.revokeObjectURL;
      _R && Qp(zc, "createObjectURL", eR(_R, Yd)),
        yR && Qp(zc, "revokeObjectURL", eR(yR, Yd));
    }
    wj(zc, "URL"),
      gj({ global: !0, constructor: !0, forced: !_j, sham: !c1 }, { URL: zc });
    var au,
      ov,
      Hj = new Blob(
        [
          "class VolumeMeter extends AudioWorkletProcessor{constructor(){super();this.volume=0;this.intervalTime=200;this.tick=this.intervalTime;this.isStop=false;this.port.onmessage=event=>{const{data}=event;switch(data.name){case'setIntervalTime':this.intervalTime=data.intervalTime;break;case'stop':this.isStop=true;break}}}process(inputs){const input=inputs[0];if(this.isStop){return false}if(input.length>0){const firstChannel=input[0];let sum=0;let rms;for(let i=0;i<firstChannel.length;++i){sum+=firstChannel[i]*firstChannel[i]}rms=Math.sqrt(sum/firstChannel.length);this.volume=Math.max(rms,this.volume*0.95);this.tick-=firstChannel.length;if(this.tick<0){this.tick+=(this.intervalTime/1000)*sampleRate;this.port.postMessage({volume:this.volume})}}return true}}registerProcessor('volume-meter',VolumeMeter);",
        ],
        { type: "application/javascript" }
      ),
      bR = !1,
      zj = (function () {
        function s(n) {
          G(this, s), (this.context_ = n.context), this.addModuleToContext();
        }
        var e;
        return (
          ce(s, [
            {
              key: "addModuleToContext",
              value:
                ((e = C(
                  m().mark(function n() {
                    return m().wrap(
                      function (a) {
                        for (;;)
                          switch ((a.prev = a.next)) {
                            case 0:
                              return (
                                (a.prev = 0),
                                (a.next = 3),
                                this.context_.audioWorklet.addModule(
                                  URL.createObjectURL(Hj)
                                )
                              );
                            case 3:
                              it.info("worklet addModule success"),
                                ye.emit(R0),
                                (bR = !0),
                                (a.next = 12);
                              break;
                            case 8:
                              (a.prev = 8),
                                (a.t0 = a.catch(0)),
                                it.info(
                                  "worklet addModule catch error. ".concat(
                                    a.t0.message
                                  )
                                ),
                                ye.emit(C0);
                            case 12:
                            case "end":
                              return a.stop();
                          }
                      },
                      n,
                      this,
                      [[0, 8]]
                    );
                  })
                )),
                function () {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "initWorkletSuccess",
              get: function () {
                return bR;
              },
            },
          ]),
          s
        );
      })(),
      th = 0,
      Wj = (function () {
        function s(e) {
          G(this, s);
          var n = e.track,
            a = e.log,
            c = e.stream;
          (this.volume_ = 0),
            (this.log_ = a),
            (this.track_ = n),
            (this.stream_ = c),
            (th += 1),
            au || (au = DE()),
            (this.audioCtx_ = au),
            (this.destination_ = this.audioCtx_.destination);
          var o = new MediaStream();
          o.addTrack(this.track_),
            (this.streamSource_ = this.audioCtx_.createMediaStreamSource(o)),
            (this.audioWorkletNode_ = null),
            (this.scriptProcessorNode_ = null),
            (this.interval_ = 200),
            ye.on(zd, this.resume, this),
            ye.on(d0, this.handleAudioLevelInterval, this),
            vV
              ? (ye.on(R0, this.initAudioWorklet, this),
                ye.on(C0, this.initScriptProcessor, this),
                this.preload())
              : this.initScriptProcessor();
        }
        return (
          ce(s, [
            {
              key: "preload",
              value: function () {
                ov
                  ? ov.initWorkletSuccess && this.initAudioWorklet()
                  : (ov = new zj({ context: au }));
              },
            },
            {
              key: "initAudioWorklet",
              value: function () {
                var n = this;
                if (!this.audioWorkletNode_)
                  try {
                    (this.audioWorkletNode_ = new AudioWorkletNode(
                      this.audioCtx_,
                      "volume-meter"
                    )),
                      (this.audioWorkletNode_.port.onmessage = function (a) {
                        n.volume_ = a.data.volume || 0;
                      }),
                      this.streamSource_
                        .connect(this.audioWorkletNode_)
                        .connect(this.destination_),
                      this.handleAudioLevelInterval({
                        interval: this.interval_,
                      });
                  } catch (a) {
                    this.log_.warn(
                      "load volume meter failed, load again. error: " + a
                    ),
                      this.initScriptProcessor();
                  }
              },
            },
            {
              key: "initScriptProcessor",
              value: function () {
                var n = this;
                if (!this.scriptProcessorNode_)
                  try {
                    (this.scriptProcessorNode_ =
                      this.audioCtx_.createScriptProcessor(2048, 1, 1)),
                      (this.scriptProcessorNode_.onaudioprocess = function (a) {
                        for (
                          var c = a.inputBuffer.getChannelData(0), o = 0, l = 0;
                          l < c.length;
                          ++l
                        )
                          o += c[l] * c[l];
                        n.volume_ = Math.sqrt(o / c.length) || 0;
                      }),
                      this.streamSource_.connect(this.scriptProcessorNode_),
                      this.scriptProcessorNode_.connect(this.destination_);
                  } catch (a) {
                    this.log_.error(
                      "volumeMeter init script processor error: " + a
                    ),
                      (th -= 1);
                  }
              },
            },
            {
              key: "destroy",
              value: function () {
                var n;
                this.streamSource_ && this.streamSource_.disconnect(),
                  this.scriptProcessorNode_ &&
                    ((this.scriptProcessorNode_.onaudioprocess = null),
                    this.scriptProcessorNode_.disconnect()),
                  this.audioWorkletNode_ &&
                    (this.audioWorkletNode_.port.postMessage({ name: "stop" }),
                    (this.audioWorkletNode_.port.onmessage = null),
                    this.audioWorkletNode_.disconnect()),
                  (this.audioWorkletNode_ = null),
                  (this.scriptProcessorNode_ = null),
                  (this.audioCtx_ = null),
                  ye.off(zd, this.resume, this),
                  ye.off(d0, this.handleAudioLevelInterval, this),
                  ye.off(R0, this.initAudioWorklet, this),
                  ye.off(C0, this.initScriptProcessor, this),
                  th > 0 && (th -= 1),
                  th === 0 &&
                    ((n = au) === null || n === void 0 || n.close(),
                    (au = null),
                    (ov = null));
              },
            },
            {
              key: "resume",
              value: function () {
                var n;
                (n = au) === null || n === void 0 || n.resume();
              },
            },
            {
              key: "getInternalAudioLevel",
              value: function () {
                return this.volume_;
              },
            },
            {
              key: "getCalculatedVolume",
              value: function () {
                return this.volume_.toFixed(2);
              },
            },
            {
              key: "handleAudioLevelInterval",
              value: function (n) {
                var a,
                  c = n.interval;
                (this.interval_ = c),
                  (a = this.audioWorkletNode_) === null ||
                    a === void 0 ||
                    a.port.postMessage({
                      name: "setIntervalTime",
                      intervalTime: c,
                    });
              },
            },
          ]),
          s
        );
      })(),
      Gj = (function () {
        function s(o) {
          G(this, s),
            (this.stream_ = o.stream),
            (this.userId_ = o.stream.getUserId()),
            (this.log_ = this.stream_.getLogger()),
            (this.track_ = o.track),
            o.gainedTrack && (this.gainedTrack_ = o.gainedTrack),
            (this.div_ = o.div),
            (this.muted_ = o.muted),
            (this.outputDeviceId_ = o.outputDeviceId),
            (this.volume_ = o.volume),
            (this.pausedRetryCount_ = 5),
            (this.emitter_ = new Fo()),
            this.initializeElement(),
            (this.state_ = "NONE"),
            (this.volumeMeter_ = new Wj({
              stream: this.stream_,
              track: this.gainedTrack_ || this.track_,
              log: this.log_,
            }));
        }
        var e, n, a, c;
        return (
          ce(s, [
            {
              key: "isPlaying",
              get: function () {
                return this.state_ === kc;
              },
            },
            {
              key: "initializeElement",
              value: function () {
                if (this.isAudioElementInit()) {
                  var l = new MediaStream();
                  l.addTrack(this.gainedTrack_ || this.track_);
                  var h = document.createElement(mt);
                  (h.srcObject = l),
                    (h.muted = this.muted_),
                    h.setAttribute("id", "audio_".concat(this.stream_.getId())),
                    h.setAttribute("autoplay", "autoplay"),
                    h.setAttribute("playsinline", "playsinline"),
                    this.div_.appendChild(h),
                    (this.element_ = h);
                }
                this.handleEvents();
              },
            },
            {
              key: "setMuted",
              value: function (l) {
                this.element_ && ((this.element_.muted = l), (this.muted_ = l));
              },
            },
            {
              key: "play",
              value:
                ((c = C(
                  m().mark(function o() {
                    var l;
                    return m().wrap(
                      function (h) {
                        for (;;)
                          switch ((h.prev = h.next)) {
                            case 0:
                              if (!this.outputDeviceId_ || !this.element_) {
                                h.next = 3;
                                break;
                              }
                              return (
                                (h.next = 3),
                                this.element_.setSinkId(this.outputDeviceId_)
                              );
                            case 3:
                              if (
                                (this.setVolume(this.volume_),
                                (h.prev = 4),
                                !this.element_)
                              ) {
                                h.next = 8;
                                break;
                              }
                              return (h.next = 8), this.element_.play();
                            case 8:
                              h.next = 16;
                              break;
                            case 10:
                              if (
                                ((h.prev = 10),
                                (h.t0 = h.catch(4)),
                                (l = Le({
                                  key: Py,
                                  data: { media: "Audio", error: h.t0 },
                                })),
                                this.log_.warn(l),
                                !l.includes("NotAllowedError"))
                              ) {
                                h.next = 16;
                                break;
                              }
                              throw new Ie({
                                code: ke.PLAY_NOT_ALLOWED,
                                message: l,
                              });
                            case 16:
                            case "end":
                              return h.stop();
                          }
                      },
                      o,
                      this,
                      [[4, 10]]
                    );
                  })
                )),
                function () {
                  return c.apply(this, arguments);
                }),
            },
            {
              key: "handleEvents",
              value: function () {
                (this.handleElementEvent = this.handleElementEvent.bind(this)),
                  (this.handleTrackEvent = this.handleTrackEvent.bind(this)),
                  this.element_ &&
                    (this.element_.addEventListener(
                      Ao,
                      this.handleElementEvent
                    ),
                    this.element_.addEventListener(Nn, this.handleElementEvent),
                    this.element_.addEventListener(xo, this.handleElementEvent),
                    this.element_.addEventListener(
                      wc,
                      this.handleElementEvent
                    )),
                  this.track_.addEventListener(Nn, this.handleTrackEvent),
                  this.track_.addEventListener(ir, this.handleTrackEvent),
                  this.track_.addEventListener(sa, this.handleTrackEvent),
                  this.track_.readyState === Nn &&
                    this.handleTrackEvent({ type: Nn }),
                  this.track_.muted && this.handleTrackEvent({ type: ir });
              },
            },
            {
              key: "handleElementEvent",
              value:
                ((a = C(
                  m().mark(function o(l) {
                    var h,
                      p,
                      g,
                      _,
                      b,
                      R,
                      N,
                      B = this;
                    return m().wrap(
                      function (F) {
                        for (;;)
                          switch ((F.prev = F.next)) {
                            case 0:
                              (h = l.type),
                                (F.t0 = h),
                                (F.next =
                                  F.t0 === Ao
                                    ? 4
                                    : F.t0 === Nn
                                    ? 9
                                    : F.t0 === xo
                                    ? 12
                                    : F.t0 === wc
                                    ? 21
                                    : 33);
                              break;
                            case 4:
                              return (
                                this.log_.info("audio player is playing"),
                                (this.state_ = kc),
                                ye.emit(f0, { stream: this.stream_ }),
                                this.emitter_.emit(Pr, {
                                  state: this.state_,
                                  reason: Ao,
                                }),
                                F.abrupt("break", 33)
                              );
                            case 9:
                              return (
                                this.log_.info("audio player is ended"),
                                this.state_ !== Po &&
                                  ((this.state_ = Po),
                                  this.emitter_.emit(Pr, {
                                    state: this.state_,
                                    reason: Nn,
                                  })),
                                F.abrupt("break", 33)
                              );
                            case 12:
                              return (
                                this.log_.info("audio player is paused"),
                                (this.state_ = ua),
                                this.emitter_.emit(Pr, {
                                  state: this.state_,
                                  reason: xo,
                                }),
                                (p =
                                  this.div_ &&
                                  document.getElementById(this.div_.id)) ||
                                  this.log_.warn(
                                    "audio player has been remove, element ID: ".concat(
                                      this.div_.id
                                    )
                                  ),
                                (g = Ac()),
                                this.pausedRetryCount_ > 0 &&
                                  ((Ri(g) && g <= 70) || !p) &&
                                  (this.resume(), this.pausedRetryCount_--),
                                Lo &&
                                  (this.interval_ = un.run(
                                    function () {
                                      B.element_ &&
                                        B.state_ === ua &&
                                        B.resume();
                                    },
                                    { delay: 3e3 }
                                  )),
                                F.abrupt("break", 33)
                              );
                            case 21:
                              if (!this.element_ || !this.element_.error) {
                                F.next = 32;
                                break;
                              }
                              return (
                                (_ = ""
                                  .concat(e1(), "/")
                                  .concat(Ys().name, "/")
                                  .concat(Ys().version)),
                                (F.next = 25),
                                Sn.getSpeakers()
                              );
                            case 25:
                              (b = F.sent),
                                (R = b[0].label),
                                (N = b.find(function (U) {
                                  return U.deviceId === B.outputDeviceId_;
                                })) && (R = N.label),
                                this.log_.error(
                                  "audio player error observed. code: "
                                    .concat(
                                      this.element_.error.code,
                                      " message: "
                                    )
                                    .concat(
                                      this.element_.error.message,
                                      " deviceInfo: "
                                    )
                                    .concat(_, " speaker: ")
                                    .concat(R)
                                ),
                                st.uploadEvent({
                                  log: "stat-"
                                    .concat(this.stream_.getType(), "-audio-")
                                    .concat(OT, "-")
                                    .concat(this.element_.error.code, "-")
                                    .concat(_, "-")
                                    .concat(R),
                                  userId: this.userId_,
                                  error: this.element_.error,
                                }),
                                this.emitter_.emit(VI, this.element_.error);
                            case 32:
                              return F.abrupt("break", 33);
                            case 33:
                            case "end":
                              return F.stop();
                          }
                      },
                      o,
                      this
                    );
                  })
                )),
                function (o) {
                  return a.apply(this, arguments);
                }),
            },
            {
              key: "handleTrackEvent",
              value: function (l) {
                var h = l.type;
                switch (h) {
                  case Nn:
                    this.log_.info("audio track is ended"),
                      this.state_ !== Po &&
                        ((this.state_ = Po),
                        this.emitter_.emit(Pr, {
                          state: this.state_,
                          reason: Nn,
                        })),
                      ye.emit(T0, { stream: this.stream_, type: h });
                    break;
                  case ir:
                    this.log_.info(
                      "audio track is unable to provide media output"
                    ),
                      this.stream_.isRemote() || OE(),
                      this.state_ !== ua &&
                        ((this.state_ = ua),
                        this.emitter_.emit(Pr, {
                          state: this.state_,
                          reason: ir,
                        })),
                      ye.emit(k0, { stream: this.stream_, type: h });
                    break;
                  case sa:
                    this.log_.info(
                      "audio track is able to provide media output"
                    ),
                      this.state_ === ua &&
                        ((this.state_ = kc),
                        this.emitter_.emit(Pr, {
                          state: this.state_,
                          reason: sa,
                        }));
                }
              },
            },
            {
              key: "unbindEvents",
              value: function () {
                this.element_ &&
                  (this.element_.removeEventListener(
                    Ao,
                    this.handleElementEvent
                  ),
                  this.element_.removeEventListener(
                    Nn,
                    this.handleElementEvent
                  ),
                  this.element_.removeEventListener(
                    xo,
                    this.handleElementEvent
                  ),
                  this.element_.removeEventListener(
                    wc,
                    this.handleElementEvent
                  )),
                  this.track_ &&
                    (this.track_.removeEventListener(Nn, this.handleTrackEvent),
                    this.track_.removeEventListener(ir, this.handleTrackEvent),
                    this.track_.removeEventListener(sa, this.handleTrackEvent));
              },
            },
            {
              key: "setSinkId",
              value:
                ((n = C(
                  m().mark(function o(l) {
                    return m().wrap(
                      function (h) {
                        for (;;)
                          switch ((h.prev = h.next)) {
                            case 0:
                              if (this.outputDeviceId_ === l) {
                                h.next = 5;
                                break;
                              }
                              if (!this.element_) {
                                h.next = 4;
                                break;
                              }
                              return (h.next = 4), this.element_.setSinkId(l);
                            case 4:
                              this.outputDeviceId_ = l;
                            case 5:
                            case "end":
                              return h.stop();
                          }
                      },
                      o,
                      this
                    );
                  })
                )),
                function (o) {
                  return n.apply(this, arguments);
                }),
            },
            {
              key: "setVolume",
              value: function (l) {
                this.element_ &&
                  (this.log_.info("audioElement setVolume to : ".concat(l)),
                  (this.element_.volume = l));
              },
            },
            {
              key: "getAudioLevel",
              value: function () {
                return this.volumeMeter_.getCalculatedVolume();
              },
            },
            {
              key: "getInternalAudioLevel",
              value: function () {
                return this.volumeMeter_.getInternalAudioLevel();
              },
            },
            {
              key: "stop",
              value: function () {
                this.unbindEvents(),
                  this.element_ &&
                    (this.div_.removeChild(this.element_),
                    (this.element_.srcObject = null),
                    (this.element_ = null)),
                  this.volumeMeter_ &&
                    (this.volumeMeter_.destroy(), (this.volumeMeter_ = null)),
                  this.interval_ > 0 && un.clearTask(this.interval_);
              },
            },
            {
              key: "resume",
              value:
                ((e = C(
                  m().mark(function o() {
                    var l;
                    return m().wrap(
                      function (h) {
                        for (;;)
                          switch ((h.prev = h.next)) {
                            case 0:
                              if (
                                ((h.prev = 0),
                                this.volumeMeter_ && this.volumeMeter_.resume(),
                                !this.element_)
                              ) {
                                h.next = 5;
                                break;
                              }
                              return (h.next = 5), this.element_.play();
                            case 5:
                              h.next = 13;
                              break;
                            case 7:
                              if (
                                ((h.prev = 7),
                                (h.t0 = h.catch(0)),
                                (l = Le({
                                  key: Py,
                                  data: { media: "Audio", error: h.t0 },
                                })),
                                this.log_.warn(l),
                                !l.includes("NotAllowedError"))
                              ) {
                                h.next = 13;
                                break;
                              }
                              throw new Ie({
                                code: ke.PLAY_NOT_ALLOWED,
                                message: l,
                              });
                            case 13:
                            case "end":
                              return h.stop();
                          }
                      },
                      o,
                      this,
                      [[0, 7]]
                    );
                  })
                )),
                function () {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "on",
              value: function (l, h) {
                this.emitter_.on(l, h);
              },
            },
            {
              key: "isAudioElementInit",
              value: function () {
                return (
                  !(Mo === "15.2" || Mo === "15.3" || Mo === "15.4") ||
                  this.stream_.getType() !== "local" ||
                  !this.muted_ ||
                  (this.log_.info("audioElement is muted."), !1)
                );
              },
            },
            {
              key: "getTrack",
              value: function () {
                return this.track_;
              },
            },
          ]),
          s
        );
      })(),
      qj = Ki.PROPER,
      Kj = et,
      SR = X2,
      Jj = up.trim;
    Tt(
      {
        target: "String",
        proto: !0,
        forced: (function (s) {
          return Kj(function () {
            return !!SR[s]() || ""[s]() !== "" || (qj && SR[s].name !== s);
          });
        })("trim"),
      },
      {
        trim: function () {
          return Jj(this);
        },
      }
    );
    var Za = "trtc_autoplay",
      I1 = "".concat(Za, "_mask"),
      Wc = "".concat(Za, "_wrapper"),
      wR = "".concat(Za, "_header"),
      R1 = "".concat(Za, "_content"),
      sv = "".concat(Za, "_action_wrapper"),
      C1 = "".concat(Za, "_question"),
      A1 = "".concat(Za, "_collapse"),
      uv = "".concat(Za, "_action_confirm"),
      kR = "".concat(Za, "_detail"),
      TR = "#2473E8",
      x1 = "dialog",
      $j = "".concat(x1, "-show"),
      Yj = "".concat(x1, "-1"),
      Zj = "".concat(x1, "-2"),
      ER = !1,
      IR = function () {
        return !!document.querySelector(".".concat(Wc));
      },
      RR = ""
        .concat(Ic, "/")
        .concat(
          Zs() ? "zh-cn" : "en",
          "/tutorial-21-advanced-auto-play-policy.html"
        ),
      CR = "<br><a href='"
        .concat(RR, "' target='_blank'>")
        .concat(Zs() ? "" : "Any other solution?", "</a>"),
      Qj = "".concat(
        Zs()
          ? "".concat(
              CR
            )
          : "Autoplay Policy: Before user interacts with the web page (clicking, touching), page will not be allowed to play media with sound. This Dialog is used to help users resume playback. ".concat(
              CR
            )
      ),
      AR = (function () {
        function s() {
          if (
            (G(this, s),
            (this.dialogNode_ = null),
            (this.bodyPosition_ = ""),
            (this.content = ""),
            Zs() ||
              (this.content =
                'Media playback failed. Click the "Resume" to resume playback.'),
            !ER)
          ) {
            var e = document.createElement("style");
            (e.innerHTML = "."
              .concat(
                I1,
                "{position:fixed;top:0;left:0;right:0;bottom:0;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,0.5);z-index:1500;}."
              )
              .concat(I1, " div:not(.")
              .concat(sv, "){display:block !important;}.")
              .concat(
                Wc,
                "{padding:14px;background:#fff;border-radius:3px;box-shadow:0px 3px 15px #434343;border:1px solid #d1cfcf;max-width:500px;}."
              )
              .concat(Wc, " a{color:")
              .concat(TR, ";}.")
              .concat(
                wR,
                "{overflow:hidden;text-overflow:ellipsis;font-size:16px;font-weight:600;}."
              )
              .concat(R1, "{margin:8px 0;}.")
              .concat(
                sv,
                "{width:100%;display:flex !important;align-items:center;justify-content:right;float:right;}."
              )
              .concat(A1, "{margin-right:auto;cursor:pointer}.")
              .concat(C1, "{height:100%;line-height:16px;cursor:pointer;}.")
              .concat(uv, "{margin-left:8px;color:#fff;background:")
              .concat(
                TR,
                ";padding:4px 12px;outline:none;border:1px solid;border-radius:3px;font-weight:bold;}."
              )
              .concat(uv, ":hover{opacity:0.9;}.")
              .concat(A1, ",.")
              .concat(uv, ",.")
              .concat(R1, ",.")
              .concat(
                C1,
                "{font-size:14px;}@media screen and (max-width:750px){."
              )
              .concat(Wc, "{width:80vw;}}")),
              document.head.appendChild(e),
              (ER = !0);
          }
          (this.showDetail_ = !1),
            (this.isCollapseClicked_ = !1),
            (this.isQuestionClicked_ = !1),
            this.addDiaLog();
        }
        return (
          ce(s, [
            {
              key: "createDiaLog",
              value: function () {
                var n = document.createElement("template");
                n.innerHTML = '<div class="'
                  .concat(I1, `"><div class='`)
                  .concat(Wc, "'><div class='")
                  .concat(wR, "'>")
                  .concat(location.host, "</div><div class='")
                  .concat(R1, "'>")
                  .concat(this.content, "</div><div class='")
                  .concat(
                    kR,
                    `' style="visibility:hidden;width:100%;height:0;font-size:12px;color:gray;">`
                  )
                  .concat(Qj, "</div><div class='")
                  .concat(sv, "'></div></div></div>")
                  .trim();
                var a = document.createElement("button");
                (a.className = uv),
                  (a.innerText = Zs() ? "" : "Resume"),
                  (a.onclick = this.onConfirm.bind(this));
                var c = document.createElement("div");
                (c.className = C1),
                  (c.innerHTML = `<?xml version="1.0" encoding="UTF-8"?>
    <svg class="icon" width="18" height="18" p-id="2030" t="1639646523624" version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
    <path d="m464 784.35c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z" p-id="2031"/>
    <path d="m512 960c-247.04 0-448-200.96-448-448s200.96-448 448-448 448 200.96 448 448-200.96 448-448 448zm0-831.71c-211.58 0-383.71 172.13-383.71 383.71 0 211.55 172.13 383.71 383.71 383.71 211.55 0 383.71-172.16 383.71-383.71 0-211.58-172.16-383.71-383.71-383.71z" p-id="2032"/>
    <path d="m512 673.7c-17.665 0-32.001-14.336-32.001-31.999v-54.112c0-52.353 40-92.352 75.328-127.65 25.887-25.92 52.672-52.672 52.672-74.017 0-53.343-43.072-96.735-95.999-96.735-53.823 0-95.999 41.536-95.999 94.559 0 17.665-14.336 31.999-32.001 31.999s-32.001-14.336-32.001-31.999c0-87.424 71.775-158.56 160-158.56s160 72.095 160 160.74c0 47.904-36.32 84.192-71.424 119.3-27.84 27.776-56.576 56.512-56.576 82.336v54.112c0 17.665-14.336 32.032-32.001 32.032z" p-id="2033"/>
    </svg>
    `),
                  (c.onclick = this.onQuestionClick.bind(this));
                var o = document.createElement("div");
                (o.className = A1),
                  (o.innerText = "".concat(Zs() ? " >" : "Detail >")),
                  (o.onclick = this.onCollapseClick.bind(this));
                var l = n.content.firstChild,
                  h = l.querySelector(".".concat(sv));
                return h.appendChild(o), h.appendChild(c), h.appendChild(a), l;
              },
            },
            {
              key: "addDiaLog",
              value: function () {
                IR() ||
                  ((this.dialogNode_ = this.createDiaLog()),
                  document.body.appendChild(this.dialogNode_),
                  (this.dialogNode_.onclick = this.onConfirm.bind(this)),
                  (this.dialogNode_.querySelector(".".concat(Wc)).onclick =
                    function (n) {
                      return n.stopPropagation();
                    }),
                  (this.bodyPosition_ = document.body.style.position),
                  (document.body.style.position = "fixed"),
                  it.info("show autoplay dialog"),
                  st.uploadEvent({ log: $j }));
              },
            },
            {
              key: "deleteDiaLog",
              value: function () {
                this.dialogNode_ &&
                  (document.body.removeChild(this.dialogNode_),
                  (document.body.style.position = this.bodyPosition_),
                  (this.dialogNode_ = null));
              },
            },
            {
              key: "onConfirm",
              value: function () {
                it.warn("confirm clicked, try resume stream"),
                  ye.emit(zd),
                  this.deleteDiaLog();
              },
            },
            {
              key: "onCollapseClick",
              value: function () {
                var n = this.dialogNode_.querySelector(".".concat(kR));
                (n.style.visibility = "".concat(
                  this.showDetail_ ? "hidden" : "visible"
                )),
                  (n.style.height = "".concat(
                    this.showDetail_ ? 0 : "fit-content"
                  )),
                  (this.showDetail_ = !this.showDetail_),
                  this.isCollapseClicked_ || st.uploadEvent({ log: Yj }),
                  (this.isCollapseClicked_ = !0);
              },
            },
            {
              key: "onQuestionClick",
              value: function () {
                window.open(RR, "_blank"),
                  this.isQuestionClicked_ || st.uploadEvent({ log: Zj }),
                  (this.isQuestionClicked_ = !0);
              },
            },
          ]),
          s
        );
      })(),
      xR = (function () {
        function s(n) {
          G(this, s),
            (this.stream_ = n.stream),
            (this.userId_ = n.stream.getUserId()),
            (this.log_ = this.stream_.getLogger()),
            (this.track_ = n.track),
            (this.div_ = n.div),
            (this.muted_ = n.muted),
            (this.objectFit_ = n.objectFit),
            (this.mirror_ = n.mirror),
            (this.emitter_ = new Fo()),
            this.initializeElement(),
            (this.state_ = "NONE"),
            (this.pausedRetryCount_ = 5);
        }
        var e;
        return (
          ce(s, [
            {
              key: "isPlaying",
              get: function () {
                return this.state_ === kc;
              },
            },
            {
              key: "initializeElement",
              value: function () {
                var a = new MediaStream();
                a.addTrack(this.track_);
                var c = document.createElement(dt);
                (c.srcObject = a), (c.muted = !0);
                var o = "width: 100%; height: 100%; object-fit: ".concat(
                  this.objectFit_,
                  ";"
                );
                this.mirror_ && (o += "transform: scaleX(-1);"),
                  c.setAttribute("id", "video_".concat(this.stream_.getId())),
                  c.setAttribute("style", o),
                  c.setAttribute("autoplay", "autoplay"),
                  c.setAttribute("playsinline", "playsinline"),
                  (this.element_ = c),
                  EE === 17 && this.initCanvasElement(o),
                  this.div_ && this.div_.appendChild(this.canvas_ || c),
                  this.handleEvents();
              },
            },
            {
              key: "initCanvasElement",
              value: function (a) {
                var c = this;
                if (this.track_ && !this.stream_.isRemote()) {
                  var o = document.createElement("canvas"),
                    l = function () {
                      var g,
                        _ =
                          (g = c.track_) === null || g === void 0
                            ? void 0
                            : g.getSettings();
                      _ &&
                        _.width &&
                        _.height &&
                        ((o.width = _.width), (o.height = _.height));
                    };
                  l(), o.setAttribute("style", a);
                  var h = o.getContext("2d");
                  (this.canvasTimerId_ = un.run(
                    "raf",
                    function () {
                      c.element_ &&
                        h &&
                        (l(), h.drawImage(c.element_, 0, 0, o.width, o.height));
                    },
                    { backgroundTask: !1 }
                  )),
                    this.log_.warn("use canvas for playback"),
                    (this.canvas_ = o);
                }
              },
            },
            {
              key: "setRect",
              value: function (a) {
                var c = a.width,
                  o = a.height;
                this.element_ &&
                  ((this.element_.style.width = c + "px"),
                  (this.element_.style.height = o + "px"));
              },
            },
            {
              key: "setMirror",
              value: function (a) {
                this.element_ &&
                  ((this.element_.style.transform = a ? "scaleX(-1)" : ""),
                  (this.mirror_ = a));
              },
            },
            {
              key: "setObjectFit",
              value: function (a) {
                this.element_ &&
                  ((this.element_.style.objectFit = "".concat(a)),
                  (this.objectFit_ = a));
              },
            },
            {
              key: "play",
              value:
                ((e = C(
                  m().mark(function n() {
                    var a;
                    return m().wrap(
                      function (c) {
                        for (;;)
                          switch ((c.prev = c.next)) {
                            case 0:
                              return (
                                (c.prev = 0), (c.next = 3), this.element_.play()
                              );
                            case 3:
                              c.next = 11;
                              break;
                            case 5:
                              if (
                                ((c.prev = 5),
                                (c.t0 = c.catch(0)),
                                (a = Le({
                                  key: Py,
                                  data: { media: "Video", error: c.t0 },
                                })),
                                this.log_.warn(a),
                                !a.includes("NotAllowedError"))
                              ) {
                                c.next = 11;
                                break;
                              }
                              throw new Ie({
                                code: ke.PLAY_NOT_ALLOWED,
                                message: a,
                              });
                            case 11:
                            case "end":
                              return c.stop();
                          }
                      },
                      n,
                      this,
                      [[0, 5]]
                    );
                  })
                )),
                function () {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "handleEvents",
              value: function () {
                (this.handleElementEvent = this.handleElementEvent.bind(this)),
                  (this.handleTrackEvent = this.handleTrackEvent.bind(this)),
                  this.element_.addEventListener(Ao, this.handleElementEvent),
                  this.element_.addEventListener(Nn, this.handleElementEvent),
                  this.element_.addEventListener(xo, this.handleElementEvent),
                  this.element_.addEventListener(wc, this.handleElementEvent),
                  this.element_.addEventListener(cy, this.handleElementEvent),
                  this.track_.addEventListener(Nn, this.handleTrackEvent),
                  this.track_.addEventListener(ir, this.handleTrackEvent),
                  this.track_.addEventListener(sa, this.handleTrackEvent),
                  this.track_.readyState === Nn &&
                    this.handleTrackEvent({ type: Nn }),
                  this.track_.muted && this.handleTrackEvent({ type: ir });
              },
            },
            {
              key: "handleElementEvent",
              value: function (a) {
                var c = this;
                switch (a.type) {
                  case Ao:
                    this.log_.info("video player is playing"),
                      (this.state_ = kc),
                      ye.emit(Bd, { stream: this.stream_ }),
                      this.emitter_.emit(Pr, {
                        state: this.state_,
                        reason: Ao,
                      }),
                      this.interval_ &&
                        (un.clearTask(this.interval_), (this.interval_ = null));
                    break;
                  case Nn:
                    this.log_.info("video player is ended"),
                      this.state_ !== Po &&
                        ((this.state_ = Po),
                        this.emitter_.emit(Pr, {
                          state: this.state_,
                          reason: Nn,
                        }));
                    break;
                  case xo:
                    this.log_.info("video player is paused"),
                      this.div_ &&
                        !document.getElementById(this.div_.id) &&
                        this.log_.warn(
                          "video player has been remove, element ID: ".concat(
                            this.div_.id
                          )
                        ),
                      (this.state_ = ua),
                      this.emitter_.emit(Pr, {
                        state: this.state_,
                        reason: xo,
                      }),
                      this.pausedRetryCount_ > 0 &&
                        !IR() &&
                        (this.log_.info(
                          "video player auto resume when video paused"
                        ),
                        this.resume(),
                        this.pausedRetryCount_--),
                      Lo &&
                        (this.interval_ = un.run(
                          function () {
                            c.element_ && c.state_ === ua && c.resume();
                          },
                          { delay: 3e3 }
                        ));
                    break;
                  case wc:
                    if (this.element_ && this.element_.error) {
                      var o = ""
                        .concat(e1(), "/")
                        .concat(Ys().name, "/")
                        .concat(Ys().version);
                      this.log_.error(
                        "video player error observed. code: "
                          .concat(this.element_.error.code, " message: ")
                          .concat(this.element_.error.message, " deviceInfo: ")
                          .concat(o)
                      ),
                        st.uploadEvent({
                          log: "stat-"
                            .concat(this.stream_.getType(), "-video-")
                            .concat(OT, "-")
                            .concat(this.element_.error.code, "-")
                            .concat(o),
                          userId: this.userId_,
                          error: this.element_.error,
                        });
                    }
                    break;
                  case cy:
                    ye.emit(b0, { stream: this.stream_ });
                }
              },
            },
            {
              key: "handleTrackEvent",
              value: function (a) {
                var c = a.type;
                switch (c) {
                  case Nn:
                    this.log_.info("video track is ended"),
                      ye.emit(w0, { stream: this.stream_, type: c }),
                      this.state_ !== Po &&
                        ((this.state_ = Po),
                        this.emitter_.emit(Pr, {
                          state: this.state_,
                          reason: Nn,
                        }));
                    break;
                  case ir:
                    this.log_.info(
                      "video track is unable to provide media output"
                    ),
                      this.stream_.isRemote() || OE(),
                      ye.emit(Hd, { stream: this.stream_, type: c }),
                      this.state_ !== ua &&
                        ((this.state_ = ua),
                        this.emitter_.emit(Pr, {
                          state: this.state_,
                          reason: ir,
                        }));
                    break;
                  case sa:
                    this.log_.info(
                      "video track is able to provide media output"
                    ),
                      ye.emit(_0, { stream: this.stream_ }),
                      this.state_ === ua &&
                        ((this.state_ = kc),
                        this.emitter_.emit(Pr, {
                          state: this.state_,
                          reason: sa,
                        }));
                }
              },
            },
            {
              key: "unbindEvents",
              value: function () {
                this.element_ &&
                  (this.element_.removeEventListener(
                    Ao,
                    this.handleElementEvent
                  ),
                  this.element_.removeEventListener(
                    Nn,
                    this.handleElementEvent
                  ),
                  this.element_.removeEventListener(
                    xo,
                    this.handleElementEvent
                  ),
                  this.element_.removeEventListener(
                    wc,
                    this.handleElementEvent
                  ),
                  this.element_.removeEventListener(
                    cy,
                    this.handleElementEvent
                  )),
                  this.track_ &&
                    (this.track_.removeEventListener(Nn, this.handleTrackEvent),
                    this.track_.removeEventListener(ir, this.handleTrackEvent),
                    this.track_.removeEventListener(sa, this.handleTrackEvent));
              },
            },
            {
              key: "stop",
              value: function () {
                this.unbindEvents(),
                  this.element_ &&
                    (this.element_.remove(),
                    (this.element_.srcObject = null),
                    (this.element_ = null)),
                  this.interval_ && un.clearTask(this.interval_),
                  this.canvasTimerId_ && un.clearTask(this.canvasTimerId_),
                  this.canvas_ &&
                    (this.canvas_.remove(), (this.canvas_ = null));
              },
            },
            {
              key: "resume",
              value: function () {
                return this.play();
              },
            },
            {
              key: "getVideoFrame",
              value: function () {
                var a = document.createElement("canvas");
                return (
                  (a.width = this.element_.videoWidth),
                  (a.height = this.element_.videoHeight),
                  a.getContext("2d").drawImage(this.element_, 0, 0),
                  a.toDataURL("image/png")
                );
              },
            },
            {
              key: "on",
              value: function (a, c) {
                this.emitter_.on(a, c);
              },
            },
            {
              key: "getElement",
              value: function () {
                return this.element_ ? this.element_ : null;
              },
            },
            {
              key: "getTrack",
              value: function () {
                return this.track_;
              },
            },
          ]),
          s
        );
      })(),
      P1 = typeof ArrayBuffer != "undefined" && typeof DataView != "undefined",
      Xj = lr,
      eB = on,
      tB = RangeError,
      PR = function (e) {
        if (e === void 0) return 0;
        var n = Xj(e),
          a = eB(n);
        if (n !== a) throw tB("Wrong length or index");
        return a;
      },
      nB = Array,
      rB = Math.abs,
      Qa = Math.pow,
      iB = Math.floor,
      aB = Math.log,
      oB = Math.LN2,
      sB = {
        pack: function (e, n, a) {
          var c,
            o,
            l,
            h = nB(a),
            p = 8 * a - n - 1,
            g = (1 << p) - 1,
            _ = g >> 1,
            b = n === 23 ? Qa(2, -24) - Qa(2, -77) : 0,
            R = e < 0 || (e === 0 && 1 / e < 0) ? 1 : 0,
            N = 0;
          for (
            (e = rB(e)) != e || e === 1 / 0
              ? ((o = e != e ? 1 : 0), (c = g))
              : ((c = iB(aB(e) / oB)),
                e * (l = Qa(2, -c)) < 1 && (c--, (l *= 2)),
                (e += c + _ >= 1 ? b / l : b * Qa(2, 1 - _)) * l >= 2 &&
                  (c++, (l /= 2)),
                c + _ >= g
                  ? ((o = 0), (c = g))
                  : c + _ >= 1
                  ? ((o = (e * l - 1) * Qa(2, n)), (c += _))
                  : ((o = e * Qa(2, _ - 1) * Qa(2, n)), (c = 0)));
            n >= 8;

          )
            (h[N++] = 255 & o), (o /= 256), (n -= 8);
          for (c = (c << n) | o, p += n; p > 0; )
            (h[N++] = 255 & c), (c /= 256), (p -= 8);
          return (h[--N] |= 128 * R), h;
        },
        unpack: function (e, n) {
          var a,
            c = e.length,
            o = 8 * c - n - 1,
            l = (1 << o) - 1,
            h = l >> 1,
            p = o - 7,
            g = c - 1,
            _ = e[g--],
            b = 127 & _;
          for (_ >>= 7; p > 0; ) (b = 256 * b + e[g--]), (p -= 8);
          for (a = b & ((1 << -p) - 1), b >>= -p, p += n; p > 0; )
            (a = 256 * a + e[g--]), (p -= 8);
          if (b === 0) b = 1 - h;
          else {
            if (b === l) return a ? NaN : _ ? -1 / 0 : 1 / 0;
            (a += Qa(2, n)), (b -= h);
          }
          return (_ ? -1 : 1) * a * Qa(2, b - n);
        },
      },
      uB = Wn,
      OR = Vr,
      cB = wn,
      DR = function (e) {
        for (
          var n = uB(this),
            a = cB(n),
            c = arguments.length,
            o = OR(c > 1 ? arguments[1] : void 0, a),
            l = c > 2 ? arguments[2] : void 0,
            h = l === void 0 ? a : OR(l, a);
          h > o;

        )
          n[o++] = e;
        return n;
      },
      cv = Xe,
      O1 = Qe,
      D1 = Mt,
      lB = P1,
      NR = Ki,
      LR = Cr,
      MR = md,
      N1 = et,
      lv = To,
      dB = lr,
      hB = on,
      dv = PR,
      UR = sB,
      fB = Ds,
      VR = Y,
      pB = Ft.f,
      vB = vn.f,
      mB = DR,
      gB = ic,
      FR = Zt,
      _B = NR.PROPER,
      jR = NR.CONFIGURABLE,
      Gc = an.get,
      BR = an.set,
      L1 = "ArrayBuffer",
      yB = "DataView",
      HR = "Wrong index",
      li = cv.ArrayBuffer,
      Oi = li,
      qc = Oi && Oi.prototype,
      ha = cv.DataView,
      ou = ha && ha.prototype,
      zR = Object.prototype,
      bB = cv.Array,
      hv = cv.RangeError,
      SB = O1(mB),
      wB = O1([].reverse),
      WR = UR.pack,
      GR = UR.unpack,
      qR = function (e) {
        return [255 & e];
      },
      KR = function (e) {
        return [255 & e, (e >> 8) & 255];
      },
      JR = function (e) {
        return [255 & e, (e >> 8) & 255, (e >> 16) & 255, (e >> 24) & 255];
      },
      $R = function (e) {
        return (e[3] << 24) | (e[2] << 16) | (e[1] << 8) | e[0];
      },
      kB = function (e) {
        return WR(e, 23, 4);
      },
      TB = function (e) {
        return WR(e, 52, 8);
      },
      fv = function (e, n) {
        vB(e.prototype, n, {
          get: function () {
            return Gc(this)[n];
          },
        });
      },
      Wo = function (e, n, a, c) {
        var o = dv(a),
          l = Gc(e);
        if (o + n > l.byteLength) throw hv(HR);
        var h = Gc(l.buffer).bytes,
          p = o + l.byteOffset,
          g = gB(h, p, p + n);
        return c ? g : wB(g);
      },
      Go = function (e, n, a, c, o, l) {
        var h = dv(a),
          p = Gc(e);
        if (h + n > p.byteLength) throw hv(HR);
        for (
          var g = Gc(p.buffer).bytes, _ = h + p.byteOffset, b = c(+o), R = 0;
          R < n;
          R++
        )
          g[_ + R] = b[l ? R : n - R - 1];
      };
    if (lB) {
      var YR = _B && li.name !== L1;
      if (
        N1(function () {
          li(1);
        }) &&
        N1(function () {
          new li(-1);
        }) &&
        !N1(function () {
          return (
            new li(), new li(1.5), new li(NaN), li.length != 1 || (YR && !jR)
          );
        })
      )
        YR && jR && LR(li, "name", L1);
      else {
        (Oi = function (e) {
          return lv(this, qc), new li(dv(e));
        }).prototype = qc;
        for (var M1, ZR = pB(li), QR = 0; ZR.length > QR; )
          (M1 = ZR[QR++]) in Oi || LR(Oi, M1, li[M1]);
        qc.constructor = Oi;
      }
      VR && fB(ou) !== zR && VR(ou, zR);
      var pv = new ha(new Oi(2)),
        XR = O1(ou.setInt8);
      pv.setInt8(0, 2147483648),
        pv.setInt8(1, 2147483649),
        (!pv.getInt8(0) && pv.getInt8(1)) ||
          MR(
            ou,
            {
              setInt8: function (e, n) {
                XR(this, e, (n << 24) >> 24);
              },
              setUint8: function (e, n) {
                XR(this, e, (n << 24) >> 24);
              },
            },
            { unsafe: !0 }
          );
    } else
      (qc = (Oi = function (e) {
        lv(this, qc);
        var n = dv(e);
        BR(this, { bytes: SB(bB(n), 0), byteLength: n }),
          D1 || (this.byteLength = n);
      }).prototype),
        (ha = function (e, n, a) {
          lv(this, ou), lv(e, qc);
          var c = Gc(e).byteLength,
            o = dB(n);
          if (o < 0 || o > c) throw hv("Wrong offset");
          if (o + (a = a === void 0 ? c - o : hB(a)) > c)
            throw hv("Wrong length");
          BR(this, { buffer: e, byteLength: a, byteOffset: o }),
            D1 ||
              ((this.buffer = e), (this.byteLength = a), (this.byteOffset = o));
        }),
        (ou = ha.prototype),
        D1 &&
          (fv(Oi, "byteLength"),
          fv(ha, "buffer"),
          fv(ha, "byteLength"),
          fv(ha, "byteOffset")),
        MR(ou, {
          getInt8: function (e) {
            return (Wo(this, 1, e)[0] << 24) >> 24;
          },
          getUint8: function (e) {
            return Wo(this, 1, e)[0];
          },
          getInt16: function (e) {
            var n = Wo(
              this,
              2,
              e,
              arguments.length > 1 ? arguments[1] : void 0
            );
            return (((n[1] << 8) | n[0]) << 16) >> 16;
          },
          getUint16: function (e) {
            var n = Wo(
              this,
              2,
              e,
              arguments.length > 1 ? arguments[1] : void 0
            );
            return (n[1] << 8) | n[0];
          },
          getInt32: function (e) {
            return $R(
              Wo(this, 4, e, arguments.length > 1 ? arguments[1] : void 0)
            );
          },
          getUint32: function (e) {
            return (
              $R(
                Wo(this, 4, e, arguments.length > 1 ? arguments[1] : void 0)
              ) >>> 0
            );
          },
          getFloat32: function (e) {
            return GR(
              Wo(this, 4, e, arguments.length > 1 ? arguments[1] : void 0),
              23
            );
          },
          getFloat64: function (e) {
            return GR(
              Wo(this, 8, e, arguments.length > 1 ? arguments[1] : void 0),
              52
            );
          },
          setInt8: function (e, n) {
            Go(this, 1, e, qR, n);
          },
          setUint8: function (e, n) {
            Go(this, 1, e, qR, n);
          },
          setInt16: function (e, n) {
            Go(this, 2, e, KR, n, arguments.length > 2 ? arguments[2] : void 0);
          },
          setUint16: function (e, n) {
            Go(this, 2, e, KR, n, arguments.length > 2 ? arguments[2] : void 0);
          },
          setInt32: function (e, n) {
            Go(this, 4, e, JR, n, arguments.length > 2 ? arguments[2] : void 0);
          },
          setUint32: function (e, n) {
            Go(this, 4, e, JR, n, arguments.length > 2 ? arguments[2] : void 0);
          },
          setFloat32: function (e, n) {
            Go(this, 4, e, kB, n, arguments.length > 2 ? arguments[2] : void 0);
          },
          setFloat64: function (e, n) {
            Go(this, 8, e, TB, n, arguments.length > 2 ? arguments[2] : void 0);
          },
        });
    FR(Oi, L1), FR(ha, yB);
    var nh = { ArrayBuffer: Oi, DataView: ha },
      EB = Tt,
      U1 = Qe,
      IB = et,
      eC = mn,
      tC = Vr,
      RB = on,
      CB = dp,
      V1 = nh.ArrayBuffer,
      F1 = nh.DataView,
      nC = F1.prototype,
      rC = U1(V1.prototype.slice),
      AB = U1(nC.getUint8),
      xB = U1(nC.setUint8);
    EB(
      {
        target: "ArrayBuffer",
        proto: !0,
        unsafe: !0,
        forced: IB(function () {
          return !new V1(2).slice(1, void 0).byteLength;
        }),
      },
      {
        slice: function (e, n) {
          if (rC && n === void 0) return rC(eC(this), e);
          for (
            var a = eC(this).byteLength,
              c = tC(e, a),
              o = tC(n === void 0 ? a : n, a),
              l = new (CB(this, V1))(RB(o - c)),
              h = new F1(this),
              p = new F1(l),
              g = 0;
            c < o;

          )
            xB(p, g++, AB(h, c++));
          return l;
        },
      }
    ),
      Tt(
        { global: !0, constructor: !0, forced: !P1 },
        { DataView: nh.DataView }
      );
    var PB = Tt,
      OB = sc,
      DB = Qe([].reverse),
      iC = [1, 2];
    PB(
      {
        target: "Array",
        proto: !0,
        forced: String(iC) === String(iC.reverse()),
      },
      {
        reverse: function () {
          return OB(this) && (this.length = this.length), DB(this);
        },
      }
    );
    var NB = ur,
      LB = Wn,
      MB = Er,
      UB = wn,
      VB = TypeError,
      aC = function (e) {
        return function (n, a, c, o) {
          NB(a);
          var l = LB(n),
            h = MB(l),
            p = UB(l),
            g = e ? p - 1 : 0,
            _ = e ? -1 : 1;
          if (c < 2)
            for (;;) {
              if (g in h) {
                (o = h[g]), (g += _);
                break;
              }
              if (((g += _), e ? g < 0 : p <= g))
                throw VB("Reduce of empty array with no initial value");
            }
          for (; e ? g >= 0 : p > g; g += _) g in h && (o = a(o, h[g], g, l));
          return o;
        };
      },
      j1 = { left: aC(!1), right: aC(!0) },
      FB = j1.left,
      oC = Wi,
      jB = Rd;
    Tt(
      {
        target: "Array",
        proto: !0,
        forced: !wd("reduce") || (!jB && oC > 79 && oC < 83),
      },
      {
        reduce: function (e) {
          var n = arguments.length;
          return FB(this, e, n, n > 1 ? arguments[1] : void 0);
        },
      }
    );
    var BB = gd,
      HB = "ArrayBuffer",
      sC = nh.ArrayBuffer;
    Tt(
      { global: !0, constructor: !0, forced: Xe.ArrayBuffer !== sC },
      { ArrayBuffer: sC }
    ),
      BB(HB);
    var zB = Tt,
      uC = sc,
      WB = Zf,
      GB = pn,
      cC = Vr,
      qB = wn,
      KB = Ir,
      JB = Ti,
      $B = Qt,
      YB = oc,
      ZB = Sd("slice"),
      QB = $B("species"),
      B1 = Array,
      XB = Math.max;
    zB(
      { target: "Array", proto: !0, forced: !ZB },
      {
        slice: function (e, n) {
          var a,
            c,
            o,
            l = KB(this),
            h = qB(l),
            p = cC(e, h),
            g = cC(n === void 0 ? h : n, h);
          if (
            uC(l) &&
            ((a = l.constructor),
            ((WB(a) && (a === B1 || uC(a.prototype))) ||
              (GB(a) && (a = a[QB]) === null)) &&
              (a = void 0),
            a === B1 || a === void 0)
          )
            return YB(l, p, g);
          for (
            c = new (a === void 0 ? B1 : a)(XB(g - p, 0)), o = 0;
            p < g;
            p++, o++
          )
            p in l && JB(c, o, l[p]);
          return (c.length = o), c;
        },
      }
    );
    var lC = Xe,
      eH = et,
      tH = Qe,
      nH = qn,
      rH = up.trim,
      dC = X2,
      rh = lC.parseInt,
      hC = lC.Symbol,
      fC = hC && hC.iterator,
      pC = /^[+-]?0x/i,
      iH = tH(pC.exec),
      vC =
        rh(dC + "08") !== 8 ||
        rh(dC + "0x16") !== 22 ||
        (fC &&
          !eH(function () {
            rh(Object(fC));
          }))
          ? function (s, e) {
              var n = rH(nH(s));
              return rh(n, e >>> 0 || (iH(pC, n) ? 16 : 10));
            }
          : rh;
    Tt({ global: !0, forced: parseInt != vC }, { parseInt: vC });
    var Or,
      Kc,
      vv,
      H1 = { exports: {} },
      aH = P1,
      z1 = Mt,
      yr = Xe,
      mC = Bt,
      mv = pn,
      qo = bn,
      W1 = Hr,
      oH = sr,
      sH = Cr,
      G1 = Bn,
      uH = vn.f,
      cH = gi,
      gv = Ds,
      Jc = Y,
      lH = Qt,
      dH = Au,
      gC = an.enforce,
      hH = an.get,
      _v = yr.Int8Array,
      q1 = _v && _v.prototype,
      _C = yr.Uint8ClampedArray,
      yC = _C && _C.prototype,
      fa = _v && gv(_v),
      Di = q1 && gv(q1),
      fH = Object.prototype,
      K1 = yr.TypeError,
      bC = lH("toStringTag"),
      J1 = dH("TYPED_ARRAY_TAG"),
      pH = "TypedArrayConstructor",
      Xa = aH && !!Jc && W1(yr.opera) !== "Opera",
      SC = !1,
      eo = {
        Int8Array: 1,
        Uint8Array: 1,
        Uint8ClampedArray: 1,
        Int16Array: 2,
        Uint16Array: 2,
        Int32Array: 4,
        Uint32Array: 4,
        Float32Array: 4,
        Float64Array: 8,
      },
      $1 = { BigInt64Array: 8, BigUint64Array: 8 },
      wC = function (e) {
        var n = gv(e);
        if (mv(n)) {
          var a = hH(n);
          return a && qo(a, pH) ? a.TypedArrayConstructor : wC(n);
        }
      },
      kC = function (e) {
        if (!mv(e)) return !1;
        var n = W1(e);
        return qo(eo, n) || qo($1, n);
      };
    for (Or in eo)
      (vv = (Kc = yr[Or]) && Kc.prototype)
        ? (gC(vv).TypedArrayConstructor = Kc)
        : (Xa = !1);
    for (Or in $1)
      (vv = (Kc = yr[Or]) && Kc.prototype) &&
        (gC(vv).TypedArrayConstructor = Kc);
    if (
      (!Xa || !mC(fa) || fa === Function.prototype) &&
      ((fa = function () {
        throw K1("Incorrect invocation");
      }),
      Xa)
    )
      for (Or in eo) yr[Or] && Jc(yr[Or], fa);
    if ((!Xa || !Di || Di === fH) && ((Di = fa.prototype), Xa))
      for (Or in eo) yr[Or] && Jc(yr[Or].prototype, Di);
    if ((Xa && gv(yC) !== Di && Jc(yC, Di), z1 && !qo(Di, bC)))
      for (Or in ((SC = !0),
      uH(Di, bC, {
        get: function () {
          return mv(this) ? this[J1] : void 0;
        },
      }),
      eo))
        yr[Or] && sH(yr[Or], J1, Or);
    var Nt = {
        NATIVE_ARRAY_BUFFER_VIEWS: Xa,
        TYPED_ARRAY_TAG: SC && J1,
        aTypedArray: function (e) {
          if (kC(e)) return e;
          throw K1("Target is not a typed array");
        },
        aTypedArrayConstructor: function (e) {
          if (mC(e) && (!Jc || cH(fa, e))) return e;
          throw K1(oH(e) + " is not a typed array constructor");
        },
        exportTypedArrayMethod: function (e, n, a, c) {
          if (z1) {
            if (a)
              for (var o in eo) {
                var l = yr[o];
                if (l && qo(l.prototype, e))
                  try {
                    delete l.prototype[e];
                  } catch (h) {
                    try {
                      l.prototype[e] = n;
                    } catch (p) {}
                  }
              }
            (Di[e] && !a) || G1(Di, e, a ? n : (Xa && q1[e]) || n, c);
          }
        },
        exportTypedArrayStaticMethod: function (e, n, a) {
          var c, o;
          if (z1) {
            if (Jc) {
              if (a) {
                for (c in eo)
                  if ((o = yr[c]) && qo(o, e))
                    try {
                      delete o[e];
                    } catch (l) {}
              }
              if (fa[e] && !a) return;
              try {
                return G1(fa, e, a ? n : (Xa && fa[e]) || n);
              } catch (l) {}
            }
            for (c in eo) !(o = yr[c]) || (o[e] && !a) || G1(o, e, n);
          }
        },
        getTypedArrayConstructor: wC,
        isView: function (e) {
          if (!mv(e)) return !1;
          var n = W1(e);
          return n === "DataView" || qo(eo, n) || qo($1, n);
        },
        isTypedArray: kC,
        TypedArray: fa,
        TypedArrayPrototype: Di,
      },
      TC = Xe,
      Y1 = et,
      vH = Jf,
      mH = Nt.NATIVE_ARRAY_BUFFER_VIEWS,
      gH = TC.ArrayBuffer,
      su = TC.Int8Array,
      _H =
        !mH ||
        !Y1(function () {
          su(1);
        }) ||
        !Y1(function () {
          new su(-1);
        }) ||
        !vH(function (s) {
          new su(), new su(null), new su(1.5), new su(s);
        }, !0) ||
        Y1(function () {
          return new su(new gH(2), 1, void 0).length !== 1;
        }),
      yH = lr,
      bH = RangeError,
      SH = function (e) {
        var n = yH(e);
        if (n < 0) throw bH("The argument can't be less than 0");
        return n;
      },
      wH = RangeError,
      EC = function (e, n) {
        var a = SH(e);
        if (a % n) throw wH("Wrong offset");
        return a;
      },
      kH = Hr,
      TH = Qe("".slice),
      EH = cs,
      IH = TypeError,
      IC = function (e) {
        var n = EH(e, "number");
        if (typeof n == "number") throw IH("Can't convert number to bigint");
        return BigInt(n);
      },
      RH = Ba,
      CH = Te,
      AH = mk,
      xH = Wn,
      PH = wn,
      OH = qf,
      DH = pd,
      NH = jg,
      LH = function (e) {
        return TH(kH(e), 0, 3) === "Big";
      },
      MH = Nt.aTypedArrayConstructor,
      UH = IC,
      RC = Tt,
      CC = Xe,
      AC = Te,
      VH = Mt,
      FH = _H,
      $c = Nt,
      xC = nh,
      PC = To,
      jH = ft,
      ih = Cr,
      BH = zE,
      HH = on,
      OC = PR,
      Z1 = EC,
      DC = ds,
      ah = bn,
      zH = Hr,
      Q1 = pn,
      WH = so,
      GH = Ra,
      qH = gi,
      yv = Y,
      KH = Ft.f,
      NC = function (e) {
        var n,
          a,
          c,
          o,
          l,
          h,
          p,
          g,
          _ = AH(this),
          b = xH(e),
          R = arguments.length,
          N = R > 1 ? arguments[1] : void 0,
          B = N !== void 0,
          F = DH(b);
        if (F && !NH(F))
          for (g = (p = OH(b, F)).next, b = []; !(h = CH(g, p)).done; )
            b.push(h.value);
        for (
          B && R > 2 && (N = RH(N, arguments[2])),
            a = PH(b),
            c = new (MH(_))(a),
            o = LH(c),
            n = 0;
          a > n;
          n++
        )
          (l = B ? N(b[n], n) : b[n]), (c[n] = o ? UH(l) : +l);
        return c;
      },
      JH = dr.forEach,
      $H = gd,
      LC = vn,
      MC = Ot,
      YH = $f,
      X1 = an.get,
      ZH = an.set,
      QH = an.enforce,
      eb = LC.f,
      XH = MC.f,
      ez = Math.round,
      tb = CC.RangeError,
      UC = xC.ArrayBuffer,
      tz = UC.prototype,
      nz = xC.DataView,
      bv = $c.NATIVE_ARRAY_BUFFER_VIEWS,
      VC = $c.TYPED_ARRAY_TAG,
      FC = $c.TypedArray,
      oh = $c.TypedArrayPrototype,
      rz = $c.aTypedArrayConstructor,
      nb = $c.isTypedArray,
      Sv = "BYTES_PER_ELEMENT",
      rb = "Wrong length",
      jC = function (e, n) {
        rz(e);
        for (var a = 0, c = n.length, o = new e(c); c > a; ) o[a] = n[a++];
        return o;
      },
      wv = function (e, n) {
        eb(e, n, {
          get: function () {
            return X1(this)[n];
          },
        });
      },
      BC = function (e) {
        var n;
        return (
          qH(tz, e) || (n = zH(e)) == "ArrayBuffer" || n == "SharedArrayBuffer"
        );
      },
      HC = function (e, n) {
        return nb(e) && !WH(n) && n in e && BH(+n) && n >= 0;
      },
      zC = function (e, n) {
        return (n = DC(n)), HC(e, n) ? jH(2, e[n]) : XH(e, n);
      },
      WC = function (e, n, a) {
        return (
          (n = DC(n)),
          !(HC(e, n) && Q1(a) && ah(a, "value")) ||
          ah(a, "get") ||
          ah(a, "set") ||
          a.configurable ||
          (ah(a, "writable") && !a.writable) ||
          (ah(a, "enumerable") && !a.enumerable)
            ? eb(e, n, a)
            : ((e[n] = a.value), e)
        );
      };
    VH
      ? (bv ||
          ((MC.f = zC),
          (LC.f = WC),
          wv(oh, "buffer"),
          wv(oh, "byteOffset"),
          wv(oh, "byteLength"),
          wv(oh, "length")),
        RC(
          { target: "Object", stat: !0, forced: !bv },
          { getOwnPropertyDescriptor: zC, defineProperty: WC }
        ),
        (H1.exports = function (s, e, n) {
          var a = s.match(/\d+$/)[0] / 8,
            c = s + (n ? "Clamped" : "") + "Array",
            o = "get" + s,
            l = "set" + s,
            h = CC[c],
            p = h,
            g = p && p.prototype,
            _ = {},
            b = function (B, F) {
              eb(B, F, {
                get: function () {
                  return (function (T, A) {
                    var L = X1(T);
                    return L.view[o](A * a + L.byteOffset, !0);
                  })(this, F);
                },
                set: function (T) {
                  return (function (A, L, $) {
                    var X = X1(A);
                    n && ($ = ($ = ez($)) < 0 ? 0 : $ > 255 ? 255 : 255 & $),
                      X.view[l](L * a + X.byteOffset, $, !0);
                  })(this, F, T);
                },
                enumerable: !0,
              });
            };
          bv
            ? FH &&
              ((p = e(function (N, B, F, U) {
                return (
                  PC(N, g),
                  YH(
                    Q1(B)
                      ? BC(B)
                        ? U !== void 0
                          ? new h(B, Z1(F, a), U)
                          : F !== void 0
                          ? new h(B, Z1(F, a))
                          : new h(B)
                        : nb(B)
                        ? jC(p, B)
                        : AC(NC, p, B)
                      : new h(OC(B)),
                    N,
                    p
                  )
                );
              })),
              yv && yv(p, FC),
              JH(KH(h), function (N) {
                N in p || ih(p, N, h[N]);
              }),
              (p.prototype = g))
            : ((p = e(function (N, B, F, U) {
                PC(N, g);
                var T,
                  A,
                  L,
                  $ = 0,
                  X = 0;
                if (Q1(B)) {
                  if (!BC(B)) return nb(B) ? jC(p, B) : AC(NC, p, B);
                  (T = B), (X = Z1(F, a));
                  var Q = B.byteLength;
                  if (U === void 0) {
                    if (Q % a || (A = Q - X) < 0) throw tb(rb);
                  } else if ((A = HH(U) * a) + X > Q) throw tb(rb);
                  L = A / a;
                } else (L = OC(B)), (T = new UC((A = L * a)));
                for (
                  ZH(N, {
                    buffer: T,
                    byteOffset: X,
                    byteLength: A,
                    length: L,
                    view: new nz(T),
                  });
                  $ < L;

                )
                  b(N, $++);
              })),
              yv && yv(p, FC),
              (g = p.prototype = GH(oh))),
            g.constructor !== p && ih(g, "constructor", p),
            (QH(g).TypedArrayConstructor = p),
            VC && ih(g, VC, c);
          var R = p != h;
          (_[c] = p),
            RC({ global: !0, constructor: !0, forced: R, sham: !bv }, _),
            Sv in p || ih(p, Sv, a),
            Sv in g || ih(g, Sv, a),
            $H(c);
        }))
      : (H1.exports = function () {}),
      (0, H1.exports)("Uint8", function (s) {
        return function (e, n, a) {
          return s(this, e, n, a);
        };
      });
    var iz = Wn,
      ib = Vr,
      az = wn,
      oz = Uw,
      sz = Math.min,
      uz =
        [].copyWithin ||
        function (s, e) {
          var n = iz(this),
            a = az(n),
            c = ib(s, a),
            o = ib(e, a),
            l = arguments.length > 2 ? arguments[2] : void 0,
            h = sz((l === void 0 ? a : ib(l, a)) - o, a - c),
            p = 1;
          for (
            o < c && c < o + h && ((p = -1), (o += h - 1), (c += h - 1));
            h-- > 0;

          )
            o in n ? (n[c] = n[o]) : oz(n, c), (c += p), (o += p);
          return n;
        },
      GC = Nt,
      cz = Qe(uz),
      lz = GC.aTypedArray;
    (0, GC.exportTypedArrayMethod)("copyWithin", function (s, e) {
      return cz(lz(this), s, e, arguments.length > 2 ? arguments[2] : void 0);
    });
    var dz = dr.every,
      hz = Nt.aTypedArray;
    (0, Nt.exportTypedArrayMethod)("every", function (s) {
      return dz(hz(this), s, arguments.length > 1 ? arguments[1] : void 0);
    });
    var fz = DR,
      pz = IC,
      vz = Hr,
      mz = Te,
      gz = et,
      _z = Nt.aTypedArray,
      yz = Nt.exportTypedArrayMethod,
      bz = Qe("".slice);
    yz(
      "fill",
      function (s) {
        var e = arguments.length;
        _z(this);
        var n = bz(vz(this), 0, 3) === "Big" ? pz(s) : +s;
        return mz(
          fz,
          this,
          n,
          e > 1 ? arguments[1] : void 0,
          e > 2 ? arguments[2] : void 0
        );
      },
      gz(function () {
        var s = 0;
        return (
          new Int8Array(2).fill({
            valueOf: function () {
              return s++;
            },
          }),
          s !== 1
        );
      })
    );
    var Sz = wn,
      wz = dp,
      kz = Nt.aTypedArrayConstructor,
      Tz = Nt.getTypedArrayConstructor,
      kv = function (e) {
        return kz(wz(e, Tz(e)));
      },
      Ez = function (e, n) {
        for (var a = 0, c = Sz(n), o = new e(c); c > a; ) o[a] = n[a++];
        return o;
      },
      Iz = kv,
      Rz = dr.filter,
      Cz = function (e, n) {
        return Ez(Iz(e), n);
      },
      Az = Nt.aTypedArray;
    (0, Nt.exportTypedArrayMethod)("filter", function (s) {
      var e = Rz(Az(this), s, arguments.length > 1 ? arguments[1] : void 0);
      return Cz(this, e);
    });
    var xz = dr.find,
      Pz = Nt.aTypedArray;
    (0, Nt.exportTypedArrayMethod)("find", function (s) {
      return xz(Pz(this), s, arguments.length > 1 ? arguments[1] : void 0);
    });
    var Oz = dr.findIndex,
      Dz = Nt.aTypedArray;
    (0, Nt.exportTypedArrayMethod)("findIndex", function (s) {
      return Oz(Dz(this), s, arguments.length > 1 ? arguments[1] : void 0);
    });
    var Nz = dr.forEach,
      Lz = Nt.aTypedArray;
    (0, Nt.exportTypedArrayMethod)("forEach", function (s) {
      Nz(Lz(this), s, arguments.length > 1 ? arguments[1] : void 0);
    });
    var Mz = Fr.includes,
      Uz = Nt.aTypedArray;
    (0, Nt.exportTypedArrayMethod)("includes", function (s) {
      return Mz(Uz(this), s, arguments.length > 1 ? arguments[1] : void 0);
    });
    var Vz = Fr.indexOf,
      Fz = Nt.aTypedArray;
    (0, Nt.exportTypedArrayMethod)("indexOf", function (s) {
      return Vz(Fz(this), s, arguments.length > 1 ? arguments[1] : void 0);
    });
    var jz = Xe,
      Bz = et,
      ab = Qe,
      qC = Nt,
      ob = ia,
      sb = Qt("iterator"),
      KC = jz.Uint8Array,
      Hz = ab(ob.values),
      zz = ab(ob.keys),
      Wz = ab(ob.entries),
      ub = qC.aTypedArray,
      Tv = qC.exportTypedArrayMethod,
      Yc = KC && KC.prototype,
      Ev = !Bz(function () {
        Yc[sb].call([1]);
      }),
      JC =
        !!Yc &&
        Yc.values &&
        Yc[sb] === Yc.values &&
        Yc.values.name === "values",
      $C = function () {
        return Hz(ub(this));
      };
    Tv(
      "entries",
      function () {
        return Wz(ub(this));
      },
      Ev
    ),
      Tv(
        "keys",
        function () {
          return zz(ub(this));
        },
        Ev
      ),
      Tv("values", $C, Ev || !JC, { name: "values" }),
      Tv(sb, $C, Ev || !JC, { name: "values" });
    var Gz = Nt.aTypedArray,
      qz = Nt.exportTypedArrayMethod,
      Kz = Qe([].join);
    qz("join", function (s) {
      return Kz(Gz(this), s);
    });
    var Jz = Vs,
      $z = Ir,
      Yz = lr,
      Zz = wn,
      Qz = wd,
      Xz = Math.min,
      cb = [].lastIndexOf,
      YC = !!cb && 1 / [1].lastIndexOf(1, -0) < 0,
      eW = Qz("lastIndexOf"),
      tW =
        YC || !eW
          ? function (s) {
              if (YC) return Jz(cb, this, arguments) || 0;
              var e = $z(this),
                n = Zz(e),
                a = n - 1;
              for (
                arguments.length > 1 && (a = Xz(a, Yz(arguments[1]))),
                  a < 0 && (a = n + a);
                a >= 0;
                a--
              )
                if (a in e && e[a] === s) return a || 0;
              return -1;
            }
          : cb,
      nW = Vs,
      rW = tW,
      iW = Nt.aTypedArray;
    (0, Nt.exportTypedArrayMethod)("lastIndexOf", function (s) {
      var e = arguments.length;
      return nW(rW, iW(this), e > 1 ? [s, arguments[1]] : [s]);
    });
    var aW = dr.map,
      oW = kv,
      sW = Nt.aTypedArray;
    (0, Nt.exportTypedArrayMethod)("map", function (s) {
      return aW(
        sW(this),
        s,
        arguments.length > 1 ? arguments[1] : void 0,
        function (e, n) {
          return new (oW(e))(n);
        }
      );
    });
    var uW = j1.left,
      cW = Nt.aTypedArray;
    (0, Nt.exportTypedArrayMethod)("reduce", function (s) {
      var e = arguments.length;
      return uW(cW(this), s, e, e > 1 ? arguments[1] : void 0);
    });
    var lW = j1.right,
      dW = Nt.aTypedArray;
    (0, Nt.exportTypedArrayMethod)("reduceRight", function (s) {
      var e = arguments.length;
      return lW(dW(this), s, e, e > 1 ? arguments[1] : void 0);
    });
    var hW = Nt.aTypedArray,
      fW = Nt.exportTypedArrayMethod,
      pW = Math.floor;
    fW("reverse", function () {
      for (var s, e = this, n = hW(e).length, a = pW(n / 2), c = 0; c < a; )
        (s = e[c]), (e[c++] = e[--n]), (e[n] = s);
      return e;
    });
    var ZC = Xe,
      QC = Te,
      lb = Nt,
      vW = wn,
      mW = EC,
      gW = Wn,
      XC = et,
      _W = ZC.RangeError,
      db = ZC.Int8Array,
      eA = db && db.prototype,
      tA = eA && eA.set,
      yW = lb.aTypedArray,
      bW = lb.exportTypedArrayMethod,
      hb = !XC(function () {
        var s = new Uint8ClampedArray(2);
        return QC(tA, s, { length: 1, 0: 3 }, 1), s[1] !== 3;
      }),
      SW =
        hb &&
        lb.NATIVE_ARRAY_BUFFER_VIEWS &&
        XC(function () {
          var s = new db(2);
          return s.set(1), s.set("2", 1), s[0] !== 0 || s[1] !== 2;
        });
    bW(
      "set",
      function (s) {
        yW(this);
        var e = mW(arguments.length > 1 ? arguments[1] : void 0, 1),
          n = gW(s);
        if (hb) return QC(tA, this, n, e);
        var a = this.length,
          c = vW(n),
          o = 0;
        if (c + e > a) throw _W("Wrong length");
        for (; o < c; ) this[e + o] = n[o++];
      },
      !hb || SW
    );
    var wW = kv,
      kW = oc,
      TW = Nt.aTypedArray;
    (0, Nt.exportTypedArrayMethod)(
      "slice",
      function (s, e) {
        for (
          var n = kW(TW(this), s, e),
            a = wW(this),
            c = 0,
            o = n.length,
            l = new a(o);
          o > c;

        )
          l[c] = n[c++];
        return l;
      },
      et(function () {
        new Int8Array(1).slice();
      })
    );
    var EW = dr.some,
      IW = Nt.aTypedArray;
    (0, Nt.exportTypedArrayMethod)("some", function (s) {
      return EW(IW(this), s, arguments.length > 1 ? arguments[1] : void 0);
    });
    var nA = $r.match(/firefox\/(\d+)/i),
      RW = !!nA && +nA[1],
      CW = /MSIE|Trident/.test($r),
      rA = $r.match(/AppleWebKit\/(\d+)\./),
      AW = !!rA && +rA[1],
      xW = Qe,
      fb = et,
      PW = ur,
      OW = _2,
      iA = RW,
      DW = CW,
      aA = Wi,
      oA = AW,
      NW = Nt.aTypedArray,
      LW = Nt.exportTypedArrayMethod,
      sh = Xe.Uint16Array,
      Zc = sh && xW(sh.prototype.sort),
      MW = !(
        !Zc ||
        (fb(function () {
          Zc(new sh(2), null);
        }) &&
          fb(function () {
            Zc(new sh(2), {});
          }))
      ),
      sA =
        !!Zc &&
        !fb(function () {
          if (aA) return aA < 74;
          if (iA) return iA < 67;
          if (DW) return !0;
          if (oA) return oA < 602;
          var s,
            e,
            n = new sh(516),
            a = Array(516);
          for (s = 0; s < 516; s++)
            (e = s % 4), (n[s] = 515 - s), (a[s] = s - 2 * e + 3);
          for (
            Zc(n, function (c, o) {
              return ((c / 4) | 0) - ((o / 4) | 0);
            }),
              s = 0;
            s < 516;
            s++
          )
            if (n[s] !== a[s]) return !0;
        });
    LW(
      "sort",
      function (s) {
        return (
          s !== void 0 && PW(s),
          sA
            ? Zc(this, s)
            : OW(
                NW(this),
                (function (e) {
                  return function (n, a) {
                    return e !== void 0
                      ? +e(n, a) || 0
                      : a != a
                      ? -1
                      : n != n
                      ? 1
                      : n === 0 && a === 0
                      ? 1 / n > 0 && 1 / a < 0
                        ? 1
                        : -1
                      : n > a;
                  };
                })(s)
              )
        );
      },
      !sA || MW
    );
    var UW = on,
      uA = Vr,
      VW = kv,
      FW = Nt.aTypedArray;
    (0, Nt.exportTypedArrayMethod)("subarray", function (s, e) {
      var n = FW(this),
        a = n.length,
        c = uA(s, a);
      return new (VW(n))(
        n.buffer,
        n.byteOffset + c * n.BYTES_PER_ELEMENT,
        UW((e === void 0 ? a : uA(e, a)) - c)
      );
    });
    var jW = Vs,
      cA = Nt,
      pb = et,
      lA = oc,
      Iv = Xe.Int8Array,
      dA = cA.aTypedArray,
      BW = cA.exportTypedArrayMethod,
      hA = [].toLocaleString,
      HW =
        !!Iv &&
        pb(function () {
          hA.call(new Iv(1));
        });
    BW(
      "toLocaleString",
      function () {
        return jW(hA, HW ? lA(dA(this)) : dA(this), lA(arguments));
      },
      pb(function () {
        return [1, 2].toLocaleString() != new Iv([1, 2]).toLocaleString();
      }) ||
        !pb(function () {
          Iv.prototype.toLocaleString.call([1, 2]);
        })
    );
    var zW = Nt.exportTypedArrayMethod,
      WW = et,
      GW = Qe,
      fA = Xe.Uint8Array,
      qW = (fA && fA.prototype) || {},
      Rv = [].toString,
      KW = GW([].join);
    WW(function () {
      Rv.call({});
    }) &&
      (Rv = function () {
        return KW(this);
      });
    var JW = qW.toString != Rv;
    zW("toString", Rv, JW);
    var $W = (function () {
        function s(e, n, a) {
          G(this, s),
            (this.isUplink_ = a),
            (this.connection_ = e),
            (this.log_ = n),
            (this.seiMessageList_ = []),
            (this.smallVideoSeiMessageList_ = []),
            (this.seiPayloadType_ = 243),
            (this.runningAbortMap_ = /* @__PURE__ */ new Map()),
            (this.abortMap_ = /* @__PURE__ */ new Map()),
            (this.onSEIMessage = null);
        }
        return (
          ce(s, [
            {
              key: "isRunning",
              get: function () {
                return !!this.runningAbortMap_.size > 0;
              },
            },
            {
              key: "start",
              value: function (n) {
                var a = this,
                  c =
                    arguments.length > 1 && arguments[1] !== void 0
                      ? arguments[1]
                      : this.seiMessageList_,
                  o = n.createEncodedStreams(),
                  l = o.readable,
                  h = o.writable,
                  p = new TransformStream({
                    transform: this.isUplink_
                      ? function (_, b) {
                          return a.encodeVideoFrame(_, b, c);
                        }
                      : function (_, b) {
                          var R, N;
                          return a.decodeVideoFrame(
                            _,
                            b,
                            n ===
                              ((R = a.connection_) === null ||
                              R === void 0 ||
                              (N = R.getPeerConnection()) === null ||
                              N === void 0
                                ? void 0
                                : N.getReceivers()[KT])
                          );
                        },
                  }),
                  g = new AbortController();
                l
                  .pipeThrough(p)
                  .pipeTo(h, { signal: g.signal })
                  .catch(function () {}),
                  this.runningAbortMap_.set(n, g);
              },
            },
            {
              key: "restart",
              value: function (n, a) {
                this.stop(), this.start(n, a);
              },
            },
            {
              key: "stop",
              value: function (n) {
                var a;
                (a = this.runningAbortMap_.get(n)) === null ||
                  a === void 0 ||
                  a.abort(),
                  this.runningAbortMap_.delete(n);
              },
            },
            {
              key: "destroy",
              value: function () {
                this.stop(),
                  this.runningAbortMap_.forEach(function (n) {
                    return n.abort();
                  }),
                  this.runningAbortMap_.clear(),
                  this.abortMap_.forEach(function (n) {
                    return n.abort();
                  }),
                  this.abortMap_.clear(),
                  (this.log_ = null),
                  (this.onSEIMessage = null),
                  (this.connection_ = null);
              },
            },
            {
              key: "handleEncodedStreams",
              value: function () {
                var n = this;
                try {
                  var a = this.connection_.getPeerConnection();
                  this.clearUnusedSenderOrReceiver(a),
                    this.isUplink_
                      ? a.getSenders().forEach(function (c, o) {
                          if (!n.runningAbortMap_.has(c) && !n.abortMap_.has(c))
                            if (o === $M || o === qT) {
                              var l =
                                o === qT
                                  ? n.smallVideoSeiMessageList_
                                  : n.seiMessageList_;
                              n.isRunning ? n.restart(c, l) : n.start(c, l);
                            } else n.pipeSenderOrReceiver(c);
                        })
                      : a.getReceivers().forEach(function (c, o) {
                          var l;
                          n.runningAbortMap_.has(c) ||
                            n.abortMap_.has(c) ||
                            ((o !== YM && o !== KT) ||
                            ((l = c.track) === null || l === void 0
                              ? void 0
                              : l.kind) !== dt
                              ? n.pipeSenderOrReceiver(c)
                              : n.isRunning
                              ? n.restart(c)
                              : n.start(c));
                        });
                } catch (c) {
                  this.log_.warn(c);
                }
              },
            },
            {
              key: "pipeSenderOrReceiver",
              value: function (n) {
                var a = n.createEncodedStreams(),
                  c = a.readable,
                  o = a.writable,
                  l = new AbortController();
                this.abortMap_.set(n, l),
                  c.pipeTo(o, { signal: l.signal }).catch(function () {});
              },
            },
            {
              key: "clearUnusedSenderOrReceiver",
              value: function (n) {
                var a = this;
                this.abortMap_.forEach(function (c, o) {
                  (a.isUplink_ ? n.getSenders() : n.getReceivers()).find(
                    function (l) {
                      return l === o;
                    }
                  ) || (c.abort(), a.abortMap_.delete(o));
                });
              },
            },
            {
              key: "push",
              value: function (n, a) {
                a &&
                  a.seiPayloadType &&
                  (this.seiPayloadType_ = a.seiPayloadType),
                  this.seiMessageList_.push(n),
                  this.smallVideoSeiMessageList_.push(n);
              },
            },
            {
              key: "hasSEI",
              value: function (n) {
                var a = new DataView(n);
                return a.getInt32(0) === 1 && a.getInt8(4) === 6;
              },
            },
            {
              key: "isEmptyFrame",
              value: function (n) {
                return n.type === "empty" || n.data.byteLength === 0;
              },
            },
            {
              key: "getNaluCount",
              value: function (n) {
                for (
                  var a = 0, c = 0, o = new DataView(n), l = 0;
                  l < n.byteLength;
                  l++
                )
                  switch (o.getUint8(l)) {
                    case 0:
                      a++;
                      break;
                    case 1:
                      (a !== 2 && a !== 3) || c++, (a = 0);
                      break;
                    default:
                      a = 0;
                  }
                return c;
              },
            },
            {
              key: "encodeVideoFrame",
              value: function (n, a, c) {
                try {
                  if (
                    this.connection_.isH264 &&
                    c.length > 0 &&
                    !this.isEmptyFrame(n)
                  ) {
                    var o = 9 - this.getNaluCount(n.data);
                    if (o <= 0) return;
                    for (
                      var l = c
                          .splice(0, o)
                          .reverse()
                          .map(this.encodeSEINalu.bind(this)),
                        h = l.reduce(function (F, U) {
                          return F + U.dataView.byteLength;
                        }, 0),
                        p = new ArrayBuffer(h + n.data.byteLength),
                        g = new DataView(p),
                        _ = new DataView(n.data),
                        b = 0,
                        R = 0;
                      R < l.length;
                      R++
                    )
                      for (var N = 0; N < l[R].dataView.byteLength; N++)
                        g.setInt8(b++, l[R].dataView.getInt8(N));
                    for (var B = 0; B < n.data.byteLength; B++)
                      g.setInt8(b++, _.getInt8(B));
                    (n.data = p),
                      this.log_.debug("".concat(l.length, " sei sent"));
                  }
                } catch (F) {
                  this.log_.warn(F);
                }
                a.enqueue(n);
              },
            },
            {
              key: "decodeVideoFrame",
              value: function (n, a) {
                var c = this,
                  o =
                    arguments.length > 2 &&
                    arguments[2] !== void 0 &&
                    arguments[2];
                try {
                  if (
                    this.connection_.isH264 &&
                    !this.isEmptyFrame(n) &&
                    this.hasSEI(n.data)
                  ) {
                    for (
                      var l = [],
                        h = new DataView(n.data),
                        p = 0,
                        g = -1,
                        _ = -1,
                        b = 0;
                      b < n.data.byteLength;
                      b++
                    ) {
                      var R = h.getUint8(b);
                      if (R === 0) p++;
                      else if (R === 1) {
                        if (p === 2 || p === 3) {
                          var N = b - p;
                          g === -1
                            ? (g = N)
                            : _ === -1 &&
                              ((_ = N),
                              l.push(
                                new pA(new DataView(h.buffer.slice(g, _)))
                              ),
                              (g = N),
                              (_ = -1));
                          var B = h.getUint8(b + 1) === 6;
                          if (!B) {
                            n.data = new DataView(h.buffer.slice(N)).buffer;
                            break;
                          }
                        }
                        p = 0;
                      } else p = 0;
                    }
                    this.log_.debug("".concat(l.length, " sei received")),
                      gr(this.onSEIMessage) &&
                        l.reverse().forEach(function (F) {
                          c.onSEIMessage({
                            seiPayloadType: F.seiPayloadType,
                            data: F.seiPayload.buffer,
                            isFromAuxiliary: o,
                          });
                        });
                  }
                } catch (F) {
                  this.log_.warn(F);
                }
                a.enqueue(n);
              },
            },
            {
              key: "encodeSEINalu",
              value: function (n) {
                var a = n.byteLength,
                  c = parseInt(a / 255),
                  o = a % 255,
                  l = [];
                l.push(0, 0, 0, 1, 6, this.seiPayloadType_);
                for (var h = 0; h < c; h++) l.push(255);
                l.push(o);
                var p = new DataView(n);
                return (
                  l.push.apply(l, Je(new Uint8Array(p.buffer))),
                  l.push(128),
                  new pA(new DataView(new Uint8Array(l).buffer), !0)
                );
              },
            },
          ]),
          s
        );
      })(),
      pA = (function () {
        function s(e) {
          var n =
            arguments.length > 1 && arguments[1] !== void 0 && arguments[1];
          G(this, s),
            (this.dataView = e),
            this.isSEI &&
              (n ? this.addPreventionByte() : this.removePreventionByte());
        }
        return (
          ce(s, [
            {
              key: "addPreventionByte",
              value: function () {
                for (
                  var n = this.seiPayloadStartIndex,
                    a = this.dataView.byteLength - 2,
                    c = [],
                    o = 0,
                    l = n;
                  l <= a;
                  l++
                ) {
                  var h = this.dataView.getInt8(l);
                  switch (h) {
                    case 0:
                    case 1:
                    case 2:
                    case 3:
                      o === 2 && (c.push(3), (o = 0)),
                        h == 0 ? o++ : (o = 0),
                        c.push(h);
                      break;
                    default:
                      (o = 0), c.push(h);
                  }
                }
                c.push(this.dataView.getInt8(this.dataView.byteLength - 1));
                var p = new DataView(
                  new Uint8Array(
                    [].concat(
                      Je(new Uint8Array(this.dataView.buffer).slice(0, n)),
                      c
                    )
                  ).buffer
                );
                this.dataView = p;
              },
            },
            {
              key: "removePreventionByte",
              value: function () {
                for (
                  var n = this.seiPayloadStartIndex,
                    a = this.dataView.byteLength - 1,
                    c = [],
                    o = 0,
                    l = n;
                  l <= a;
                  l++
                )
                  switch (this.dataView.getInt8(l)) {
                    case 0:
                      o++, c.push(this.dataView.getInt8(l));
                      break;
                    case 3:
                      o !== 2 && c.push(this.dataView.getInt8(l)), (o = 0);
                      break;
                    default:
                      c.push(this.dataView.getInt8(l)), (o = 0);
                  }
                var h = new DataView(
                  new Uint8Array(
                    [].concat(
                      Je(new Uint8Array(this.dataView.buffer).slice(0, n)),
                      c
                    )
                  ).buffer
                );
                this.dataView = h;
              },
            },
            {
              key: "isSEI",
              get: function () {
                return this.dataView.getUint8(4) === 6;
              },
            },
            {
              key: "seiPayloadStartIndex",
              get: function () {
                for (
                  var n = 6, a = 6;
                  a < this.dataView.buffer.byteLength &&
                  (n++, this.dataView.getUint8(a) === 255);
                  a++
                );
                return n;
              },
            },
            {
              key: "seiPayloadType",
              get: function () {
                return this.isSEI ? this.dataView.getUint8(5) : null;
              },
            },
            {
              key: "seiPayload",
              get: function () {
                if (!this.isSEI) return null;
                for (
                  var n = 0, a = 6, c = 6;
                  c < this.dataView.buffer.byteLength;
                  c++
                ) {
                  var o = this.dataView.getUint8(c);
                  if ((a++, o !== 255)) {
                    n += o;
                    break;
                  }
                  n += 255;
                }
                for (
                  var l = new ArrayBuffer(n), h = new DataView(l), p = 0;
                  p < l.byteLength;
                  p++, a++
                )
                  h.setInt8(p, this.dataView.getInt8(a));
                return h;
              },
            },
          ]),
          s
        );
      })(),
      vb = (function () {
        function s(n) {
          G(this, s),
            (this.userId_ = n.userId),
            (this.tinyId_ = n.tinyId),
            (this.client_ = n.client),
            (this.sdpSemantics_ = n.client.getSdpSemantics()),
            (this.isUplink_ = n.isUplink),
            (this.log_ = it.createLogger({
              id: "n|" + this.userId_,
              userId: this.client_.getUserId(),
              sdkAppId: this.client_.getSDKAppId(),
              isLocal: this.isUplink_,
            })),
            (this.signalChannel_ = n.signalChannel),
            (this.peerConnection_ = null),
            (this.isErrorObserved_ = !1),
            (this.emitter_ = new Fo()),
            (this.currentState_ = fr),
            (this.waitForPeerConnectionConnectedPromise_ = null),
            (this.isReconnecting_ = !1),
            (this.reconnectionCount_ = 0),
            (this.reconnectionTimer_ = -1),
            (this.isFirstConnection_ = !0),
            (this.delay_ = { audioDelay: 0, videoDelay: 0 }),
            (this.enableSEI_ = n.enableSEI),
            this.enableSEI_ &&
              Q0 &&
              (this.sei_ = new $W(this, this.log_, this.isUplink_));
        }
        var e;
        return (
          ce(s, [
            {
              key: "initialize",
              value: function () {
                var a = {
                  encodedInsertableStreams: this.enableSEI_ && Q0,
                  iceServers: this.client_.getIceServers(),
                  iceTransportPolicy: this.client_.getIceTransportPolicy(),
                  sdpSemantics: this.sdpSemantics_,
                  bundlePolicy: "max-bundle",
                  rtcpMuxPolicy: "require",
                  tcpCandidatePolicy: "disable",
                  IceTransportsType: "nohost",
                };
                (this.peerConnection_ = new RTCPeerConnection(a)),
                  (this.peerConnection_.onconnectionstatechange =
                    this.onConnectionStateChange.bind(this));
              },
            },
            {
              key: "close",
              value: function () {
                this.log_.info("closing connection"),
                  this.closePeerConnection(),
                  this.sei_ && (this.sei_.destroy(), (this.sei_ = null));
              },
            },
            {
              key: "closePeerConnection",
              value: function () {
                var a =
                  arguments.length > 0 &&
                  arguments[0] !== void 0 &&
                  arguments[0];
                this.peerConnection_ &&
                  ((this.peerConnection_.onconnectionstatechange =
                    function () {}),
                  this.peerConnection_.close(),
                  (this.peerConnection_ = null),
                  a && this.emitConnectionStateChangedEvent(fr));
              },
            },
            {
              key: "getDTLSTransportState",
              value: function () {
                if (!this.peerConnection_) return kp;
                var a = null;
                if (this.isUplink_) {
                  if (!Kp() || this.peerConnection_.getSenders().length === 0)
                    return kp;
                  a = this.peerConnection_.getSenders()[0].transport;
                } else {
                  if (!DI() || this.peerConnection_.getReceivers().length === 0)
                    return kp;
                  a = this.peerConnection_.getReceivers()[0].transport;
                }
                return a ? a.state : kp;
              },
            },
            {
              key: "onConnectionStateChange",
              value: function (a) {
                var c = this.peerConnection_.iceConnectionState,
                  o = this.getDTLSTransportState();
                if (
                  (this.log_.info(
                    "onConnectionStateChange() connectionState: " +
                      a.target.connectionState
                  ),
                  this.log_.info(
                    "ICE Transport state: "
                      .concat(c, ", DTLS Transport state: ")
                      .concat(o)
                  ),
                  a.target.connectionState === Tp &&
                    this.emitConnectionStateChangedEvent(hT),
                  a.target.connectionState === fT ||
                    a.target.connectionState === vy)
                ) {
                  var l = ""
                      .concat(
                        this.isUplink_ ? "uplink" : "downlink",
                        " ICE/DTLS Transport connection "
                      )
                      .concat(
                        a.target.connectionState,
                        ". ICE Transport state: "
                      )
                      .concat(c, ", DTLS Transport state: ")
                      .concat(o),
                    h = new Ie({ message: l, code: ke.ICE_TRANSPORT_ERROR });
                  st.logFailedEvent({
                    userId: this.client_.getUserId(),
                    eventType: IT,
                    error: h,
                  }),
                    this.emitConnectionStateChangedEvent(fr),
                    this.isErrorObserved_ || this.emitter_.emit(Kt.ERROR, h);
                }
                (a.target.connectionState !== pT &&
                  a.target.connectionState !== VM) ||
                  (this.logSelectedCandidate(),
                  st.logSuccessEvent({
                    userId: this.client_.getUserId(),
                    eventType: IT,
                  }),
                  this.emitConnectionStateChangedEvent(pr));
              },
            },
            {
              key: "emitConnectionStateChangedEvent",
              value: function (a) {
                a !== this.currentState_ &&
                  ((this.currentState_ === py && a === hT) ||
                    (ye.emit(Wp, {
                      client: this.client_,
                      connection: this,
                      prevState: this.currentState_,
                      state: a,
                    }),
                    this.emitter_.emit(Kt.CONNECTION_STATE_CHANGED, {
                      prevState: this.currentState_,
                      state: a,
                    }),
                    (this.currentState_ = a)));
              },
            },
            {
              key: "hitTest",
              value: function (a) {
                return (
                  ((a === 0 || a === "0") && this.isUplink_) ||
                  a === this.tinyId_
                );
              },
            },
            {
              key: "addEventInternal",
              value: function (a, c) {
                var o = this.client_.getUserId(),
                  l = {
                    eventId: a,
                    eventDesc: c,
                    timestamp: hr(),
                    userId: o,
                    tinyId: this.client_.getTinyId(),
                  };
                this.isUplink_ ||
                  ((l.remoteUserId = this.userId_),
                  (l.remoteTinyId = this.tinyId_)),
                  xr(o, l);
              },
            },
            {
              key: "getPeerConnection",
              value: function () {
                return this.peerConnection_;
              },
            },
            {
              key: "getClient",
              value: function () {
                return this.client_;
              },
            },
            {
              key: "getUserId",
              value: function () {
                return this.userId_;
              },
            },
            {
              key: "getTinyId",
              value: function () {
                return this.tinyId_;
              },
            },
            {
              key: "logSelectedCandidate",
              value:
                ((e = C(
                  m().mark(function n() {
                    var a, c, o, l, h, p, g;
                    return m().wrap(
                      function (_) {
                        for (;;)
                          switch ((_.prev = _.next)) {
                            case 0:
                              if (this.peerConnection_) {
                                _.next = 2;
                                break;
                              }
                              return _.abrupt("return");
                            case 2:
                              return (
                                (_.next = 4), this.peerConnection_.getStats()
                              );
                            case 4:
                              (a = _.sent), (c = We(a)), (_.prev = 6), c.s();
                            case 8:
                              if ((o = c.n()).done) {
                                _.next = 18;
                                break;
                              }
                              if (((l = wt(o.value, 2))[0], !X0((h = l[1])))) {
                                _.next = 16;
                                break;
                              }
                              return (
                                (p = a.get(h.localCandidateId)),
                                (g = a.get(h.remoteCandidateId)),
                                p &&
                                  this.log_.info(
                                    "local candidate: "
                                      .concat(p.candidateType, " ")
                                      .concat(p.protocol, ":")
                                      .concat(p.ip || p.address, ":")
                                      .concat(p.port, " ")
                                      .concat(p.networkType || "", " ")
                                      .concat(
                                        p.candidateType === "relay"
                                          ? "relayProtocol:" + p.relayProtocol
                                          : ""
                                      )
                                  ),
                                g &&
                                  this.log_.info(
                                    "remote candidate: "
                                      .concat(g.candidateType, " ")
                                      .concat(g.protocol, ":")
                                      .concat(g.ip || g.address, ":")
                                      .concat(g.port)
                                  ),
                                _.abrupt("break", 18)
                              );
                            case 16:
                              _.next = 8;
                              break;
                            case 18:
                              _.next = 23;
                              break;
                            case 20:
                              (_.prev = 20), (_.t0 = _.catch(6)), c.e(_.t0);
                            case 23:
                              return (_.prev = 23), c.f(), _.finish(23);
                            case 26:
                            case "end":
                              return _.stop();
                          }
                      },
                      n,
                      this,
                      [[6, 20, 23, 26]]
                    );
                  })
                )),
                function () {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "getCurrentState",
              value: function () {
                return this.currentState_;
              },
            },
            {
              key: "waitForPeerConnectionConnected",
              value: function () {
                var a = this;
                return (
                  this.waitForPeerConnectionConnectedPromise_ ||
                    ((this.waitForPeerConnectionConnectedPromise_ = new Promise(
                      function (c, o) {
                        if (a.currentState_ === pr) return c();
                        var l = -1,
                          h = function (b) {
                            b.state === pr && (clearTimeout(l), g(), c());
                          },
                          p = function (b) {
                            b.client === a.client_ &&
                              (clearTimeout(l),
                              g(),
                              o(
                                new Ie({
                                  code: ke.API_CALL_ABORTED,
                                  message: Le({ key: HU, data: "leave room" }),
                                })
                              ));
                          },
                          g = function () {
                            ye.off(Dc, p, a),
                              a.emitter_.off(Kt.CONNECTION_STATE_CHANGED, h, a);
                          };
                        (l = setTimeout(function () {
                          g();
                          var _ = new Ie({
                            code: ke.API_CALL_TIMEOUT,
                            message: "connection timeout",
                          });
                          o(_);
                        }, 1e4)),
                          ye.on(Dc, p, a),
                          a.emitter_.on(Kt.CONNECTION_STATE_CHANGED, h, a);
                      }
                    )),
                    (this.waitForPeerConnectionConnectedPromise_ =
                      this.waitForPeerConnectionConnectedPromise_
                        .then(function (c) {
                          return (
                            (a.waitForPeerConnectionConnectedPromise_ = null), c
                          );
                        })
                        .catch(function (c) {
                          throw (
                            ((a.waitForPeerConnectionConnectedPromise_ = null),
                            c)
                          );
                        }))),
                  this.waitForPeerConnectionConnectedPromise_
                );
              },
            },
            {
              key: "getReconnectionCount",
              value: function () {
                return this.reconnectionCount_;
              },
            },
            {
              key: "startReconnection",
              value: function () {
                (this.isReconnecting_ = !0),
                  this.emitConnectionStateChangedEvent(py),
                  this.reconnect(),
                  this.addEventInternal(
                    this.isUplink_ ? Q9 : tF,
                    "".concat(
                      this.isUplink_ ? "uplink" : "downlink",
                      "-connection is reconnecting"
                    )
                  );
              },
            },
            {
              key: "stopReconnection",
              value: function () {
                this.log_.info("stop reconnection"),
                  (this.isReconnecting_ = !1),
                  (this.reconnectionCount_ = 0),
                  this.clearReconnectionTimer(),
                  this.signalChannel_.off(Gd, this.reconnect, this);
              },
            },
            {
              key: "on",
              value: function (a, c, o) {
                this.emitter_.on(a, c, o);
              },
            },
            {
              key: "off",
              value: function (a, c, o) {
                this.emitter_.off(a, c, o);
              },
            },
            {
              key: "setDelay",
              value: function (a) {
                var c = a.audioDelay,
                  o = a.videoDelay;
                this.delay_ = { audioDelay: c, videoDelay: o };
              },
            },
            {
              key: "getDelay",
              value: function () {
                return this.delay_;
              },
            },
            {
              key: "isH264",
              get: function () {
                var a, c;
                if (
                  (a = this.peerConnection_) !== null &&
                  a !== void 0 &&
                  (c = a.remoteDescription) !== null &&
                  c !== void 0 &&
                  c.sdp
                )
                  return !!this.peerConnection_.remoteDescription.sdp.includes(
                    "H264"
                  );
                var o = this.client_.getSystemResult().detail,
                  l = o.isH264EncodeSupported,
                  h = o.isH264DecodeSupported;
                return this.isUplink_ ? l : h;
              },
            },
          ]),
          s
        );
      })(),
      YW = (function () {
        function s() {
          G(this, s),
            (this.set_ = /* @__PURE__ */ new Set()),
            ye.on(Bp, this.add, this),
            ye.on(Oc, this.add, this),
            ye.on(Qs, this.delete, this),
            ye.on(Dc, this.delete, this);
        }
        return (
          ce(s, [
            {
              key: "add",
              value: function (n) {
                var a = n.client,
                  c = n.roomId,
                  o = this.getKey(
                    a.getUserId(),
                    c || a.getRoomId(),
                    a.getSDKAppId(),
                    a.getUseStringRoomId()
                  );
                this.set_.add(o);
              },
            },
            {
              key: "delete",
              value: function (n) {
                var a = n.client,
                  c = this.getKey(
                    a.getUserId(),
                    a.getRoomId(),
                    a.getSDKAppId(),
                    a.getUseStringRoomId()
                  );
                this.set_.delete(c);
              },
            },
            {
              key: "getKey",
              value: function (n, a, c, o) {
                return ""
                  .concat(c, "_")
                  .concat(a, "_")
                  .concat(n, "_")
                  .concat(o);
              },
            },
            {
              key: "isJoined",
              value: function (n) {
                var a = n.userId,
                  c = n.roomId,
                  o = n.sdkAppId,
                  l = n.client;
                return this.set_.has(
                  this.getKey(a, c, o, l.getUseStringRoomId())
                );
              },
            },
          ]),
          s
        );
      })(),
      ZW = new YW();
    function vA(s, e, n, a) {
      if (this.useStringRoomId_) {
        if (
          !(zn(s) && /^[A-Za-z\d\s!#$%&()+\-:;<=.>?@[\]^_{}|~,]{1,64}$/.test(s))
        )
          throw new Ie({
            code: ke.INVALID_PARAMETER,
            message: Le({
              key: k7,
              data: e,
              link: { className: a, fnName: n },
            }),
          });
      } else if (!(Ri(s) && /^[1-9]\d*$/.test(String(s)) && s < 4294967295)) throw new Ie({ code: ke.INVALID_PARAMETER, message: Le({ key: T7, data: e, link: { className: a, fnName: n } }) });
    }
    function mA(s, e, n, a) {
      if (!/^[A-Za-z\d_-]*$/.test(s))
        throw new Ie({
          code: ke.INVALID_PARAMETER,
          message: Le({ key: j7, data: e, link: { className: a, fnName: n } }),
        });
    }
    var QW = {
        createClient: {
          name: "clientConfig",
          required: !0,
          type: qr,
          properties: {
            sdkAppId: { required: !0, type: Tn, allowEmpty: !1 },
            userId: { required: !0, type: sn, allowEmpty: !1 },
            userSig: { required: !0, type: sn, allowEmpty: !1 },
            mode: { required: !0, type: sn, values: ["rtc", wp] },
            useStringRoomId: { type: Kn },
            autoSubscribe: { type: Kn },
            enableAutoPlayDialog: { type: Kn },
            streamId: { type: sn },
            userDefineRecordId: { type: sn },
            pureAudioPushMode: { type: Tn, values: [1, 2] },
            enableSEI: { type: Kn },
          },
        },
        createStream: {
          name: "streamConfig",
          required: !0,
          type: qr,
          properties: {
            userId: { type: sn },
            audio: { type: Kn },
            video: { type: Kn },
            screen: { type: Kn },
            screenAudio: { type: Kn },
            microphoneId: { type: sn },
            cameraId: { type: sn },
            facingMode: { type: [sn, qr] },
            audioSource: { instanceOf: window.MediaStreamTrack },
            videoSource: { instanceOf: window.MediaStreamTrack },
          },
          validate: function (e) {
            if (
              (!rt(e.screen) && e.screen && rt(e.audio) && (e.audio = !1),
              !(
                (rt(e.audio) && rt(e.video)) ||
                (rt(e.audioSource) && rt(e.videoSource))
              ))
            )
              throw new Ie({
                code: ke.INVALID_PARAMETER,
                message: Le({ key: wU }),
              });
            if (!rt(e.screen) && e.screen === !0 && e.video === !0)
              throw new Ie({
                code: ke.INVALID_PARAMETER,
                message: Le({ key: kU }),
              });
            if (e.audio && e.screenAudio)
              throw new Ie({
                code: ke.INVALID_PARAMETER,
                message: Le({ key: TU }),
              });
            if (e.screen !== !0 && e.screenAudio === !0)
              throw new Ie({
                code: ke.INVALID_PARAMETER,
                message: Le({ key: EU }),
              });
            if (
              !rt(e.screen) &&
              e.screen === !0 &&
              !this.isScreenShareSupported()
            )
              throw new Ie({
                code: ke.INVALID_OPERATION,
                message: Le({ key: CU }),
              });
          },
        },
      },
      XW = {
        join: {
          name: "options",
          required: !0,
          type: qr,
          properties: {
            roomId: {
              required: !0,
              type: [Tn, sn],
              allowEmpty: !1,
              validate: vA,
            },
            role: { type: [sn], values: [ca, Gs] },
            privateMapKey: { type: [sn] },
          },
          validate: function (e) {
            if (this.isJoined_)
              throw new Ie({
                code: ke.INVALID_OPERATION,
                message: Le({ key: w7 }),
              });
            if (
              (this.checkDestroy(),
              ZW.isJoined({
                userId: this.userId_,
                roomId: e.roomId,
                sdkAppId: this.sdkAppId_,
                client: this,
              }))
            )
              throw new Ie({
                code: ke.INVALID_OPERATION,
                message: Le({ key: cU, data: this.userId_ }),
              });
          },
        },
        publish: [
          {
            name: "stream",
            required: !0,
            instanceOf: Do,
            validate: function (e) {
              if (!this.isJoined_)
                throw new Ie({
                  code: ke.INVALID_OPERATION,
                  message: Le({ key: C7 }),
                });
              if (this.mode_ === wp && this.role_ === Gs)
                throw new Ie({
                  code: ke.INVALID_OPERATION,
                  message: Le({ key: x7 }),
                });
              if (!e.getIsReadyToPublish())
                throw new Ie({
                  code: ke.INVALID_OPERATION,
                  message: Le({ key: P7 }),
                });
              if (this.notPublishWithoutH264Supported_)
                throw new Ie({
                  code: ke.NOT_SUPPORTED_H264,
                  message: Le({ key: cE }),
                });
            },
          },
          {
            name: "options",
            type: qr,
            defaultValue: { isAuxiliary: !1 },
            properties: {
              isAuxiliary: {
                type: Kn,
                defaultValue: !1,
                validate: function () {
                  var e =
                    arguments.length > 0 &&
                    arguments[0] !== void 0 &&
                    arguments[0];
                  if (e && !Jp())
                    throw new Ie({
                      code: ke.NOT_SUPPORTED,
                      message: Le({ key: AU }),
                    });
                  if (
                    this.uplinkConnection_ &&
                    ((e && this.uplinkConnection_.isAuxStreamPublished) ||
                      (!e && this.uplinkConnection_.isMainStreamPublished))
                  )
                    throw new Ie({
                      code: ke.INVALID_OPERATION,
                      message: Le({ key: O7, data: e ? ln : "local" }),
                    });
                  var n =
                    this.localScreenStream_ ||
                    Je(this.connections_.values()).findIndex(function (a) {
                      return a.getTrackState().auxiliary;
                    }) >= 0;
                  if (!this.enableMultiAuxStream_ && e && n)
                    throw new Ie({
                      code: ke.INVALID_OPERATION,
                      message: Le({ key: zU }),
                    });
                },
              },
            },
          },
        ],
        unpublish: {
          name: "stream",
          required: !0,
          instanceOf: Do,
          validate: function (e) {
            if (e !== this.localStream_ && e !== this.localAuxStream_) {
              if (this.localStream_ || this.localAuxStream_)
                throw new Ie({
                  code: ke.INVALID_PARAMETER,
                  message: Le({ key: A7 }),
                });
              this.log_.warn(
                "Client currently has no published stream, please call publish() first."
              );
            }
          },
        },
        subscribe: [
          {
            name: "stream",
            required: !0,
            instanceOf: Ty,
            validate: function (e) {
              if (!e.getConnection())
                throw new Ie({
                  code: ke.INVALID_OPERATION,
                  message: Le({ key: Ay }),
                });
              if (this.notSubscribeWithoutH264Supported_)
                throw new Ie({
                  code: ke.NOT_SUPPORTED_H264,
                  message: Le({ key: lE }),
                });
            },
          },
          {
            name: "options",
            type: qr,
            properties: {
              audio: { type: Kn },
              video: { type: Kn },
              smallVideo: { type: Kn },
            },
            validate: function (e) {
              var n = e.audio,
                a = e.video,
                c = e.smallVideo;
              if (n === !1 && a === !1 && (rt(c) || c === !1))
                throw new Ie({
                  code: ke.INVALID_OPERATION,
                  message: Le({ key: LU }),
                });
            },
          },
        ],
        unsubscribe: {
          name: "stream",
          required: !0,
          instanceOf: Ty,
          validate: function (e) {
            if (!e.getConnection())
              throw new Ie({
                code: ke.INVALID_OPERATION,
                message: Le({ key: Ay }),
              });
          },
        },
        switchRole: {
          name: "role",
          required: !0,
          values: [ca, Gs],
          validate: function () {
            if (this.mode_ !== wp)
              throw new Ie({
                code: ke.INVALID_PARAMETER,
                message: Le({ key: N7 }),
              });
            if (!this.isJoined_)
              throw new Ie({
                code: ke.INVALID_OPERATION,
                message: Le({ key: L7 }),
              });
          },
        },
        startPublishCDNStream: {
          name: "options",
          required: !1,
          properties: {
            streamId: { type: sn, validate: mA },
            streamType: { type: sn, values: ["main", "auxiliary"] },
            appId: { type: Tn, allowEmpty: !1 },
            bizId: { type: Tn, allowEmpty: !1 },
            url: { type: sn, allowEmpty: !1 },
          },
          validate: function () {
            if (this.isDestroyed_)
              throw new Ie({
                code: ke.INVALID_OPERATION,
                message: Le({
                  key: xy,
                  data: { funName: "startPublishCDNStream" },
                }),
              });
          },
        },
        startMixTranscode: {
          name: "config",
          required: !0,
          type: qr,
          properties: {
            mode: { type: sn, values: ["preset-layout", "manual"] },
            streamId: { type: sn, validate: mA },
            videoWidth: { type: Tn, notLessThanZero: !0 },
            videoHeight: { type: Tn, notLessThanZero: !0 },
            videoBitrate: { type: Tn, notLessThanZero: !0, allowEmpty: !1 },
            videoFramerate: {
              type: Tn,
              validate: function (e, n, a, c) {
                if (e <= 0 || e > 30)
                  throw new Ie({
                    code: ke.INVALID_PARAMETER,
                    message: Le({ key: pU, link: { className: c, fnName: a } }),
                  });
              },
            },
            videoGOP: {
              type: Tn,
              validate: function (e, n, a, c) {
                if (e < 1 || e > 8)
                  throw new Ie({
                    code: ke.INVALID_PARAMETER,
                    message: Le({ key: vU, link: { className: c, fnName: a } }),
                  });
              },
            },
            audioSampleRate: { type: Tn, notLessThanZero: !0 },
            audioBitrate: {
              type: Tn,
              validate: function (e, n, a, c) {
                if (e < 32 || e > 192)
                  throw new Ie({
                    code: ke.INVALID_PARAMETER,
                    message: Le({ key: mU, link: { className: c, fnName: a } }),
                  });
              },
            },
            audioChannels: { type: Tn, values: [1, 2] },
            backgroundColor: { type: Tn },
            backgroundImage: { type: sn },
            mixUsers: {
              required: !0,
              type: MT,
              arrayItem: {
                require: !0,
                type: qr,
                properties: {
                  userId: { required: !0, type: sn },
                  roomId: { type: [sn, Tn], validate: vA },
                  pureAudio: { type: Kn },
                  width: { type: Tn, notLessThanZero: !0 },
                  height: { type: Tn, notLessThanZero: !0 },
                  locationX: { type: Tn, notLessThanZero: !0 },
                  locationY: { type: Tn, notLessThanZero: !0 },
                  zOrder: { type: Tn },
                  streamType: { type: sn, values: ["main", "auxiliary"] },
                  renderMode: { type: Tn, values: [0, 1, 2, 4] },
                },
              },
            },
          },
          validate: function (e, n, a, c, o) {
            var l = 0,
              h = 0,
              p = e.mixUsers,
              g = [];
            if (
              (p.forEach(function (_, b) {
                if ((g.push(_.userId), !_.pureAudio)) {
                  if (!_.zOrder || _.zOrder < 1 || _.zOrder > 15)
                    throw new Ie({
                      code: ke.INVALID_PARAMETER,
                      message: Le({
                        key: gU,
                        data: "config.mixUsers[".concat(b, "].zOrder"),
                        link: { className: c, fnName: a },
                      }),
                    });
                  _.width + _.locationX > l && (l = _.width + _.locationX),
                    _.height + _.locationY > h && (h = _.height + _.locationY);
                }
              }),
              g.indexOf(this.getUserId()) < 0)
            )
              throw new Ie({
                code: ke.INVALID_PARAMETER,
                message: Le({ key: _U, link: { className: c, fnName: a } }),
              });
            if (e.videoWidth < l || e.videoHeight < h)
              throw new Ie({
                code: ke.INVALID_PARAMETER,
                message: Le({ key: yU, link: { className: c, fnName: a } }),
              });
          },
        },
        sendSEIMessage: [
          {
            name: "buffer",
            required: !0,
            instanceOf: ArrayBuffer,
            validate: function (e) {
              if (!Q0)
                throw new Ie({
                  code: ke.NOT_SUPPORTED,
                  message: Le({ key: hE }),
                });
              if (!this.enableSEI_)
                throw new Ie({
                  code: ke.INVALID_OPERATION,
                  message: Le({ key: MU }),
                });
              if (e.byteLength > 1e3)
                throw new Ie({
                  code: ke.INVALID_PARAMETER,
                  message: Le({ key: VU, data: e.byteLength }),
                });
              if (e.byteLength === 0)
                throw new Ie({
                  code: ke.INVALID_PARAMETER,
                  message: Le({ key: UU }),
                });
              if (!this.uplinkConnection_ || !this.localStream_)
                throw new Ie({
                  code: ke.INVALID_PARAMETER,
                  message: Le({ key: FU }),
                });
              if (!this.localStream_.hasVideo())
                throw new Ie({
                  code: ke.INVALID_OPERATION,
                  message: Le({ key: jU }),
                });
              var n = this.uplinkConnection_.isH264;
              if (!n)
                throw new Ie({
                  code: ke.NOT_SUPPORTED,
                  message: Le({ key: hE, data: n }),
                });
            },
          },
          {
            name: "options",
            type: qr,
            properties: { seiPayloadType: { type: Tn, values: [5, 243] } },
          },
        ],
      },
      eG = {
        switchDevice: [
          { name: "type", required: !0, type: sn, values: [mt, dt] },
          {
            name: "deviceId",
            required: !0,
            type: sn,
            validate: function () {
              if (
                (this.screen_ && !this.audio_) ||
                this.audioSource_ ||
                this.videoSource_
              )
                throw new Ie({
                  code: ke.INVALID_OPERATION,
                  message: Le({ key: $7 }),
                });
              if (this.publishState_ === Vd)
                throw new Ie({
                  code: ke.INVALID_OPERATION,
                  message: Le({ key: Y7 }),
                });
              if (!Z0())
                throw new Ie({
                  code: ke.NOT_SUPPORTED,
                  message: Le({ key: RU }),
                });
            },
          },
        ],
        setAudioCaptureVolume: { name: "volume", type: Tn },
      },
      tG = {
        play: [
          {
            name: "elementId",
            required: !0,
            type: [sn, "HTMLDivElement"],
            validate: function (e, n, a) {
              if (zn(e)) {
                var c = document.getElementById(e);
                if (!c)
                  throw new Ie({
                    code: ke.INVALID_PARAMETER,
                    message: Le({ key: bU, data: { key: n, fnName: a } }),
                  });
                if (!(c instanceof HTMLDivElement))
                  throw new Ie({
                    code: ke.INVALID_PARAMETER,
                    message: Le({
                      key: SU,
                      data: { key: n, fnName: a, type: Vo(c) },
                    }),
                  });
              }
            },
          },
          {
            name: "options",
            type: qr,
            properties: {
              objectFit: { type: sn, values: ["contain", "cover", "fill"] },
              muted: { type: Kn },
              mirror: { type: Kn },
            },
          },
        ],
        addTrack: {
          name: dy,
          instanceOf: window.MediaStreamTrack,
          validate: function (e) {
            if (this.isAddingTrack_)
              throw new Ie({
                code: ke.INVALID_OPERATION,
                message: Le({ key: Q7 }),
              });
            if (this.isRemovingTrack_)
              throw new Ie({
                code: ke.INVALID_OPERATION,
                message: Le({ key: X7 }),
              });
            if (this.publishState_ === Vd)
              throw new Ie({
                code: ke.INVALID_OPERATION,
                message: Le({ key: eU }),
              });
            var n = this.getMediaStream();
            if (!n)
              throw new Ie({
                code: ke.INVALID_OPERATION,
                message: Le({ key: oE }),
              });
            if (
              (e.kind === mt && n.getAudioTracks().length > 0) ||
              (e.kind === dt && n.getVideoTracks().length > 0)
            )
              throw new Ie({
                code: ke.INVALID_OPERATION,
                message: Le({ key: tU }),
              });
            if (!Bo() && !Kp())
              throw new Ie({
                code: ke.NOT_SUPPORTED,
                message: Le({ key: Oy, data: cT }),
              });
          },
        },
        removeTrack: {
          name: dy,
          instanceOf: window.MediaStreamTrack,
          validate: function (e) {
            if (this.isAddingTrack_)
              throw new Ie({
                code: ke.INVALID_OPERATION,
                message: Le({ key: rU }),
              });
            if (this.isRemovingTrack_)
              throw new Ie({
                code: ke.INVALID_OPERATION,
                message: Le({ key: iU }),
              });
            if (this.publishState_ === Vd)
              throw new Ie({
                code: ke.INVALID_OPERATION,
                message: Le({ key: aU }),
              });
            var n = this.getMediaStream();
            if (!n)
              throw new Ie({
                code: ke.INVALID_OPERATION,
                message: Le({ key: oE }),
              });
            if (n.getTracks().indexOf(e) === -1)
              throw new Ie({
                code: ke.INVALID_PARAMETER,
                message: Le({ key: oU }),
              });
            if (!Bo()) {
              if (n.getTracks().length === 1)
                throw new Ie({
                  code: ke.INVALID_OPERATION,
                  message: Le({ key: sU }),
                });
              if (e.kind === mt)
                throw new Ie({
                  code: ke.INVALID_PARAMETER,
                  message: Le({ key: nU }),
                });
              if (!Kp())
                throw new Ie({
                  code: ke.NOT_SUPPORTED,
                  message: Le({ key: Oy, data: lT }),
                });
            }
          },
        },
        replaceTrack: {
          name: dy,
          instanceOf: window.MediaStreamTrack,
          validate: function (e) {
            var n = this.getMediaStream();
            if (!n)
              throw new Ie({
                code: ke.INVALID_OPERATION,
                message: Le({ key: Z7 }),
              });
            if (this.publishState_ === Vd)
              throw new Ie({
                code: ke.INVALID_OPERATION,
                message: Le({ key: aE }),
              });
            if (
              (e.kind === mt && n.getAudioTracks().length <= 0) ||
              (e.kind === dt && n.getVideoTracks().length <= 0)
            )
              throw new Ie({
                code: ke.INVALID_PARAMETER,
                message: Le({ key: uU, data: e }),
              });
            if (!Z0())
              throw new Ie({
                code: ke.NOT_SUPPORTED,
                message: Le({ key: Oy, data: IM }),
              });
          },
        },
      },
      Xn = { TRTC: QW, CLIENT: XW, LOCAL_STREAM: eG, STREAM: tG };
    function Cv() {
      for (var s = arguments.length, e = new Array(s), n = 0; n < s; n++)
        e[n] = arguments[n];
      return function (a, c, o) {
        var l = o.value;
        return (
          (o.value = function () {
            for (var h = arguments.length, p = new Array(h), g = 0; g < h; g++)
              p[g] = arguments[g];
            return gA.call(this, e, p, c, this.name_), l.apply(this, p);
          }),
          o
        );
      };
    }
    function br() {
      for (var s = arguments.length, e = new Array(s), n = 0; n < s; n++)
        e[n] = arguments[n];
      return function (a, c, o) {
        var l = o.value;
        return (
          (o.value = C(
            m().mark(function h() {
              var p,
                g,
                _,
                b = arguments;
              return m().wrap(
                function (R) {
                  for (;;)
                    switch ((R.prev = R.next)) {
                      case 0:
                        for (p = b.length, g = new Array(p), _ = 0; _ < p; _++)
                          g[_] = b[_];
                        return (
                          gA.call(this, e, g, c, this.name_),
                          R.abrupt("return", l.apply(this, g))
                        );
                      case 3:
                      case "end":
                        return R.stop();
                    }
                },
                h,
                this
              );
            })
          )),
          o
        );
      };
    }
    function gA(s, e, n, a) {
      try {
        for (var c = 0; c < s.length; c++)
          mb.call(this, {
            rule: s[c],
            value: e[c],
            key: s[c].name,
            fnName: n,
            className: a,
          });
      } catch (o) {
        throw (it.error(o), o);
      }
    }
    function mb(s) {
      var e = this,
        n = s.rule,
        a = s.value,
        c = s.key,
        o = s.fnName,
        l = s.className;
      if (rt(a)) {
        if (n.required)
          throw new Ie({
            code: ke.INVALID_PARAMETER,
            message: Le({
              key: o7,
              data: { key: c, rule: n, fnName: o, value: a },
              link: { className: l, fnName: o },
            }),
          });
        if (rt(n.defaultValue)) return;
        a = n.defaultValue;
      }
      if (Array.isArray(n.type)) {
        if (
          !n.type
            .map(function (b) {
              return b.toLowerCase();
            })
            .includes(Vo(a))
        )
          throw new Ie({
            code: ke.INVALID_PARAMETER,
            message: Le({
              key: XT,
              data: { key: c, rule: n, fnName: o, value: a },
              link: { className: l, fnName: o },
            }),
          });
      } else if (!rt(n.type) && Vo(a) !== n.type) throw new Ie({ code: ke.INVALID_PARAMETER, message: Le({ key: XT, data: { key: c, rule: n, fnName: o, value: a }, link: { className: l, fnName: o } }) });
      if (n.allowEmpty === !1) {
        var h = Ri(a) && (a === 0 || Number.isNaN(a)),
          p = zn(a) && a.trim() === "";
        if (h || p)
          throw new Ie({
            code: ke.INVALID_PARAMETER,
            message: Le({
              key: s7,
              data: { key: c, rule: n, fnName: o, value: a },
              link: { className: l, fnName: o },
            }),
          });
      }
      if (n.notLessThanZero && Ri(a) && a < 0)
        throw new Ie({
          code: ke.INVALID_PARAMETER,
          message: Le({
            key: fU,
            data: { key: c, rule: n, fnName: o, value: a },
            link: { className: l, fnName: o },
          }),
        });
      if (zn(n.instanceOf)) {
        if (!a || a.name_ !== n.instanceOf)
          throw new Ie({
            code: ke.INVALID_PARAMETER,
            message: Le({
              key: eE,
              data: { key: c, rule: n, fnName: o, value: a },
              link: { className: l, fnName: o },
            }),
          });
      } else if (gr(n.instanceOf) && !(a instanceof n.instanceOf)) throw new Ie({ code: ke.INVALID_PARAMETER, message: Le({ key: eE, data: { key: c, rule: n, fnName: o, value: a }, link: { className: l, fnName: o } }) });
      if (n.values && !n.values.includes(a))
        throw new Ie({
          code: ke.INVALID_PARAMETER,
          message: Le({
            key: u7,
            data: { key: c, rule: n, fnName: o, value: a },
            link: { className: l, fnName: o },
          }),
        });
      var g = n.properties;
      Uo(g) &&
        AE(a) &&
        Object.keys(g).forEach(function (b) {
          mb.call(e, {
            rule: g[b],
            value: a && a[b],
            key: "".concat(c, ".").concat(b),
            fnName: o,
            className: l,
          });
        });
      var _ = n.arrayItem;
      Uo(_) &&
        xc(a) &&
        a.forEach(function (b, R) {
          mb.call(e, {
            rule: _,
            value: b,
            key: "".concat(c, "[").concat(R, "]"),
            fnName: o,
            className: l,
          });
        }),
        gr(n.validate) && n.validate.call(this, a, c, o, l, this);
    }
    Tt(
      { target: "Number", stat: !0 },
      {
        isNaN: function (e) {
          return e != e;
        },
      }
    );
    var nG = Tt,
      rG = et,
      iG = Va.f;
    nG(
      {
        target: "Object",
        stat: !0,
        forced: rG(function () {
          return !Object.getOwnPropertyNames(1);
        }),
      },
      { getOwnPropertyNames: iG }
    );
    var _A,
      uh,
      aG = KI;
    function Qc() {
      var s =
        arguments.length > 0 && arguments[0] !== void 0
          ? arguments[0]
          : { retries: 5, timeout: 2e3 };
      return function (e, n, a) {
        var c = Wd({
          retryFunction: a.value,
          settings: s,
          onError: s.onError,
          onRetrying: s.onRetrying,
          onRetryFailed: s.onRetryFailed,
        });
        return (
          (a.value = function () {
            for (var o = arguments.length, l = new Array(o), h = 0; h < o; h++)
              l[h] = arguments[h];
            return c.apply(this, l);
          }),
          a
        );
      };
    }
    Tt(
      {
        target: "Array",
        stat: !0,
        forced: !Jf(function (s) {
          Array.from(s);
        }),
      },
      { from: aG }
    );
    var yA,
      bA,
      SA,
      Ni,
      uu = 5e3,
      oG = {
        msg_user_info: 0,
        uint32_video_avg_fps: 0,
        uint32_video_width: 0,
        uint32_video_height: 0,
        uint32_video_avg_bitrate: 0,
        uint32_video_block_time: 0,
        uint32_video_play_time: 0,
        uint32_audio_block_time: 0,
        uint32_audio_play_time: 0,
        uint32_audio_play_db: 0,
        uint32_avg_down_loss: 0,
        uint32_stream_type: 0,
        uint32_video_render_first: 0,
        uint32_video_block_count: 0,
        uint32_audio_block_count: 0,
        uint32_audio_bitrate: 0,
        uint32_video_black_screen_subjective: 0,
        uint32_audio_recv_bitrate: 0,
        uint32_video_external_block_time: 0,
      },
      gb = ce(function s(e) {
        G(this, s),
          (this.str_identifier = String(e.userId)),
          (this.uint64_tinyid = Number(e.tinyId)),
          (this.uint32_role = e.role);
      }),
      sG =
        ((_A = Qc({ timeout: 500, retries: 3 })),
        (uh = (function () {
          function s(c) {
            var o = this;
            G(this, s),
              (this.frameWorkType_ = c.frameWorkType || 30),
              (this.component_ = c.component || 0),
              (this.client_ = c.client),
              (this.keyPrefix_ = "key_point"),
              (this.storageKey_ = ""
                .concat(this.keyPrefix_, "_")
                .concat(this.client_.getUserId())),
              (this.log_ = it.createLogger({
                id: "kpm|" + this.client_.getUserId(),
                userId: this.client_.getUserId(),
                sdkAppId: this.client_.getSDKAppId(),
              })),
              Object.getOwnPropertyNames(this.__proto__).forEach(function (l) {
                l.startsWith("handle") &&
                  gr(o[l]) &&
                  (o[l] = (function (h) {
                    var p = h.fn,
                      g = h.context;
                    return C(
                      m().mark(function _() {
                        var b,
                          R,
                          N,
                          B = arguments;
                        return m().wrap(
                          function (F) {
                            for (;;)
                              switch ((F.prev = F.next)) {
                                case 0:
                                  for (
                                    F.prev = 0,
                                      b = B.length,
                                      R = new Array(b),
                                      N = 0;
                                    N < b;
                                    N++
                                  )
                                    R[N] = B[N];
                                  return (F.next = 4), p.apply(g || this, R);
                                case 4:
                                  return F.abrupt("return", F.sent);
                                case 7:
                                  (F.prev = 7),
                                    (F.t0 = F.catch(0)),
                                    it.error(
                                      "".concat(p.name, "() error observed ") +
                                        F.t0
                                    );
                                case 10:
                                case "end":
                                  return F.stop();
                              }
                          },
                          _,
                          this,
                          [[0, 7]]
                        );
                      })
                    );
                  })({ fn: o[l], context: o }));
              }),
              this.initData(),
              this.installEvents(),
              (this.intervalId_ = un.run(Rc, this.setStorage.bind(this), {
                delay: 2e4,
              }));
          }
          var e, n, a;
          return (
            ce(s, [
              {
                key: "initData",
                value: function () {
                  var o;
                  (this.firstPublishedUserList_ = []),
                    (this.networkQuality_ = {
                      totalUplinkRTT: 0,
                      totalUplinkLoss: 0,
                      count: 0,
                      totalDownlinkRTTAndLossMap: /* @__PURE__ */ new Map(),
                    }),
                    (this.basicInfo = {
                      string_sdk_version: Xi,
                      uint32_os_type: 15,
                      string_device_name: "",
                      string_http_user_agent: navigator.userAgent,
                      string_os_version: "",
                      string_domain: location.host,
                      uint32_avg_rtt: 0,
                      uint32_avg_up_loss: 0,
                      uint32_scene:
                        ((o = this.client_) === null || o === void 0
                          ? void 0
                          : o.getMode()) === "live"
                          ? 1
                          : 0,
                      uint32_joining_duration: 0,
                      uint32_networkType: wy[Qy()],
                      uint32_framework: this.frameWorkType_,
                      uint32_component: this.component_,
                    }),
                    (this.pathJoinRoom_ = {
                      uint64_start_time: 0,
                      uint64_init_audio_start_time: 0,
                      uint64_init_audio_end_time: 0,
                      uint64_init_camera_start_time: 0,
                      uint64_init_camera_end_time: 0,
                      uint64_send_request_acc_ip_cmd_start_time: 0,
                      uint64_send_request_acc_ip_cmd_end_time: 0,
                      uint64_send_request_enter_room_cmd_start_time: 0,
                      uint64_send_request_enter_room_cmd_end_time: 0,
                      uint64_send_first_video_frame_time: 0,
                      uint64_recv_userlist_time: 0,
                      uint64_end_time: 0,
                      int32_init_audio_ret: 0,
                      int32_init_camera_ret: 0,
                      int32_send_request_acc_ip_cmd_ret: 0,
                      int32_send_request_enter_room_cmd_ret: 0,
                      int32_end_ret: 0,
                    }),
                    (this.pathLeaveRoom_ = {
                      uint64_start_time: 0,
                      uint64_send_request_exit_room_cmd_start_time: 0,
                      uint64_send_request_exit_room_cmd_end_time: 0,
                      uint64_end_time: 0,
                      int32_send_request_exit_room_cmd_ret: 0,
                      int32_end_ret: 0,
                    }),
                    (this.pathMainVideoMap_ = /* @__PURE__ */ new Map()),
                    (this.pathMainAudioMap_ = /* @__PURE__ */ new Map()),
                    (this.pathAuxiliaryMap_ = /* @__PURE__ */ new Map()),
                    (this.localStreamStats_ = {
                      totalVideoBitrate: 0,
                      totalVideoFPS: 0,
                      totalVideoHeight: 0,
                      totalVideoWidth: 0,
                      totalAudioLevel: 0,
                      videoCount: 0,
                      audioLevelCount: 0,
                      publishStartTime: 0,
                      statsToReport: {
                        uint32_audio_capture_db: 0,
                        uint32_video_big_capture_fps: 0,
                        uint32_video_big_bitrate: 0,
                        uint32_video_big_resolution: 0,
                      },
                    }),
                    (this.remoteStreamStatsMap_ = /* @__PURE__ */ new Map());
                },
              },
              {
                key: "installEvents",
                value: function () {
                  ye.on(Bp, this.handleJoinStart, this),
                    ye.on(l0, this.handleWSStart, this),
                    ye.on(Hp, this.handleWSEnd, this),
                    ye.on(r0, this.handleJoinSendCMD, this),
                    ye.on(i0, this.handleJoinReceivedCMDResponce, this),
                    ye.on(Oc, this.handleJoinSuccess, this),
                    ye.on(Qs, this.handleJoinFailed, this),
                    ye.on(u0, this.handleReceivedPublishUserList, this),
                    ye.on(Wp, this.handleConnectionStateChanged, this),
                    ye.on(a0, this.handleLeaveStart, this),
                    ye.on(Dc, this.handleLeaveSuccess, this),
                    ye.on(o0, this.handleLeaveSendCMD, this),
                    ye.on(E0, this.handleSendSubscribeCMD, this),
                    ye.on(Bd, this.handleVideoPlaying, this),
                    ye.on(f0, this.handleAudioPlaying, this),
                    ye.on(I0, this.handleNetworkQuality, this),
                    ye.on(s0, this.handleHeartbeatStats, this),
                    ye.on(zp, this.handleRemoteStreamAdded, this),
                    ye.on(p0, this.handleRemoteStreamSubscribeStart, this),
                    ye.on(Wa, this.handleRemoteStreamSubscribed, this),
                    ye.on(Xs, this.handleRemoteStreamRemoved, this),
                    ye.on(b0, this.handleVideoLoadedData, this),
                    ye.on(y0, this.handlePlayStream, this),
                    ye.on(c0, this.handlePublishStart, this),
                    ye.on(v0, this.handleLocalStreamInitStart, this),
                    ye.on(m0, this.handleLocalStreamInitEnd, this),
                    ye.on(g0, this.handleLocalStreamInitFailed, this);
                },
              },
              {
                key: "uninstallEvents",
                value: function () {
                  ye.off(Bp, this.handleJoinStart, this),
                    ye.off(l0, this.handleWSStart, this),
                    ye.off(Hp, this.handleWSEnd, this),
                    ye.off(r0, this.handleJoinSendCMD, this),
                    ye.off(i0, this.handleJoinReceivedCMDResponce, this),
                    ye.off(u0, this.handleReceivedPublishUserList, this),
                    ye.off(Wp, this.handleConnectionStateChanged, this),
                    ye.off(a0, this.handleLeaveStart, this),
                    ye.off(Dc, this.handleLeaveSuccess, this),
                    ye.off(Oc, this.handleJoinSuccess, this),
                    ye.off(Qs, this.handleJoinFailed, this),
                    ye.off(o0, this.handleLeaveSendCMD, this),
                    ye.off(E0, this.handleSendSubscribeCMD, this),
                    ye.off(Bd, this.handleVideoPlaying, this),
                    ye.off(f0, this.handleAudioPlaying, this),
                    ye.off(I0, this.handleNetworkQuality, this),
                    ye.off(s0, this.handleHeartbeatStats, this),
                    ye.off(zp, this.handleRemoteStreamAdded, this),
                    ye.off(p0, this.handleRemoteStreamSubscribeStart, this),
                    ye.off(Wa, this.handleRemoteStreamSubscribed, this),
                    ye.off(Xs, this.handleRemoteStreamRemoved, this),
                    ye.off(b0, this.handleVideoLoadedData, this),
                    ye.off(y0, this.handlePlayStream, this),
                    ye.off(c0, this.handlePublishStart, this),
                    ye.off(v0, this.handleLocalStreamInitStart, this),
                    ye.off(m0, this.handleLocalStreamInitEnd, this),
                    ye.off(g0, this.handleLocalStreamInitFailed, this);
                },
              },
              {
                key: "destroy",
                value: function () {
                  this.uninstallEvents(),
                    un.clearTask(this.intervalId_),
                    (this.client_ = null);
                },
              },
              {
                key: "handleJoinStart",
                value: function (o) {
                  this.hitTest(o.client) &&
                    this.pathJoinRoom_.uint64_start_time === 0 &&
                    ((this.pathJoinRoom_.uint64_start_time = Date.now()),
                    this.checkStorage());
                },
              },
              {
                key: "handleWSStart",
                value: function (o) {
                  var l = o.client;
                  this.hitTest(l) &&
                    this.pathJoinRoom_
                      .uint64_send_request_acc_ip_cmd_start_time === 0 &&
                    (this.pathJoinRoom_.uint64_send_request_acc_ip_cmd_start_time =
                      Date.now());
                },
              },
              {
                key: "handleWSEnd",
                value: function (o) {
                  var l = o.client,
                    h = o.error;
                  this.hitTest(l) &&
                    this.pathJoinRoom_
                      .uint64_send_request_acc_ip_cmd_end_time === 0 &&
                    ((this.pathJoinRoom_.uint64_send_request_acc_ip_cmd_end_time =
                      Date.now()),
                    h &&
                      ((this.pathJoinRoom_.int32_send_request_acc_ip_cmd_ret =
                        h instanceof Ie
                          ? Number(h.getExtraCode() || h.getCode())
                          : ke.UNKNOWN),
                      (this.pathJoinRoom_.int32_end_ret = 2)));
                },
              },
              {
                key: "handleJoinSendCMD",
                value: function (o) {
                  this.hitTest(o.client) &&
                    this.pathJoinRoom_
                      .uint64_send_request_enter_room_cmd_start_time === 0 &&
                    (this.pathJoinRoom_.uint64_send_request_enter_room_cmd_start_time =
                      Date.now());
                },
              },
              {
                key: "handleJoinReceivedCMDResponce",
                value: function (o) {
                  this.hitTest(o.client) &&
                    this.pathJoinRoom_
                      .uint64_send_request_enter_room_cmd_end_time === 0 &&
                    ((this.pathJoinRoom_.uint64_send_request_enter_room_cmd_end_time =
                      Date.now()),
                    (this.pathJoinRoom_.int32_send_request_enter_room_cmd_ret =
                      o.code),
                    o.code !== 0 && (this.pathJoinRoom_.int32_end_ret = 3));
                },
              },
              {
                key: "handleJoinSuccess",
                value: function (o) {
                  this.hitTest(o.client) &&
                    this.pathJoinRoom_.uint64_end_time === 0 &&
                    ((this.pathJoinRoom_.uint64_end_time = Date.now()),
                    (this.pathJoinRoom_.int32_end_ret = 0));
                },
              },
              {
                key: "handleJoinFailed",
                value: function (o) {
                  var l = o.client;
                  this.hitTest(l) &&
                    ((this.pathJoinRoom_.uint64_end_time = Date.now()),
                    this.pathJoinRoom_.int32_end_ret === 0 &&
                      (this.pathJoinRoom_.int32_end_ret = 3),
                    this.prepareReport(),
                    this.report());
                },
              },
              {
                key: "handleReceivedPublishUserList",
                value: function (o) {
                  this.hitTest(o.client) &&
                    this.pathJoinRoom_.uint64_recv_userlist_time === 0 &&
                    ((this.pathJoinRoom_.uint64_recv_userlist_time =
                      Date.now()),
                    (this.firstPublishedUserList_ =
                      (o.data.data && o.data.data.userList) || []));
                },
              },
              {
                key: "handleConnectionStateChanged",
                value: function (o) {
                  var l = o.client,
                    h = o.state,
                    p = o.connection;
                  if (this.hitTest(l) && h === pr) {
                    this.client_.getUplinkConnection() === p &&
                      this.pathJoinRoom_.uint64_send_first_video_frame_time ===
                        0 &&
                      this.localStreamStats_.publishStartTime >
                        this.pathJoinRoom_.uint64_end_time &&
                      this.localStreamStats_.publishStartTime -
                        this.pathJoinRoom_.uint64_end_time <=
                        100 &&
                      (this.pathJoinRoom_.uint64_send_first_video_frame_time =
                        Date.now());
                    var g = this.pathMainVideoMap_.get(
                      "".concat(p.getUserId(), "_").concat(fn)
                    );
                    g &&
                      g.statsToReport.uint64_pc_connected_time === 0 &&
                      (g.statsToReport.uint64_pc_connected_time = Date.now());
                  }
                },
              },
              {
                key: "handleLeaveStart",
                value: function (o) {
                  this.hitTest(o.client) &&
                    (this.pathLeaveRoom_.uint64_start_time = Date.now());
                },
              },
              {
                key: "handleLeaveSuccess",
                value: function (o) {
                  this.hitTest(o.client) &&
                    this.pathLeaveRoom_.uint64_end_time === 0 &&
                    ((this.pathLeaveRoom_.uint64_end_time = Date.now()),
                    this.pathJoinRoom_.uint64_end_time !== 0
                      ? (this.basicInfo.uint32_joining_duration =
                          this.pathLeaveRoom_.uint64_end_time -
                          this.pathJoinRoom_.uint64_end_time)
                      : this.log_.warn("pathJoinRoom endTime is 0"),
                    this.report());
                },
              },
              {
                key: "handleLeaveSendCMD",
                value: function (o) {
                  this.hitTest(o.client) &&
                    ((this.pathLeaveRoom_.uint64_send_request_exit_room_cmd_start_time =
                      Date.now()),
                    (this.pathLeaveRoom_.uint64_send_request_exit_room_cmd_end_time =
                      Date.now()));
                },
              },
              {
                key: "handleRemoteStreamAdded",
                value: function (o) {
                  var l = o.client,
                    h = o.stream;
                  if (this.hitTest(l)) {
                    var p = h.getUserId(),
                      g = h.getType(),
                      _ = "".concat(p, "_").concat(g),
                      b = this.remoteStreamStatsMap_.get(_);
                    if (b) b.stream = h;
                    else {
                      var R = {
                        userId: p,
                        totalVideoFPS: 0,
                        totalVideoBitrate: 0,
                        totalAudioLevel: 0,
                        totalAudioBitrate: 0,
                        totalLoss: 0,
                        audioCount: 0,
                        audioLevelCount: 0,
                        videoCount: 0,
                        networkQualityCount: 0,
                        streamAddedTime: Date.now(),
                        subscribeStartTime: 0,
                        subscribedTime: 0,
                        playStreamTime: 0,
                        statsToReport: v({}, oG),
                        stream: h,
                      };
                      (R.statsToReport.msg_user_info = new gb({
                        userId: p,
                        tinyId: h.getTinyId(),
                        role: Ec,
                      })),
                        (R.statsToReport.uint32_stream_type = g === fn ? 2 : 7),
                        this.remoteStreamStatsMap_.set(_, R);
                    }
                  }
                },
              },
              {
                key: "handleRemoteStreamSubscribeStart",
                value: function (o) {
                  var l = o.client,
                    h = o.stream;
                  if (this.hitTest(l)) {
                    var p = h.getUserId(),
                      g = h.getType(),
                      _ = "".concat(p, "_").concat(g),
                      b = this.remoteStreamStatsMap_.get(_);
                    b &&
                      b.subscribeStartTime === 0 &&
                      (b.subscribeStartTime = Date.now());
                  }
                },
              },
              {
                key: "handleSendSubscribeCMD",
                value: function (o) {
                  if (this.hitTest(o.client)) {
                    var l = new gb(o),
                      h = Date.now(),
                      p = "".concat(o.userId, "_").concat(fn);
                    o.trackState.video &&
                      o.subscribeState.video &&
                      !this.pathMainVideoMap_.has(p) &&
                      this.pathMainVideoMap_.set(p, {
                        statsToReport: {
                          msg_user_info: l,
                          uint64_start_enter_time:
                            this.pathJoinRoom_.uint64_start_time,
                          uint64_render_first_frame_time: 0,
                          uint64_combine_first_frame_time: 0,
                          uint64_pc_connected_time: 0,
                        },
                        userId: o.userId,
                        sendSubscribeCMDTime: h,
                      }),
                      o.trackState.audio &&
                        o.subscribeState.audio &&
                        !this.pathMainAudioMap_.has(p) &&
                        this.pathMainAudioMap_.set(p, {
                          statsToReport: {
                            msg_user_info: l,
                            uint64_start_enter_time:
                              this.pathJoinRoom_.uint64_start_time,
                            uint64_play_first_frame_time: 0,
                          },
                          userId: o.userId,
                          sendSubscribeCMDTime: h,
                        });
                    var g = "".concat(o.userId, "_").concat(Pn);
                    o.trackState.auxiliary &&
                      o.subscribeState.auxiliary &&
                      !this.pathAuxiliaryMap_.has(g) &&
                      this.pathAuxiliaryMap_.set(g, {
                        sendSubscribeCMDTime: h,
                      });
                  }
                },
              },
              {
                key: "handleRemoteStreamSubscribed",
                value: function (o) {
                  var l = o.client,
                    h = o.stream;
                  if (this.hitTest(l)) {
                    var p = h.getUserId(),
                      g = h.getType(),
                      _ = "".concat(p, "_").concat(g),
                      b = this.remoteStreamStatsMap_.get(_);
                    b &&
                      b.subscribedTime === 0 &&
                      ((b.subscribedTime = Date.now()), (b.stream = h));
                  }
                },
              },
              {
                key: "handleRemoteStreamRemoved",
                value: function (o) {
                  var l = o.client,
                    h = o.stream;
                  if (this.hitTest(l)) {
                    var p = h.getUserId(),
                      g = h.getType(),
                      _ = this.remoteStreamStatsMap_.get(
                        "".concat(p, "_").concat(g)
                      );
                    _ && (_.stream = null);
                  }
                },
              },
              {
                key: "handlePlayStream",
                value: function (o) {
                  var l = o.stream;
                  if (
                    l.isRemote() &&
                    l.getConnection() &&
                    this.hitTest(l.getConnection().getClient())
                  ) {
                    var h = l.getConnection().getUserId(),
                      p = "".concat(h, "_").concat(l.getType());
                    if (this.remoteStreamStatsMap_.has(p)) {
                      var g = this.remoteStreamStatsMap_.get(p);
                      g.playStreamTime === 0 && (g.playStreamTime = Date.now());
                    }
                  }
                },
              },
              {
                key: "handleVideoLoadedData",
                value: function (o) {
                  var l = o.stream;
                  if (
                    l.isRemote() &&
                    l.getConnection() &&
                    this.hitTest(l.getConnection().getClient())
                  ) {
                    var h = l.getConnection().getUserId(),
                      p = "".concat(h, "_").concat(l.getType());
                    if (this.pathMainVideoMap_.has(p)) {
                      var g = this.pathMainVideoMap_.get(p);
                      g.statsToReport.uint64_combine_first_frame_time === 0 &&
                        (g.statsToReport.uint64_combine_first_frame_time =
                          Date.now());
                    }
                  }
                },
              },
              {
                key: "handleVideoPlaying",
                value: function (o) {
                  var l = o.stream;
                  if (
                    l.isRemote() &&
                    l.getConnection() &&
                    this.hitTest(l.getConnection().getClient())
                  ) {
                    var h = l.getConnection().getUserId(),
                      p = "".concat(h, "_").concat(l.getType()),
                      g = Date.now();
                    if (this.pathMainVideoMap_.has(p)) {
                      var _ = this.pathMainVideoMap_.get(p);
                      if (
                        (_.statsToReport.uint64_render_first_frame_time === 0 &&
                          (_.statsToReport.uint64_render_first_frame_time = g),
                        this.remoteStreamStatsMap_.has(p))
                      ) {
                        var b = this.remoteStreamStatsMap_.get(p),
                          R = b.statsToReport,
                          N = b.playStreamTime,
                          B = b.subscribedTime;
                        R.uint32_video_render_first === 0 &&
                          N - B <= 100 &&
                          (R.uint32_video_render_first =
                            g - _.sendSubscribeCMDTime);
                      }
                    }
                    if (
                      l.getType() === Pn &&
                      this.pathAuxiliaryMap_.has(p) &&
                      this.remoteStreamStatsMap_.has(p)
                    ) {
                      var F = this.remoteStreamStatsMap_.get(p),
                        U = F.statsToReport,
                        T = F.playStreamTime,
                        A = F.subscribedTime;
                      U.uint32_video_render_first === 0 &&
                        T - A <= 100 &&
                        (U.uint32_video_render_first =
                          g -
                          this.pathAuxiliaryMap_.get(p).sendSubscribeCMDTime);
                    }
                  }
                },
              },
              {
                key: "handleAudioPlaying",
                value: function (o) {
                  if (
                    o.stream.isRemote() &&
                    o.stream.getConnection() &&
                    this.hitTest(o.stream.getConnection().getClient())
                  ) {
                    var l = o.stream.getConnection().getUserId(),
                      h = "".concat(l, "_").concat(o.stream.getType());
                    if (this.pathMainAudioMap_.has(h)) {
                      var p = this.pathMainAudioMap_.get(h);
                      p.statsToReport.uint64_play_first_frame_time === 0 &&
                        (p.statsToReport.uint64_play_first_frame_time =
                          Date.now());
                    }
                  }
                },
              },
              {
                key: "handleNetworkQuality",
                value: function (o) {
                  var l = this;
                  this.hitTest(o.client) &&
                    ((this.networkQuality_.totalUplinkLoss += o.uplinkLoss),
                    (this.networkQuality_.totalUplinkRTT += o.uplinkRTT),
                    this.networkQuality_.count++,
                    o.downlinkLossAndRTTMap.forEach(function (h) {
                      var p = h.rtt,
                        g = h.loss,
                        _ = h.userId,
                        b = l.networkQuality_.totalDownlinkRTTAndLossMap.get(_);
                      b
                        ? ((b.totalRTT += p), (b.totalLoss += g), b.count++)
                        : l.networkQuality_.totalDownlinkRTTAndLossMap.set(_, {
                            totalRTT: p,
                            totalLoss: g,
                            count: 1,
                          });
                    }));
                },
              },
              {
                key: "handleHeartbeatStats",
                value: function (o) {
                  var l = this;
                  if (this.hitTest(o.client)) {
                    var h = o.stats,
                      p = h.msg_up_stream_info,
                      g = h.msg_down_stream_info;
                    if (p.msg_video_status[0]) {
                      var _ = p.msg_video_status[0],
                        b = _.uint32_video_codec_bitrate,
                        R = _.uint32_video_enc_fps,
                        N = _.uint32_video_width,
                        B = _.uint32_video_height;
                      (this.localStreamStats_.totalVideoBitrate += b),
                        (this.localStreamStats_.totalVideoFPS += R),
                        (this.localStreamStats_.totalVideoWidth += N),
                        (this.localStreamStats_.totalVideoHeight += B),
                        this.localStreamStats_.videoCount++;
                    }
                    if (p.msg_audio_status) {
                      var F = p.msg_audio_status.audioLevel;
                      Math.floor(100 * F) > 0 &&
                        ((this.localStreamStats_.totalAudioLevel += F),
                        this.localStreamStats_.audioLevelCount++);
                    }
                    g.forEach(function (U) {
                      var T = U.msg_user_info,
                        A = U.msg_audio_status,
                        L = U.msg_video_status,
                        $ = T.str_identifier;
                      if (
                        (L.forEach(function (M) {
                          var z = M.uint32_video_stream_type === 2,
                            W = M.uint32_video_stream_type === 7,
                            ee = "".concat($, "_").concat(z ? fn : Pn);
                          if (l.remoteStreamStatsMap_.has(ee)) {
                            var H,
                              I,
                              S = l.remoteStreamStatsMap_.get(ee);
                            ((z &&
                              (H = S.stream) !== null &&
                              H !== void 0 &&
                              H.isMainVideoSubscribed) ||
                              (W &&
                                (I = S.stream) !== null &&
                                I !== void 0 &&
                                I.isAuxVideoSubscribed)) &&
                              ((S.totalVideoFPS += M.uint32_video_receive_fps),
                              (S.totalVideoBitrate +=
                                M.uint32_video_codec_bitrate),
                              S.videoCount++,
                              S.statsToReport.uint32_video_width === 0 &&
                                (S.statsToReport.uint32_video_width =
                                  M.uint32_video_width),
                              S.statsToReport.uint32_video_height === 0 &&
                                (S.statsToReport.uint32_video_height =
                                  M.uint32_video_height));
                          }
                        }),
                        A)
                      ) {
                        var X = "".concat($, "_").concat(fn);
                        if (l.remoteStreamStatsMap_.has(X)) {
                          var Q,
                            D = l.remoteStreamStatsMap_.get(X);
                          (Q = D.stream) !== null &&
                            Q !== void 0 &&
                            Q.isMainAudioSubscribed &&
                            ((D.totalAudioBitrate +=
                              A.uint32_audio_codec_bitrate),
                            D.audioCount++,
                            Math.floor(100 * A.audioLevel) > 0 &&
                              ((D.totalAudioLevel += A.audioLevel),
                              D.audioLevelCount++));
                        }
                      }
                    });
                  }
                },
              },
              {
                key: "handlePublishStart",
                value: function (o) {
                  var l = o.client;
                  this.hitTest(l) &&
                    this.localStreamStats_.publishStartTime === 0 &&
                    (this.localStreamStats_.publishStartTime = Date.now());
                },
              },
              {
                key: "handleLocalStreamInitStart",
                value: function (o) {
                  var l = o.audio,
                    h = o.video;
                  l &&
                    this.pathJoinRoom_.uint64_init_audio_start_time === 0 &&
                    (this.pathJoinRoom_.uint64_init_audio_start_time =
                      Date.now()),
                    h &&
                      this.pathJoinRoom_.uint64_init_camera_start_time === 0 &&
                      (this.pathJoinRoom_.uint64_init_camera_start_time =
                        Date.now());
                },
              },
              {
                key: "handleLocalStreamInitEnd",
                value: function (o) {
                  var l = o.audio,
                    h = o.video;
                  l &&
                    this.pathJoinRoom_.uint64_init_audio_end_time === 0 &&
                    (this.pathJoinRoom_.uint64_init_audio_end_time =
                      Date.now()),
                    h &&
                      this.pathJoinRoom_.uint64_init_camera_end_time === 0 &&
                      (this.pathJoinRoom_.uint64_init_camera_end_time =
                        Date.now());
                },
              },
              {
                key: "handleLocalStreamInitFailed",
                value: function (o) {
                  var l = o.audio,
                    h = o.video,
                    p = o.error,
                    g =
                      p instanceof Ie
                        ? p.getExtraCode() || p.getCode()
                        : {
                            NotFoundError: 1,
                            NotAllowedError: 2,
                            NotReadableError: 3,
                            OverConstrainedError: 4,
                            AbortError: 5,
                          }[p.name] || ke.UNKNOWN;
                  l &&
                    this.pathJoinRoom_.uint64_init_audio_end_time === 0 &&
                    ((this.pathJoinRoom_.int32_init_audio_ret = g),
                    (this.pathJoinRoom_.uint64_init_audio_end_time =
                      Date.now())),
                    h &&
                      this.pathJoinRoom_.uint64_init_camera_end_time === 0 &&
                      ((this.pathJoinRoom_.int32_init_camera_ret = g),
                      (this.pathJoinRoom_.uint64_init_camera_end_time =
                        Date.now()));
                },
              },
              {
                key: "hasVideoFlag",
                value: function (o) {
                  return (
                    this.firstPublishedUserList_.findIndex(function (l) {
                      return l.userId === o && 1 & l.flag;
                    }) >= 0
                  );
                },
              },
              {
                key: "hasAudioFlag",
                value: function (o) {
                  return (
                    this.firstPublishedUserList_.findIndex(function (l) {
                      return l.userId === o && 8 & l.flag;
                    }) >= 0
                  );
                },
              },
              {
                key: "hasAuxFlag",
                value: function (o) {
                  return (
                    this.firstPublishedUserList_.findIndex(function (l) {
                      return l.userId === o && 4 & l.flag;
                    }) >= 0
                  );
                },
              },
              {
                key: "hitTest",
                value: function (o) {
                  return o === this.client_;
                },
              },
              {
                key: "checkStorage",
                value:
                  ((a = C(
                    m().mark(function c() {
                      var o;
                      return m().wrap(
                        function (l) {
                          for (;;)
                            switch ((l.prev = l.next)) {
                              case 0:
                                if (
                                  ((l.prev = 0),
                                  !(o = Vc.getItem(this.storageKey_)))
                                ) {
                                  l.next = 6;
                                  break;
                                }
                                return (l.next = 5), this.upload(o);
                              case 5:
                                Vc.deleteItem(this.storageKey_);
                              case 6:
                                l.next = 11;
                                break;
                              case 8:
                                (l.prev = 8),
                                  (l.t0 = l.catch(0)),
                                  this.log_.warn(l.t0);
                              case 11:
                              case "end":
                                return l.stop();
                            }
                        },
                        c,
                        this,
                        [[0, 8]]
                      );
                    })
                  )),
                  function () {
                    return a.apply(this, arguments);
                  }),
              },
              {
                key: "setStorage",
                value: function () {
                  this.prepareReport();
                  var o = this.getReportData();
                  o.msg_path_enter_room.uint64_start_time !== 0 &&
                    Vc.setItem(this.storageKey_, o);
                },
              },
              {
                key: "prepareReport",
                value: function () {
                  var o = this;
                  if (
                    (this.networkQuality_.count > 0 &&
                      ((this.basicInfo.uint32_avg_rtt = Math.floor(
                        this.networkQuality_.totalUplinkRTT /
                          this.networkQuality_.count
                      )),
                      (this.basicInfo.uint32_avg_up_loss = Math.floor(
                        this.networkQuality_.totalUplinkLoss /
                          this.networkQuality_.count
                      ))),
                    this.localStreamStats_.videoCount > 0)
                  ) {
                    (this.localStreamStats_.statsToReport.uint32_video_big_capture_fps =
                      Math.floor(
                        this.localStreamStats_.totalVideoFPS /
                          this.localStreamStats_.videoCount
                      )),
                      (this.localStreamStats_.statsToReport.uint32_video_big_bitrate =
                        Math.floor(
                          this.localStreamStats_.totalVideoBitrate /
                            this.localStreamStats_.videoCount
                        ));
                    var l = Math.floor(
                        this.localStreamStats_.totalVideoWidth /
                          this.localStreamStats_.videoCount
                      ),
                      h = Math.floor(
                        this.localStreamStats_.totalVideoHeight /
                          this.localStreamStats_.videoCount
                      );
                    this.localStreamStats_.statsToReport.uint32_video_big_resolution =
                      (l << 16) | h;
                  }
                  this.localStreamStats_.audioLevelCount > 0 &&
                    (this.localStreamStats_.statsToReport.uint32_audio_capture_db =
                      Math.floor(
                        (this.localStreamStats_.totalAudioLevel /
                          this.localStreamStats_.audioLevelCount) *
                          100
                      )),
                    this.remoteStreamStatsMap_.forEach(function (p, g) {
                      var _ = p.userId;
                      if (o.networkQuality_.totalDownlinkRTTAndLossMap.has(_)) {
                        var b =
                            o.networkQuality_.totalDownlinkRTTAndLossMap.get(_),
                          R = b.totalLoss,
                          N = b.count;
                        p.statsToReport.uint32_avg_down_loss = Math.floor(
                          R / N
                        );
                      }
                      p.videoCount > 0 &&
                        ((p.statsToReport.uint32_video_avg_fps = Math.floor(
                          p.totalVideoFPS / p.videoCount
                        )),
                        (p.statsToReport.uint32_video_avg_bitrate = Math.floor(
                          p.totalVideoBitrate / p.videoCount
                        ))),
                        p.audioCount > 0 &&
                          (p.statsToReport.uint32_audio_recv_bitrate =
                            p.statsToReport.uint32_audio_bitrate =
                              Math.floor(p.totalAudioBitrate / p.audioCount)),
                        p.audioLevelCount > 0 &&
                          (p.statsToReport.uint32_audio_play_db = Math.floor(
                            (p.totalAudioLevel / p.audioLevelCount) * 100
                          ));
                      var B = o.client_.getCallDurationCalculator();
                      B &&
                        ((p.statsToReport.uint32_audio_play_time =
                          B.getDuration(g, mt)),
                        (p.statsToReport.uint32_video_play_time = B.getDuration(
                          g,
                          dt
                        ))),
                        (p.statsToReport.uint32_video_render_first = Math.min(
                          p.statsToReport.uint32_video_render_first,
                          uu
                        ));
                      var F = o.client_.getBadCaseDetector();
                      if (F) {
                        var U = F.getDataFreezeDuration(g),
                          T = U.dataFreeze,
                          A = U.count,
                          L = F.getRenderFreezeDuration(g).renderFreeze;
                        (p.statsToReport.uint32_video_block_count = A),
                          (p.statsToReport.uint32_video_block_time = Math.min(
                            T,
                            p.statsToReport.uint32_video_play_time
                          )),
                          (p.statsToReport.uint32_video_external_block_time =
                            Math.min(
                              L,
                              p.statsToReport.uint32_video_play_time
                            )),
                          F.isBlackStream(g) &&
                          p.statsToReport.uint32_video_avg_fps === 0
                            ? (p.statsToReport.uint32_video_black_screen_subjective = 1)
                            : (p.statsToReport.uint32_video_black_screen_subjective = 0);
                      }
                      (p.subscribeStartTime === 0 ||
                        p.subscribeStartTime - p.streamAddedTime > 100 ||
                        p.playStreamTime === 0) &&
                        (o.pathMainAudioMap_.delete(g),
                        o.pathMainVideoMap_.delete(g),
                        (p.statsToReport.uint32_video_render_first = 0));
                    }),
                    this.pathMainAudioMap_.forEach(function (p, g) {
                      o.hasAudioFlag(p.userId)
                        ? p.statsToReport.uint64_play_first_frame_time -
                            p.statsToReport.uint64_start_enter_time >
                            uu &&
                          (p.statsToReport.uint64_play_first_frame_time =
                            p.statsToReport.uint64_start_enter_time + uu)
                        : o.pathMainAudioMap_.delete(g);
                    }),
                    this.pathMainVideoMap_.forEach(function (p, g) {
                      o.hasVideoFlag(p.userId)
                        ? p.statsToReport.uint64_render_first_frame_time -
                            p.statsToReport.uint64_start_enter_time >
                            uu &&
                          (p.statsToReport.uint64_render_first_frame_time =
                            p.statsToReport.uint64_start_enter_time + uu)
                        : o.pathMainVideoMap_.delete(g);
                    }),
                    this.pathJoinRoom_.uint64_end_time -
                      this.pathJoinRoom_.uint64_start_time >
                      uu &&
                      (this.pathJoinRoom_.uint64_end_time =
                        this.pathJoinRoom_.uint64_start_time + uu);
                },
              },
              {
                key: "getReportData",
                value: function () {
                  var o = this.client_.getSignalInfo();
                  return {
                    uint32_sdk_app_id: Number(this.client_.getSDKAppId()),
                    msg_user_info: new gb({
                      userId: this.client_.getUserId(),
                      tinyId: this.client_.getTinyId(),
                      role: this.client_.getRole() === ca ? Ec : fy,
                    }),
                    msg_basic_info: this.basicInfo,
                    uint32_acc_ip: e0(o.relayIp),
                    uint32_client_ip: e0(o.clientIp, "small"),
                    uint32_acc_port: 0,
                    uint64_timestamp: Date.now(),
                    uint32_seq: Math.floor(Math.random() * Math.pow(2, 31)),
                    msg_path_enter_room: this.pathJoinRoom_,
                    msg_path_exit_room: this.pathLeaveRoom_,
                    msg_path_recv_video: Je(
                      this.pathMainVideoMap_.values()
                    ).map(function (l) {
                      return l.statsToReport;
                    }),
                    msg_quality_statistics: Je(
                      this.remoteStreamStatsMap_.values()
                    ).map(function (l) {
                      return l.statsToReport;
                    }),
                    str_room_name: String(this.client_.getRoomId()),
                    msg_path_recv_audio: Je(
                      this.pathMainAudioMap_.values()
                    ).map(function (l) {
                      return l.statsToReport;
                    }),
                    uint32_info_client_ip: e0(o.clientIp, "small"),
                    error_code: [],
                    msg_local_statistics: this.localStreamStats_.statsToReport,
                    msg_function_state: Ko.getStateArray(),
                  };
                },
              },
              {
                key: "report",
                value:
                  ((n = C(
                    m().mark(function c() {
                      var o;
                      return m().wrap(
                        function (l) {
                          for (;;)
                            switch ((l.prev = l.next)) {
                              case 0:
                                return (
                                  (l.prev = 0),
                                  (o = this.getReportData()),
                                  (l.next = 4),
                                  this.upload(o)
                                );
                              case 4:
                                Vc.deleteItem(this.storageKey_),
                                  Ko.clearStateArray(),
                                  this.initData(),
                                  (l.next = 12);
                                break;
                              case 9:
                                (l.prev = 9),
                                  (l.t0 = l.catch(0)),
                                  this.log_.warn(l.t0);
                              case 12:
                              case "end":
                                return l.stop();
                            }
                        },
                        c,
                        this,
                        [[0, 9]]
                      );
                    })
                  )),
                  function () {
                    return n.apply(this, arguments);
                  }),
              },
              {
                key: "upload",
                value:
                  ((e = C(
                    m().mark(function c(o) {
                      var l, h, p;
                      return m().wrap(
                        function (g) {
                          for (;;)
                            switch ((g.prev = g.next)) {
                              case 0:
                                if (
                                  !(
                                    Js ||
                                    o.msg_path_enter_room.uint64_start_time ===
                                      0 ||
                                    [Ey, HT, zT].findIndex(function (_) {
                                      return _ === location.host;
                                    }) >= 0
                                  )
                                ) {
                                  g.next = 2;
                                  break;
                                }
                                return g.abrupt("return");
                              case 2:
                                return (
                                  (l = Number(this.client_.getSDKAppId())),
                                  (h = Vp(l, OM)),
                                  (g.next = 6),
                                  jp({ url: h, body: JSON.stringify(o) })
                                );
                              case 6:
                                if ((p = g.sent).data === "ok") {
                                  g.next = 9;
                                  break;
                                }
                                throw "key point upload failed: ".concat(
                                  p.data
                                );
                              case 9:
                              case "end":
                                return g.stop();
                            }
                        },
                        c,
                        this
                      );
                    })
                  )),
                  function (c) {
                    return e.apply(this, arguments);
                  }),
              },
            ]),
            s
          );
        })()),
        Oe(
          uh.prototype,
          "upload",
          [_A],
          Object.getOwnPropertyDescriptor(uh.prototype, "upload"),
          uh.prototype
        ),
        uh),
      Ko = (function () {
        function s() {
          G(this, s);
        }
        return (
          ce(s, null, [
            {
              key: "handleFunctionState",
              value: function (n) {
                var a,
                  c,
                  o,
                  l,
                  h = n.className,
                  p = n.fnName,
                  g = n.params;
                if (
                  !(
                    Js ||
                    [Ey, HT, zT].findIndex(function (N) {
                      return N === location.host;
                    }) >= 0
                  )
                ) {
                  var _,
                    b = [];
                  if (h)
                    switch (p) {
                      case "createClient":
                        (a = g[0]) !== null &&
                          a !== void 0 &&
                          a.mode &&
                          b.push(
                            "".concat(h, ".").concat(p, ".").concat(g[0].mode)
                          ),
                          (c = g[0]) !== null &&
                          c !== void 0 &&
                          c.useStringRoomId
                            ? b.push(
                                "".concat(h, ".").concat(p, ".stringRoomId")
                              )
                            : b.push("".concat(h, ".").concat(p, ".intRoomId")),
                          (o = g[0]) !== null && o !== void 0 && o.autoSubscribe
                            ? b.push(
                                "".concat(h, ".").concat(p, ".autoSubscribe")
                              )
                            : b.push(
                                "".concat(h, ".").concat(p, ".manualSubscribe")
                              );
                        break;
                      case "publish":
                        (l = g[1]) !== null && l !== void 0 && l.isAuxiliary
                          ? b.push("".concat(h, ".").concat(p, ".isAuxiliary"))
                          : b.push("".concat(h, ".").concat(p));
                        break;
                      case "setAudioProfile":
                      case "setVideoProfile":
                      case "setScreenProfile":
                      case "setVideoContentHint":
                        zn(g[0]) &&
                          b.push("".concat(h, ".").concat(p, ".").concat(g[0]));
                        break;
                      default:
                        b.push("".concat(h, ".").concat(p));
                    }
                  else b.push(p);
                  for (var R = 0; R < b.length; R++) {
                    if (!(_ = XM[b[R]])) return;
                    this.stateMap.has(_)
                      ? (this.stateMap.get(_).int32_call_times += 1)
                      : this.stateMap.set(_, {
                          int32_id: _,
                          int32_call_times: 1,
                        });
                  }
                }
              },
            },
            {
              key: "getStateArray",
              value: function () {
                return Array.from(this.stateMap.values());
              },
            },
            {
              key: "clearStateArray",
              value: function () {
                this.stateMap.clear();
              },
            },
          ]),
          s
        );
      })();
    function gn(s) {
      return function (e, n, a) {
        var c = a.value;
        return (
          (a.value = function () {
            for (var o = arguments.length, l = new Array(o), h = 0; h < o; h++)
              l[h] = arguments[h];
            try {
              s || (s = this.name_),
                Ko.handleFunctionState({ className: s, fnName: n, params: l }),
                (s = void 0);
            } catch (p) {
              this.log_.info(p);
            }
            return c.apply(this, l);
          }),
          a
        );
      };
    }
    de(Ko, "stateMap", /* @__PURE__ */ new Map());
    var wA =
        ((yA = br.apply(void 0, Je(Xn.STREAM.play))),
        (bA = gn()),
        (SA = gn()),
        (Ni = (function () {
          function s(l) {
            G(this, s),
              (this.name_ = JM),
              (this.userId_ = l.userId),
              (this.isRemote_ = l.isRemote),
              (this.type_ = l.type),
              (this.log_ = it.createLogger({
                id: "s".concat(l.seq ? l.seq : "", "|").concat(this.userId_),
                userId: rt(l.client) ? void 0 : l.client.getUserId(),
                sdkAppId: rt(l.client) ? void 0 : l.client.getSDKAppId(),
                isLocal: !this.isRemote_,
                type: this.isRemote_ ? this.type_ : "",
              })),
              (this.client_ = null),
              rt(l.client) || (this.client_ = l.client),
              (this.mediaStream_ = null),
              (this.div_ = null),
              (this.isPlaying_ = !1),
              (this.connection_ = null),
              (this.audioPlayer_ = null),
              (this.videoPlayer_ = null),
              (this.muted_ = !1),
              (this.objectFit_ = "cover"),
              (this.mirror_ = !1),
              (this.id_ = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(
                /[xy]/g,
                function (h) {
                  var p = (16 * Math.random()) | 0;
                  return (h == "x" ? p : (3 & p) | 8).toString(16);
                }
              )),
              (this.audioOutputDeviceId_ = 0),
              (this.audioVolume_ = 1),
              (this.emitter_ = LE(new Fo(), this.name_)),
              (this.connectionState_ = fr),
              this.installEvents(),
              rt(l.mirror) ||
                this.log_.warn(
                  'TRTC.createStream "mirror" option was deprecated since v4.12.1please use localStream.play to set up preview mirror. refer to '
                    .concat(
                      Ic,
                      "/en/LocalStream.html#play. TRTC.createStream  mirror  v4.12.1  localStream.play "
                    )
                    .concat(Ic, "/zh-cn/LocalStream.html#play")
                ),
              (this.audioPlayerRetryCount_ = 3);
          }
          var e, n, a, c, o;
          return (
            ce(s, [
              {
                key: "installEvents",
                value: function () {
                  ye.on(zd, this.restartPlayback, this);
                },
              },
              {
                key: "uninstallEvents",
                value: function () {
                  ye.off(zd, this.restartPlayback, this);
                },
              },
              {
                key: "getType",
                value: function () {
                  return this.type_;
                },
              },
              {
                key: "getLogger",
                value: function () {
                  return this.log_;
                },
              },
              {
                key: "isSubscribed",
                get: function () {
                  return (
                    (this.type_ === fn &&
                      this.connection_.isMainStreamSubscribed) ||
                    (this.type_ === Pn &&
                      this.connection_.isAuxStreamSubscribed)
                  );
                },
              },
              {
                key: "isMainVideoSubscribed",
                get: function () {
                  var h = this.getSubscribedState();
                  return this.type_ === fn && h && h.video;
                },
              },
              {
                key: "isMainAudioSubscribed",
                get: function () {
                  var h = this.getSubscribedState();
                  return this.type_ === fn && h && h.audio;
                },
              },
              {
                key: "isAuxVideoSubscribed",
                get: function () {
                  var h = this.getSubscribedState();
                  return this.type_ === Pn && h && h.auxiliary;
                },
              },
              {
                key: "isSmallVideoSubscribed",
                get: function () {
                  var h = this.getSubscribedState();
                  return this.type_ === fn && h && h.smallVideo;
                },
              },
              {
                key: "emitConnectionStateChanged",
                value: function (h) {
                  h.state !== this.connectionState_ &&
                    ((h.state !== fr && this.isRemote_ && !this.isSubscribed) ||
                      (this.emitter_.emit(WF, h),
                      (this.connectionState_ = h.state)));
                },
              },
              {
                key: "setConnection",
                value: function (h) {
                  this.connection_ !== h &&
                    (h instanceof vb
                      ? (this.connection_ !== null &&
                          this.connection_.off(
                            Kt.CONNECTION_STATE_CHANGED,
                            this.emitConnectionStateChanged,
                            this
                          ),
                        h.on(
                          Kt.CONNECTION_STATE_CHANGED,
                          this.emitConnectionStateChanged,
                          this
                        ))
                      : h === null &&
                        this.connection_.off(
                          Kt.CONNECTION_STATE_CHANGED,
                          this.emitConnectionStateChanged,
                          this
                        ),
                    (this.connection_ = h));
                },
              },
              {
                key: "getConnection",
                value: function () {
                  return this.connection_;
                },
              },
              {
                key: "play",
                value:
                  ((o = C(
                    m().mark(function l(h, p) {
                      var g, _, b;
                      return m().wrap(
                        function (R) {
                          for (;;)
                            switch ((R.prev = R.next)) {
                              case 0:
                                if (
                                  (this.log_.info(
                                    "stream "
                                      .concat(
                                        this.isPlaying_ ? "update" : "start to",
                                        " play with elementId: "
                                      )
                                      .concat(h, " and options: ")
                                      .concat(JSON.stringify(p), ".")
                                  ),
                                  !this.isPlaying_)
                                ) {
                                  R.next = 9;
                                  break;
                                }
                                return (
                                  p && !rt(p.muted) && (this.muted_ = p.muted),
                                  p &&
                                    !rt(p.objectFit) &&
                                    (this.objectFit_ = p.objectFit),
                                  this.isScreenShare()
                                    ? (this.mirror_ = !1)
                                    : p &&
                                      !rt(p.mirror) &&
                                      (this.mirror_ = p.mirror),
                                  this.audioPlayer_ &&
                                    this.audioPlayer_.setMuted(this.muted_),
                                  this.videoPlayer_ &&
                                    (this.videoPlayer_.setObjectFit(
                                      this.objectFit_
                                    ),
                                    this.videoPlayer_.setMirror(this.mirror_)),
                                  this.elementId_ !== h &&
                                    ((g = h),
                                    zn(h) && (g = document.getElementById(h)),
                                    g.appendChild(this.div_),
                                    (this.elementId_ = h)),
                                  R.abrupt("return")
                                );
                              case 9:
                                return (
                                  (this.isPlaying_ = !0),
                                  (_ =
                                    document.createElement("div")).setAttribute(
                                    "id",
                                    "player_".concat(this.id_)
                                  ),
                                  _.setAttribute(
                                    "style",
                                    "width: 100%; height: 100%; position: relative; background-color: black; overflow: hidden;"
                                  ),
                                  (b = h),
                                  zn(h) && (b = document.getElementById(h)),
                                  b.appendChild(_),
                                  (this.elementId_ = h),
                                  (this.div_ = _),
                                  this.isRemote_ || (this.muted_ = !0),
                                  p && !rt(p.muted) && (this.muted_ = p.muted),
                                  this.isScreenShare() &&
                                    (this.objectFit_ = "contain"),
                                  p &&
                                    !rt(p.objectFit) &&
                                    (this.objectFit_ = p.objectFit),
                                  this.isScreenShare()
                                    ? (this.mirror_ = !1)
                                    : (this.isRemote_ || (this.mirror_ = !0),
                                      p &&
                                        !rt(p.mirror) &&
                                        (this.mirror_ = p.mirror)),
                                  ye.emit(y0, { stream: this }),
                                  (R.next = 26),
                                  Promise.all([
                                    this.playAudio(),
                                    this.playVideo(),
                                  ])
                                );
                              case 26:
                                ye.emit(yV, { stream: this });
                              case 27:
                              case "end":
                                return R.stop();
                            }
                        },
                        l,
                        this
                      );
                    })
                  )),
                  function (l, h) {
                    return o.apply(this, arguments);
                  }),
              },
              {
                key: "playAudio",
                value:
                  ((c = C(
                    m().mark(function l() {
                      var h,
                        p,
                        g = this;
                      return m().wrap(
                        function (_) {
                          for (;;)
                            switch ((_.prev = _.next)) {
                              case 0:
                                if (
                                  this.hasAudio() &&
                                  (!this.isRemote_ ||
                                    this.isMainAudioSubscribed)
                                ) {
                                  _.next = 2;
                                  break;
                                }
                                return _.abrupt("return");
                              case 2:
                                if (
                                  ((h = this.getAudioTrack()),
                                  this.audioPlayer_ || !h)
                                ) {
                                  _.next = 18;
                                  break;
                                }
                                return (
                                  this.log_.info("create AudioPlayer and play"),
                                  (this.audioPlayer_ = new Gj({
                                    stream: this,
                                    track: h,
                                    gainedTrack:
                                      (p = this.gain_) === null || p === void 0
                                        ? void 0
                                        : p.audioTrack,
                                    div: this.div_,
                                    muted: this.muted_,
                                    outputDeviceId: this.audioOutputDeviceId_,
                                    volume: this.audioVolume_,
                                  })),
                                  this.audioPlayer_.on(Pr, function (b) {
                                    var R = {
                                      type: mt,
                                      state: b.state,
                                      reason: b.reason,
                                    };
                                    ye.emit(BE, v({ stream: g }, R)),
                                      g.emitter_.emit(UI, R);
                                  }),
                                  this.audioPlayer_.on(VI, function (b) {
                                    g.audioPlayerRetryCount_ > 0 &&
                                      (g.audioPlayerRetryCount_--,
                                      g.restartAudio());
                                  }),
                                  (_.prev = 8),
                                  (_.next = 11),
                                  this.audioPlayer_.play()
                                );
                              case 11:
                                _.next = 18;
                                break;
                              case 13:
                                throw (
                                  ((_.prev = 13),
                                  (_.t0 = _.catch(8)),
                                  this.client_ &&
                                    this.client_.getEnableAutoPlayDialog() &&
                                    new AR(),
                                  this.emitter_.emit(t1, _.t0),
                                  _.t0)
                                );
                              case 18:
                              case "end":
                                return _.stop();
                            }
                        },
                        l,
                        this,
                        [[8, 13]]
                      );
                    })
                  )),
                  function () {
                    return c.apply(this, arguments);
                  }),
              },
              {
                key: "playVideo",
                value:
                  ((a = C(
                    m().mark(function l() {
                      var h,
                        p = this;
                      return m().wrap(
                        function (g) {
                          for (;;)
                            switch ((g.prev = g.next)) {
                              case 0:
                                if (
                                  this.hasVideo() &&
                                  (!this.isRemote_ ||
                                    this.isMainVideoSubscribed ||
                                    this.isAuxVideoSubscribed ||
                                    this.isSmallVideoSubscribed)
                                ) {
                                  g.next = 2;
                                  break;
                                }
                                return g.abrupt("return");
                              case 2:
                                if (
                                  ((h = this.getVideoTrack()),
                                  this.videoPlayer_ || !h)
                                ) {
                                  g.next = 18;
                                  break;
                                }
                                return (
                                  ye.emit(S0, { stream: this }),
                                  this.log_.info("create VideoPlayer and play"),
                                  (this.videoPlayer_ = new xR({
                                    stream: this,
                                    track: h,
                                    div: this.div_,
                                    muted: this.muted_,
                                    objectFit: this.objectFit_,
                                    mirror: this.mirror_,
                                  })),
                                  this.videoPlayer_.on(Pr, function (_) {
                                    var b = {
                                      type: dt,
                                      state: _.state,
                                      reason: _.reason,
                                    };
                                    ye.emit(BE, v({ stream: p }, b)),
                                      p.emitter_.emit(UI, b);
                                  }),
                                  (g.prev = 8),
                                  (g.next = 11),
                                  this.videoPlayer_.play()
                                );
                              case 11:
                                g.next = 18;
                                break;
                              case 13:
                                throw (
                                  ((g.prev = 13),
                                  (g.t0 = g.catch(8)),
                                  this.client_ &&
                                    this.client_.getEnableAutoPlayDialog() &&
                                    new AR(),
                                  this.emitter_.emit(t1, g.t0),
                                  g.t0)
                                );
                              case 18:
                              case "end":
                                return g.stop();
                            }
                        },
                        l,
                        this,
                        [[8, 13]]
                      );
                    })
                  )),
                  function () {
                    return a.apply(this, arguments);
                  }),
              },
              {
                key: "stopAudio",
                value: function () {
                  this.audioPlayer_ &&
                    (this.log_.info("stop AudioPlayer"),
                    this.audioPlayer_.stop(),
                    (this.audioPlayer_ = null));
                },
              },
              {
                key: "stopVideo",
                value: function () {
                  this.videoPlayer_ &&
                    (this.log_.info("stop VideoPlayer"),
                    this.videoPlayer_.stop(),
                    (this.videoPlayer_ = null));
                },
              },
              {
                key: "restartPlayback",
                value: function () {
                  this.audioPlayer_ &&
                    !this.audioPlayer_.isPlaying &&
                    this.restartAudio(),
                    this.videoPlayer_ &&
                      !this.videoPlayer_.isPlaying &&
                      this.restartVideo();
                },
              },
              {
                key: "restartAudio",
                value: function () {
                  this.isPlaying_ &&
                    (this.stopAudio(), this.playAudio().catch(function (h) {}));
                },
              },
              {
                key: "restartVideo",
                value: function () {
                  this.isPlaying_ &&
                    (this.stopVideo(), this.playVideo().catch(function (h) {}));
                },
              },
              {
                key: "stop",
                value: function () {
                  this.isPlaying_ &&
                    ((this.isPlaying_ = !1),
                    this.stopAudio(),
                    this.stopVideo(),
                    this.div_.parentNode.removeChild(this.div_));
                },
              },
              {
                key: "resume",
                value:
                  ((n = C(
                    m().mark(function l() {
                      return m().wrap(
                        function (h) {
                          for (;;)
                            switch ((h.prev = h.next)) {
                              case 0:
                                if (this.isPlaying_) {
                                  h.next = 2;
                                  break;
                                }
                                return h.abrupt("return");
                              case 2:
                                if (
                                  (this.log_.info("resume"), !this.audioPlayer_)
                                ) {
                                  h.next = 6;
                                  break;
                                }
                                return (h.next = 6), this.audioPlayer_.resume();
                              case 6:
                                if (!this.videoPlayer_) {
                                  h.next = 9;
                                  break;
                                }
                                return (h.next = 9), this.videoPlayer_.resume();
                              case 9:
                              case "end":
                                return h.stop();
                            }
                        },
                        l,
                        this
                      );
                    })
                  )),
                  function () {
                    return n.apply(this, arguments);
                  }),
              },
              {
                key: "close",
                value: function () {
                  this.log_.info("close stream"),
                    this.isPlaying_ && this.stop(),
                    this.isRemote_ ||
                      (this.mediaStream_ &&
                        ((this.mediaStream_.preventEvent = 1),
                        this.mediaStream_.getTracks().forEach(function (h) {
                          h.stop();
                        }),
                        (this.mediaStream_ = null)),
                      this.uninstallEvents());
                },
              },
              {
                key: "muteAudio",
                value: function () {
                  return (
                    this.addRemoteEvent(!0, mt), this.doEnableTrack(mt, !1)
                  );
                },
              },
              {
                key: "muteVideo",
                value: function () {
                  return (
                    this.addRemoteEvent(!0, dt), this.doEnableTrack(dt, !1)
                  );
                },
              },
              {
                key: "unmuteAudio",
                value: function () {
                  return (
                    this.addRemoteEvent(!1, mt), this.doEnableTrack(mt, !0)
                  );
                },
              },
              {
                key: "unmuteVideo",
                value: function () {
                  return (
                    this.addRemoteEvent(!1, dt), this.doEnableTrack(dt, !0)
                  );
                },
              },
              {
                key: "addRemoteEvent",
                value: function (h, p) {
                  if (this.isRemote_ && this.client_) {
                    var g = this.client_.getUserId(),
                      _ = "".concat(h ? ir : sa, " remote ").concat(p);
                    xr(g, {
                      eventId: p === mt ? (h ? j9 : H9) : h ? F9 : B9,
                      eventDesc: _,
                      timestamp: /* @__PURE__ */ new Date().getTime(),
                      userId: g,
                      tinyId: this.client_.getTinyId(),
                      remoteUserId: this.userId_,
                      remoteTinyId: this.connection_.getTinyId(),
                    });
                  }
                },
              },
              {
                key: "doEnableTrack",
                value: function (h, p) {
                  var g = !1;
                  return (
                    h === mt
                      ? this.mediaStream_
                          .getAudioTracks()
                          .forEach(function (_) {
                            (g = !0), (_.enabled = p);
                          })
                      : this.mediaStream_
                          .getVideoTracks()
                          .forEach(function (_) {
                            (g = !0), (_.enabled = p);
                          }),
                    g
                  );
                },
              },
              {
                key: "getId",
                value: function () {
                  return this.id_;
                },
              },
              {
                key: "getUserId",
                value: function () {
                  return this.userId_;
                },
              },
              {
                key: "getTinyId",
                value: function () {
                  return this.connection_ ? this.connection_.getTinyId() : "";
                },
              },
              {
                key: "isPlaying",
                value: function () {
                  return this.isPlaying_;
                },
              },
              {
                key: "setAudioOutput",
                value:
                  ((e = C(
                    m().mark(function l(h) {
                      var p;
                      return m().wrap(
                        function (g) {
                          for (;;)
                            switch ((g.prev = g.next)) {
                              case 0:
                                if (
                                  (this.log_.info("setAudioOutput ".concat(h)),
                                  (this.audioOutputDeviceId_ = h),
                                  !this.audioPlayer_)
                                ) {
                                  g.next = 5;
                                  break;
                                }
                                return (
                                  (g.next = 5), this.audioPlayer_.setSinkId(h)
                                );
                              case 5:
                                return (g.next = 7), HI();
                              case 7:
                                (p = g.sent),
                                  this.log_.info(
                                    "speakers: ".concat(JSON.stringify(p))
                                  );
                              case 9:
                              case "end":
                                return g.stop();
                            }
                        },
                        l,
                        this
                      );
                    })
                  )),
                  function (l) {
                    return e.apply(this, arguments);
                  }),
              },
              {
                key: "setAudioVolume",
                value: function (h) {
                  (this.audioVolume_ = h),
                    this.log_.info("setAudioVolume to ".concat(h)),
                    this.audioPlayer_ && this.audioPlayer_.setVolume(h);
                },
              },
              {
                key: "getAudioLevel",
                value: function () {
                  var h = 0;
                  return (
                    this.audioPlayer_ &&
                      (h = this.audioPlayer_.getAudioLevel()),
                    h
                  );
                },
              },
              {
                key: "getInternalAudioLevel",
                value: function () {
                  var h = 0;
                  return (
                    this.audioPlayer_ &&
                      (h = this.audioPlayer_.getInternalAudioLevel()),
                    h
                  );
                },
              },
              {
                key: "hasAudio",
                value: function () {
                  if (this.isRemote_) {
                    if (!this.connection_) return !1;
                    var h = this.connection_.getTrackState();
                    return this.type_ === fn && h.audio;
                  }
                  return !!this.getAudioTrack();
                },
              },
              {
                key: "hasVideo",
                value: function () {
                  if (this.isRemote_) {
                    if (!this.connection_) return !1;
                    var h = this.connection_.getTrackState();
                    return this.type_ === Pn ? h.auxiliary : h.video;
                  }
                  return !!this.getVideoTrack();
                },
              },
              {
                key: "getSubscribedState",
                value: function () {
                  return this.isRemote_ && this.connection_
                    ? this.connection_.getSubscribeState()
                    : null;
                },
              },
              {
                key: "getAudioTrack",
                value: function () {
                  var h = null;
                  if (this.mediaStream_) {
                    var p = this.mediaStream_.getAudioTracks();
                    p.length > 0 && (h = p[0]);
                  }
                  return h;
                },
              },
              {
                key: "getVideoTrack",
                value: function () {
                  var h = null;
                  if (this.mediaStream_) {
                    var p = this.mediaStream_.getVideoTracks();
                    p.length > 0 && (h = p[0]);
                  }
                  return h;
                },
              },
              {
                key: "getVideoFrame",
                value: function () {
                  return this.videoPlayer_
                    ? this.videoPlayer_.getVideoFrame()
                    : null;
                },
              },
              {
                key: "getMediaStream",
                value: function () {
                  return this.mediaStream_;
                },
              },
              {
                key: "setMediaStream",
                value: function (h) {
                  h !== this.mediaStream_ &&
                    (this.mediaStream_ &&
                      this.mediaStream_.getTracks().forEach(function (p) {
                        return p.stop();
                      }),
                    (this.mediaStream_ = h));
                },
              },
              {
                key: "updateVideoPlayingState",
                value: function (h) {
                  if (this.isPlaying_)
                    if (h) {
                      if (
                        (this.log_.info("playing state updated, play video"),
                        this.videoPlayer_ &&
                          this.videoPlayer_.getTrack() !== this.getVideoTrack())
                      )
                        return (
                          this.log_.warn(
                            "audio track changed, restart playback"
                          ),
                          this.restartVideo()
                        );
                      this.playVideo().catch(function (p) {});
                    } else
                      this.log_.info("playing state updated, stop video"),
                        this.stopVideo();
                },
              },
              {
                key: "updateAudioPlayingState",
                value: function (h) {
                  if (this.isPlaying_)
                    if (h) {
                      if (
                        (this.log_.info("playing state updated, play audio"),
                        this.audioPlayer_ &&
                          this.audioPlayer_.getTrack() !== this.getAudioTrack())
                      )
                        return (
                          this.log_.warn(
                            "audio track changed, restart playback"
                          ),
                          this.restartAudio()
                        );
                      this.playAudio().catch(function (p) {});
                    } else
                      this.log_.info("playing state updated, stop audio"),
                        this.stopAudio();
                },
              },
              {
                key: "on",
                value: function (h, p, g) {
                  this.emitter_.on(h, p, g);
                },
              },
              {
                key: "off",
                value: function (h, p, g) {
                  h === "*"
                    ? this.emitter_.removeAllListeners()
                    : this.emitter_.off(h, p, g);
                },
              },
              {
                key: "isRemote",
                value: function () {
                  return this.isRemote_;
                },
              },
              {
                key: "isScreenShare",
                value: function () {
                  return (
                    (!this.isRemote_ && this.screen_) ||
                    (this.isRemote_ && this.getType() === ln)
                  );
                },
              },
              {
                key: "getDiv",
                value: function () {
                  return this.div_;
                },
              },
              {
                key: "getObjectFit",
                value: function () {
                  return this.objectFit_;
                },
              },
              {
                key: "getMuted",
                value: function () {
                  return this.muted_;
                },
              },
              {
                key: "getClient",
                value: function () {
                  return this.client_;
                },
              },
            ]),
            s
          );
        })()),
        Oe(
          Ni.prototype,
          "play",
          [yA],
          Object.getOwnPropertyDescriptor(Ni.prototype, "play"),
          Ni.prototype
        ),
        Oe(
          Ni.prototype,
          "setAudioOutput",
          [bA],
          Object.getOwnPropertyDescriptor(Ni.prototype, "setAudioOutput"),
          Ni.prototype
        ),
        Oe(
          Ni.prototype,
          "getVideoFrame",
          [SA],
          Object.getOwnPropertyDescriptor(Ni.prototype, "getVideoFrame"),
          Ni.prototype
        ),
        Ni),
      _b = (function (s) {
        me(n, s);
        var e = St(n);
        function n(a) {
          var c;
          G(this, n);
          var o = { isRemote: !0, type: a.type },
            l = v(v({}, a), o);
          return (
            ((c = e.call(this, l)).name_ = Ty),
            (c.isStreamAddedEventEmitted_ = !1),
            (c.isAbleToCallSubscription_ = !0),
            c
          );
        }
        return (
          ce(n, [
            {
              key: "installEvents",
              value: function () {
                vt(Ee(n.prototype), "installEvents", this).call(this),
                  ye.on(Wa, this.handleStreamSubscribed, this),
                  ye.on(Ga, this.handleStreamUnsubscribed, this);
              },
            },
            {
              key: "uninstallEvents",
              value: function () {
                vt(Ee(n.prototype), "uninstallEvents", this).call(this),
                  ye.off(Wa, this.handleStreamSubscribed, this),
                  ye.off(Ga, this.handleStreamUnsubscribed, this);
              },
            },
            {
              key: "handleStreamSubscribed",
              value: function (c) {
                c.client === this.client_ &&
                  c.stream === this &&
                  this.connection_.getCurrentState() === pr &&
                  this.emitConnectionStateChanged({ prevState: fr, state: pr });
              },
            },
            {
              key: "handleStreamUnsubscribed",
              value: function (c) {
                c.client === this.client_ &&
                  c.stream === this &&
                  this.emitConnectionStateChanged({ prevState: pr, state: fr });
              },
            },
            {
              key: "getType",
              value: function () {
                return vt(Ee(n.prototype), "getType", this).call(this);
              },
            },
            {
              key: "getIsAbleToCallSubscription",
              value: function () {
                return this.isAbleToCallSubscription_;
              },
            },
            {
              key: "setIsAbleToCallSubscription",
              value: function (c) {
                this.isAbleToCallSubscription_ = c;
              },
            },
            {
              key: "setIsStreamAddedEventEmitted",
              value: function (c) {
                this.isStreamAddedEventEmitted_ = c;
              },
            },
            {
              key: "getIsStreamAddedEventEmitted",
              value: function () {
                return this.isStreamAddedEventEmitted_;
              },
            },
            {
              key: "getAudioTrack",
              value: function () {
                return this.connection_ &&
                  this.connection_.getTrackState().audio
                  ? vt(Ee(n.prototype), "getAudioTrack", this).call(this)
                  : null;
              },
            },
            {
              key: "getVideoTrack",
              value: function () {
                if (!this.connection_) return null;
                var c = this.connection_.getTrackState();
                return (this.type_ !== fn || c.video) &&
                  (this.type_ !== Pn || c.auxiliary)
                  ? vt(Ee(n.prototype), "getVideoTrack", this).call(this)
                  : null;
              },
            },
            {
              key: "close",
              value: function () {
                vt(Ee(n.prototype), "close", this).call(this);
              },
            },
          ]),
          n
        );
      })(wA),
      uG = (function () {
        function s(c) {
          G(this, s),
            (this.client_ = c.client),
            (this.subscribedStreams_ = /* @__PURE__ */ new Map()),
            (this.unsubscribedStreams_ = /* @__PURE__ */ new Map()),
            (this.subscriptedOptions_ = /* @__PURE__ */ new Map()),
            (this.autoRecoveryFlags_ = /* @__PURE__ */ new Map());
        }
        var e, n, a;
        return (
          ce(s, [
            {
              key: "isEnabled",
              get: function () {
                return this.client_.getEnv() !== "webrtc";
              },
            },
            {
              key: "recover",
              value:
                ((a = C(
                  m().mark(function c(o) {
                    var l, h, p;
                    return m().wrap(
                      function (g) {
                        for (;;)
                          switch ((g.prev = g.next)) {
                            case 0:
                              if (
                                ((l = o.getUserId()),
                                (h = o.getType()),
                                this.hasAutoRecoveryFlag(l, h))
                              ) {
                                g.next = 5;
                                break;
                              }
                              return g.abrupt("return");
                            case 5:
                              if (
                                ((p = this.getUnsubscribedStream(l, h)
                                  ? "unsubscribe"
                                  : "subscribe"),
                                (g.prev = 6),
                                it.warn(
                                  "recover() try to recover subscription ["
                                    .concat(p, "][")
                                    .concat(l, "][")
                                    .concat(h, "]")
                                ),
                                p !== "subscribe")
                              ) {
                                g.next = 13;
                                break;
                              }
                              return (
                                (g.next = 11), this.recoverSubscription(l, o)
                              );
                            case 11:
                              g.next = 15;
                              break;
                            case 13:
                              return (
                                (g.next = 15), this.recoverUnsubscription(l, o)
                              );
                            case 15:
                              st.logSuccessEvent({
                                userId: this.client_.getUserId(),
                                eventType: AT,
                              }),
                                it.warn(
                                  "recover() recover successfully ["
                                    .concat(p, "][")
                                    .concat(l, "][")
                                    .concat(h, "]")
                                ),
                                (g.next = 23);
                              break;
                            case 19:
                              (g.prev = 19),
                                (g.t0 = g.catch(6)),
                                it.error(
                                  "recover() recover failed ["
                                    .concat(p, "][")
                                    .concat(l, "][")
                                    .concat(h, "]"),
                                  g.t0
                                ),
                                st.logFailedEvent({
                                  userId: this.client_.getUserId(),
                                  eventType: AT,
                                  error: g.t0,
                                });
                            case 23:
                              this.deleteAutoRecoveryFlag(l, h);
                            case 24:
                            case "end":
                              return g.stop();
                          }
                      },
                      c,
                      this,
                      [[6, 19]]
                    );
                  })
                )),
                function (c) {
                  return a.apply(this, arguments);
                }),
            },
            {
              key: "recoverSubscription",
              value:
                ((n = C(
                  m().mark(function c(o, l) {
                    var h, p, g, _, b;
                    return m().wrap(
                      function (R) {
                        for (;;)
                          switch ((R.prev = R.next)) {
                            case 0:
                              if (
                                ((h = this.getOptions(o, l.getType())),
                                (p = this.getSubscribedStream(o, l.getType())),
                                h && p)
                              ) {
                                R.next = 4;
                                break;
                              }
                              return R.abrupt("return");
                            case 4:
                              (g = this.getStreamMuteState(p)),
                                (_ = g.isAudioMuted),
                                (b = g.isVideoMuted),
                                this.mergeStream(p, l),
                                this.recoverPlayingState(p),
                                _ && p.doEnableTrack(mt, !1),
                                b && p.doEnableTrack(dt, !1);
                            case 9:
                            case "end":
                              return R.stop();
                          }
                      },
                      c,
                      this
                    );
                  })
                )),
                function (c, o) {
                  return n.apply(this, arguments);
                }),
            },
            {
              key: "recoverUnsubscription",
              value:
                ((e = C(
                  m().mark(function c(o, l) {
                    var h;
                    return m().wrap(
                      function (p) {
                        for (;;)
                          switch ((p.prev = p.next)) {
                            case 0:
                              if (
                                (h = this.getUnsubscribedStream(o, l.getType()))
                              ) {
                                p.next = 3;
                                break;
                              }
                              return p.abrupt("return");
                            case 3:
                              this.mergeStream(h, l);
                            case 4:
                            case "end":
                              return p.stop();
                          }
                      },
                      c,
                      this
                    );
                  })
                )),
                function (c, o) {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "getStreamMuteState",
              value: function (o) {
                var l = { isAudioMuted: !1, isVideoMuted: !1 },
                  h = o.getMediaStream();
                return (
                  h &&
                    ((l.isAudioMuted = h
                      .getAudioTracks()
                      .map(function (p) {
                        return p.enabled;
                      })
                      .includes(!1)),
                    (l.isVideoMuted = h
                      .getVideoTracks()
                      .map(function (p) {
                        return p.enabled;
                      })
                      .includes(!1))),
                  l
                );
              },
            },
            {
              key: "recoverPlayingState",
              value: function (o) {
                var l = o.isPlaying(),
                  h = o.getDiv();
                if (l && h) {
                  var p = h.parentNode;
                  o.stop(),
                    o.play(p, {
                      objectFit: o.getObjectFit(),
                      muted: o.getMuted(),
                    });
                }
              },
            },
            {
              key: "mergeStream",
              value: function (o, l) {
                var h = l.getConnection(),
                  p = l.getMediaStream();
                o.setConnection(h),
                  h.setRemoteStream(p.id, o),
                  o.setMediaStream(p),
                  o.updateAudioPlayingState(l.hasAudio()),
                  o.updateVideoPlayingState(l.hasVideo());
              },
            },
            {
              key: "addSubscriptionRecord",
              value: function (o, l, h) {
                var p = l.getType();
                if (this.subscribedStreams_.has(o))
                  this.subscribedStreams_.get(o).set(p, l);
                else {
                  var g = /* @__PURE__ */ new Map();
                  g.set(l.getType(), l), this.subscribedStreams_.set(o, g);
                }
                if (this.subscriptedOptions_.has(o))
                  this.subscriptedOptions_.get(o).set(p, h);
                else {
                  var _ = /* @__PURE__ */ new Map();
                  _.set(l.getType(), h), this.subscriptedOptions_.set(o, _);
                }
                this.deleteUnsubscriptionRecord(o, p);
              },
            },
            {
              key: "addUnsubscriptionRecord",
              value: function (o, l) {
                if (this.unsubscribedStreams_.has(o))
                  this.unsubscribedStreams_.get(o).set(l.getType(), l);
                else {
                  var h = /* @__PURE__ */ new Map();
                  h.set(l.getType(), l), this.unsubscribedStreams_.set(o, h);
                }
                this.deleteSubscriptionRecord(o, l.getType());
              },
            },
            {
              key: "getSubscribedStream",
              value: function (o, l) {
                return this.subscribedStreams_.has(o) &&
                  this.subscribedStreams_.get(o).has(l)
                  ? this.subscribedStreams_.get(o).get(l)
                  : null;
              },
            },
            {
              key: "getOptions",
              value: function (o, l) {
                return this.subscriptedOptions_.has(o) &&
                  this.subscriptedOptions_.get(o).has(l)
                  ? this.subscriptedOptions_.get(o).get(l)
                  : null;
              },
            },
            {
              key: "getUnsubscribedStream",
              value: function (o, l) {
                return this.unsubscribedStreams_.has(o) &&
                  this.unsubscribedStreams_.get(o).has(l)
                  ? this.unsubscribedStreams_.get(o).get(l)
                  : null;
              },
            },
            {
              key: "deleteSubscriptionRecord",
              value: function (o, l) {
                this.subscribedStreams_.has(o) &&
                  this.subscribedStreams_.get(o).delete(l),
                  this.subscriptedOptions_.has(o) &&
                    this.subscriptedOptions_.get(o).delete(l);
              },
            },
            {
              key: "deleteUnsubscriptionRecord",
              value: function (o, l) {
                this.unsubscribedStreams_.has(o) &&
                  this.unsubscribedStreams_.get(o).delete(l);
              },
            },
            {
              key: "markAllStream",
              value: function () {
                for (
                  var o = 0, l = Je(this.subscribedStreams_.entries());
                  o < l.length;
                  o++
                )
                  for (
                    var h = wt(l[o], 2),
                      p = h[0],
                      g = 0,
                      _ = Je(h[1].entries());
                    g < _.length;
                    g++
                  ) {
                    var b = wt(_[g], 1)[0];
                    this.setAutoRecoveryFlag(p, b);
                  }
                for (
                  var R = 0, N = Je(this.unsubscribedStreams_.entries());
                  R < N.length;
                  R++
                )
                  for (
                    var B = wt(N[R], 2),
                      F = B[0],
                      U = 0,
                      T = Je(B[1].entries());
                    U < T.length;
                    U++
                  ) {
                    var A = wt(T[U], 1)[0];
                    this.setAutoRecoveryFlag(F, A);
                  }
              },
            },
            {
              key: "setAutoRecoveryFlag",
              value: function (o, l) {
                if (
                  (it.info(
                    "setAutoRecoveryFlag() mark ["
                      .concat(o, "][")
                      .concat(l, "]")
                  ),
                  this.autoRecoveryFlags_.has(o))
                )
                  this.autoRecoveryFlags_.get(o).set(l);
                else {
                  var h = /* @__PURE__ */ new Map();
                  h.set(l), this.autoRecoveryFlags_.set(o, h);
                }
              },
            },
            {
              key: "hasAutoRecoveryFlag",
              value: function (o, l) {
                return (
                  !!this.isEnabled &&
                  this.autoRecoveryFlags_.has(o) &&
                  this.autoRecoveryFlags_.get(o).has(l)
                );
              },
            },
            {
              key: "deleteAutoRecoveryFlag",
              value: function (o, l) {
                this.autoRecoveryFlags_.has(o) &&
                  this.autoRecoveryFlags_.get(o).delete(l);
              },
            },
            {
              key: "delete",
              value: function (o) {
                this.unsubscribedStreams_.delete(o),
                  this.subscribedStreams_.delete(o),
                  this.subscriptedOptions_.delete(o),
                  this.autoRecoveryFlags_.delete(o);
              },
            },
          ]),
          s
        );
      })(),
      cG = (function () {
        function s(e) {
          G(this, s),
            (this.player_ = e),
            (this.canvas_ = document.createElement(iT)),
            (this.canvasCtx_ = this.canvas_.getContext("2d"));
        }
        return (
          ce(s, [
            {
              key: "setCanvasRect",
              value: function (n, a) {
                (this.canvas_.width = n), (this.canvas_.height = a);
              },
            },
            {
              key: "drawVideoToCanvas",
              value: function () {
                var n = this.player_.getElement(),
                  a = n.videoHeight,
                  c = n.videoWidth,
                  o = (c * this.canvas_.height) / (a * this.canvas_.width);
                if (o > 1.05 || o < 0.95) {
                  var l = (c * a) / (this.canvas_.width * this.canvas_.height);
                  this.setCanvasRect(c / Math.sqrt(l), a / Math.sqrt(l));
                }
                this.canvasCtx_.drawImage(
                  n,
                  0,
                  0,
                  this.canvas_.width,
                  this.canvas_.height
                );
              },
            },
            {
              key: "generateVideoTrackFromCanvasCapture",
              value: function (n) {
                return this.canvas_.captureStream(n).getVideoTracks()[0];
              },
            },
            {
              key: "generateStreamFromTrack",
              value: function (n) {
                var a = new MediaStream();
                return a.addTrack(n), a;
              },
            },
            {
              key: "destroy",
              value: function () {
                this.player_.stop(),
                  (this.canvas_.width = 0),
                  (this.canvas_.height = 0),
                  (this.canvas_ = null),
                  (this.canvasCtx_ = null);
              },
            },
            {
              key: "canvas",
              get: function () {
                return this.canvas_;
              },
            },
            {
              key: "canvasCtx",
              get: function () {
                return this.canvasCtx_;
              },
            },
            {
              key: "canDrawVideoToCanvas",
              get: function () {
                if (this.player_) {
                  var n = this.player_.getElement();
                  if (n) return n.readyState === n.HAVE_ENOUGH_DATA;
                }
                return !1;
              },
            },
          ]),
          s
        );
      })(),
      lG = new Blob(
        [
          'let t,e,a,i;onmessage=function(n){const{action:h,data:s}=n.data;switch(h){case"render":a=s.canvas,t=a.width,e=a.height,i=a.getContext("2d"),function(t,e){const n=new TransformStream({async transform(t,e){const n=t.displayWidth,h=t.displayHeight,s=n*a.height/(h*a.width);if(s>1.05||s<.95){const t=n*h/(a.width*a.height);a.width=n/Math.sqrt(t),a.height=h/Math.sqrt(t)}i.drawImage(t,0,0,a.width,a.height);const o=new VideoFrame(a,{timestamp:t.timestamp});t.close(),e.enqueue(o)}});t.pipeThrough(n).pipeTo(e)}(s.readable,s.writable)}}',
        ],
        { type: "application/javascript" }
      ),
      dG = (function () {
        function s(e) {
          G(this, s);
          var n = e.videoTrack;
          (this.width = void 0),
            (this.height = void 0),
            (this.canvas = document.createElement("canvas")),
            (this.offscreen = null),
            (this.smallGenerator = new MediaStreamTrackGenerator({
              kind: "video",
            })),
            (this.smallWritable = this.smallGenerator.writable),
            (this.bigProcessor = new MediaStreamTrackProcessor({ track: n })),
            (this.bigReadable = this.bigProcessor.readable),
            this.initWorker();
        }
        return (
          ce(s, [
            {
              key: "initWorker",
              value: function () {
                try {
                  (this.worker = new Worker(URL.createObjectURL(lG))),
                    it.info("init worker processor success");
                } catch (n) {
                  it.warn("init worker processor failed. ".concat(n.error));
                }
              },
            },
            {
              key: "setCanvasRect",
              value: function (n, a) {
                (this.width = n),
                  (this.height = a),
                  (this.canvas.width = n),
                  (this.canvas.height = a),
                  (this.offscreen = this.canvas.transferControlToOffscreen()),
                  this.worker.postMessage(
                    {
                      action: "render",
                      data: {
                        canvas: this.offscreen,
                        readable: this.bigReadable,
                        writable: this.smallWritable,
                      },
                    },
                    [this.offscreen, this.bigReadable, this.smallWritable]
                  );
              },
            },
            {
              key: "generatorVideoTrack",
              value: function () {
                var n = new MediaStream([this.smallGenerator]);
                return n == null ? void 0 : n.getTracks()[0];
              },
            },
            {
              key: "destroy",
              value: function () {
                this.worker.terminate();
              },
            },
          ]),
          s
        );
      })(),
      Av = (function () {
        function s(n) {
          G(this, s),
            (this.localStream_ = n),
            (this.player_ = null),
            (this.processor_ = null),
            (this.initOffscreenSuccess_ = !1);
        }
        var e;
        return (
          ce(s, [
            {
              key: "initialize",
              value:
                ((e = C(
                  m().mark(function n() {
                    var a;
                    return m().wrap(
                      function (c) {
                        for (;;)
                          switch ((c.prev = c.next)) {
                            case 0:
                              if (
                                !(
                                  HF() &&
                                  ((a = navigator) === null || a === void 0
                                    ? void 0
                                    : a.hardwareConcurrency) >= 6
                                )
                              ) {
                                c.next = 13;
                                break;
                              }
                              return (
                                (c.prev = 1), (c.next = 4), this.initOffscreen()
                              );
                            case 4:
                              (this.initOffscreenSuccess_ = !0),
                                it.info(
                                  "Initialize VideoGenerator successfully!"
                                ),
                                (c.next = 11);
                              break;
                            case 8:
                              (c.prev = 8),
                                (c.t0 = c.catch(1)),
                                this.initCanvas();
                            case 11:
                              c.next = 14;
                              break;
                            case 13:
                              this.initCanvas();
                            case 14:
                            case "end":
                              return c.stop();
                          }
                      },
                      n,
                      this,
                      [[1, 8]]
                    );
                  })
                )),
                function () {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "generateSmallVideoTrack",
              value: function (a) {
                var c,
                  o = a.height,
                  l = a.width,
                  h = a.frameRate,
                  p = this.getSmallVideoProfile(l, o);
                return (
                  this.initOffscreenSuccess_
                    ? (this.processor_.setCanvasRect(p.width, p.height),
                      (c = this.processor_.generatorVideoTrack()))
                    : (this.processor_.setCanvasRect(p.width, p.height),
                      this.player_.setRect({
                        width: p.width,
                        height: p.height,
                      }),
                      (c =
                        this.processor_.generateVideoTrackFromCanvasCapture(h)),
                      (this.interval_ = un.run(Cp, this.render.bind(this), {
                        fps: h,
                      }))),
                  c
                );
              },
            },
            {
              key: "render",
              value: function () {
                this.processor_.canDrawVideoToCanvas &&
                  this.processor_.drawVideoToCanvas();
              },
            },
            {
              key: "destroy",
              value: function () {
                un.clearTask(this.interval_),
                  this.processor_ && this.processor_.destroy();
              },
            },
            {
              key: "initOffscreen",
              value: function () {
                this.processor_ = new dG({
                  videoTrack: this.localStream_.getVideoTrack(),
                });
              },
            },
            {
              key: "initCanvas",
              value: function () {
                (this.player_ = new xR({
                  stream: this.localStream_,
                  track: this.localStream_.getVideoTrack(),
                  muted: !0,
                  objectFit: "cover",
                  mirror: !1,
                })),
                  this.player_
                    .play()
                    .then(function () {
                      it.info("VideoGenerator: play local video success");
                    })
                    .catch(function () {
                      it.error("VideoGenerator: Failed to play local video");
                    }),
                  (this.processor_ = new cG(this.player_));
              },
            },
            {
              key: "getSmallVideoProfile",
              value: function (a, c) {
                var o,
                  l = this.localStream_.getVideoTrack(),
                  h = v({}, this.localStream_.getVideoProfile());
                if (tu) {
                  var p = l.getSettings();
                  p &&
                    p.width &&
                    p.height &&
                    ((h.width = p.width), (h.height = p.height));
                }
                var g = h.width * h.height,
                  _ = a * c;
                return (
                  it.info(
                    "big stream resolution: "
                      .concat(h.width, "*")
                      .concat(h.height, " small stream resolution: ")
                      .concat(a, "*")
                      .concat(c, " ")
                  ),
                  (o = g > _ ? g / _ : g / 19200),
                  {
                    width: parseInt(h.width / Math.sqrt(o)),
                    height: parseInt(h.height / Math.sqrt(o)),
                  }
                );
              },
            },
          ]),
          s
        );
      })(),
      xv = /* @__PURE__ */ new Map(),
      hG = (function () {
        var s = C(
          m().mark(function e(n) {
            var a, c, o, l, h, p, g;
            return m().wrap(
              function (_) {
                for (;;)
                  switch ((_.prev = _.next)) {
                    case 0:
                      if (!$p()) {
                        _.next = 2;
                        break;
                      }
                      return _.abrupt("return");
                    case 2:
                      return (_.next = 4), fG(n);
                    case 4:
                      if (
                        ((a = _.sent),
                        it.info(
                          "getUserMedia with constraints: " + JSON.stringify(a)
                        ),
                        !a.audio)
                      ) {
                        _.next = 11;
                        break;
                      }
                      return (_.next = 9), Sn.getMicrophones();
                    case 9:
                      (c = _.sent),
                        it.info(
                          "microphones: ".concat(Pc(c, ["deviceId", "label"]))
                        );
                    case 11:
                      if (!a.video) {
                        _.next = 16;
                        break;
                      }
                      return (_.next = 14), Sn.getCameras();
                    case 14:
                      (o = _.sent),
                        it.info(
                          "cameras: ".concat(Pc(o, ["deviceId", "label"]))
                        );
                    case 16:
                      return (
                        (_.prev = 16),
                        (_.next = 19),
                        navigator.mediaDevices.getUserMedia(a)
                      );
                    case 19:
                      return _.abrupt("return", _.sent);
                    case 22:
                      if (
                        ((_.prev = 22),
                        (_.t0 = _.catch(16)),
                        _.t0.name !== "NotFoundError")
                      ) {
                        _.next = 29;
                        break;
                      }
                      if (!o || o.length !== 0) {
                        _.next = 27;
                        break;
                      }
                      throw new Ie({
                        code: ke.DEVICE_NOT_FOUND,
                        message: Le({ key: PU }),
                      });
                    case 27:
                      if (!c || c.length !== 0) {
                        _.next = 29;
                        break;
                      }
                      throw new Ie({
                        code: ke.DEVICE_NOT_FOUND,
                        message: Le({ key: xU }),
                      });
                    case 29:
                      throw (
                        (a.audio &&
                          ((l = c) === null || l === void 0
                            ? void 0
                            : l.length) > 0 &&
                          (p = c.find(function (b) {
                            return b.deviceId === n.microphoneId;
                          })) &&
                          p.getCapabilities &&
                          it.warn(Pc(p.getCapabilities(), Cy)),
                        a.video &&
                          ((h = o) === null || h === void 0
                            ? void 0
                            : h.length) > 0 &&
                          (g = o.find(function (b) {
                            return b.deviceId === n.cameraId;
                          })) &&
                          g.getCapabilities &&
                          it.warn(Pc(g.getCapabilities(), Cy)),
                        new Ie({
                          code: ke.INITIALIZE_FAILED,
                          name: _.t0.name,
                          message: _.t0.message,
                          constraint: _.t0.constraint,
                        }))
                      );
                    case 32:
                    case "end":
                      return _.stop();
                  }
              },
              e,
              null,
              [[16, 22]]
            );
          })
        );
        return function (e) {
          return s.apply(this, arguments);
        };
      })(),
      yb = Wd({
        retryFunction: hG,
        settings: { retries: 3, timeout: 500 },
        onError: function (e, n, a, c, o) {
          var l = o + 1;
          it.warn("getUserMedia error: ".concat(e)),
            e.name === "NotReadableError" || e.name === "OverconstrainedError"
              ? (l === 1 && c[0].video
                  ? ((c[0].maxResoution = !1),
                    (c[0].frameRate = c[0].frameRate > 10 ? 10 : 5))
                  : l === 2
                  ? (c[0].useDeviceIdOnly = !0)
                  : l !== 3 ||
                    (c[0].useExact && !c[0].retryWhenExactFailed) ||
                    (c[0].useTrueAsConstraint = !0),
                e.message.includes("deviceId") &&
                  c[0].retryWhenExactFailed &&
                  (c[0].useExact = !1),
                n())
              : a(e);
        },
        onRetrying: function (e) {
          it.warn("getUserMedia retrying [".concat(e, "/3]"));
        },
        onRetryFailed: function () {
          st.uploadEvent({ log: "stat-getUserMedia-retry-failed" });
        },
        onRetrySuccess: function (e) {
          st.uploadEvent({ log: "stat-getUserMedia-retry-success-" + e });
        },
      });
    function fG(s) {
      return { audio: pG(s), video: vG(s) };
    }
    function pG(s) {
      if (!s.audio) return !1;
      if (s.useTrueAsConstraint) return !0;
      var e = {};
      return !Ka(s.microphoneId) &&
        ((e.deviceId = s.useExact ? { exact: s.microphoneId } : s.microphoneId),
        s.useDeviceIdOnly)
        ? e
        : ((e.echoCancellation = !0),
          (e.noiseSuppression = !0),
          (e.autoGainControl = !0),
          (e.sampleRate = s.sampleRate),
          Ri(s.channelCount) &&
            s.channelCount > 1 &&
            (e.channelCount = s.channelCount),
          Ci(s.echoCancellation) &&
            !s.echoCancellation &&
            (e.echoCancellation = !1),
          Ci(s.noiseSuppression) &&
            !s.noiseSuppression &&
            (e.noiseSuppression = !1),
          Ci(s.autoGainControl) &&
            !s.autoGainControl &&
            (e.autoGainControl = !1),
          !!Ka(e) || e);
    }
    function vG(s) {
      if (!s.video) return !1;
      if (s.useTrueAsConstraint) return !0;
      var e = s.maxResoution,
        n = e === void 0 || e,
        a = {};
      return (
        s.facingMode
          ? (a.facingMode = s.facingMode)
          : s.cameraId &&
            (a.deviceId = s.useExact ? { exact: s.cameraId } : s.cameraId),
        s.useDeviceIdOnly && !Ka(a)
          ? a
          : (s.width &&
              ((a.width = { ideal: s.width }),
              n && !ri && (a.width.max = s.width)),
            s.height &&
              ((a.height = { ideal: s.height }),
              n && !ri && (a.height.max = s.height)),
            ri &&
              jd &&
              s.width &&
              s.height &&
              s.width * s.height < 101376 &&
              ((a.width = s.width), (a.height = s.height)),
            s.frameRate && (a.frameRate = s.frameRate),
            !!Ka(a) || a)
      );
    }
    var mG = (function () {
      var s = C(
        m().mark(function e(n) {
          var a, c, o, l, h, p, g, _, b;
          return m().wrap(function (R) {
            for (;;)
              switch ((R.prev = R.next)) {
                case 0:
                  if (!$p()) {
                    R.next = 2;
                    break;
                  }
                  return R.abrupt("return");
                case 2:
                  if (((a = null), !((Lp && $y < 74) || Ks))) {
                    R.next = 27;
                    break;
                  }
                  return (
                    (c = bb(n)),
                    it.info(
                      "getDisplayMedia with constraints: " + JSON.stringify(c)
                    ),
                    (R.next = 8),
                    navigator.mediaDevices.getDisplayMedia(c)
                  );
                case 8:
                  if (((o = R.sent), !n.screenAudio)) {
                    R.next = 14;
                    break;
                  }
                  return (
                    it.warn("Your browser not support capture system audio"),
                    R.abrupt("return", o)
                  );
                case 14:
                  if (!n.audio) {
                    R.next = 24;
                    break;
                  }
                  return (
                    (l = kA(n)),
                    it.info(
                      "getUserMedia with constraints: " + JSON.stringify(l)
                    ),
                    (R.next = 19),
                    navigator.mediaDevices.getUserMedia(l)
                  );
                case 19:
                  return (
                    (a = R.sent),
                    o.addTrack(a.getAudioTracks()[0]),
                    R.abrupt("return", o)
                  );
                case 24:
                  return R.abrupt("return", o);
                case 25:
                  R.next = 53;
                  break;
                case 27:
                  if (!n.screenAudio) {
                    R.next = 37;
                    break;
                  }
                  return (
                    (n.audioConstraints = {
                      echoCancellation: n.echoCancellation,
                      autoGainControl: n.autoGainControl,
                      noiseSuppression: n.noiseSuppression,
                      sampleRate: 44100,
                    }),
                    (h = bb(n)),
                    it.info(
                      "getDisplayMedia with constraints: " + JSON.stringify(h)
                    ),
                    (R.next = 33),
                    navigator.mediaDevices.getDisplayMedia(h)
                  );
                case 33:
                  return (p = R.sent), R.abrupt("return", p);
                case 37:
                  return (
                    (g = bb(n)),
                    it.info(
                      "getDisplayMedia with constraints: " + JSON.stringify(g)
                    ),
                    (R.next = 41),
                    navigator.mediaDevices.getDisplayMedia(g)
                  );
                case 41:
                  if (((_ = R.sent), !n.audio)) {
                    R.next = 52;
                    break;
                  }
                  return (
                    (b = kA(n)),
                    it.info(
                      "getUserMedia with constraints: " + JSON.stringify(b)
                    ),
                    (R.next = 47),
                    navigator.mediaDevices.getUserMedia(b)
                  );
                case 47:
                  return (
                    (a = R.sent),
                    _.addTrack(a.getAudioTracks()[0]),
                    R.abrupt("return", _)
                  );
                case 52:
                  return R.abrupt("return", _);
                case 53:
                case "end":
                  return R.stop();
              }
          }, e);
        })
      );
      return function (e) {
        return s.apply(this, arguments);
      };
    })();
    function kA(s) {
      var e = {
        echoCancellation: s.echoCancellation,
        autoGainControl: s.autoGainControl,
        noiseSuppression: s.noiseSuppression,
        sampleRate: s.sampleRate,
        channelCount: s.channelCount,
      };
      return (
        rt(s.microphoneId) || (e.deviceId = s.microphoneId),
        { audio: e, video: !1 }
      );
    }
    function bb(s) {
      var e = {
          systemAudio: "include",
          selfBrowserSurface: "include",
          surfaceSwitching: "include",
        },
        n = {
          width: Ks ? { max: s.width } : { ideal: s.width, max: s.width },
          height: Ks ? { max: s.height } : { ideal: s.height, max: s.height },
          frameRate: s.frameRate,
          displaySurface: "monitor",
        };
      return (
        (e.video = n),
        rt(s.audioConstraints) || (e.audio = s.audioConstraints),
        e
      );
    }
    var TA,
      EA,
      IA,
      RA,
      CA,
      AA,
      xA,
      PA,
      OA,
      DA,
      NA,
      $t,
      LA,
      ch,
      Sb = /* @__PURE__ */ new Map([
        ["120p", { width: 160, height: 120, frameRate: 15, bitrate: 200 }],
        ["120p_2", { width: 160, height: 120, frameRate: 15, bitrate: 100 }],
        ["180p", { width: 320, height: 180, frameRate: 15, bitrate: 350 }],
        ["180p_2", { width: 320, height: 180, frameRate: 15, bitrate: 150 }],
        ["240p", { width: 320, height: 240, frameRate: 15, bitrate: 400 }],
        ["240p_2", { width: 320, height: 240, frameRate: 15, bitrate: 200 }],
        ["360p", { width: 640, height: 360, frameRate: 15, bitrate: 800 }],
        ["360p_2", { width: 640, height: 360, frameRate: 15, bitrate: 400 }],
        ["480p", { width: 640, height: 480, frameRate: 15, bitrate: 900 }],
        ["480p_2", { width: 640, height: 480, frameRate: 15, bitrate: 500 }],
        ["720p", { width: 1280, height: 720, frameRate: 15, bitrate: 1500 }],
        ["1080p", { width: 1920, height: 1080, frameRate: 15, bitrate: 2e3 }],
        ["1440p", { width: 2560, height: 1440, frameRate: 30, bitrate: 4860 }],
        ["4K", { width: 3840, height: 2160, frameRate: 30, bitrate: 9e3 }],
      ]),
      wb = /* @__PURE__ */ new Map([
        ["480p", { width: 640, height: 480, frameRate: 5, bitrate: 900 }],
        ["480p_2", { width: 640, height: 480, frameRate: 30, bitrate: 1e3 }],
        ["720p", { width: 1280, height: 720, frameRate: 5, bitrate: 1200 }],
        ["720p_2", { width: 1280, height: 720, frameRate: 30, bitrate: 3e3 }],
        ["1080p", { width: 1920, height: 1080, frameRate: 5, bitrate: 1600 }],
        ["1080p_2", { width: 1920, height: 1080, frameRate: 30, bitrate: 4e3 }],
      ]),
      MA = /* @__PURE__ */ new Map([
        ["standard", { sampleRate: 48e3, channelCount: 1, bitrate: 40 }],
        ["standard-stereo", { sampleRate: 48e3, channelCount: 2, bitrate: 64 }],
        ["high", { sampleRate: 48e3, channelCount: 1, bitrate: 128 }],
        ["high-stereo", { sampleRate: 48e3, channelCount: 2, bitrate: 192 }],
      ]),
      cu = /* @__PURE__ */ new Map(),
      gG =
        ((TA = gn(Do)),
        (EA = gn(Do)),
        (IA = gn(Do)),
        (RA = gn(Do)),
        (CA = br.apply(void 0, Je(Xn.LOCAL_STREAM.switchDevice))),
        (AA = br(Xn.STREAM.addTrack)),
        (xA = br(Xn.STREAM.removeTrack)),
        (PA = br(Xn.STREAM.replaceTrack)),
        (OA = Qc({
          retries: 10,
          timeout: 3e3,
          onRetryFailed: function (e) {
            st.logFailedEvent({
              userId: this.client_ ? this.client_.getUserId() : this.userId_,
              eventType: CT,
              error: e,
            }),
              this.emitter_.emit(
                t1,
                new Ie({
                  code: ke.DEVICE_AUTO_RECOVER_FAILED,
                  message: e.message,
                })
              );
          },
        })),
        (DA = Cv(Xn.LOCAL_STREAM.setAudioCaptureVolume)),
        (NA = gn(Do)),
        ($t = (function (s) {
          me(F, s);
          var e,
            n,
            a,
            c,
            o,
            l,
            h,
            p,
            g,
            _,
            b,
            R,
            N,
            B = St(F);
          function F(U) {
            var T;
            G(this, F);
            var A = v(v({}, U), { isRemote: !1, type: "local" });
            return (
              ((T = B.call(this, A)).name_ = Do),
              (T.client_ = null),
              (T.video_ = U.video),
              (T.audio_ = U.audio),
              (T.cameraId_ = U.cameraId),
              (T.cameraGroupId_ = ""),
              (T.facingMode_ = U.facingMode),
              (T.microphoneId_ = U.microphoneId),
              (T.microphoneGroupId_ = ""),
              (T.microphoneLabel_ = ""),
              (T.videoSource_ = U.videoSource),
              (T.audioSource_ = U.audioSource),
              (T.screen_ = U.screen),
              (T.screenAudio_ = U.screenAudio),
              (T.audioProfile_ = {
                echoCancellation: !0,
                autoGainControl: !0,
                noiseSuppression: !0,
                sampleRate: 48e3,
                channelCount: 1,
                bitrate: 40,
              }),
              T.screenAudio_ &&
                ((T.audioProfile_.echoCancellation = !0),
                (T.audioProfile_.autoGainControl = !1),
                (T.audioProfile_.noiseSuppression = !1)),
              Ci(U.echoCancellation) &&
                (T.audioProfile_.echoCancellation = U.echoCancellation),
              Ci(U.autoGainControl) &&
                (T.audioProfile_.autoGainControl = U.autoGainControl),
              Ci(U.noiseSuppression) &&
                (T.audioProfile_.noiseSuppression = U.noiseSuppression),
              (T.videoProfile_ = Sb.get("480p_2")),
              (T.screenProfile_ = wb.get("1080p")),
              (T.videoSetting_ = null),
              (T.muteState_ = { video: !1, audio: !1, auxVideo: !1 }),
              (T.beautyStatus_ = !1),
              (T.prevAudioRecoverTime_ = 0),
              (T.prevVideoRecoverTime_ = 0),
              (T.isAudioRecovering_ = !1),
              (T.isVideoRecovering_ = !1),
              T.initState(),
              (T.canvas_ = null),
              (T.canvasInterval_ = null),
              (T.canvasTrack_ = null),
              (T.gain_ = { audioTrack: null, source: null, gainNode: null }),
              (T.captureVolume_ = 100),
              (T.enableAutoRecoverCapture_ =
                !!rt(U.enableAutoRecoverCapture) || U.enableAutoRecoverCapture),
              (T.enableAutoRecoverOther_ =
                !Ci(U.enableAutoRecoverOther) || U.enableAutoRecoverOther),
              T.log_.info(
                "stream created: "
                  .concat(T.id_, " autoRecover: ")
                  .concat(T.enableAutoRecoverCapture_)
              ),
              (T.isAIDenoiser = !1),
              T
            );
          }
          return (
            ce(F, [
              {
                key: "scaleResolutionDownBy",
                get: function () {
                  var T = this.getVideoTrack();
                  if (!T || !tu || this.isScreenShare()) return 1;
                  var A,
                    L,
                    $,
                    X = T.getSettings();
                  return X.width === this.videoProfile_.width &&
                    X.height === this.videoProfile_.height
                    ? 1
                    : (A = window.screen) !== null &&
                      A !== void 0 &&
                      (L = A.orientation) !== null &&
                      L !== void 0 &&
                      ($ = L.type) !== null &&
                      $ !== void 0 &&
                      $.includes("portrait") &&
                      this.videoProfile_.width > this.videoProfile_.height &&
                      X.height > X.width
                    ? Math.max(
                        X.width / this.videoProfile_.height,
                        X.height / this.videoProfile_.width,
                        1
                      )
                    : Math.max(
                        X.width / this.videoProfile_.width,
                        X.height / this.videoProfile_.height,
                        1
                      );
                },
              },
              {
                key: "initState",
                value: function () {
                  (this.isAddingTrack_ = !1),
                    (this.isRemovingTrack_ = !1),
                    this.setIsReadyToPublish(!1),
                    this.setPublishState(UT);
                },
              },
              {
                key: "installEvents",
                value: function () {
                  vt(Ee(F.prototype), "installEvents", this).call(this),
                    ye.on(w0, this.onVideoTrackStopped, this),
                    ye.on(Hd, this.onVideoTrackStopped, this),
                    ye.on(T0, this.onAudioTrackStopped, this),
                    ye.on(k0, this.onAudioTrackStopped, this);
                },
              },
              {
                key: "uninstallEvents",
                value: function () {
                  vt(Ee(F.prototype), "uninstallEvents", this).call(this),
                    ye.off(w0, this.onVideoTrackStopped, this),
                    ye.off(Hd, this.onVideoTrackStopped, this),
                    ye.off(T0, this.onAudioTrackStopped, this),
                    ye.off(k0, this.onAudioTrackStopped, this);
                },
              },
              {
                key: "initialize",
                value: function () {
                  var T = this;
                  return new Promise(function (A, L) {
                    if (Yp())
                      L(
                        new Ie({
                          code: ke.INVALID_OPERATION,
                          message: Le({ key: sE }),
                        })
                      );
                    else {
                      if (rt(T.audio_)) {
                        var $ = new MediaStream();
                        return (
                          rt(T.audioSource_) ||
                            ($.addTrack(T.audioSource_),
                            T.updateAudioPlayingState(!0)),
                          rt(T.videoSource_) ||
                            ($.addTrack(T.videoSource_),
                            T.updateVideoPlayingState(!0)),
                          T.setMediaStream($),
                          st.logSuccessEvent({
                            userId: T.client_
                              ? T.client_.getUserId()
                              : T.userId_,
                            eventType: Md,
                            kind: "custom",
                          }),
                          T.setIsReadyToPublish(!0),
                          A()
                        );
                      }
                      T.screen_
                        ? (T.log_.info(
                            "initialize stream audio: " +
                              T.audio_ +
                              " screenAudio: " +
                              T.screenAudio_ +
                              " screen: " +
                              T.screen_
                          ),
                          mG({
                            audio: T.audio_,
                            screenAudio: T.screenAudio_,
                            microphoneId: T.microphoneId_,
                            width: T.screenProfile_.width,
                            height: T.screenProfile_.height,
                            frameRate: T.screenProfile_.frameRate,
                            sampleRate: T.audioProfile_.sampleRate,
                            channelCount: T.audioProfile_.channelCount,
                            autoGainControl: T.audioProfile_.autoGainControl,
                            noiseSuppression: T.audioProfile_.noiseSuppression,
                            echoCancellation: T.audioProfile_.echoCancellation,
                          })
                            .then(function (X) {
                              T.setMediaStream(X),
                                T.updateAudioPlayingState(
                                  T.audio_ || T.screenAudio_
                                ),
                                T.updateVideoPlayingState(!0);
                              var Q = T.getVideoTrack();
                              return (
                                Q.applyConstraints &&
                                  Q.applyConstraints({
                                    frameRate: {
                                      min: T.screenProfile_.frameRate,
                                      ideal: T.screenProfile_.frameRate,
                                    },
                                    width: T.screenProfile_.width,
                                    height: T.screenProfile_.height,
                                  }).catch(function (D) {
                                    T.warn(
                                      "screen applyConstraints failed: ".concat(
                                        D
                                      )
                                    );
                                  }),
                                T.listenForScreenSharingStopped(Q),
                                T.setVideoContentHint(sT),
                                T.updateDeviceIdInUse(),
                                T.setIsReadyToPublish(!0),
                                T.log_.info(JSON.stringify(Q.getSettings())),
                                st.logSuccessEvent({
                                  userId: T.client_
                                    ? T.client_.getUserId()
                                    : T.userId_,
                                  eventType: Md,
                                  kind: "getDisplayMedia",
                                }),
                                A()
                              );
                            })
                            .catch(function (X) {
                              st.logFailedEvent({
                                userId: T.client_
                                  ? T.client_.getUserId()
                                  : T.userId_,
                                eventType: Md,
                                kind: "getDisplayMedia",
                                error: X,
                              }),
                                T.log_.error(
                                  "getDisplayMedia error observed " + X
                                ),
                                L(
                                  X instanceof Ie
                                    ? X
                                    : new Ie({
                                        code: ke.INITIALIZE_FAILED,
                                        name: X.name,
                                        message: X.message,
                                      })
                                );
                            }))
                        : (ye.emit(v0, {
                            stream: T,
                            audio: T.audio_,
                            video: T.video_,
                          }),
                          T.log_.info(
                            "initialize stream audio: " +
                              T.audio_ +
                              " video: " +
                              T.video_
                          ),
                          yb({
                            audio: T.audio_,
                            video: T.video_,
                            facingMode: T.facingMode_,
                            cameraId: T.cameraId_,
                            microphoneId: T.microphoneId_,
                            width: T.videoProfile_.width,
                            height: T.videoProfile_.height,
                            frameRate: T.videoProfile_.frameRate,
                            sampleRate: T.audioProfile_.sampleRate,
                            channelCount: T.audioProfile_.channelCount,
                            autoGainControl: T.audioProfile_.autoGainControl,
                            noiseSuppression: T.audioProfile_.noiseSuppression,
                            echoCancellation: T.audioProfile_.echoCancellation,
                            useExact: !0,
                            retryWhenExactFailed: !0,
                          })
                            .then(function (X) {
                              return (
                                ye.emit(m0, {
                                  stream: T,
                                  audio: T.audio_,
                                  video: T.video_,
                                }),
                                T.setMediaStream(X),
                                X.getTracks().forEach(function (Q) {
                                  if (tu) {
                                    var D = Q.getSettings();
                                    T.log_.debug(
                                      ""
                                        .concat(Q.kind, " settings: ")
                                        .concat(JSON.stringify(D))
                                    ),
                                      Q.kind === dt && (T.videoSetting_ = D);
                                  }
                                  BF &&
                                    T.log_.info(
                                      ""
                                        .concat(Q.kind, " capabilities: ")
                                        .concat(Pc(Q.getCapabilities(), Cy))
                                    );
                                }),
                                T.updateAudioPlayingState(T.audio_),
                                T.updateVideoPlayingState(T.video_),
                                T.updateDeviceIdInUse(),
                                T.log_.info(
                                  "gotStream hasAudio: " +
                                    T.hasAudio() +
                                    " hasVideo: " +
                                    T.hasVideo()
                                ),
                                T.setIsReadyToPublish(!0),
                                st.logSuccessEvent({
                                  userId: T.client_
                                    ? T.client_.getUserId()
                                    : T.userId_,
                                  eventType: Md,
                                  kind: "getUserMedia",
                                }),
                                A()
                              );
                            })
                            .catch(function (X) {
                              ye.emit(g0, {
                                stream: T,
                                audio: T.audio_,
                                video: T.video_,
                                error: X,
                              }),
                                st.logFailedEvent({
                                  userId: T.client_
                                    ? T.client_.getUserId()
                                    : T.userId_,
                                  eventType: Md,
                                  kind: "getUserMedia",
                                  error: X,
                                }),
                                T.log_.error(
                                  "getUserMedia error observed " + X
                                ),
                                L(X);
                            }));
                    }
                  });
                },
              },
              {
                key: "listenForScreenSharingStopped",
                value: function (T) {
                  var A = this;
                  T.addEventListener("ended", function (L) {
                    A.log_.info(
                      "screen sharing was stopped because the video track is ended"
                    ),
                      A.emitter_.emit(zF);
                  });
                },
              },
              {
                key: "muteAudio",
                value: function () {
                  var T = vt(Ee(F.prototype), "muteAudio", this).call(this);
                  return (
                    T &&
                      (this.log_.info("localStream mute audio"),
                      this.sendMutedFlag(mt, !0)),
                    T
                  );
                },
              },
              {
                key: "muteVideo",
                value: function () {
                  var T = vt(Ee(F.prototype), "muteVideo", this).call(this);
                  return (
                    T &&
                      (this.log_.info("localStream mute video"),
                      this.sendMutedFlag(dt, !0)),
                    T
                  );
                },
              },
              {
                key: "unmuteAudio",
                value: function () {
                  var T = vt(Ee(F.prototype), "unmuteAudio", this).call(this);
                  return (
                    T &&
                      (this.log_.info("localStream unmute audio"),
                      this.sendMutedFlag(mt, !1)),
                    T
                  );
                },
              },
              {
                key: "unmuteVideo",
                value: function () {
                  var T = vt(Ee(F.prototype), "unmuteVideo", this).call(this);
                  return (
                    T &&
                      (this.log_.info("localStream unmute video"),
                      this.sendMutedFlag(dt, !1)),
                    T
                  );
                },
              },
              {
                key: "sendMutedFlag",
                value: function (T, A) {
                  this.setMuteState(T, A);
                  var L = this.getConnection();
                  if (L) {
                    L.sendMutedFlag(this.muteState_, this);
                    var $ = L.getUserId(),
                      X = L.getTinyId(),
                      Q = "".concat(A ? ir : sa, " local ").concat(T, " track");
                    xr($, {
                      eventId: T === mt ? (A ? x9 : O9) : A ? P9 : D9,
                      eventDesc: Q,
                      timestamp: hr(),
                      userId: $,
                      tinyId: X,
                    });
                  }
                },
              },
              {
                key: "setMuteState",
                value: function (T, A) {
                  (this.muteState_[T] = A),
                    this.log_.info(
                      "set "
                        .concat(T, " muted state: [")
                        .concat(A ? "mute" : "unmute", "]")
                    );
                },
              },
              {
                key: "setAudioProfile",
                value:
                  ((N = C(
                    m().mark(function U(T) {
                      var A, L, $;
                      return m().wrap(
                        function (X) {
                          for (;;)
                            switch ((X.prev = X.next)) {
                              case 0:
                                if (
                                  (E(T) === "object"
                                    ? (A = T)
                                    : (A = MA.get(T)) === void 0 &&
                                      (A = MA.get("standard")),
                                  this.log_.info(
                                    "setAudioProfile: " + JSON.stringify(A)
                                  ),
                                  !(L = this.getAudioTrack()))
                                ) {
                                  X.next = 6;
                                  break;
                                }
                                return (X.next = 6), L.applyConstraints(A);
                              case 6:
                                if (
                                  (($ =
                                    this.audioProfile_.bitrate !== A.bitrate),
                                  (this.audioProfile_ = v(
                                    v({}, this.audioProfile_),
                                    A
                                  )),
                                  !$ || !this.connection_)
                                ) {
                                  X.next = 12;
                                  break;
                                }
                                return (
                                  (X.next = 11),
                                  this.connection_.setBandwidth({
                                    bandwidth: this.audioProfile_.bitrate,
                                    type: mt,
                                  })
                                );
                              case 11:
                                this.connection_.sendMediaSettings(this);
                              case 12:
                              case "end":
                                return X.stop();
                            }
                        },
                        U,
                        this
                      );
                    })
                  )),
                  function (U) {
                    return N.apply(this, arguments);
                  }),
              },
              {
                key: "setVideoProfile",
                value:
                  ((R = C(
                    m().mark(function U(T) {
                      var A, L, $, X;
                      return m().wrap(
                        function (Q) {
                          for (;;)
                            switch ((Q.prev = Q.next)) {
                              case 0:
                                if (!this.connection_ || NI()) {
                                  Q.next = 2;
                                  break;
                                }
                                throw new Ie({
                                  code: ke.NOT_SUPPORTED,
                                  message: Le({ key: IU }),
                                });
                              case 2:
                                if (
                                  (Uo(T)
                                    ? (L = v(v({}, this.videoProfile_), T))
                                    : zn(T) &&
                                      ((L = Sb.get(T)),
                                      rt(L) && (L = Sb.get("480p_2"))),
                                  (A = this.client_) !== null &&
                                    A !== void 0 &&
                                    A.get2k4kFlag() &&
                                    (this.client_.get2k4kFlag() !== 1 &&
                                    !this.screen_ &&
                                    L.height * L.width >= 3686400
                                      ? ((L.width = 1920),
                                        (L.height = 1080),
                                        this.log_.warn($T))
                                      : Ko.handleFunctionState({
                                          fnName: "2K_4K",
                                        })),
                                  L &&
                                    L.width * L.height > 921600 &&
                                    fV &&
                                    ((L.width = 1280),
                                    (L.height = 720),
                                    this.log_.warn(
                                      "reset to 1280 * 720 on iOS 13~14"
                                    )),
                                  this.log_.info(
                                    "setVideoProfile " + JSON.stringify(L)
                                  ),
                                  !($ = this.getVideoTrack()))
                                ) {
                                  Q.next = 10;
                                  break;
                                }
                                return (Q.next = 10), $.applyConstraints(L);
                              case 10:
                                if (
                                  ((X =
                                    this.videoProfile_.bitrate !== L.bitrate),
                                  (this.videoProfile_ = L),
                                  !X || !this.connection_)
                                ) {
                                  Q.next = 16;
                                  break;
                                }
                                return (
                                  (Q.next = 15),
                                  this.connection_.setBandwidth({
                                    bandwidth: L.bitrate,
                                    type: dt,
                                    videoType: _p,
                                  })
                                );
                              case 15:
                                this.connection_.sendMediaSettings(this);
                              case 16:
                              case "end":
                                return Q.stop();
                            }
                        },
                        U,
                        this
                      );
                    })
                  )),
                  function (U) {
                    return R.apply(this, arguments);
                  }),
              },
              {
                key: "getVideoBitrate",
                value: function () {
                  return this.screen_
                    ? this.screenProfile_.bitrate
                    : this.videoProfile_.bitrate;
                },
              },
              {
                key: "getAudioBitrate",
                value: function () {
                  return this.audioProfile_.bitrate;
                },
              },
              {
                key: "setScreenProfile",
                value: function (T) {
                  var A = T;
                  zn(T) && (A = wb.get(T) || wb.get("1080p")),
                    this.log_.info("setScreenProfile " + JSON.stringify(T)),
                    (this.screenProfile_ = A);
                },
              },
              {
                key: "getVideoProfile",
                value: function () {
                  return this.screen_
                    ? this.screenProfile_
                    : this.videoProfile_;
                },
              },
              {
                key: "getAudioProfile",
                value: function () {
                  return this.audioProfile_;
                },
              },
              {
                key: "setVideoContentHint",
                value: function (T) {
                  var A = this.getVideoTrack();
                  A &&
                    "contentHint" in A &&
                    (this.log_.info("set video track contentHint to: " + T),
                    (A.contentHint = T),
                    A.contentHint !== T &&
                      this.log_.warn("Invalid video track contentHint: " + T));
                },
              },
              {
                key: "switchDevice",
                value:
                  ((b = C(
                    m().mark(function U(T, A) {
                      var L,
                        $,
                        X,
                        Q,
                        D,
                        M,
                        z,
                        W,
                        ee,
                        H,
                        I,
                        S,
                        q,
                        J,
                        te,
                        ue,
                        fe,
                        Re;
                      return m().wrap(
                        function (De) {
                          for (;;)
                            switch ((De.prev = De.next)) {
                              case 0:
                                if (
                                  this.mediaStream_ &&
                                  this.cameraId_ !== A &&
                                  this.facingMode_ !== A
                                ) {
                                  De.next = 2;
                                  break;
                                }
                                return De.abrupt("return");
                              case 2:
                                if (
                                  (($ = T === dt),
                                  !(L = T === mt) || A !== this.microphoneId_)
                                ) {
                                  De.next = 11;
                                  break;
                                }
                                if (A === Ip) {
                                  De.next = 7;
                                  break;
                                }
                                return De.abrupt("return");
                              case 7:
                                return (
                                  (De.next = 9),
                                  ZF(
                                    this.microphoneGroupId_,
                                    this.microphoneLabel_
                                  )
                                );
                              case 9:
                                if (!De.sent) {
                                  De.next = 11;
                                  break;
                                }
                                return De.abrupt("return");
                              case 11:
                                return (
                                  this.setIsReadyToPublish(!1),
                                  this.log_.info(
                                    "switchDevice " + T + " to: " + A
                                  ),
                                  L &&
                                    ((X = this.getAudioTrack()),
                                    (Q = this.getMicrophoneTrackMixed()),
                                    X && X.stop(),
                                    Q && Q.stop()),
                                  $ &&
                                    ((D = this.getVideoTrack()) && D.stop(),
                                    Ky &&
                                      (M = this.getAudioTrack()) &&
                                      (this.log_.info(
                                        "stop audio track first in huawei env"
                                      ),
                                      M.stop())),
                                  (De.prev = 15),
                                  (De.next = 18),
                                  yb({
                                    audio: L || Ky,
                                    video: $,
                                    facingMode:
                                      A === aT || A === oT ? A : void 0,
                                    cameraId: $ ? A : this.cameraId_,
                                    microphoneId: L ? A : this.microphoneId_,
                                    width: this.videoProfile_.width,
                                    height: this.videoProfile_.height,
                                    frameRate: this.videoProfile_.frameRate,
                                    sampleRate: this.audioProfile_.sampleRate,
                                    channelCount:
                                      this.audioProfile_.channelCount,
                                    autoGainControl:
                                      this.audioProfile_.autoGainControl,
                                    noiseSuppression:
                                      this.audioProfile_.noiseSuppression,
                                    echoCancellation:
                                      this.audioProfile_.echoCancellation,
                                    useExact: !0,
                                    retryWhenExactFailed: !1,
                                  })
                                );
                              case 18:
                                if (((z = De.sent), (W = null), !L)) {
                                  De.next = 34;
                                  break;
                                }
                                if (
                                  !(ee = z.getAudioTracks()[0]) ||
                                  !this.isAudioTrackMixed()
                                ) {
                                  De.next = 31;
                                  break;
                                }
                                return (
                                  (H = this.getAudioTrack()),
                                  (I = Sn.AudioMixerPlugin.getAudioTrackMap()),
                                  (De.next = 27),
                                  Sn.AudioMixerPlugin.mix({
                                    targetTrack: ee,
                                    sourceList: I.get(H.id).sourceList,
                                    trackList: I.get(H.id).trackList,
                                  })
                                );
                              case 27:
                                (S = De.sent), (W = S), (De.next = 32);
                                break;
                              case 31:
                                W = ee;
                              case 32:
                                De.next = 43;
                                break;
                              case 34:
                                if (
                                  !(W = z.getVideoTracks()[0]) ||
                                  !this.isVideoTrackBeautified()
                                ) {
                                  De.next = 39;
                                  break;
                                }
                                return (
                                  (De.next = 38), this.generateBeautyTrack(W)
                                );
                              case 38:
                                W = De.sent;
                              case 39:
                                if (!(q = z.getAudioTracks()[0]) || !Ky) {
                                  De.next = 43;
                                  break;
                                }
                                return (De.next = 43), this.replaceTrack(q);
                              case 43:
                                return (De.next = 45), this.replaceTrack(W);
                              case 45:
                                (J = this.getConnection()) &&
                                  ((te = J.getUserId()),
                                  (ue = J.getTinyId()),
                                  (fe = L9),
                                  (Re = "switch camera"),
                                  L && ((fe = M9), (Re = "switch microphone")),
                                  xr(te, {
                                    eventId: fe,
                                    eventDesc: Re,
                                    timestamp: hr(),
                                    userId: te,
                                    tinyId: ue,
                                  })),
                                  this.log_.info(
                                    "switch ".concat(
                                      L ? "microphone" : "camera",
                                      " success "
                                    )
                                  ),
                                  L && (this.audio_ = !0),
                                  $ &&
                                    ((this.video_ = !0),
                                    (this.facingMode_ =
                                      A === oT || A === aT ? A : "")),
                                  this.updateDeviceIdInUse(),
                                  this.setIsReadyToPublish(!0),
                                  (De.next = 59);
                                break;
                              case 54:
                                throw (
                                  ((De.prev = 54),
                                  (De.t0 = De.catch(15)),
                                  this.log_.error(De.t0),
                                  L
                                    ? this.recoverCapture({
                                        audio: !0,
                                        video: !1,
                                        microphoneId: this.microphoneId_,
                                      })
                                    : this.recoverCapture({
                                        audio: !1,
                                        video: !0,
                                        cameraId: this.cameraId_,
                                        facingMode: this.facingMode_,
                                      }),
                                  De.t0)
                                );
                              case 59:
                              case "end":
                                return De.stop();
                            }
                        },
                        U,
                        this,
                        [[15, 54]]
                      );
                    })
                  )),
                  function (U, T) {
                    return b.apply(this, arguments);
                  }),
              },
              {
                key: "addTrack",
                value:
                  ((_ = C(
                    m().mark(function U(T) {
                      var A, L, $;
                      return m().wrap(
                        function (X) {
                          for (;;)
                            switch ((X.prev = X.next)) {
                              case 0:
                                if (
                                  ((X.prev = 0),
                                  T.kind === dt &&
                                    tu &&
                                    ((A = T.getSettings()),
                                    !this.videoSetting_ ||
                                      (A.width === this.videoSetting_.width &&
                                        A.height ===
                                          this.videoSetting_.height) ||
                                      this.log_.warn(
                                        "video resolution of the track ("
                                          .concat(A.width, " x ")
                                          .concat(
                                            A.height,
                                            ") shall be kept the same as the previous: "
                                          )
                                          .concat(
                                            this.videoSetting_.width,
                                            " x "
                                          )
                                          .concat(
                                            this.videoSetting_.height,
                                            ". It may cause abnormal Cloud Recording."
                                          )
                                      )),
                                  (this.isAddingTrack_ = !0),
                                  this.keepMuteState(T),
                                  this.mediaStream_.addTrack(T),
                                  !(L = this.getConnection()))
                                ) {
                                  X.next = 11;
                                  break;
                                }
                                return (
                                  ($ = null),
                                  T.kind === dt &&
                                    (Up || Mp) &&
                                    xE(T) &&
                                    ($ = this.getCanvasTrack()),
                                  (X.next = 11),
                                  L.addTrack($ || T, this)
                                );
                              case 11:
                                T.kind === mt
                                  ? ((this.audio_ = !0),
                                    this.updateAudioPlayingState(!0),
                                    this.captureVolume_ !== 100 &&
                                      this.setAudioCaptureVolume(
                                        this.captureVolume_
                                      ))
                                  : ((this.video_ = !0),
                                    this.updateVideoPlayingState(!0)),
                                  (this.isAddingTrack_ = !1),
                                  (X.next = 20);
                                break;
                              case 15:
                                throw (
                                  ((X.prev = 15),
                                  (X.t0 = X.catch(0)),
                                  this.mediaStream_.removeTrack(T),
                                  (this.isAddingTrack_ = !1),
                                  X.t0)
                                );
                              case 20:
                              case "end":
                                return X.stop();
                            }
                        },
                        U,
                        this,
                        [[0, 15]]
                      );
                    })
                  )),
                  function (U) {
                    return _.apply(this, arguments);
                  }),
              },
              {
                key: "removeTrack",
                value:
                  ((g = C(
                    m().mark(function U(T) {
                      var A;
                      return m().wrap(
                        function (L) {
                          for (;;)
                            switch ((L.prev = L.next)) {
                              case 0:
                                if (
                                  ((L.prev = 0),
                                  (this.isRemovingTrack_ = !0),
                                  !(A = this.getConnection()))
                                ) {
                                  L.next = 17;
                                  break;
                                }
                                if (
                                  T.kind !== dt ||
                                  (!Up && !Mp) ||
                                  !this.canvasTrack_
                                ) {
                                  L.next = 10;
                                  break;
                                }
                                return (
                                  (L.next = 7),
                                  A.removeTrack(this.canvasTrack_, this)
                                );
                              case 7:
                                this.clearCanvas(), (L.next = 17);
                                break;
                              case 10:
                                if (T.kind !== mt || !this.gain_.audioTrack) {
                                  L.next = 15;
                                  break;
                                }
                                return (
                                  (L.next = 13),
                                  A.removeTrack(this.gain_.audioTrack, this)
                                );
                              case 13:
                                L.next = 17;
                                break;
                              case 15:
                                return (L.next = 17), A.removeTrack(T, this);
                              case 17:
                                this.mediaStream_.removeTrack(T),
                                  T.kind === mt
                                    ? ((this.audio_ = !1),
                                      this.updateAudioPlayingState(!1),
                                      this.stopGainNode())
                                    : ((this.video_ = !1),
                                      this.updateVideoPlayingState(!1)),
                                  (this.isRemovingTrack_ = !1),
                                  (L.next = 26);
                                break;
                              case 22:
                                throw (
                                  ((L.prev = 22),
                                  (L.t0 = L.catch(0)),
                                  (this.isRemovingTrack_ = !1),
                                  L.t0)
                                );
                              case 26:
                              case "end":
                                return L.stop();
                            }
                        },
                        U,
                        this,
                        [[0, 22]]
                      );
                    })
                  )),
                  function (U) {
                    return g.apply(this, arguments);
                  }),
              },
              {
                key: "replaceTrack",
                value:
                  ((p = C(
                    m().mark(function U(T) {
                      var A, L, $;
                      return m().wrap(
                        function (X) {
                          for (;;)
                            switch ((X.prev = X.next)) {
                              case 0:
                                if (
                                  (T.kind === dt &&
                                    tu &&
                                    ((A = T.getSettings()),
                                    !this.videoSetting_ ||
                                      (A.width === this.videoSetting_.width &&
                                        A.height ===
                                          this.videoSetting_.height) ||
                                      this.log_.warn(
                                        "video resolution of the track ("
                                          .concat(A.width, " x ")
                                          .concat(
                                            A.height,
                                            ") shall be kept the same as the previous: "
                                          )
                                          .concat(
                                            this.videoSetting_.width,
                                            " x "
                                          )
                                          .concat(
                                            this.videoSetting_.height,
                                            ". It may cause abnormal Cloud Recording."
                                          )
                                      )),
                                  this.keepMuteState(T),
                                  (L = this.mediaStream_),
                                  T.kind !== mt)
                                ) {
                                  X.next = 12;
                                  break;
                                }
                                if (
                                  (L.removeTrack(L.getAudioTracks()[0]),
                                  L.addTrack(T),
                                  vt(
                                    Ee(F.prototype),
                                    "restartAudio",
                                    this
                                  ).call(this),
                                  !this.gain_.gainNode)
                                ) {
                                  X.next = 10;
                                  break;
                                }
                                return (
                                  this.reconnectGainNode(T), X.abrupt("return")
                                );
                              case 10:
                                X.next = 15;
                                break;
                              case 12:
                                L.removeTrack(L.getVideoTracks()[0]),
                                  L.addTrack(T),
                                  vt(
                                    Ee(F.prototype),
                                    "restartVideo",
                                    this
                                  ).call(this);
                              case 15:
                                if (!($ = this.getConnection())) {
                                  X.next = 21;
                                  break;
                                }
                                if (
                                  T.kind !== dt ||
                                  (!Up && !Mp) ||
                                  !this.canvasTrack_
                                ) {
                                  X.next = 19;
                                  break;
                                }
                                return X.abrupt("return");
                              case 19:
                                return (X.next = 21), $.replaceTrack(T, this);
                              case 21:
                              case "end":
                                return X.stop();
                            }
                        },
                        U,
                        this
                      );
                    })
                  )),
                  function (U) {
                    return p.apply(this, arguments);
                  }),
              },
              {
                key: "recoverCapture",
                value:
                  ((h = C(
                    m().mark(function U(T) {
                      var A, L, $, X, Q, D, M, z, W, ee, H, I, S, q, J, te, ue;
                      return m().wrap(
                        function (fe) {
                          for (;;)
                            switch ((fe.prev = fe.next)) {
                              case 0:
                                if (
                                  !(
                                    !this.mediaStream_ ||
                                    !this.enableAutoRecoverCapture_ ||
                                    (T.audio &&
                                      !T.video &&
                                      this.isAudioRecovering_) ||
                                    (T.video &&
                                      !T.audio &&
                                      this.isVideoRecovering_)
                                  )
                                ) {
                                  fe.next = 2;
                                  break;
                                }
                                return fe.abrupt("return");
                              case 2:
                                return (
                                  T.audio && (this.isAudioRecovering_ = !0),
                                  T.video && (this.isVideoRecovering_ = !0),
                                  this.log_.warn(
                                    "recoverCapture() trying " +
                                      JSON.stringify(T)
                                  ),
                                  (A = this.audio_ && T.audio),
                                  (L = this.video_ && T.video),
                                  (fe.prev = 7),
                                  (fe.next = 10),
                                  Sn.getCameras()
                                );
                              case 10:
                                return (
                                  ($ = fe.sent),
                                  (fe.next = 13),
                                  Sn.getMicrophones()
                                );
                              case 13:
                                if (
                                  ((X = fe.sent),
                                  L &&
                                    $.length === 0 &&
                                    ((L = !1),
                                    this.log_.warn(
                                      "recoverCapture() video flag is true, but no camera detected, set video to false"
                                    )),
                                  A &&
                                    X.length === 0 &&
                                    ((A = !1),
                                    this.log_.warn(
                                      "recoverCapture() audio flag is true, but no microphone detected, set audio to false"
                                    )),
                                  A || L)
                                ) {
                                  fe.next = 21;
                                  break;
                                }
                                return (
                                  T.audio && (this.isAudioRecovering_ = !1),
                                  T.video && (this.isVideoRecovering_ = !1),
                                  this.log_.warn(
                                    "recoverCapture() both audio and video are false, aborted"
                                  ),
                                  fe.abrupt("return")
                                );
                              case 21:
                                return (
                                  (Q =
                                    T &&
                                    $.findIndex(function (Re) {
                                      return Re.deviceId === T.cameraId;
                                    }) >= 0),
                                  (D =
                                    T &&
                                    X.findIndex(function (Re) {
                                      return Re.deviceId === T.microphoneId;
                                    }) >= 0),
                                  A &&
                                    ((M = this.getAudioTrack()) === null ||
                                      M === void 0 ||
                                      M.stop()),
                                  L &&
                                    ((z = this.getVideoTrack()) === null ||
                                      z === void 0 ||
                                      z.stop()),
                                  (fe.next = 27),
                                  yb({
                                    audio: A,
                                    video: L,
                                    cameraId: Q ? T.cameraId : void 0,
                                    microphoneId: D ? T.microphoneId : void 0,
                                    facingMode: this.facingMode_,
                                    width: this.videoProfile_.width,
                                    height: this.videoProfile_.height,
                                    frameRate: this.videoProfile_.frameRate,
                                    sampleRate: this.audioProfile_.sampleRate,
                                    channelCount:
                                      this.audioProfile_.channelCount,
                                    autoGainControl:
                                      this.audioProfile_.autoGainControl,
                                    noiseSuppression:
                                      this.audioProfile_.noiseSuppression,
                                    echoCancellation:
                                      this.audioProfile_.echoCancellation,
                                  })
                                );
                              case 27:
                                (W = fe.sent), (ee = W.getTracks()), (H = 0);
                              case 30:
                                if (!(H < ee.length)) {
                                  fe.next = 59;
                                  break;
                                }
                                if (
                                  (I = ee[H]).kind !== mt ||
                                  !this.isAudioTrackMixed()
                                ) {
                                  fe.next = 45;
                                  break;
                                }
                                if (
                                  ((S = this.getAudioTrack()),
                                  (q = Sn.AudioMixerPlugin.getAudioTrackMap()),
                                  (J = q.get(S.id)).hasMicrophone)
                                ) {
                                  fe.next = 39;
                                  break;
                                }
                                return I.stop(), fe.abrupt("continue", 56);
                              case 39:
                                return (
                                  (fe.next = 41),
                                  Sn.AudioMixerPlugin.mix({
                                    targetTrack: I,
                                    sourceList: J.sourceList,
                                    trackList: J.trackList,
                                  })
                                );
                              case 41:
                                return (
                                  (te = fe.sent),
                                  (fe.next = 44),
                                  this.replaceTrack(te)
                                );
                              case 44:
                                return fe.abrupt("continue", 56);
                              case 45:
                                if (
                                  I.kind !== dt ||
                                  !this.isVideoTrackBeautified()
                                ) {
                                  fe.next = 52;
                                  break;
                                }
                                return (
                                  (fe.next = 48), this.generateBeautyTrack(I)
                                );
                              case 48:
                                return (
                                  (ue = fe.sent),
                                  (fe.next = 51),
                                  this.replaceTrack(ue)
                                );
                              case 51:
                                return fe.abrupt("continue", 56);
                              case 52:
                                return (fe.next = 54), this.replaceTrack(I);
                              case 54:
                                if (I.readyState !== "ended") {
                                  fe.next = 56;
                                  break;
                                }
                                throw new Error(
                                  "new track is failed, muted "
                                    .concat(I.muted, " readyState ")
                                    .concat(I.readyState)
                                );
                              case 56:
                                H++, (fe.next = 30);
                                break;
                              case 59:
                                this.updateDeviceIdInUse(),
                                  st.logSuccessEvent({
                                    userId: this.client_
                                      ? this.client_.getUserId()
                                      : this.userId_,
                                    eventType: CT,
                                  }),
                                  T.audio && (this.isAudioRecovering_ = !1),
                                  T.video && (this.isVideoRecovering_ = !1),
                                  this.log_.warn(
                                    "recoverCapture() successfully"
                                  ),
                                  this.emitter_.emit(GF, {
                                    isCamera: T.video,
                                    isMicrophone: T.audio,
                                    cameraId: this.cameraId_,
                                    microphoneId: this.microphoneId_,
                                  }),
                                  (fe.next = 73);
                                break;
                              case 67:
                                throw (
                                  ((fe.prev = 67),
                                  (fe.t0 = fe.catch(7)),
                                  T.audio && (this.isAudioRecovering_ = !1),
                                  T.video && (this.isVideoRecovering_ = !1),
                                  this.log_.warn(
                                    "recoverCapture() failed, " + fe.t0
                                  ),
                                  fe.t0)
                                );
                              case 73:
                              case "end":
                                return fe.stop();
                            }
                        },
                        U,
                        this,
                        [[7, 67]]
                      );
                    })
                  )),
                  function (U) {
                    return h.apply(this, arguments);
                  }),
              },
              {
                key: "updateDeviceIdInUse",
                value: function () {
                  var T = this;
                  if (!this.mediaStream_)
                    return (
                      (this.cameraId_ = ""),
                      (this.cameraGroupId_ = ""),
                      (this.microphoneId_ = ""),
                      void (this.microphoneGroupId_ = "")
                    );
                  tu &&
                    this.mediaStream_.getTracks().forEach(function ($) {
                      if ($.kind === mt && T.isAudioTrackMixed()) {
                        var X = T.getMicrophoneTrackMixed();
                        if (X) {
                          var Q = X.getSettings(),
                            D = Q.deviceId,
                            M = Q.groupId;
                          D &&
                            ((T.microphoneId_ = D),
                            (T.microphoneGroupId_ = M),
                            (T.microphoneLabel_ = X.label));
                        }
                      } else if ($.kind === dt && T.isVideoTrackBeautified()) {
                        var z = T.getBeautyOriginTrack();
                        if (z) {
                          var W = z.getSettings(),
                            ee = W.deviceId,
                            H = W.groupId,
                            I = W.facingMode;
                          ee && ((T.cameraId_ = ee), (T.cameraGroupId_ = H)),
                            I && (T.facingMode_ = I);
                        }
                      } else {
                        var S = $.getSettings(),
                          q = S.deviceId,
                          J = S.groupId,
                          te = S.facingMode;
                        q &&
                          ($.kind === mt
                            ? ((T.microphoneId_ = q),
                              (T.microphoneGroupId_ = J),
                              (T.microphoneLabel_ = $.label))
                            : $.kind !== dt ||
                              T.screen_ ||
                              ((T.cameraId_ = q),
                              (T.cameraGroupId_ = J),
                              te && (T.facingMode_ = te)));
                      }
                    });
                  var A = this.mediaStream_.getAudioTracks(),
                    L = this.mediaStream_.getVideoTracks();
                  A &&
                    A.length === 0 &&
                    ((this.microphoneId_ = ""), (this.microphoneGroupId_ = "")),
                    L &&
                      L.length === 0 &&
                      ((this.cameraId_ = ""), (this.cameraGroupId_ = ""));
                },
              },
              {
                key: "isAudioTrackMixed",
                value: function () {
                  if (Sn.AudioMixerPlugin) {
                    var T = Sn.AudioMixerPlugin.getAudioTrackMap(),
                      A = this.getAudioTrack();
                    if (T && A && T.has(A.id)) return !0;
                  }
                  return !1;
                },
              },
              {
                key: "getMicrophoneTrackMixed",
                value: function () {
                  if (Sn.AudioMixerPlugin) {
                    var T = Sn.AudioMixerPlugin.getAudioTrackMap(),
                      A = this.getAudioTrack();
                    if (T && A && T.has(A.id)) {
                      var L = T.get(A.id);
                      return L.hasMicrophone ? L.microphoneTrack : null;
                    }
                  }
                  return null;
                },
              },
              {
                key: "isVideoTrackBeautified",
                value: function () {
                  if (Sn.beautyTrackMap) {
                    var T = Sn.beautyTrackMap,
                      A = this.getVideoTrack();
                    if (A && T.has(A.id)) return !0;
                  }
                  return !1;
                },
              },
              {
                key: "getBeautyOriginTrack",
                value: function () {
                  if (Sn.beautyTrackMap) {
                    var T = Sn.beautyTrackMap,
                      A = this.getVideoTrack();
                    if (A && T.has(A.id)) {
                      var L = T.get(A.id);
                      if (L.originTrack) return L.originTrack;
                    }
                  }
                  return null;
                },
              },
              {
                key: "generateBeautyTrack",
                value:
                  ((l = C(
                    m().mark(function U(T) {
                      var A, L, $, X;
                      return m().wrap(
                        function (Q) {
                          for (;;)
                            switch ((Q.prev = Q.next)) {
                              case 0:
                                if (
                                  ((A = null),
                                  (L = this.getVideoTrack()),
                                  ($ = Sn.beautyTrackMap.get(L.id)),
                                  (X = $.param),
                                  $.type)
                                ) {
                                  Q.next = 8;
                                  break;
                                }
                                (A = $.pluginInstance.generateBeautyTrack(T)),
                                  (Q.next = 22);
                                break;
                              case 8:
                                (Q.t0 = $.type),
                                  (Q.next =
                                    Q.t0 === "beauty"
                                      ? 11
                                      : Q.t0 === "virtual"
                                      ? 13
                                      : Q.t0 === "mixed"
                                      ? 17
                                      : 21);
                                break;
                              case 11:
                                return (
                                  (A = $.pluginInstance.generateBeautyTrack(T)),
                                  Q.abrupt("break", 22)
                                );
                              case 13:
                                return (
                                  (Q.next = 15),
                                  $.pluginInstance.generateVirtualTrack({
                                    videoTrack: T,
                                    type: X.type,
                                    img: X.img,
                                  })
                                );
                              case 15:
                              case 19:
                                return (A = Q.sent), Q.abrupt("break", 22);
                              case 17:
                                return (
                                  (Q.next = 19),
                                  $.pluginInstance.generateMixedTrack({
                                    videoTrack: T,
                                    type: X.type,
                                    img: X.img,
                                  })
                                );
                              case 21:
                                return Q.abrupt("break", 22);
                              case 22:
                                return (
                                  $.pluginInstance.deleteSource(L.id),
                                  this.log_.info(
                                    "regenerate beauty track, track id = ".concat(
                                      T.id
                                    )
                                  ),
                                  Q.abrupt("return", A)
                                );
                              case 25:
                              case "end":
                                return Q.stop();
                            }
                        },
                        U,
                        this
                      );
                    })
                  )),
                  function (U) {
                    return l.apply(this, arguments);
                  }),
              },
              {
                key: "getScreen",
                value: function () {
                  return this.screen_;
                },
              },
              {
                key: "hasScreenTrack",
                value: function () {
                  if (this.screen_) return !0;
                  var T = this.getVideoTrack();
                  return !!T && (T.contentHint === sT || T.contentHint === SM);
                },
              },
              {
                key: "getVideo",
                value: function () {
                  return this.video_;
                },
              },
              {
                key: "getAudio",
                value: function () {
                  return this.audio_;
                },
              },
              {
                key: "getCameraId",
                value: function () {
                  return this.cameraId_;
                },
              },
              {
                key: "getMicrophoneId",
                value: function () {
                  return this.microphoneId_;
                },
              },
              {
                key: "getMicrophoneGroupId",
                value: function () {
                  return this.microphoneGroupId_;
                },
              },
              {
                key: "getIsReadyToPublish",
                value: function () {
                  return this.isReadyToPublish_;
                },
              },
              {
                key: "setIsReadyToPublish",
                value: function (T) {
                  this.isReadyToPublish_ = T;
                },
              },
              {
                key: "setPublishState",
                value: function (T) {
                  this.publishState_ = T;
                },
              },
              {
                key: "setBeautyStatus",
                value: function (T) {
                  this.beautyStatus_ = !!T;
                },
              },
              {
                key: "getBeautyStatus",
                value: function () {
                  return this.beautyStatus_;
                },
              },
              {
                key: "syncMuteState",
                value: function () {
                  var T = this.getAudioTrack(),
                    A = this.getVideoTrack();
                  if (T) {
                    var L = !T.enabled;
                    this.setMuteState(mt, L);
                  }
                  if (A) {
                    var $ = !A.enabled;
                    this.setMuteState(dt, $);
                  }
                  this.connection_ &&
                    this.connection_.sendMutedFlag(this.muteState_, this);
                },
              },
              {
                key: "keepMuteState",
                value: function (T) {
                  T instanceof window.MediaStreamTrack &&
                    this.muteState_[T.kind] &&
                    ((T.enabled = !1),
                    this.log_.warn(
                      "prev ".concat(T.kind, " track is muted, keep mute state")
                    ));
                },
              },
              {
                key: "onVideoTrackStopped",
                value:
                  ((o = C(
                    m().mark(function U(T) {
                      var A,
                        L,
                        $ = this;
                      return m().wrap(
                        function (X) {
                          for (;;)
                            switch ((X.prev = X.next)) {
                              case 0:
                                if (
                                  ((A = T.stream),
                                  (L = T.type),
                                  A === this &&
                                    this.video_ &&
                                    this.cameraId_ &&
                                    YF(this.getVideoTrack()) &&
                                    !this.isVideoRecovering_ &&
                                    (L !== ir || !jd || !Ks))
                                ) {
                                  X.next = 3;
                                  break;
                                }
                                return X.abrupt("return");
                              case 3:
                                if (
                                  !(
                                    Date.now() - this.prevVideoRecoverTime_ <
                                    Rp
                                  )
                                ) {
                                  X.next = 6;
                                  break;
                                }
                                return (
                                  setTimeout(function () {
                                    return $.onVideoTrackStopped({
                                      stream: A,
                                      type: L,
                                    });
                                  }, Rp),
                                  X.abrupt("return")
                                );
                              case 6:
                                L === ir
                                  ? setTimeout(function () {
                                      var Q = $.getVideoTrack();
                                      Q != null &&
                                        Q.muted &&
                                        document.visibilityState ===
                                          "visible" &&
                                        $.recoverVideoCapture(L);
                                    }, 5e3)
                                  : this.recoverVideoCapture(L);
                              case 7:
                              case "end":
                                return X.stop();
                            }
                        },
                        U,
                        this
                      );
                    })
                  )),
                  function (U) {
                    return o.apply(this, arguments);
                  }),
              },
              {
                key: "onAudioTrackStopped",
                value:
                  ((c = C(
                    m().mark(function U(T) {
                      var A,
                        L,
                        $ = this;
                      return m().wrap(
                        function (X) {
                          for (;;)
                            switch ((X.prev = X.next)) {
                              case 0:
                                if (
                                  ((A = T.stream),
                                  (L = T.type),
                                  !(
                                    A !== this ||
                                    !this.audio_ ||
                                    !this.microphoneId_ ||
                                    this.isAudioRecovering_ ||
                                    (L === ir && jd && Ks)
                                  ))
                                ) {
                                  X.next = 3;
                                  break;
                                }
                                return X.abrupt("return");
                              case 3:
                                if (
                                  !(
                                    Date.now() - this.prevAudioRecoverTime_ <
                                    Rp
                                  )
                                ) {
                                  X.next = 6;
                                  break;
                                }
                                return (
                                  setTimeout(function () {
                                    return $.onAudioTrackStopped({
                                      stream: A,
                                      type: L,
                                    });
                                  }, Rp),
                                  X.abrupt("return")
                                );
                              case 6:
                                L === ir
                                  ? setTimeout(function () {
                                      var Q = $.getAudioTrack();
                                      Q != null &&
                                        Q.muted &&
                                        document.visibilityState ===
                                          "visible" &&
                                        $.recoverAudioCapture(L);
                                    }, 5e3)
                                  : this.recoverAudioCapture(L);
                              case 7:
                              case "end":
                                return X.stop();
                            }
                        },
                        U,
                        this
                      );
                    })
                  )),
                  function (U) {
                    return c.apply(this, arguments);
                  }),
              },
              {
                key: "recoverAudioCapture",
                value:
                  ((a = C(
                    m().mark(function U(T) {
                      return m().wrap(
                        function (A) {
                          for (;;)
                            switch ((A.prev = A.next)) {
                              case 0:
                                return (
                                  (this.prevAudioRecoverTime_ = Date.now()),
                                  st.uploadEvent({
                                    log: "stat-local-audio-".concat(T),
                                    userId: this.userId_,
                                  }),
                                  (A.t0 = this),
                                  (A.next = 5),
                                  this.getRecoverCaptureDeviceId(!1)
                                );
                              case 5:
                                (A.t1 = A.sent),
                                  (A.t2 = {
                                    audio: !0,
                                    video: !1,
                                    microphoneId: A.t1,
                                  }),
                                  A.t0.recoverCapture.call(A.t0, A.t2);
                              case 8:
                              case "end":
                                return A.stop();
                            }
                        },
                        U,
                        this
                      );
                    })
                  )),
                  function (U) {
                    return a.apply(this, arguments);
                  }),
              },
              {
                key: "recoverVideoCapture",
                value:
                  ((n = C(
                    m().mark(function U(T) {
                      return m().wrap(
                        function (A) {
                          for (;;)
                            switch ((A.prev = A.next)) {
                              case 0:
                                return (
                                  (this.prevVideoRecoverTime_ = Date.now()),
                                  st.uploadEvent({
                                    log: "stat-local-video-".concat(T),
                                    userId: this.userId_,
                                  }),
                                  (A.t0 = this),
                                  (A.next = 5),
                                  this.getRecoverCaptureDeviceId(!0)
                                );
                              case 5:
                                (A.t1 = A.sent),
                                  (A.t2 = {
                                    audio: !1,
                                    video: !0,
                                    cameraId: A.t1,
                                  }),
                                  A.t0.recoverCapture.call(A.t0, A.t2);
                              case 8:
                              case "end":
                                return A.stop();
                            }
                        },
                        U,
                        this
                      );
                    })
                  )),
                  function (U) {
                    return n.apply(this, arguments);
                  }),
              },
              {
                key: "getRecoverCaptureDeviceId",
                value:
                  ((e = C(
                    m().mark(function U() {
                      var T,
                        A,
                        L,
                        $,
                        X = arguments;
                      return m().wrap(
                        function (Q) {
                          for (;;)
                            switch ((Q.prev = Q.next)) {
                              case 0:
                                if (
                                  ((T =
                                    !(X.length > 0 && X[0] !== void 0) || X[0]),
                                  !(A = T
                                    ? this.cameraId_
                                    : this.microphoneId_) ||
                                    !this.enableAutoRecoverOther_)
                                ) {
                                  Q.next = 17;
                                  break;
                                }
                                if (
                                  (cu.has(A)
                                    ? cu.set(A, cu.get(A) + 1)
                                    : cu.set(A, 1),
                                  !((L = cu.get(A)) >= 3))
                                ) {
                                  Q.next = 17;
                                  break;
                                }
                                if (!T) {
                                  Q.next = 12;
                                  break;
                                }
                                return (Q.next = 9), Sn.getCameras();
                              case 9:
                                (Q.t0 = Q.sent.find(function (D) {
                                  return !cu.has(D.deviceId);
                                })),
                                  (Q.next = 15);
                                break;
                              case 12:
                                return (Q.next = 14), Sn.getMicrophones();
                              case 14:
                                Q.t0 = Q.sent.find(function (D) {
                                  return !cu.has(D.deviceId);
                                });
                              case 15:
                                ($ = Q.t0) &&
                                  (this.log_.warn(
                                    ""
                                      .concat(T ? "camera" : "mic", " ")
                                      .concat(A, " capture fail ")
                                      .concat(L, " times, change new ")
                                      .concat($.deviceId)
                                  ),
                                  (A = $.deviceId));
                              case 17:
                                return Q.abrupt("return", A);
                              case 18:
                              case "end":
                                return Q.stop();
                            }
                        },
                        U,
                        this
                      );
                    })
                  )),
                  function () {
                    return e.apply(this, arguments);
                  }),
              },
              {
                key: "setAudioVolume",
                value: function (T) {
                  vt(Ee(F.prototype), "setAudioVolume", this).call(this, T);
                },
              },
              {
                key: "clearCanvas",
                value: function () {
                  this.canvasInterval_ &&
                    (un.clearTask(this.canvasInterval_),
                    (this.canvasInterval_ = null),
                    (this.canvas_ = null),
                    (this.canvasTrack_ = null));
                },
              },
              {
                key: "getCanvasTrack",
                value: function () {
                  var T = this;
                  if (this.canvasTrack_) return this.canvasTrack_;
                  this.log_.info("gen canvas track");
                  var A = this.getVideoTrack().getSettings(),
                    L = A.width,
                    $ = A.height,
                    X = A.frameRate;
                  this.canvas_ = document.createElement("canvas");
                  var Q = this.canvas_.getContext("2d");
                  (this.canvas_.width = L),
                    (this.canvas_.height = $),
                    (this.canvasInterval_ = un.run(
                      Cp,
                      function () {
                        if (T.hasVideo()) {
                          var M = T.getVideoTrack().getSettings();
                          (M.width === T.canvas_.width &&
                            M.height === T.canvas_.height) ||
                            ((T.canvas_.width = M.width),
                            (T.canvas_.height = M.height));
                        }
                        T.videoPlayer_ &&
                          T.videoPlayer_.element_ &&
                          Q.drawImage(
                            T.videoPlayer_.element_,
                            0,
                            0,
                            T.canvas_.width,
                            T.canvas_.height
                          );
                      },
                      { fps: Math.max(15, X) }
                    ));
                  var D = this.canvas_.captureStream();
                  return (
                    (this.canvasTrack_ = D.getVideoTracks()[0]),
                    this.canvasTrack_
                  );
                },
              },
              {
                key: "setClient",
                value: function (T, A) {
                  T &&
                    (this.log_.setUserId(T.getUserId()),
                    this.log_.setSdkAppId(T.getSDKAppId()),
                    A || this.syncMuteState()),
                    (this.client_ = T);
                },
              },
              {
                key: "setAudioCaptureVolume",
                value: function () {
                  var T = this,
                    A =
                      arguments.length > 0 && arguments[0] !== void 0
                        ? arguments[0]
                        : 100;
                  if (!this.hasAudio() || A < 0 || !Z0()) return !1;
                  if (this.captureVolume_ === A) return !0;
                  (this.captureVolume_ = A),
                    this.log_.info("setCaptureVolume " + A),
                    (A /= 100);
                  var L = NE();
                  if (this.gain_.gainNode) this.gain_.gainNode.gain.value = A;
                  else {
                    var $,
                      X = new MediaStream();
                    X.addTrack(this.getAudioTrack());
                    var Q = L.createMediaStreamDestination(),
                      D = L.createMediaStreamSource(X),
                      M = L.createGain();
                    (M.gain.value = A), D.connect(M), M.connect(Q);
                    var z = Q.stream.getAudioTracks()[0],
                      W = function (H) {
                        return T.log_.info("gained audio track ".concat(H));
                      };
                    (z.onmute = function () {
                      return W("muted");
                    }),
                      (z.onunmute = function () {
                        return W("unmuted");
                      }),
                      (z.onended = function () {
                        return W("ended");
                      }),
                      (this.gain_ = { source: D, audioTrack: z, gainNode: M }),
                      ($ = this.connection_) === null ||
                        $ === void 0 ||
                        $.replaceTrack(z),
                      vt(Ee(F.prototype), "restartAudio", this).call(this);
                  }
                  return !0;
                },
              },
              {
                key: "getGainedTrack",
                value: function () {
                  return this.gain_.audioTrack;
                },
              },
              {
                key: "reconnectGainNode",
                value: function (T) {
                  this.log_.warn("reconnect gain node");
                  var A = new MediaStream();
                  A.addTrack(T);
                  var L = NE().createMediaStreamSource(A);
                  L.connect(this.gain_.gainNode),
                    this.gain_.source.disconnect(),
                    (this.gain_.source = L);
                },
              },
              {
                key: "stopGainNode",
                value: function () {
                  var T = this.gain_,
                    A = T.audioTrack,
                    L = T.source,
                    $ = T.gainNode;
                  $ &&
                    (L.disconnect(),
                    $.disconnect(),
                    (A.onmute = null),
                    (A.onunmute = null),
                    (A.onended = null),
                    A.stop(),
                    (this.gain_ = {
                      source: null,
                      gainNode: null,
                      audioTrack: null,
                    })),
                    (this.captureVolume_ = 100);
                },
              },
              {
                key: "close",
                value: function () {
                  this.setIsReadyToPublish(!1),
                    this.stopGainNode(),
                    vt(Ee(F.prototype), "close", this).call(this);
                },
              },
              {
                key: "setIsAIDenoiser",
                value: function (T) {
                  this.isAIDenoiser = T;
                },
              },
            ]),
            F
          );
        })(wA)),
        Oe(
          $t.prototype,
          "setAudioProfile",
          [TA],
          Object.getOwnPropertyDescriptor($t.prototype, "setAudioProfile"),
          $t.prototype
        ),
        Oe(
          $t.prototype,
          "setVideoProfile",
          [EA],
          Object.getOwnPropertyDescriptor($t.prototype, "setVideoProfile"),
          $t.prototype
        ),
        Oe(
          $t.prototype,
          "setScreenProfile",
          [IA],
          Object.getOwnPropertyDescriptor($t.prototype, "setScreenProfile"),
          $t.prototype
        ),
        Oe(
          $t.prototype,
          "setVideoContentHint",
          [RA],
          Object.getOwnPropertyDescriptor($t.prototype, "setVideoContentHint"),
          $t.prototype
        ),
        Oe(
          $t.prototype,
          "switchDevice",
          [CA],
          Object.getOwnPropertyDescriptor($t.prototype, "switchDevice"),
          $t.prototype
        ),
        Oe(
          $t.prototype,
          "addTrack",
          [AA],
          Object.getOwnPropertyDescriptor($t.prototype, "addTrack"),
          $t.prototype
        ),
        Oe(
          $t.prototype,
          "removeTrack",
          [xA],
          Object.getOwnPropertyDescriptor($t.prototype, "removeTrack"),
          $t.prototype
        ),
        Oe(
          $t.prototype,
          "replaceTrack",
          [PA],
          Object.getOwnPropertyDescriptor($t.prototype, "replaceTrack"),
          $t.prototype
        ),
        Oe(
          $t.prototype,
          "recoverCapture",
          [OA],
          Object.getOwnPropertyDescriptor($t.prototype, "recoverCapture"),
          $t.prototype
        ),
        Oe(
          $t.prototype,
          "setAudioCaptureVolume",
          [DA, NA],
          Object.getOwnPropertyDescriptor(
            $t.prototype,
            "setAudioCaptureVolume"
          ),
          $t.prototype
        ),
        $t),
      UA = { voiceActivityDetection: !1 },
      _G =
        ((LA = Qc({
          retries: 1,
          timeout: 0,
          onRetrying: function (e) {
            this.log_.warn("connection timeout, retrying [".concat(e, "]"));
          },
          onError: function (e, n, a) {
            e.message.includes("timeout")
              ? (this.reset(), this.initialize(), n())
              : a(e);
          },
        })),
        (ch = (function (s) {
          me(Q, s);
          var e,
            n,
            a,
            c,
            o,
            l,
            h,
            p,
            g,
            _,
            b,
            R,
            N,
            B,
            F,
            U,
            T,
            A,
            L,
            $,
            X = St(Q);
          function Q(D) {
            var M;
            return (
              G(this, Q),
              ((M = X.call(this, D)).localStream_ = null),
              (M.exchangeSDPTimeout_ = -1),
              (M.localAuxStream_ = null),
              (M.publishingStream_ = null),
              (M.isPublishingAuxStream_ = !1),
              (M.smallGenerator_ = null),
              (M.isSDPExchanging_ = !1),
              (M.ssrc_ = { audio: 0, video: 0, small: 0, auxiliary: 0 }),
              (M.mediaSettings_ = {
                videoCodec: "",
                videoWidth: 0,
                videoHeight: 0,
                videoBps: 0,
                videoFps: 0,
                audioCodec: "opus",
                audioFs: 0,
                audioChannel: 0,
                audioBps: 0,
                smallVideoWidth: 0,
                smallVideoHeight: 0,
                smallVideoFps: 0,
                smallVideoBps: 0,
                auxVideoWidth: 0,
                auxVideoHeight: 0,
                auxVideoFps: 0,
                auxVideoBps: 0,
              }),
              (M.mixedAudioTrack_ = null),
              M
            );
          }
          return (
            ce(Q, [
              {
                key: "isMainStreamPublished",
                get: function () {
                  return !!this.localStream_;
                },
              },
              {
                key: "isAuxStreamPublished",
                get: function () {
                  return !!this.localAuxStream_;
                },
              },
              {
                key: "publishState",
                get: function () {
                  var M = this,
                    z = {
                      audio: !1,
                      bigVideo: !1,
                      smallVideo: !1,
                      auxVideo: !1,
                    };
                  if (this.peerConnection_) {
                    var W,
                      ee,
                      H,
                      I,
                      S = this.peerConnection_.getSenders();
                    S &&
                      (Bo()
                        ? ((z.audio = !(
                            (W = S[0]) === null ||
                            W === void 0 ||
                            !W.track
                          )),
                          (z.bigVideo = !(
                            (ee = S[1]) === null ||
                            ee === void 0 ||
                            !ee.track
                          )),
                          (z.smallVideo = !(
                            (H = S[2]) === null ||
                            H === void 0 ||
                            !H.track
                          )),
                          (z.auxVideo = !(
                            (I = S[3]) === null ||
                            I === void 0 ||
                            !I.track
                          )))
                        : S.forEach(function (q) {
                            q.track &&
                              (q.track.kind === mt
                                ? (z.audio = !0)
                                : ((z.bigVideo = !0),
                                  M.smallGenerator_ && (z.smallVideo = !0)));
                          }));
                  }
                  return z;
                },
              },
              {
                key: "initialize",
                value: function () {
                  vt(Ee(Q.prototype), "initialize", this).call(this),
                    this.installEvents();
                },
              },
              {
                key: "reset",
                value: function () {
                  this.isReconnecting_ && this.stopReconnection(),
                    this.closePeerConnection(),
                    this.uninstallEvents(),
                    this.clearExchangeSDPTimeout(),
                    this.localStream_ && this.localStream_.clearCanvas();
                },
              },
              {
                key: "close",
                value: function () {
                  vt(Ee(Q.prototype), "close", this).call(this),
                    this.reset(),
                    this.emitConnectionStateChangedEvent(fr),
                    this.smallGenerator_ &&
                      (this.smallGenerator_.destroy(),
                      (this.smallGenerator_ = null));
                },
              },
              {
                key: "installEvents",
                value: function () {
                  this.emitter_.on(Kt.ERROR, this.handleError, this),
                    this.emitter_.on(
                      Kt.CONNECTION_STATE_CHANGED,
                      this.handleConnectionStateChange,
                      this
                    );
                },
              },
              {
                key: "uninstallEvents",
                value: function () {
                  this.emitter_.off(Kt.ERROR, this.handleError, this),
                    this.emitter_.off(
                      Kt.CONNECTION_STATE_CHANGED,
                      this.handleConnectionStateChange,
                      this
                    );
                },
              },
              {
                key: "publish",
                value:
                  (($ = C(
                    m().mark(function D(M, z) {
                      var W, ee, H, I;
                      return m().wrap(
                        function (S) {
                          for (;;)
                            switch ((S.prev = S.next)) {
                              case 0:
                                if (
                                  ((this.publishingStream_ = M),
                                  (this.isPublishingAuxStream_ = z),
                                  (ee = M.getVideoTrack()),
                                  (H = null),
                                  !ee ||
                                    z ||
                                    !this.client_.getIsEnableSmallStream())
                                ) {
                                  S.next = 9;
                                  break;
                                }
                                return (
                                  (this.smallGenerator_ = new Av(M)),
                                  (S.next = 8),
                                  this.smallGenerator_.initialize()
                                );
                              case 8:
                                H =
                                  this.smallGenerator_.generateSmallVideoTrack(
                                    this.client_.smallStreamConfig_
                                  );
                              case 9:
                                if (
                                  ((I = M.getVideoProfile()),
                                  !this.client_.get2k4kFlag())
                                ) {
                                  S.next = 18;
                                  break;
                                }
                                if (
                                  this.client_.get2k4kFlag() === 1 ||
                                  M.getScreen() ||
                                  !(I.height * I.width >= 3686400)
                                ) {
                                  S.next = 18;
                                  break;
                                }
                                return (
                                  (I.width = 1920),
                                  (I.height = 1080),
                                  this.log_.warn($T),
                                  (S.next = 18),
                                  M.setVideoProfile(I)
                                );
                              case 18:
                                if (
                                  !(
                                    Cc &&
                                    Ac() === 115 &&
                                    I.width * I.height <= 230400
                                  )
                                ) {
                                  S.next = 22;
                                  break;
                                }
                                return (
                                  this.log_.warn("fallback video to 480p"),
                                  (S.next = 22),
                                  M.setVideoProfile("480p_2")
                                );
                              case 22:
                                if ((this.updateMediaSettings(M, z), !Jp())) {
                                  S.next = 33;
                                  break;
                                }
                                if (!Lo || EE !== 11) {
                                  S.next = 29;
                                  break;
                                }
                                return (
                                  (S.next = 27), this.publishByAddTrack(M, H)
                                );
                              case 27:
                                S.next = 31;
                                break;
                              case 29:
                                return (
                                  (S.next = 31),
                                  this.publishByTransceiver(M, H, z)
                                );
                              case 31:
                                S.next = 35;
                                break;
                              case 33:
                                return (
                                  (S.next = 35), this.publishByAddTrack(M, H)
                                );
                              case 35:
                                return (
                                  (this.publishingStream_ = null),
                                  (this.isPublishingAuxStream_ = !1),
                                  z
                                    ? (this.localAuxStream_ = M)
                                    : (this.localStream_ = M),
                                  (W = this.sei_) === null ||
                                    W === void 0 ||
                                    W.handleEncodedStreams(),
                                  S.abrupt("return", M)
                                );
                              case 40:
                              case "end":
                                return S.stop();
                            }
                        },
                        D,
                        this
                      );
                    })
                  )),
                  function (D, M) {
                    return $.apply(this, arguments);
                  }),
              },
              {
                key: "publishByTransceiver",
                value:
                  ((L = C(
                    m().mark(function D(M, z, W) {
                      var ee, H, I, S, q, J, te;
                      return m().wrap(
                        function (ue) {
                          for (;;)
                            switch ((ue.prev = ue.next)) {
                              case 0:
                                if (
                                  (this.log_.info("publish by transceiver"),
                                  (ee = M.getMediaStream()),
                                  (H = M.getAudioTrack()),
                                  (I = M.getVideoTrack()),
                                  (S = null),
                                  (Up || Mp) &&
                                    xE(I) &&
                                    (S = M.getCanvasTrack()),
                                  (q = this.peerConnection_.getTransceivers())
                                    .length !== 0)
                                ) {
                                  ue.next = 16;
                                  break;
                                }
                                return (
                                  this.peerConnection_.addTransceiver(H || mt, {
                                    direction: Oo,
                                    streams: [ee],
                                  }),
                                  this.peerConnection_.addTransceiver(
                                    W ? dt : S || I || dt,
                                    { direction: Oo, streams: [ee] }
                                  ),
                                  this.peerConnection_.addTransceiver(z || dt, {
                                    direction: Oo,
                                    streams: [ee],
                                  }),
                                  this.peerConnection_.addTransceiver(
                                    W ? S || I : dt,
                                    { direction: Oo, streams: [ee] }
                                  ),
                                  (ue.next = 14),
                                  this.connect()
                                );
                              case 14:
                                ue.next = 46;
                                break;
                              case 16:
                                if (((J = []), !H)) {
                                  ue.next = 29;
                                  break;
                                }
                                if (!q[0].sender.track) {
                                  ue.next = 24;
                                  break;
                                }
                                return (
                                  this.mixAudioTrack(q[0].sender.track, H),
                                  (ue.next = 22),
                                  q[0].sender.replaceTrack(
                                    this.mixedAudioTrack_
                                  )
                                );
                              case 22:
                                ue.next = 27;
                                break;
                              case 24:
                                return (
                                  (ue.next = 26), q[0].sender.replaceTrack(H)
                                );
                              case 26:
                                J.push(0);
                              case 27:
                                return (
                                  (ue.next = 29),
                                  this.setBandwidth({
                                    bandwidth: M.getAudioBitrate(),
                                    type: mt,
                                  })
                                );
                              case 29:
                                if (!I) {
                                  ue.next = 42;
                                  break;
                                }
                                return (
                                  (te = W ? 3 : 1),
                                  (ue.next = 33),
                                  q[te].sender.replaceTrack(S || I)
                                );
                              case 33:
                                return (
                                  (ue.next = 35),
                                  this.setBandwidth({
                                    bandwidth: M.getVideoBitrate(),
                                    type: dt,
                                    videoType: W ? ln : _p,
                                    scaleResolutionDownBy:
                                      M.scaleResolutionDownBy,
                                  })
                                );
                              case 35:
                                if ((J.push(te), !z)) {
                                  ue.next = 42;
                                  break;
                                }
                                return (
                                  (ue.next = 39), q[2].sender.replaceTrack(z)
                                );
                              case 39:
                                return (
                                  (ue.next = 41),
                                  this.setBandwidth({
                                    bandwidth:
                                      this.client_.smallStreamConfig.bitrate,
                                    type: dt,
                                    videoType: Ha,
                                  })
                                );
                              case 41:
                                J.push(2);
                              case 42:
                                return (
                                  (ue.next = 44),
                                  this.setTransceiverDirection(Oo, J)
                                );
                              case 44:
                                return (ue.next = 46), this.doPublishChange();
                              case 46:
                              case "end":
                                return ue.stop();
                            }
                        },
                        D,
                        this
                      );
                    })
                  )),
                  function (D, M, z) {
                    return L.apply(this, arguments);
                  }),
              },
              {
                key: "publishByAddTrack",
                value:
                  ((A = C(
                    m().mark(function D(M, z) {
                      var W, ee, H, I;
                      return m().wrap(
                        function (S) {
                          for (;;)
                            switch ((S.prev = S.next)) {
                              case 0:
                                return (
                                  this.log_.info("publish by addtrack"),
                                  (W = M.getMediaStream()),
                                  (ee = M.getAudioTrack()),
                                  (H = M.getVideoTrack()),
                                  ee && this.peerConnection_.addTrack(ee, W),
                                  H &&
                                    (this.peerConnection_.addTrack(H, W),
                                    z &&
                                      ((I = new MediaStream()).addTrack(z),
                                      this.peerConnection_.addTrack(z, I))),
                                  (S.next = 8),
                                  this.connect()
                                );
                              case 8:
                              case "end":
                                return S.stop();
                            }
                        },
                        D,
                        this
                      );
                    })
                  )),
                  function (D, M) {
                    return A.apply(this, arguments);
                  }),
              },
              {
                key: "unpublish",
                value:
                  ((T = C(
                    m().mark(function D(M) {
                      var z, W, ee, H;
                      return m().wrap(
                        function (I) {
                          for (;;)
                            switch ((I.prev = I.next)) {
                              case 0:
                                if (Bo()) {
                                  I.next = 2;
                                  break;
                                }
                                return I.abrupt("return", this.doUnpublish());
                              case 2:
                                if (
                                  ((z = M.getAudioTrack()),
                                  (W = M === this.localAuxStream_),
                                  (ee = []),
                                  !this.peerConnection_)
                                ) {
                                  I.next = 33;
                                  break;
                                }
                                if (
                                  ((H = this.peerConnection_.getSenders()), !z)
                                ) {
                                  I.next = 18;
                                  break;
                                }
                                if (!this.mixedAudioTrack_) {
                                  I.next = 15;
                                  break;
                                }
                                return (
                                  this.log_.info(
                                    "has mixed audioTrack, use another audioTrack"
                                  ),
                                  (I.next = 12),
                                  H[0].replaceTrack(
                                    W
                                      ? this.localStream_.getAudioTrack()
                                      : this.localAuxStream_.getAudioTrack()
                                  )
                                );
                              case 12:
                                this.destroyMixedAudioTrack(), (I.next = 18);
                                break;
                              case 15:
                                return (I.next = 17), H[0].replaceTrack(null);
                              case 17:
                                ee.push(0);
                              case 18:
                                if (!W) {
                                  I.next = 26;
                                  break;
                                }
                                return (I.next = 21), H[3].replaceTrack(null);
                              case 21:
                                (this.localAuxStream_ = null),
                                  (this.mediaSettings_ = v(
                                    v({}, this.mediaSettings_),
                                    {},
                                    {
                                      auxVideoBps: 0,
                                      auxVideoFps: 0,
                                      auxVideoWidth: 0,
                                      auxVideoHeight: 0,
                                    }
                                  )),
                                  ee.push(3),
                                  (I.next = 33);
                                break;
                              case 26:
                                return (I.next = 28), H[1].replaceTrack(null);
                              case 28:
                                return (I.next = 30), H[2].replaceTrack(null);
                              case 30:
                                (this.localStream_ = null),
                                  (this.mediaSettings_ = v(
                                    v({}, this.mediaSettings_),
                                    {},
                                    {
                                      videoWidth: 0,
                                      videoHeight: 0,
                                      videoBps: 0,
                                      videoFps: 0,
                                      audioFs: 0,
                                      audioChannel: 0,
                                      audioBps: 0,
                                      smallVideoWidth: 0,
                                      smallVideoHeight: 0,
                                      smallVideoFps: 0,
                                      smallVideoBps: 0,
                                    }
                                  )),
                                  ee.push(1, 2);
                              case 33:
                                if (
                                  !this.localStream_ &&
                                  !this.localAuxStream_
                                ) {
                                  I.next = 40;
                                  break;
                                }
                                return (
                                  (I.next = 36),
                                  this.setTransceiverDirection(Tc, ee)
                                );
                              case 36:
                                return (I.next = 38), this.doPublishChange();
                              case 38:
                                I.next = 42;
                                break;
                              case 40:
                                return (I.next = 42), this.doUnpublish();
                              case 42:
                              case "end":
                                return I.stop();
                            }
                        },
                        D,
                        this
                      );
                    })
                  )),
                  function (D) {
                    return T.apply(this, arguments);
                  }),
              },
              {
                key: "doPublishChange",
                value:
                  ((U = C(
                    m().mark(function D() {
                      var M, z;
                      return m().wrap(
                        function (W) {
                          for (;;)
                            switch ((W.prev = W.next)) {
                              case 0:
                                return (
                                  (M = {
                                    state: this.publishState,
                                    constraintConfig: this.mediaSettings_,
                                  }),
                                  (W.next = 3),
                                  this.signalChannel_.sendWaitForResponse({
                                    command: c9,
                                    data: M,
                                    responseCommand:
                                      en.PUBLISH_STATE_CHANGE_RESULT,
                                  })
                                );
                              case 3:
                                (z = W.sent),
                                  this.checkPublishResultCode(
                                    z.data.code,
                                    z.data.message
                                  );
                              case 5:
                              case "end":
                                return W.stop();
                            }
                        },
                        D,
                        this
                      );
                    })
                  )),
                  function () {
                    return U.apply(this, arguments);
                  }),
              },
              {
                key: "doUnpublish",
                value: function () {
                  var M = this;
                  return this.signalChannel_
                    .sendWaitForResponse({
                      command: cI,
                      commandDesc: "unpublish",
                      responseCommand: en.UNPUBLISH_RESULT,
                    })
                    .then(function () {
                      M.close();
                    })
                    .catch(function () {
                      M.close();
                    });
                },
              },
              {
                key: "updateMediaSettings",
                value: function (M, z) {
                  var W = this;
                  this.localAuxStream_ &&
                    M === this.localAuxStream_ &&
                    (z = !0);
                  var ee = this.client_.getSystemResult().detail,
                    H = ee.isH264EncodeSupported,
                    I = ee.isVp8EncodeSupported;
                  if (
                    (H
                      ? (this.mediaSettings_.videoCodec = "H264")
                      : I && (this.mediaSettings_.videoCodec = "VP8"),
                    tu)
                  ) {
                    var S = M.getMediaStream();
                    S == null ||
                      S.getTracks().forEach(function (q) {
                        var J = q.getSettings();
                        if (q.kind === mt) {
                          var te = 1;
                          J.channelCount && (te = J.channelCount),
                            (W.mediaSettings_.audioChannel = te),
                            (W.mediaSettings_.audioBps =
                              1e3 * M.getAudioBitrate()),
                            (W.mediaSettings_.audioFs = J.sampleRate);
                        } else if (q.kind === dt) {
                          if (z)
                            return (
                              (W.mediaSettings_.auxVideoWidth = J.width),
                              (W.mediaSettings_.auxVideoHeight = J.height),
                              (W.mediaSettings_.auxVideoFps = J.frameRate),
                              void (W.mediaSettings_.auxVideoBps =
                                1e3 * M.getVideoBitrate())
                            );
                          W.client_.getIsEnableSmallStream() &&
                            ((W.mediaSettings_.smallVideoWidth =
                              W.client_.smallStreamConfig.width),
                            (W.mediaSettings_.smallVideoHeight =
                              W.client_.smallStreamConfig.height),
                            (W.mediaSettings_.smallVideoFps =
                              W.client_.smallStreamConfig.frameRate),
                            (W.mediaSettings_.smallVideoBps =
                              1e3 * W.client_.smallStreamConfig.bitrate)),
                            (W.mediaSettings_.videoWidth = J.width),
                            (W.mediaSettings_.videoHeight = J.height),
                            (W.mediaSettings_.videoFps = J.frameRate),
                            (W.mediaSettings_.videoBps =
                              1e3 * M.getVideoBitrate());
                        }
                      });
                  } else this.updateMediaSettingsFromProfile(M);
                  this.log_.info(
                    "updateMediaSettings: " +
                      JSON.stringify(this.mediaSettings_)
                  );
                },
              },
              {
                key: "updateMediaSettingsFromProfile",
                value: function (M) {
                  if (M) {
                    if (M.hasAudio()) {
                      var z = M.getAudioProfile();
                      (this.mediaSettings_.audioChannel = z.channelCount),
                        (this.mediaSettings_.audioBps = 1e3 * z.bitrate),
                        (this.mediaSettings_.audioFs = z.sampleRate);
                    }
                    if (M.hasVideo()) {
                      var W = M.getVideoProfile();
                      (this.mediaSettings_.videoWidth = W.width),
                        (this.mediaSettings_.videoHeight = W.height),
                        (this.mediaSettings_.videoFps = W.frameRate),
                        (this.mediaSettings_.videoBps = 1e3 * W.bitrate);
                    }
                  }
                },
              },
              {
                key: "sendMediaSettings",
                value: function (M) {
                  var z = this;
                  this.updateMediaSettings(M),
                    this.signalChannel_
                      .sendWaitForResponse({
                        command: I9,
                        data: this.mediaSettings_,
                        responseCommand: en.UPDATE_CONSTRAINT_CONFIG_RES,
                      })
                      .then(function (W) {
                        W.data.code !== 0 && z.log_.warn(W.data.message);
                      })
                      .catch(this.log_.warn);
                },
              },
              {
                key: "addTrack",
                value:
                  ((F = C(
                    m().mark(function D(M, z) {
                      var W, ee;
                      return m().wrap(
                        function (H) {
                          for (;;)
                            switch ((H.prev = H.next)) {
                              case 0:
                                if (this.peerConnection_) {
                                  H.next = 2;
                                  break;
                                }
                                return H.abrupt("return");
                              case 2:
                                if (
                                  ((ee = z === this.localAuxStream_),
                                  this.log_.info(
                                    "is adding "
                                      .concat(
                                        M.kind,
                                        " track to current published local "
                                      )
                                      .concat(ee ? ln : jt, " stream")
                                  ),
                                  (W = this.sei_) === null ||
                                    W === void 0 ||
                                    W.handleEncodedStreams(),
                                  !Bo())
                                ) {
                                  H.next = 10;
                                  break;
                                }
                                return (
                                  (H.next = 8), this.addTrackByTransceiver(M, z)
                                );
                              case 8:
                                H.next = 12;
                                break;
                              case 10:
                                return (H.next = 12), this.addTrackBySender(M);
                              case 12:
                                xr(this.userId_, {
                                  eventId: M.kind === mt ? dI : lI,
                                  eventDesc: "add ".concat(
                                    M.kind,
                                    " track to current published stream"
                                  ),
                                  timestamp: hr(),
                                  userId: this.userId_,
                                  tinyId: this.tinyId_,
                                });
                              case 13:
                              case "end":
                                return H.stop();
                            }
                        },
                        D,
                        this
                      );
                    })
                  )),
                  function (D, M) {
                    return F.apply(this, arguments);
                  }),
              },
              {
                key: "addTrackByTransceiver",
                value:
                  ((B = C(
                    m().mark(function D(M, z) {
                      var W, ee, H, I;
                      return m().wrap(
                        function (S) {
                          for (;;)
                            switch ((S.prev = S.next)) {
                              case 0:
                                if (
                                  ((W = z === this.localAuxStream_),
                                  (ee = this.peerConnection_.getTransceivers()),
                                  M.kind !== mt)
                                ) {
                                  S.next = 13;
                                  break;
                                }
                                if (!ee[0].sender.track) {
                                  S.next = 9;
                                  break;
                                }
                                return (
                                  this.mixAudioTrack(ee[0].sender.track, M),
                                  (S.next = 7),
                                  ee[0].sender.replaceTrack(
                                    this.mixedAudioTrack_
                                  )
                                );
                              case 7:
                                S.next = 11;
                                break;
                              case 9:
                                return (
                                  (S.next = 11), ee[0].sender.replaceTrack(M)
                                );
                              case 11:
                                S.next = 26;
                                break;
                              case 13:
                                return (
                                  (H = W ? 3 : 1),
                                  (S.next = 16),
                                  ee[H].sender.replaceTrack(M)
                                );
                              case 16:
                                if (
                                  H !== 1 ||
                                  !this.client_.getIsEnableSmallStream()
                                ) {
                                  S.next = 23;
                                  break;
                                }
                                return (
                                  (this.smallGenerator_ = new Av(
                                    this.localStream_
                                  )),
                                  (S.next = 20),
                                  this.smallGenerator_.initialize()
                                );
                              case 20:
                                return (
                                  (I =
                                    this.smallGenerator_.generateSmallVideoTrack(
                                      this.client_.smallStreamConfig_
                                    )),
                                  (S.next = 23),
                                  ee[2].sender.replaceTrack(I)
                                );
                              case 23:
                                if (ee[H].direction !== Tc) {
                                  S.next = 26;
                                  break;
                                }
                                return (
                                  (S.next = 26),
                                  this.setTransceiverDirection(Oo, [H])
                                );
                              case 26:
                                return (
                                  this.updateMediaSettings(z, W),
                                  (S.next = 29),
                                  this.doPublishChange()
                                );
                              case 29:
                              case "end":
                                return S.stop();
                            }
                        },
                        D,
                        this
                      );
                    })
                  )),
                  function (D, M) {
                    return B.apply(this, arguments);
                  }),
              },
              {
                key: "addTrackBySender",
                value:
                  ((N = C(
                    m().mark(function D(M) {
                      var z, W, ee, H, I;
                      return m().wrap(
                        function (S) {
                          for (;;)
                            switch ((S.prev = S.next)) {
                              case 0:
                                if (
                                  !(
                                    Bo() &&
                                    this.peerConnection_
                                      .getTransceivers()
                                      .findIndex(function (q) {
                                        return q.direction === "stopped";
                                      }) >= 0
                                  )
                                ) {
                                  S.next = 4;
                                  break;
                                }
                                return (
                                  this.log_.warn(
                                    "transceiver is stopping, negotiate sdp first"
                                  ),
                                  (S.next = 4),
                                  this.updateOffer(vr.REMOVE, M)
                                );
                              case 4:
                                if (
                                  !(z = this.peerConnection_
                                    .getSenders()
                                    .find(function (q) {
                                      return q.track && q.track.kind === M.kind;
                                    }))
                                ) {
                                  S.next = 11;
                                  break;
                                }
                                return (
                                  this.log_.warn(
                                    "sender already exists, remove sender first"
                                  ),
                                  (W = z.track),
                                  this.removeSender(z),
                                  (S.next = 11),
                                  this.updateOffer(vr.REMOVE, W)
                                );
                              case 11:
                                if (
                                  ((ee = this.localStream_.getMediaStream()),
                                  this.peerConnection_.addTrack(M, ee),
                                  M.kind !== dt ||
                                    !this.client_.getIsEnableSmallStream())
                                ) {
                                  S.next = 21;
                                  break;
                                }
                                return (
                                  (this.smallGenerator_ = new Av(
                                    this.localStream_
                                  )),
                                  (S.next = 17),
                                  this.smallGenerator_.initialize()
                                );
                              case 17:
                                (H =
                                  this.smallGenerator_.generateSmallVideoTrack(
                                    this.client_.smallStreamConfig_
                                  )),
                                  (I = new MediaStream()).addTrack(H),
                                  this.peerConnection_.addTrack(H, I);
                              case 21:
                                return (
                                  (S.next = 23), this.updateOffer(vr.ADD, M)
                                );
                              case 23:
                              case "end":
                                return S.stop();
                            }
                        },
                        D,
                        this
                      );
                    })
                  )),
                  function (D) {
                    return N.apply(this, arguments);
                  }),
              },
              {
                key: "isNeedToResetOfferOrder",
                value: function () {
                  if (
                    this.sdpSemantics_ === by ||
                    !this.peerConnection_ ||
                    !this.peerConnection_.localDescription
                  )
                    return !1;
                  for (
                    var M = this.peerConnection_.localDescription.sdp,
                      z = Ja(M),
                      W = 0;
                    W < z.media.length;
                    W++
                  )
                    if (z.media[W].mid === 0 && z.media[W].type === dt)
                      return !0;
                  return !1;
                },
              },
              {
                key: "removeSender",
                value: function (M) {
                  var z = null;
                  Bo() &&
                    (z = this.peerConnection_
                      .getTransceivers()
                      .find(function (W) {
                        return W.sender && W.sender.track === M.track;
                      })),
                    this.peerConnection_.removeTrack(M),
                    z &&
                      gr(z.stop) &&
                      (this.log_.info("stop transceiver"), z.stop());
                },
              },
              {
                key: "removeTrack",
                value:
                  ((R = C(
                    m().mark(function D(M, z) {
                      return m().wrap(
                        function (W) {
                          for (;;)
                            switch ((W.prev = W.next)) {
                              case 0:
                                if (this.peerConnection_) {
                                  W.next = 2;
                                  break;
                                }
                                return W.abrupt("return");
                              case 2:
                                if (
                                  (this.log_.info(
                                    "is removing "
                                      .concat(
                                        M.kind,
                                        " track from current published local "
                                      )
                                      .concat(
                                        z === this.localAuxStream_ ? ln : jt,
                                        " stream"
                                      )
                                  ),
                                  !Bo())
                                ) {
                                  W.next = 8;
                                  break;
                                }
                                return (
                                  (W.next = 6),
                                  this.removeTrackByTransceiver(M, z)
                                );
                              case 6:
                                W.next = 10;
                                break;
                              case 8:
                                return (
                                  (W.next = 10), this.removeTrackBySender(M)
                                );
                              case 10:
                                xr(this.userId_, {
                                  eventId: M.kind === mt ? fI : hI,
                                  eventDesc: "remove ".concat(
                                    M.kind,
                                    " track from current published stream"
                                  ),
                                  timestamp: hr(),
                                  userId: this.userId_,
                                  tinyId: this.tinyId_,
                                });
                              case 11:
                              case "end":
                                return W.stop();
                            }
                        },
                        D,
                        this
                      );
                    })
                  )),
                  function (D, M) {
                    return R.apply(this, arguments);
                  }),
              },
              {
                key: "removeTrackByTransceiver",
                value:
                  ((b = C(
                    m().mark(function D(M, z) {
                      var W, ee, H;
                      return m().wrap(
                        function (I) {
                          for (;;)
                            switch ((I.prev = I.next)) {
                              case 0:
                                if (
                                  ((W = z === this.localAuxStream_),
                                  (ee = this.peerConnection_.getTransceivers()),
                                  M.kind !== mt)
                                ) {
                                  I.next = 13;
                                  break;
                                }
                                if (!this.mixedAudioTrack_) {
                                  I.next = 9;
                                  break;
                                }
                                return (
                                  (I.next = 6),
                                  ee[0].sender.replaceTrack(
                                    W
                                      ? this.localStream_.getAudioTrack()
                                      : this.localAuxStream_.getAudioTrack()
                                  )
                                );
                              case 6:
                                this.destroyMixedAudioTrack(), (I.next = 11);
                                break;
                              case 9:
                                return (
                                  (I.next = 11), ee[0].sender.replaceTrack(null)
                                );
                              case 11:
                                I.next = 23;
                                break;
                              case 13:
                                return (
                                  (H = W ? 3 : 1),
                                  (I.next = 16),
                                  ee[H].sender.replaceTrack(null)
                                );
                              case 16:
                                if (H !== 1 || !this.smallGenerator_) {
                                  I.next = 21;
                                  break;
                                }
                                return (
                                  this.smallGenerator_.destroy(),
                                  (this.smallGenerator_ = null),
                                  (I.next = 21),
                                  ee[2].sender.replaceTrack(null)
                                );
                              case 21:
                                return (
                                  (I.next = 23),
                                  this.setTransceiverDirection(Tc, [H])
                                );
                              case 23:
                                return (
                                  this.updateMediaSettings(z, W),
                                  (I.next = 26),
                                  this.doPublishChange()
                                );
                              case 26:
                              case "end":
                                return I.stop();
                            }
                        },
                        D,
                        this
                      );
                    })
                  )),
                  function (D, M) {
                    return b.apply(this, arguments);
                  }),
              },
              {
                key: "setTransceiverDirection",
                value:
                  ((_ = C(
                    m().mark(function D(M, z) {
                      var W, ee, H, I, S, q;
                      return m().wrap(
                        function (J) {
                          for (;;)
                            switch ((J.prev = J.next)) {
                              case 0:
                                if (ri) {
                                  J.next = 2;
                                  break;
                                }
                                return J.abrupt("return");
                              case 2:
                                if (
                                  ((W = !1),
                                  (ee = !1),
                                  this.log_.info(
                                    "setting transceiver "
                                      .concat(z.join(","), " direction to ")
                                      .concat(M)
                                  ),
                                  (H = this.peerConnection_.getTransceivers()),
                                  z.forEach(function (te) {
                                    H[te].direction !== M &&
                                      ((H[te].direction = M), (W = !0));
                                  }),
                                  !W)
                                ) {
                                  J.next = 14;
                                  break;
                                }
                                return (
                                  this.log_.info("updating offer"),
                                  (J.next = 11),
                                  this.peerConnection_.createOffer()
                                );
                              case 11:
                                return (
                                  (I = J.sent),
                                  (J.next = 14),
                                  this.peerConnection_.setLocalDescription(I)
                                );
                              case 14:
                                if (
                                  ((S = -1),
                                  (q =
                                    this.peerConnection_.remoteDescription.sdp
                                      .split(
                                        `\r
`
                                      )
                                      .map(function (te) {
                                        if (
                                          (te.match(
                                            new RegExp(
                                              "a=("
                                                .concat(Tc, "|")
                                                .concat(ly, "|")
                                                .concat(Oo, ")")
                                            )
                                          ) && S++,
                                          z.includes(S))
                                        ) {
                                          if (
                                            M === Tc &&
                                            te.includes("a=".concat(ly))
                                          )
                                            return (ee = !0), "a=".concat(M);
                                          if (
                                            M === Oo &&
                                            te.includes("a=".concat(Tc))
                                          )
                                            return (ee = !0), "a=".concat(ly);
                                        }
                                        return te;
                                      }).join(`\r
`)),
                                  !ee)
                                ) {
                                  J.next = 20;
                                  break;
                                }
                                return (
                                  this.log_.info("updating answer"),
                                  (J.next = 20),
                                  this.peerConnection_.setRemoteDescription({
                                    type: "answer",
                                    sdp: q,
                                  })
                                );
                              case 20:
                              case "end":
                                return J.stop();
                            }
                        },
                        D,
                        this
                      );
                    })
                  )),
                  function (D, M) {
                    return _.apply(this, arguments);
                  }),
              },
              {
                key: "removeTrackBySender",
                value:
                  ((g = C(
                    m().mark(function D(M) {
                      var z,
                        W,
                        ee = this;
                      return m().wrap(
                        function (H) {
                          for (;;)
                            switch ((H.prev = H.next)) {
                              case 0:
                                if (
                                  M.kind !== dt ||
                                  !this.isNeedToResetOfferOrder()
                                ) {
                                  H.next = 7;
                                  break;
                                }
                                return (
                                  this.reset(),
                                  this.initialize(),
                                  (z = this.localStream_.getMediaStream()) ===
                                    null ||
                                    z === void 0 ||
                                    z.removeTrack(M),
                                  (H.next = 6),
                                  this.publish(this.localStream_)
                                );
                              case 6:
                                return H.abrupt("return");
                              case 7:
                                return (
                                  (W = this.peerConnection_
                                    .getSenders()
                                    .find(function (I) {
                                      return I.track === M;
                                    })) &&
                                    (this.removeSender(W),
                                    M.kind === dt &&
                                      this.smallGenerator_ &&
                                      (this.smallGenerator_.destroy(),
                                      (this.smallGenerator_ = null),
                                      this.peerConnection_
                                        .getSenders()
                                        .forEach(function (I) {
                                          I.track &&
                                            I.track.kind === dt &&
                                            ee.removeSender(I);
                                        }))),
                                  (H.next = 11),
                                  this.updateOffer(vr.REMOVE, M)
                                );
                              case 11:
                              case "end":
                                return H.stop();
                            }
                        },
                        D,
                        this
                      );
                    })
                  )),
                  function (D) {
                    return g.apply(this, arguments);
                  }),
              },
              {
                key: "replaceTrack",
                value:
                  ((p = C(
                    m().mark(function D(M, z) {
                      var W, ee, H, I, S, q, J;
                      return m().wrap(
                        function (te) {
                          for (;;)
                            switch ((te.prev = te.next)) {
                              case 0:
                                if (
                                  (ee =
                                    (W = this.peerConnection_) === null ||
                                    W === void 0
                                      ? void 0
                                      : W.getSenders()) &&
                                  ee.length !== 0
                                ) {
                                  te.next = 3;
                                  break;
                                }
                                throw new Ie({
                                  code: ke.INVALID_OPERATION,
                                  message: Le({ key: aE }),
                                });
                              case 3:
                                if (
                                  ((H = z === this.localAuxStream_),
                                  this.log_.info(
                                    "is replacing "
                                      .concat(
                                        M.kind,
                                        " track to current published local "
                                      )
                                      .concat(H ? ln : jt, " stream")
                                  ),
                                  M.kind !== mt || !ee[0])
                                ) {
                                  te.next = 16;
                                  break;
                                }
                                if (
                                  !(
                                    this.mixedAudioTrack_ &&
                                    (I = this.localStream_) !== null &&
                                    I !== void 0 &&
                                    I.hasAudio() &&
                                    (S = this.localAuxStream_) !== null &&
                                    S !== void 0 &&
                                    S.hasAudio()
                                  )
                                ) {
                                  te.next = 14;
                                  break;
                                }
                                return (
                                  this.destroyMixedAudioTrack(),
                                  (q = H
                                    ? this.localStream_.getAudioTrack()
                                    : this.localAuxStream_.getAudioTrack()),
                                  this.mixAudioTrack(M, q),
                                  (te.next = 12),
                                  ee[0].replaceTrack(this.mixedAudioTrack_)
                                );
                              case 12:
                                te.next = 16;
                                break;
                              case 14:
                                return (te.next = 16), ee[0].replaceTrack(M);
                              case 16:
                                if (M.kind !== dt) {
                                  te.next = 32;
                                  break;
                                }
                                if (z !== this.localStream_ || !ee[1]) {
                                  te.next = 29;
                                  break;
                                }
                                return (te.next = 20), ee[1].replaceTrack(M);
                              case 20:
                                if (!this.smallGenerator_ || !ee[2]) {
                                  te.next = 29;
                                  break;
                                }
                                return (
                                  this.log_.info("replacing smallVideo"),
                                  this.smallGenerator_.destroy(),
                                  (this.smallGenerator_ = new Av(
                                    this.localStream_
                                  )),
                                  (te.next = 26),
                                  this.smallGenerator_.initialize()
                                );
                              case 26:
                                return (
                                  (J =
                                    this.smallGenerator_.generateSmallVideoTrack(
                                      this.client_.smallStreamConfig_
                                    )),
                                  (te.next = 29),
                                  ee[2].replaceTrack(J)
                                );
                              case 29:
                                if (z !== this.localAuxStream_ || !ee[3]) {
                                  te.next = 32;
                                  break;
                                }
                                return (te.next = 32), ee[3].replaceTrack(M);
                              case 32:
                                xr(this.userId_, {
                                  eventId: M.kind === mt ? V9 : U9,
                                  eventDesc: "replace ".concat(
                                    M.kind,
                                    " track from current published stream"
                                  ),
                                  timestamp: hr(),
                                  userId: this.userId_,
                                  tinyId: this.tinyId_,
                                });
                              case 33:
                              case "end":
                                return te.stop();
                            }
                        },
                        D,
                        this
                      );
                    })
                  )),
                  function (D, M) {
                    return p.apply(this, arguments);
                  }),
              },
              {
                key: "updateOffer",
                value:
                  ((h = C(
                    m().mark(function D(M, z) {
                      var W, ee, H, I, S, q, J;
                      return m().wrap(
                        function (te) {
                          for (;;)
                            switch ((te.prev = te.next)) {
                              case 0:
                                return (
                                  (te.prev = 0),
                                  (te.next = 3),
                                  this.peerConnection_.createOffer(UA)
                                );
                              case 3:
                                return (
                                  (W = te.sent),
                                  ri &&
                                    (W.sdp = this.setSDPDirection(
                                      W.sdp,
                                      "sendrecv"
                                    )),
                                  (te.next = 7),
                                  this.peerConnection_.setLocalDescription(W)
                                );
                              case 7:
                                return (
                                  (ee = this.updateMediaSettings(
                                    this.localStream_ || this.localAuxStream_
                                  )),
                                  (H = {
                                    action: M,
                                    trackId: z.id,
                                    kind: z.kind === dt ? "bigVideo" : z.kind,
                                    type: "offer",
                                    sdp: this.peerConnection_.localDescription
                                      .sdp,
                                    constraintConfig: ee,
                                    state: this.publishState,
                                  }),
                                  this.log_.info(
                                    "createOffer success, sending updated offer to remote server"
                                  ),
                                  this.log_.debug("updatedOffer: " + H.sdp),
                                  (te.next = 13),
                                  this.signalChannel_.sendWaitForResponse({
                                    command: u9,
                                    data: H,
                                    responseCommand: en.UPDATE_OFFER_RESULT,
                                    timeout: 1e4,
                                    commandDesc: "update offer",
                                  })
                                );
                              case 13:
                                return (
                                  (I = te.sent),
                                  (S = I.data),
                                  (q = S.code),
                                  (J = S.message),
                                  q !== 0 && this.checkPublishResultCode(q, J),
                                  (te.next = 18),
                                  this.acceptAnswer(I.data.data)
                                );
                              case 18:
                                this.updateSSRC(W.sdp),
                                  st.logSuccessEvent({
                                    userId: this.client_.getUserId(),
                                    eventType: Ep,
                                    kind: "offer",
                                  }),
                                  (te.next = 27);
                                break;
                              case 22:
                                throw (
                                  ((te.prev = 22),
                                  (te.t0 = te.catch(0)),
                                  this.log_.error(te.t0),
                                  st.logFailedEvent({
                                    userId: this.client_.getUserId(),
                                    eventType: Ep,
                                    kind: "offer",
                                    error: te.t0,
                                  }),
                                  te.t0)
                                );
                              case 27:
                              case "end":
                                return te.stop();
                            }
                        },
                        D,
                        this,
                        [[0, 22]]
                      );
                    })
                  )),
                  function (D, M) {
                    return h.apply(this, arguments);
                  }),
              },
              {
                key: "setBandwidth",
                value:
                  ((l = C(
                    m().mark(function D(M) {
                      var z, W, ee, H, I, S, q, J, te, ue;
                      return m().wrap(
                        function (fe) {
                          for (;;)
                            switch ((fe.prev = fe.next)) {
                              case 0:
                                if (
                                  ((z = M.bandwidth),
                                  (W = M.type),
                                  (ee = M.videoType),
                                  (H = ee === void 0 ? "" : ee),
                                  (I = M.sdp),
                                  (S = M.scaleResolutionDownBy),
                                  (q = S === void 0 ? 1 : S),
                                  NI() || !I)
                                ) {
                                  fe.next = 3;
                                  break;
                                }
                                return fe.abrupt(
                                  "return",
                                  W === dt
                                    ? this.updateVideoBandwidthRestriction(
                                        I,
                                        z,
                                        H
                                      )
                                    : this.updateAudioBandwidthRestriction(I, z)
                                );
                              case 3:
                                if (
                                  ((J = null),
                                  Jp()
                                    ? ((te = 0),
                                      W === dt &&
                                        (te = H === Ha ? 2 : H === ln ? 3 : 1),
                                      (J =
                                        this.peerConnection_.getSenders()[te]))
                                    : (J = this.peerConnection_
                                        .getSenders()
                                        .find(function (Re) {
                                          return (
                                            Re.track && Re.track.kind === W
                                          );
                                        })),
                                  !J)
                                ) {
                                  fe.next = 23;
                                  break;
                                }
                                return (
                                  ((ue = J.getParameters()).encodings &&
                                    ue.encodings.length !== 0) ||
                                    (ue.encodings = [{}]),
                                  z === "unlimited"
                                    ? delete ue.encodings[0].maxBitrate
                                    : (ue.encodings[0].maxBitrate = 1e3 * z),
                                  delete ue.encodings[0].scaleResolutionDownBy,
                                  q > 1 &&
                                    (this.log_.warn(
                                      ""
                                        .concat(H, " scaleResolutionDownBy ")
                                        .concat(q)
                                    ),
                                    (ue.encodings[0].scaleResolutionDownBy =
                                      q)),
                                  (fe.prev = 11),
                                  (fe.next = 14),
                                  J.setParameters(ue)
                                );
                              case 14:
                                return (
                                  this.log_.info(
                                    H +
                                      W +
                                      " bandwidth was set to " +
                                      z +
                                      " kbps"
                                  ),
                                  fe.abrupt("return", I)
                                );
                              case 18:
                                if (
                                  ((fe.prev = 18),
                                  (fe.t0 = fe.catch(11)),
                                  this.log_.info(
                                    "failed to set bandwidth by setting maxBitrate: " +
                                      fe.t0
                                  ),
                                  !I)
                                ) {
                                  fe.next = 23;
                                  break;
                                }
                                return fe.abrupt(
                                  "return",
                                  W === dt
                                    ? this.updateVideoBandwidthRestriction(
                                        I,
                                        z,
                                        H
                                      )
                                    : this.updateAudioBandwidthRestriction(I, z)
                                );
                              case 23:
                                return fe.abrupt("return", I);
                              case 24:
                              case "end":
                                return fe.stop();
                            }
                        },
                        D,
                        this,
                        [[11, 18]]
                      );
                    })
                  )),
                  function (D) {
                    return l.apply(this, arguments);
                  }),
              },
              {
                key: "updateVideoBandwidthRestriction",
                value: function (M, z, W) {
                  var ee = "AS";
                  ri && ((ee = "TIAS"), (z *= 1e3));
                  var H = 0,
                    I = -1;
                  return (
                    W === Ha ? (H = 1) : W === ln && (H = 2),
                    (M = M.replace(
                      /m=video (.*)\r\nc=IN (.*)\r\n/g,
                      function (S) {
                        return ++I === H
                          ? ""
                              .concat(S, "b=")
                              .concat(ee, ":")
                              .concat(
                                z,
                                `\r
`
                              )
                          : S;
                      }
                    )),
                    M
                  );
                },
              },
              {
                key: "updateAudioBandwidthRestriction",
                value: function (M, z) {
                  var W = "AS";
                  return (
                    ri && ((W = "TIAS"), (z *= 1e3)),
                    (M = M.replace(
                      /m=audio (.*)\r\nc=IN (.*)\r\n/,
                      `m=audio $1\r
c=IN $2\r
b=` +
                        W +
                        ":" +
                        z +
                        `\r
`
                    ))
                  );
                },
              },
              {
                key: "removeBandwidthRestriction",
                value: function (M) {
                  return M.replace(/b=AS:.*\r\n/, "").replace(
                    /b=TIAS:.*\r\n/,
                    ""
                  );
                },
              },
              {
                key: "removeVideoOrientation",
                value: function (M) {
                  return M.replace(/urn:3gpp:video-orientation/, "");
                },
              },
              {
                key: "connect",
                value:
                  ((o = C(
                    m().mark(function D() {
                      return m().wrap(
                        function (M) {
                          for (;;)
                            switch ((M.prev = M.next)) {
                              case 0:
                                return (
                                  (M.prev = 0), (M.next = 3), this.exchangeSDP()
                                );
                              case 3:
                                return (
                                  (M.next = 5),
                                  this.waitForPeerConnectionConnected()
                                );
                              case 5:
                                M.next = 11;
                                break;
                              case 7:
                                throw (
                                  ((M.prev = 7),
                                  (M.t0 = M.catch(0)),
                                  this.closePeerConnection(!0),
                                  M.t0)
                                );
                              case 11:
                              case "end":
                                return M.stop();
                            }
                        },
                        D,
                        this,
                        [[0, 7]]
                      );
                    })
                  )),
                  function () {
                    return o.apply(this, arguments);
                  }),
              },
              {
                key: "exchangeSDP",
                value:
                  ((c = C(
                    m().mark(function D() {
                      return m().wrap(
                        function (M) {
                          for (;;)
                            switch ((M.prev = M.next)) {
                              case 0:
                                return (
                                  (M.prev = 0),
                                  (this.isSDPExchanging_ = !0),
                                  (M.next = 4),
                                  this.createOffer()
                                );
                              case 4:
                                return (
                                  this.log_.info(
                                    "createOffer success, sending offer to remote server"
                                  ),
                                  (M.next = 7),
                                  this.doExchangeSDP()
                                );
                              case 7:
                                (this.isSDPExchanging_ = !1), (M.next = 14);
                                break;
                              case 10:
                                throw (
                                  ((M.prev = 10),
                                  (M.t0 = M.catch(0)),
                                  (this.isSDPExchanging_ = !1),
                                  M.t0)
                                );
                              case 14:
                              case "end":
                                return M.stop();
                            }
                        },
                        D,
                        this,
                        [[0, 10]]
                      );
                    })
                  )),
                  function () {
                    return c.apply(this, arguments);
                  }),
              },
              {
                key: "createOffer",
                value:
                  ((a = C(
                    m().mark(function D() {
                      var M;
                      return m().wrap(
                        function (z) {
                          for (;;)
                            switch ((z.prev = z.next)) {
                              case 0:
                                return (
                                  (z.prev = 0),
                                  (z.next = 3),
                                  this.peerConnection_.createOffer(UA)
                                );
                              case 3:
                                return (
                                  (M = z.sent),
                                  (z.next = 6),
                                  this.peerConnection_.setLocalDescription(M)
                                );
                              case 6:
                                this.updateSSRC(M.sdp),
                                  st.logSuccessEvent({
                                    userId: this.client_.getUserId(),
                                    eventType: Ep,
                                    kind: "offer",
                                  }),
                                  (z.next = 14);
                                break;
                              case 10:
                                throw (
                                  ((z.prev = 10),
                                  (z.t0 = z.catch(0)),
                                  st.logFailedEvent({
                                    userId: this.client_.getUserId(),
                                    eventType: Ep,
                                    kind: "offer",
                                    error: z.t0,
                                  }),
                                  z.t0)
                                );
                              case 14:
                              case "end":
                                return z.stop();
                            }
                        },
                        D,
                        this,
                        [[0, 10]]
                      );
                    })
                  )),
                  function () {
                    return a.apply(this, arguments);
                  }),
              },
              {
                key: "doExchangeSDP",
                value: function () {
                  var M = this;
                  return new Promise(function (z, W) {
                    M.exchangeSDPTimeout_ = setTimeout(function () {
                      M.signalChannel_.off(en.PUBLISH_RESULT, ee),
                        M.clearExchangeSDPTimeout();
                      var I = new Ie({
                        code: ke.API_CALL_TIMEOUT,
                        message: Le({ key: f7 }),
                      });
                      W(I);
                    }, 1e4);
                    var ee = (function () {
                        var I = C(
                          m().mark(function S(q) {
                            var J, te, ue;
                            return m().wrap(
                              function (fe) {
                                for (;;)
                                  switch ((fe.prev = fe.next)) {
                                    case 0:
                                      if (
                                        ((fe.prev = 0),
                                        M.clearExchangeSDPTimeout(),
                                        (J = q.data),
                                        (te = J.code),
                                        (ue = J.message),
                                        te !== 0)
                                      ) {
                                        fe.next = 9;
                                        break;
                                      }
                                      return (
                                        (fe.next = 6),
                                        M.acceptAnswer(q.data.data)
                                      );
                                    case 6:
                                      z(), (fe.next = 10);
                                      break;
                                    case 9:
                                      M.checkPublishResultCode(te, ue);
                                    case 10:
                                      fe.next = 15;
                                      break;
                                    case 12:
                                      (fe.prev = 12),
                                        (fe.t0 = fe.catch(0)),
                                        W(fe.t0);
                                    case 15:
                                    case "end":
                                      return fe.stop();
                                  }
                              },
                              S,
                              null,
                              [[0, 12]]
                            );
                          })
                        );
                        return function (S) {
                          return I.apply(this, arguments);
                        };
                      })(),
                      H = {
                        type: M.peerConnection_.localDescription.type,
                        sdp: M.removeVideoOrientation(
                          M.peerConnection_.localDescription.sdp
                        ),
                        screen: (
                          M.publishingStream_ || M.localStream_
                        ).hasScreenTrack(),
                        state: M.publishState,
                        constraintConfig: M.mediaSettings_,
                      };
                    M.signalChannel_.once(en.PUBLISH_RESULT, ee),
                      M.log_.debug("sending sdp offer: " + H.sdp),
                      M.signalChannel_.send(p9, H);
                  });
                },
              },
              {
                key: "setSDPDirection",
                value: function (M, z) {
                  var W =
                      arguments.length > 2 && arguments[2] !== void 0
                        ? arguments[2]
                        : "all",
                    ee = Ja(M);
                  return (
                    ee.media.forEach(function (H) {
                      (W !== "all" && H.type !== W) || (H.direction = z);
                    }),
                    Uc(ee)
                  );
                },
              },
              {
                key: "acceptAnswer",
                value:
                  ((n = C(
                    m().mark(function D(M) {
                      var z, W, ee, H, I, S, q;
                      return m().wrap(
                        function (J) {
                          for (;;)
                            switch ((J.prev = J.next)) {
                              case 0:
                                if (
                                  ((J.prev = 0),
                                  (z = this.removeVideoOrientation(M.sdp)),
                                  !(W =
                                    this.publishingStream_ ||
                                    this.localStream_))
                                ) {
                                  J.next = 15;
                                  break;
                                }
                                if (
                                  ((ee = W.getVideoBitrate()),
                                  (H = W.getAudioBitrate()),
                                  !ee)
                                ) {
                                  J.next = 11;
                                  break;
                                }
                                return (
                                  (I = this.isPublishingAuxStream_ ? ln : _p),
                                  (J.next = 10),
                                  this.setBandwidth({
                                    sdp: z,
                                    videoType: I,
                                    type: dt,
                                    bandwidth: ee,
                                    scaleResolutionDownBy:
                                      W.scaleResolutionDownBy,
                                  })
                                );
                              case 10:
                                z = J.sent;
                              case 11:
                                if (!H) {
                                  J.next = 15;
                                  break;
                                }
                                return (
                                  (J.next = 14),
                                  this.setBandwidth({
                                    bandwidth: H,
                                    type: mt,
                                    sdp: z,
                                  })
                                );
                              case 14:
                                z = J.sent;
                              case 15:
                                if (!this.client_.getIsEnableSmallStream()) {
                                  J.next = 20;
                                  break;
                                }
                                return (
                                  (S = this.client_.smallStreamConfig),
                                  (J.next = 19),
                                  this.setBandwidth({
                                    bandwidth: S.bitrate,
                                    type: dt,
                                    videoType: Ha,
                                    sdp: z,
                                  })
                                );
                              case 19:
                                z = J.sent;
                              case 20:
                                return (
                                  (q = { type: M.type, sdp: z }),
                                  (J.next = 23),
                                  this.peerConnection_.setRemoteDescription(q)
                                );
                              case 23:
                                this.log_.debug("accepted answer: " + z),
                                  st.logSuccessEvent({
                                    userId: this.client_.getUserId(),
                                    eventType: ET,
                                    kind: "answer",
                                  }),
                                  (J.next = 32);
                                break;
                              case 27:
                                throw (
                                  ((J.prev = 27),
                                  (J.t0 = J.catch(0)),
                                  st.logFailedEvent({
                                    userId: this.client_.getUserId(),
                                    eventType: ET,
                                    kind: "answer",
                                    error: J.t0,
                                  }),
                                  this.log_.error(
                                    "failed to accept remote answer " + J.t0
                                  ),
                                  J.t0)
                                );
                              case 32:
                              case "end":
                                return J.stop();
                            }
                        },
                        D,
                        this,
                        [[0, 27]]
                      );
                    })
                  )),
                  function (D) {
                    return n.apply(this, arguments);
                  }),
              },
              {
                key: "sendMutedFlag",
                value: function (M, z) {
                  if (z !== this.localAuxStream_) {
                    var W = {
                      audio: M.audio,
                      bigVideo: M.video,
                      auxVideo: M.auxVideo,
                    };
                    this.log_.info(
                      "send muted state: ".concat(JSON.stringify(W))
                    ),
                      this.signalChannel_.send(f9, W);
                  }
                },
              },
              {
                key: "getIsReconnecting",
                value: function () {
                  return this.isReconnecting_;
                },
              },
              {
                key: "reconnect",
                value:
                  ((e = C(
                    m().mark(function D() {
                      var M,
                        z,
                        W = this;
                      return m().wrap(
                        function (ee) {
                          for (;;)
                            switch ((ee.prev = ee.next)) {
                              case 0:
                                if (this.reconnectionTimer_ === -1) {
                                  ee.next = 3;
                                  break;
                                }
                                return (
                                  this.log_.warn(
                                    "reconnect() uplink is reconnecting, ignore current reconnection"
                                  ),
                                  ee.abrupt("return")
                                );
                              case 3:
                                if (!(this.reconnectionCount_ >= 30)) {
                                  ee.next = 12;
                                  break;
                                }
                                return (
                                  this.log_.warn(
                                    "SDK has tried reconnect uplink for ".concat(
                                      30,
                                      " times, but all failed, please check your network"
                                    )
                                  ),
                                  this.stopReconnection(),
                                  (M = new Ie({
                                    code: ke.UPLINK_RECONNECTION_FAILED,
                                    message: Le({ key: m7 }),
                                  })),
                                  st.logFailedEvent({
                                    userId: this.client_.getUserId(),
                                    eventType: wT,
                                    error: M,
                                  }),
                                  this.addEventInternal(
                                    eF,
                                    "uplink-connection reconnect fail"
                                  ),
                                  this.emitConnectionStateChangedEvent(fr),
                                  this.emitter_.emit(Kt.ERROR, M),
                                  ee.abrupt("return")
                                );
                              case 12:
                                if (
                                  this.signalChannel_.getCurrentState() === qd
                                ) {
                                  ee.next = 16;
                                  break;
                                }
                                return (
                                  this.log_.warn(
                                    "reconnect() signal channel is not connected, suspend reconnection until signal is connected"
                                  ),
                                  this.signalChannel_.once(
                                    Gd,
                                    this.reconnect,
                                    this
                                  ),
                                  ee.abrupt("return")
                                );
                              case 16:
                                if (
                                  (this.reconnectionCount_++,
                                  (ee.prev = 17),
                                  this.log_.warn(
                                    "reconnect() try to reconnect uplink ["
                                      .concat(this.reconnectionCount_, "/")
                                      .concat(30, "]")
                                  ),
                                  (z = Xy(this.reconnectionCount_)),
                                  (this.reconnectionTimer_ = setTimeout(
                                    function () {
                                      W.log_.warn(
                                        "reconnect() uplink reconnect timeout(".concat(
                                          z / 1e3,
                                          "s), try again"
                                        )
                                      ),
                                        W.clearReconnectionTimer(),
                                        W.reconnect();
                                    },
                                    z
                                  )),
                                  !(
                                    this.isSDPExchanging_ ||
                                    (this.peerConnection_ &&
                                      this.peerConnection_.connectionState ===
                                        Tp)
                                  ))
                                ) {
                                  ee.next = 23;
                                  break;
                                }
                                return ee.abrupt("return");
                              case 23:
                                return (
                                  (ee.next = 25),
                                  this.signalChannel_.sendWaitForResponse({
                                    command: cI,
                                    responseCommand: en.UNPUBLISH_RESULT,
                                    enableLog: !1,
                                  })
                                );
                              case 25:
                                if (
                                  (this.reset(),
                                  this.initialize(),
                                  !this.localStream_)
                                ) {
                                  ee.next = 30;
                                  break;
                                }
                                return (
                                  (ee.next = 30),
                                  this.publish(this.localStream_)
                                );
                              case 30:
                                if (!this.localAuxStream_) {
                                  ee.next = 33;
                                  break;
                                }
                                return (
                                  (ee.next = 33),
                                  this.publish(this.localAuxStream_, !0)
                                );
                              case 33:
                                st.logSuccessEvent({
                                  userId: this.client_.getUserId(),
                                  eventType: wT,
                                }),
                                  this.log_.warn(
                                    "reconnect() uplink reconnect successfully"
                                  ),
                                  this.addEventInternal(
                                    X9,
                                    "uplink-connection reconnect success"
                                  ),
                                  this.stopReconnection(),
                                  this.localStream_.syncMuteState(),
                                  (ee.next = 42);
                                break;
                              case 40:
                                (ee.prev = 40), (ee.t0 = ee.catch(17));
                              case 42:
                              case "end":
                                return ee.stop();
                            }
                        },
                        D,
                        this,
                        [[17, 40]]
                      );
                    })
                  )),
                  function () {
                    return e.apply(this, arguments);
                  }),
              },
              {
                key: "clearExchangeSDPTimeout",
                value: function () {
                  this.exchangeSDPTimeout_ !== -1 &&
                    (clearTimeout(this.exchangeSDPTimeout_),
                    (this.exchangeSDPTimeout_ = -1));
                },
              },
              {
                key: "clearReconnectionTimer",
                value: function () {
                  this.reconnectionTimer_ !== -1 &&
                    (clearTimeout(this.reconnectionTimer_),
                    (this.reconnectionTimer_ = -1));
                },
              },
              {
                key: "handleError",
                value: function (M) {
                  M.getCode() === ke.ICE_TRANSPORT_ERROR &&
                    (this.isFirstConnection_ &&
                      ((this.isFirstConnection_ = !1),
                      st.logFailedEvent({
                        userId: this.client_.getUserId(),
                        eventType: ST,
                        error: M,
                      })),
                    this.isReconnecting_ || this.startReconnection());
                },
              },
              {
                key: "handleConnectionStateChange",
                value: function (M) {
                  M.state === pr &&
                    this.isFirstConnection_ &&
                    ((this.isFirstConnection_ = !1),
                    st.logSuccessEvent({
                      userId: this.client_.getUserId(),
                      eventType: ST,
                    }),
                    this.addEventInternal(
                      K9,
                      "uplink-connection is connected"
                    ));
                },
              },
              {
                key: "updateSSRC",
                value: function (M) {
                  var z = this;
                  try {
                    Ja(M).media.forEach(function (W, ee) {
                      if (W.type === mt) {
                        var H = W.ssrcs[0];
                        H && (z.ssrc_.audio = H.id);
                      } else {
                        if (z.sdpSemantics_ === by)
                          return void W.ssrcGroups.forEach(function (S, q) {
                            var J = Number(S.ssrcs.split(" ")[0]);
                            q === 0
                              ? (z.ssrc_.video = J)
                              : q === 1 && (z.ssrc_.small = J);
                          });
                        var I = W.ssrcs[0];
                        if (!I) return;
                        switch (ee) {
                          case 1:
                            z.ssrc_.video = I.id;
                            break;
                          case 2:
                            z.ssrc_.small = I.id;
                            break;
                          case 3:
                            z.ssrc_.auxiliary = I.id;
                        }
                      }
                    });
                  } catch (W) {}
                },
              },
              {
                key: "getVideoTrackId",
                value: function () {
                  var M =
                    arguments.length > 0 && arguments[0] !== void 0
                      ? arguments[0]
                      : dt;
                  if (this.peerConnection_) {
                    var z = this.peerConnection_.getSenders();
                    if (M === dt && z[1] && z[1].track) return z[1].track.id;
                    if (M === Ha && z[2] && z[2].track) return z[2].track.id;
                    if (M === ln && z[3] && z[3].track) return z[3].track.id;
                  }
                  if (this.localStream_ && M === dt) {
                    var W = this.localStream_.getVideoTrack();
                    if (W) return W.id;
                  }
                  if (this.localAuxStream_ && M === ln) {
                    var ee = this.localAuxStream_.getVideoTrack();
                    if (ee) return ee.id;
                  }
                  return "";
                },
              },
              {
                key: "getSSRC",
                value: function () {
                  return this.ssrc_;
                },
              },
              {
                key: "checkPublishResultCode",
                value: function (M, z) {
                  if (M !== 0)
                    throw M === 1028
                      ? (this.log_.error(No.NOT_SUPPORTED_H264ENCODE),
                        new Ie({
                          code: ke.NOT_SUPPORTED_H264,
                          message: Le({ key: cE }),
                        }))
                      : new Ie({
                          code: ke.UNKNOWN,
                          message: Le({
                            key: dE,
                            data: {
                              signalResponse: en.PUBLISH_RESULT,
                              code: M,
                              message: z,
                            },
                          }),
                        });
                },
              },
              {
                key: "getLocalStream",
                value: function () {
                  return this.localStream_;
                },
              },
              {
                key: "sendSEI",
                value: function (M, z) {
                  this.sei_.push(M, z);
                },
              },
              {
                key: "mixAudioTrack",
                value: function (M, z) {
                  this.log_.info("mix audio track"),
                    (this.mixedAudioTrack_ = (function (W) {
                      var ee = DE(),
                        H = ee.createMediaStreamDestination(),
                        I = [];
                      W.forEach(function (q) {
                        var J = new MediaStream();
                        J.addTrack(q);
                        var te = ee.createMediaStreamSource(J);
                        te.connect(H), I.push(te);
                      });
                      var S = H.stream.getAudioTracks()[0];
                      return (
                        xv.set(S, {
                          destination: H,
                          track: S,
                          mediaStreamSourceList: I,
                        }),
                        S
                      );
                    })([M, z]));
                },
              },
              {
                key: "destroyMixedAudioTrack",
                value: function () {
                  this.mixedAudioTrack_ &&
                    (this.log_.info("destroy audio track"),
                    (function (M) {
                      if (xv.has(M)) {
                        var z = xv.get(M),
                          W = z.destination,
                          ee = z.track,
                          H = z.mediaStreamSourceList;
                        ee.stop(),
                          W.disconnect(),
                          H.forEach(function (I) {
                            I.disconnect();
                          }),
                          xv.delete(M);
                      }
                    })(this.mixedAudioTrack_),
                    (this.mixedAudioTrack_ = null));
                },
              },
            ]),
            Q
          );
        })(vb)),
        Oe(
          ch.prototype,
          "publish",
          [LA],
          Object.getOwnPropertyDescriptor(ch.prototype, "publish"),
          ch.prototype
        ),
        ch),
      yG = Qe,
      VA = md,
      Pv = aa.exports.getWeakData,
      bG = To,
      SG = mn,
      wG = Lr,
      kb = pn,
      kG = vd,
      FA = bn,
      TG = an.set,
      EG = an.getterFor,
      IG = dr.find,
      RG = dr.findIndex,
      CG = yG([].splice),
      AG = 0,
      Ov = function (e) {
        return e.frozen || (e.frozen = new jA());
      },
      jA = function () {
        this.entries = [];
      },
      Tb = function (e, n) {
        return IG(e.entries, function (a) {
          return a[0] === n;
        });
      };
    jA.prototype = {
      get: function (e) {
        var n = Tb(this, e);
        if (n) return n[1];
      },
      has: function (e) {
        return !!Tb(this, e);
      },
      set: function (e, n) {
        var a = Tb(this, e);
        a ? (a[1] = n) : this.entries.push([e, n]);
      },
      delete: function (e) {
        var n = RG(this.entries, function (a) {
          return a[0] === e;
        });
        return ~n && CG(this.entries, n, 1), !!~n;
      },
    };
    var lh,
      xG = {
        getConstructor: function (e, n, a, c) {
          var o = e(function (g, _) {
              bG(g, l),
                TG(g, { type: n, id: AG++, frozen: void 0 }),
                wG(_) || kG(_, g[c], { that: g, AS_ENTRIES: a });
            }),
            l = o.prototype,
            h = EG(n),
            p = function (_, b, R) {
              var N = h(_),
                B = Pv(SG(b), !0);
              return B === !0 ? Ov(N).set(b, R) : (B[N.id] = R), _;
            };
          return (
            VA(l, {
              delete: function (_) {
                var b = h(this);
                if (!kb(_)) return !1;
                var R = Pv(_);
                return R === !0
                  ? Ov(b).delete(_)
                  : R && FA(R, b.id) && delete R[b.id];
              },
              has: function (_) {
                var b = h(this);
                if (!kb(_)) return !1;
                var R = Pv(_);
                return R === !0 ? Ov(b).has(_) : R && FA(R, b.id);
              },
            }),
            VA(
              l,
              a
                ? {
                    get: function (_) {
                      var b = h(this);
                      if (kb(_)) {
                        var R = Pv(_);
                        return R === !0 ? Ov(b).get(_) : R ? R[b.id] : void 0;
                      }
                    },
                    set: function (_, b) {
                      return p(this, _, b);
                    },
                  }
                : {
                    add: function (_) {
                      return p(this, _, !0);
                    },
                  }
            ),
            o
          );
        },
      },
      BA = Xe,
      Dv = Qe,
      PG = md,
      OG = aa.exports,
      DG = zg,
      HA = xG,
      Nv = pn,
      Lv = Bf,
      Mv = an.enforce,
      NG = Bl,
      LG = !BA.ActiveXObject && "ActiveXObject" in BA,
      zA = function (e) {
        return function () {
          return e(this, arguments.length ? arguments[0] : void 0);
        };
      },
      MG = DG("WeakMap", zA, HA);
    if (NG && LG) {
      (lh = HA.getConstructor(zA, "WeakMap", !0)), OG.enable();
      var dh = MG.prototype,
        WA = Dv(dh.delete),
        Uv = Dv(dh.has),
        GA = Dv(dh.get),
        qA = Dv(dh.set);
      PG(dh, {
        delete: function (e) {
          if (Nv(e) && !Lv(e)) {
            var n = Mv(this);
            return (
              n.frozen || (n.frozen = new lh()),
              WA(this, e) || n.frozen.delete(e)
            );
          }
          return WA(this, e);
        },
        has: function (e) {
          if (Nv(e) && !Lv(e)) {
            var n = Mv(this);
            return (
              n.frozen || (n.frozen = new lh()), Uv(this, e) || n.frozen.has(e)
            );
          }
          return Uv(this, e);
        },
        get: function (e) {
          if (Nv(e) && !Lv(e)) {
            var n = Mv(this);
            return (
              n.frozen || (n.frozen = new lh()),
              Uv(this, e) ? GA(this, e) : n.frozen.get(e)
            );
          }
          return GA(this, e);
        },
        set: function (e, n) {
          if (Nv(e) && !Lv(e)) {
            var a = Mv(this);
            a.frozen || (a.frozen = new lh()),
              Uv(this, e) ? qA(this, e, n) : a.frozen.set(e, n);
          } else qA(this, e, n);
          return this;
        },
      });
    }
    var UG = Tt,
      Vv = Pd,
      VG = et,
      KA = mi,
      JA = Bt,
      FG = dp,
      $A = nT,
      jG = Bn,
      Eb = Vv && Vv.prototype;
    if (
      (UG(
        {
          target: "Promise",
          proto: !0,
          real: !0,
          forced:
            !!Vv &&
            VG(function () {
              Eb.finally.call({ then: function () {} }, function () {});
            }),
        },
        {
          finally: function (e) {
            var n = FG(this, KA("Promise")),
              a = JA(e);
            return this.then(
              a
                ? function (c) {
                    return $A(n, e()).then(function () {
                      return c;
                    });
                  }
                : e,
              a
                ? function (c) {
                    return $A(n, e()).then(function () {
                      throw c;
                    });
                  }
                : e
            );
          },
        }
      ),
      JA(Vv))
    ) {
      var YA = KA("Promise").prototype.finally;
      Eb.finally !== YA && jG(Eb, "finally", YA, { unsafe: !0 });
    }
    var ZA,
      QA,
      XA,
      e3,
      Li,
      Xc = /* @__PURE__ */ new WeakMap();
    function t3() {
      return function (s, e, n) {
        var a = n.value,
          c = function o(l) {
            var h = l.fn,
              p = l.args,
              g = l.context,
              _ = l.resolve,
              b = l.reject;
            h.apply(g, p)
              .then(_, b)
              .finally(function () {
                var R = Xc.get(g);
                R && (R.shift(), R[0] && o(v({}, R[0])));
              });
          };
        return (
          (n.value = function () {
            for (
              var o = this, l = arguments.length, h = new Array(l), p = 0;
              p < l;
              p++
            )
              h[p] = arguments[p];
            return new Promise(function (g, _) {
              if (Xc.has(o)) {
                var b = Xc.get(o),
                  R = b.length;
                b.push({
                  fn: a,
                  args: h,
                  context: o,
                  resolve: g,
                  reject: _,
                  name: e,
                }),
                  R === 0 &&
                    c({ fn: a, args: h, context: o, resolve: g, reject: _ });
              } else Xc.set(o, [{ fn: a, args: h, context: o, resolve: g, reject: _, name: e }]), c({ fn: a, args: h, context: o, resolve: g, reject: _ });
            });
          }),
          n
        );
      };
    }
    var BG =
        ((ZA = t3()),
        (QA = Qc({
          retries: 1,
          timeout: 0,
          onRetrying: function (e) {
            this.log_.warn("connection timeout, retrying [".concat(e, "]"));
          },
          onError: function (e, n, a) {
            e.message.includes("timeout") ? n() : a(e);
          },
        })),
        (XA = t3()),
        (e3 = (function () {
          var s =
            arguments.length > 0 && arguments[0] !== void 0
              ? arguments[0]
              : 1e4;
          return function (e, n, a) {
            var c = a.value;
            return (
              (a.value = function () {
                for (
                  var o = this, l = arguments.length, h = new Array(l), p = 0;
                  p < l;
                  p++
                )
                  h[p] = arguments[p];
                return new Promise(function (g, _) {
                  var b = setTimeout(function () {
                    return _(new Error("".concat(n, " timeout")));
                  }, s);
                  c.apply(o, h)
                    .then(g, _)
                    .finally(function () {
                      clearTimeout(b);
                    });
                });
              }),
              a
            );
          };
        })()),
        (Li = (function (s) {
          me(g, s);
          var e,
            n,
            a,
            c,
            o,
            l,
            h,
            p = St(g);
          function g(_) {
            var b;
            return (
              G(this, g),
              ((b = p.call(this, _)).remoteStreams_ =
                /* @__PURE__ */ new Map()),
              (b.autoSubscribe = _.autoSubscribe),
              (b.trackState_ = {
                audio: _.trackState.audio,
                video: _.trackState.video,
                auxiliary: _.trackState.auxiliary,
                smallVideo: _.trackState.smallVideo,
              }),
              (b.ssrc_ = { audio: 0, video: 0, auxiliary: 0 }),
              (b.subscribeState_ = {
                audio: _.autoSubscribe,
                video: _.autoSubscribe,
                auxiliary: _.autoSubscribe,
                smallVideo: !1,
              }),
              (b.isSDPExchanging_ = !1),
              b.installEvents(),
              b
            );
          }
          return (
            ce(g, [
              {
                key: "getMixUserList",
                value: function () {
                  return this.mixUserList_
                    ? this.mixUserList_.map(function (b) {
                        var R = b.userId,
                          N = b.flag;
                        return {
                          userId: R,
                          hasAudio: !!(8 & N),
                          hasVideo: !!(1 & N),
                          hasAuxiliary: !!(4 & N),
                        };
                      })
                    : void 0;
                },
              },
              {
                key: "setMixUserList",
                value: function (b) {
                  (!this.mixUserList_ ||
                    (xc(this.mixUserList_) &&
                      !(function (R, N) {
                        if (N.length === R.length) {
                          var B,
                            F = We(N);
                          try {
                            var U = function () {
                              var L = B.value,
                                $ = R.find(function (X) {
                                  return X.userId === L.userId;
                                });
                              if (!$ || $.flag !== L.flag) return { v: !1 };
                            };
                            for (F.s(); !(B = F.n()).done; ) {
                              var T = U();
                              if (E(T) === "object") return T.v;
                            }
                          } catch (A) {
                            F.e(A);
                          } finally {
                            F.f();
                          }
                          return !0;
                        }
                        return !1;
                      })(this.mixUserList_, b))) &&
                    ((this.mixUserList_ = b),
                    this.emitter_.emit(Kt.STREAM_UPDATED, {
                      stream: this.getMainStream(),
                    }));
                },
              },
              {
                key: "isMainStreamSubscribed",
                get: function () {
                  return (
                    (this.subscribeState_.audio ||
                      this.subscribeState_.video ||
                      this.subscribeState_.smallVideo) &&
                    (this.trackState_.audio ||
                      this.trackState_.video ||
                      this.trackState_.smallVideo)
                  );
                },
              },
              {
                key: "isAuxStreamSubscribed",
                get: function () {
                  return (
                    this.subscribeState_.auxiliary && this.trackState_.auxiliary
                  );
                },
              },
              {
                key: "isSmallStreamSubscribed",
                get: function () {
                  return (
                    this.subscribeState_.smallVideo &&
                    this.trackState_.smallVideo
                  );
                },
              },
              {
                key: "isBigStreamSubscribed",
                get: function () {
                  return this.subscribeState_.video && this.trackState_.video;
                },
              },
              {
                key: "isStreamUnpublished",
                value: function (b) {
                  return b.getType() === jt
                    ? !this.trackState_.audio && !this.trackState_.video
                    : !this.trackState_.auxiliary;
                },
              },
              {
                key: "initialize",
                value: function () {
                  vt(Ee(g.prototype), "initialize", this).call(this),
                    (this.peerConnection_.ontrack = this.onTrack.bind(this));
                },
              },
              {
                key: "close",
                value: function () {
                  var b,
                    R,
                    N,
                    B = this;
                  vt(Ee(g.prototype), "close", this).call(this),
                    (this.trackState_.audio = !1),
                    (this.trackState_.video = !1),
                    (this.trackState_.smallVideo = !1),
                    (this.trackState_.auxiliary = !1),
                    this.emitConnectionStateChangedEvent(fr),
                    (b = this),
                    (R = function (U) {
                      U.fn;
                      var T = U.args,
                        A = U.resolve,
                        L = U.reject,
                        $ = U.name;
                      if ($ === "subscribe") {
                        if (!B.client_.getIsJoined())
                          return L(
                            new Ie({
                              code: ke.API_CALL_ABORTED,
                              message: Le({
                                key: Dy,
                                data: { message: "leave room", stream: T[0] },
                              }),
                            })
                          );
                        if (B.isStreamUnpublished(T[0]))
                          return L(
                            new Ie({
                              code: ke.API_CALL_ABORTED,
                              message: Le({
                                key: Dy,
                                data: {
                                  message: "remote user ".concat(
                                    B.userId_,
                                    " unpublished stream"
                                  ),
                                  stream: T[0],
                                },
                              }),
                            })
                          );
                      } else if ($ === "unsubscribe") return A();
                      A();
                    }),
                    (N = Xc.get(b)) === null || N === void 0 || N.forEach(R),
                    Xc.delete(b),
                    this.remoteStreams_.forEach(function (F) {
                      var U = F;
                      U.setConnection(null),
                        U.uninstallEvents(),
                        U.getIsStreamAddedEventEmitted() &&
                          B.emitter_.emit(Kt.STREAM_REMOVED, { stream: U });
                    }),
                    this.remoteStreams_.clear(),
                    this.uninstallEvents();
                },
              },
              {
                key: "installEvents",
                value: function () {
                  var b = this;
                  ye.on(ii, this.onRemoteStreamUpdate, this),
                    this.emitter_.on(Kt.ERROR, function (R) {
                      R.getCode() === ke.ICE_TRANSPORT_ERROR &&
                        (b.isFirstConnection_ &&
                          ((b.isFirstConnection_ = !1),
                          st.logFailedEvent({
                            userId: b.client_.getUserId(),
                            eventType: kT,
                            error: R,
                          })),
                        b.isReconnecting_ || b.startReconnection());
                    }),
                    this.emitter_.on(Kt.CONNECTION_STATE_CHANGED, function (R) {
                      R.state === pr &&
                        b.isFirstConnection_ &&
                        ((b.isFirstConnection_ = !1),
                        st.logSuccessEvent({
                          userId: b.client_.getUserId(),
                          eventType: kT,
                        }),
                        b.addEventInternal(
                          J9,
                          "downlink-connection is connected"
                        ));
                    });
                },
              },
              {
                key: "uninstallEvents",
                value: function () {
                  ye.removeListener(ii, this.onRemoteStreamUpdate, this);
                },
              },
              {
                key: "onRemoteStreamUpdate",
                value: function (b) {
                  if (this.hitTest(b.tinyId) && b.client === this.client_) {
                    this.updateTrackState(b.action, b.kind);
                    var R = b.kind === ln ? Ld : la,
                      N = this.remoteStreams_.get(R);
                    if (!N) return;
                    b.action === vr.ADD
                      ? this.handleRemoteAddTrack(b.kind, N)
                      : this.handleRemoteRemoveTrack(b.kind, N);
                  }
                },
              },
              {
                key: "handleRemoteAddTrack",
                value: function (b, R) {
                  this.log_.info("remote add ".concat(b, " track")),
                    b === mt
                      ? R.updateAudioPlayingState(this.subscribeState_.audio)
                      : R.updateVideoPlayingState(
                          b === ln
                            ? this.subscribeState_.auxiliary
                            : this.subscribeState_.video ||
                                this.subscribeState_.smallVideo
                        ),
                    R.getIsStreamAddedEventEmitted()
                      ? this.emitter_.emit(Kt.STREAM_UPDATED, { stream: R })
                      : (this.emitter_.emit(Kt.STREAM_ADDED, { stream: R }),
                        this.currentState_ === pr &&
                          R.emitConnectionStateChanged({
                            prevState: fr,
                            state: pr,
                          }));
                },
              },
              {
                key: "handleRemoteRemoveTrack",
                value: function (b, R) {
                  R.getIsStreamAddedEventEmitted() &&
                    (this.log_.info("remote remove ".concat(b, " track")),
                    b === ln ||
                    (!this.trackState_.audio && !this.trackState_.video)
                      ? (this.log_.info(
                          "remote stream ".concat(R.getType(), " removed")
                        ),
                        this.currentState_ === pr &&
                          R.emitConnectionStateChanged({
                            prevState: pr,
                            state: fr,
                          }),
                        this.emitter_.emit(Kt.STREAM_REMOVED, { stream: R }))
                      : (b === mt
                          ? R.updateAudioPlayingState(!1)
                          : (b !== yp || this.isSmallStreamSubscribed) &&
                            R.updateVideoPlayingState(!1),
                        this.emitter_.emit(Kt.STREAM_UPDATED, { stream: R })));
                },
              },
              {
                key: "updateTrackState",
                value: function (b, R) {
                  var N = b === vr.ADD;
                  switch (R) {
                    case mt:
                      this.trackState_.audio = N;
                      break;
                    case dt:
                      this.trackState_.video = N;
                      break;
                    case ln:
                      this.trackState_.auxiliary = N;
                      break;
                    case yp:
                      this.trackState_.smallVideo = N;
                  }
                  this.log_.info(
                    "trackState updated: ".concat(
                      JSON.stringify(this.trackState_)
                    )
                  );
                },
              },
              {
                key: "onTrack",
                value: function (b) {
                  var R = b.streams[0],
                    N = b.track;
                  if (
                    (this.log_.info(
                      "ontrack() kind: "
                        .concat(N.kind, " id: ")
                        .concat(N.id, " streamId: ")
                        .concat(R.id)
                    ),
                    this.sdpSemantics_ === Ud)
                  ) {
                    var B = (function (L) {
                      var $ = Ai.parse(L),
                        X = { audio: [], video: [] };
                      return (
                        $.media.forEach(function (Q) {
                          if (Q.ssrcs) {
                            var D = (Q.ssrcs[0].id >> 16) & 255;
                            if (Q.type === mt) X.audio.push(la);
                            else if (Q.type == dt) {
                              var M = D === LM ? la : Ld;
                              X.video.push(M);
                            }
                          }
                        }),
                        X
                      );
                    })(this.peerConnection_.remoteDescription.sdp);
                    if (N.kind === mt) {
                      if (B.audio.length === 0 || R.id !== la)
                        return void this.log_.debug(
                          "skip this invalid audio track"
                        );
                    } else if (B.video.indexOf(R.id) === -1)
                      return void this.log_.debug(
                        "skip this invalid video track: "
                          .concat(N.id, "  msid: ")
                          .concat(R.id)
                      );
                  }
                  st.logEvent({ eventType: "ontrack", kind: N.kind });
                  var F = !1,
                    U = this.remoteStreams_.get(R.id),
                    T = R.id === la ? fn : Pn;
                  if (
                    (rt(U) &&
                      ((U = new _b({
                        type: T,
                        userId: this.userId_,
                        client: this.client_,
                      })).setConnection(this),
                      this.remoteStreams_.set(R.id, U),
                      (F = !0)),
                    U.setMediaStream(R),
                    N.kind === mt
                      ? U.updateAudioPlayingState(this.subscribeState_.audio)
                      : T === fn
                      ? U.updateVideoPlayingState(
                          this.subscribeState_.video ||
                            this.subscribeState_.smallVideo
                        )
                      : U.updateVideoPlayingState(
                          this.subscribeState_.auxiliary
                        ),
                    (T !== Pn || this.trackState_.auxiliary) &&
                      (T !== fn ||
                        this.trackState_.audio ||
                        this.trackState_.video))
                  ) {
                    var A = this.client_.getSubscriptionManager();
                    (A && A.hasAutoRecoveryFlag(this.userId_, T)) ||
                      (F
                        ? this.emitter_.emit(Kt.STREAM_ADDED, { stream: U })
                        : this.emitter_.emit(Kt.STREAM_UPDATED, { stream: U }));
                  }
                },
              },
              {
                key: "addRRTRLine",
                value: function (b) {
                  var R = b.split(`\r
`),
                    N = /* @__PURE__ */ new Map();
                  R.forEach(function (L, $) {
                    /^a=rtcp-fb:/.test(L) &&
                      R[$ + 1] &&
                      !/^a=rtcp-fb:/.test(R[$ + 1]) &&
                      L.match(/^a=rtcp-fb:\d+/) &&
                      N.set($ + 1, L.match(/^a=rtcp-fb:\d+/)[0] + " rrtr");
                  });
                  for (var B = Je(N), F = 0; F < B.length; F++) {
                    var U = wt(B[F], 2),
                      T = U[0],
                      A = U[1];
                    R.splice(T + F, 0, A);
                  }
                  return R.join(`\r
`);
                },
              },
              {
                key: "addSPSDescription",
                value: function (b) {
                  var R = Ja(b);
                  return (
                    R.media.forEach(function (N) {
                      N.type === dt &&
                        N.fmtp.forEach(function (B) {
                          B.config += ";sps-pps-idr-in-keyframe=1";
                        });
                    }),
                    Uc(R)
                  );
                },
              },
              {
                key: "removeSDESDescription",
                value: function (b) {
                  var R = [
                      "urn:ietf:params:rtp-hdrext:sdes:mid",
                      "urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id",
                      "urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id",
                    ],
                    N = Ja(b);
                  return (
                    N.media.forEach(function (B) {
                      B.ext = B.ext.filter(function (F) {
                        return !R.includes(F.uri);
                      });
                    }),
                    Uc(N)
                  );
                },
              },
              {
                key: "isSubscriptionStateNotChanged",
                value: function (b, R) {
                  return b.getType() === fn
                    ? (R == null ? void 0 : R.audio) ===
                        this.subscribeState_.audio &&
                        (R == null ? void 0 : R.video) ===
                          this.subscribeState_.video &&
                        this.isSubscribeSmall(R)
                    : b.getType() === Pn
                    ? !rt(R.video) && this.subscribeState_.auxiliary === R.video
                    : void 0;
                },
              },
              {
                key: "isSubscribeSmall",
                value: function (b) {
                  return rt(b.smallVideo) && !this.subscribeState_.smallVideo;
                },
              },
              {
                key: "subscribe",
                value:
                  ((h = C(
                    m().mark(function _(b, R) {
                      var N, B, F, U, T, A;
                      return m().wrap(
                        function (L) {
                          for (;;)
                            switch ((L.prev = L.next)) {
                              case 0:
                                if (
                                  ((L.prev = 0),
                                  (F = R.emitEvent),
                                  (U = F === void 0 || F),
                                  (T = b.getType()),
                                  ((N = this.peerConnection_) === null ||
                                  N === void 0
                                    ? void 0
                                    : N.connectionState) !== MM &&
                                    ((B = this.peerConnection_) === null ||
                                    B === void 0
                                      ? void 0
                                      : B.connectionState) !== Tp)
                                ) {
                                  L.next = 6;
                                  break;
                                }
                                return (
                                  (L.next = 6),
                                  this.waitForPeerConnectionConnected()
                                );
                              case 6:
                                if (!this.isSubscriptionStateNotChanged(b, R)) {
                                  L.next = 13;
                                  break;
                                }
                                if (this.peerConnection_) {
                                  L.next = 11;
                                  break;
                                }
                                return (
                                  this.initialize(),
                                  (L.next = 11),
                                  this.connect()
                                );
                              case 11:
                                return (
                                  U &&
                                    rt(R.smallVideo) &&
                                    this.emitter_.emit(Kt.STREAM_SUBSCRIBED, {
                                      stream: b,
                                      result: !0,
                                    }),
                                  L.abrupt("return", b)
                                );
                              case 13:
                                if (
                                  (T === jt
                                    ? (rt(R.audio) ||
                                        (this.subscribeState_.audio = R.audio),
                                      rt(R.video) ||
                                        (this.subscribeState_.video = R.video),
                                      (this.subscribeState_.smallVideo =
                                        (R == null ? void 0 : R.smallVideo) ||
                                        !1),
                                      this.addEventInternal(
                                        this.subscribeState_.audio ? pI : L0,
                                        this.subscribeState_.audio
                                          ? "subscribe audio"
                                          : "unsubscribe audio"
                                      ),
                                      this.addEventInternal(
                                        this.subscribeState_.video ? pI : L0,
                                        this.subscribeState_.video
                                          ? "subscribe video"
                                          : "unsubscribe video"
                                      ),
                                      this.addEventInternal(
                                        this.subscribeState_.smallVideo
                                          ? iF
                                          : aF,
                                        this.subscribeState_.smallVideo
                                          ? "subscribe smallVideo"
                                          : "unsubscribe smallVideo"
                                      ))
                                    : rt(R.video) ||
                                      (this.subscribeState_.auxiliary =
                                        R.video),
                                  this.log_.info(
                                    "subscribe "
                                      .concat(T, " stream with options ")
                                      .concat(
                                        JSON.stringify(R),
                                        " current state: "
                                      )
                                      .concat(
                                        JSON.stringify(this.subscribeState_)
                                      )
                                  ),
                                  !this.peerConnection_ &&
                                    !this.isSDPExchanging_)
                                ) {
                                  L.next = 23;
                                  break;
                                }
                                return (
                                  (A = yy),
                                  this.isMainStreamSubscribed ||
                                    this.isAuxStreamSubscribed ||
                                    (A = _y),
                                  (L.next = 20),
                                  this.sendSubscription(A)
                                );
                              case 20:
                                T === jt
                                  ? (b.updateAudioPlayingState(
                                      this.subscribeState_.audio
                                    ),
                                    b.updateVideoPlayingState(
                                      this.subscribeState_.video ||
                                        this.subscribeState_.smallVideo
                                    ))
                                  : b.updateVideoPlayingState(
                                      this.subscribeState_.auxiliary
                                    ),
                                  (L.next = 26);
                                break;
                              case 23:
                                return (
                                  this.initialize(),
                                  (L.next = 26),
                                  this.connect()
                                );
                              case 26:
                                return (
                                  U &&
                                    this.emitter_.emit(Kt.STREAM_SUBSCRIBED, {
                                      stream: b,
                                      result: !0,
                                    }),
                                  L.abrupt("return", b)
                                );
                              case 30:
                                if (
                                  ((L.prev = 30),
                                  (L.t0 = L.catch(0)),
                                  !this.client_.getIsJoined() ||
                                    !this.isStreamUnpublished(b))
                                ) {
                                  L.next = 35;
                                  break;
                                }
                                throw (
                                  (this.log_.warn(
                                    ""
                                      .concat(L.t0.message, " ")
                                      .concat(JSON.stringify(this.trackState_))
                                  ),
                                  new Ie({
                                    code: ke.REMOTE_STREAM_NOT_EXIST,
                                    message: "remote user ".concat(
                                      this.userId_,
                                      " unpublished stream"
                                    ),
                                  }))
                                );
                              case 35:
                                throw L.t0;
                              case 36:
                              case "end":
                                return L.stop();
                            }
                        },
                        _,
                        this,
                        [[0, 30]]
                      );
                    })
                  )),
                  function (_, b) {
                    return h.apply(this, arguments);
                  }),
              },
              {
                key: "checkTrackEnded",
                value: function () {
                  try {
                    var b = this.peerConnection_
                      .getReceivers()
                      .map(function (R) {
                        return R.track;
                      })
                      .find(function (R) {
                        return R.readyState === "ended";
                      });
                    b &&
                      this.currentState_ === pr &&
                      !this.isReconnecting_ &&
                      (this.log_.warn(
                        "".concat(b.kind, " track ended, start reconnect")
                      ),
                      this.startReconnection());
                  } catch (R) {}
                },
              },
              {
                key: "unsubscribe",
                value:
                  ((l = C(
                    m().mark(function _(b) {
                      var R, N, B;
                      return m().wrap(
                        function (F) {
                          for (;;)
                            switch ((F.prev = F.next)) {
                              case 0:
                                if ((R = b.getType()) !== jt) {
                                  F.next = 10;
                                  break;
                                }
                                if (this.isMainStreamSubscribed) {
                                  F.next = 5;
                                  break;
                                }
                                return (
                                  this.log_.info(
                                    "main stream already unsubscribed"
                                  ),
                                  F.abrupt("return", b)
                                );
                              case 5:
                                (this.subscribeState_.audio = !1),
                                  (this.subscribeState_.video = !1),
                                  (this.subscribeState_.smallVideo = !1),
                                  (F.next = 14);
                                break;
                              case 10:
                                if (this.isAuxStreamSubscribed) {
                                  F.next = 13;
                                  break;
                                }
                                return (
                                  this.log_.info(
                                    "auxiliary stream already unsubscribed"
                                  ),
                                  F.abrupt("return", b)
                                );
                              case 13:
                                this.subscribeState_.auxiliary = !1;
                              case 14:
                                return (
                                  (N = _y),
                                  ((R === fn && this.isAuxStreamSubscribed) ||
                                    (R === Pn &&
                                      this.isMainStreamSubscribed)) &&
                                    (N = yy),
                                  this.log_.info(
                                    "unsubscribe "
                                      .concat(R, " stream with ")
                                      .concat(
                                        JSON.stringify(this.subscribeState_)
                                      )
                                  ),
                                  (F.next = 19),
                                  this.sendSubscription(N)
                                );
                              case 19:
                                return (
                                  b.updateVideoPlayingState(!1),
                                  b.updateAudioPlayingState(!1),
                                  N === _y &&
                                    ((B = b.getMediaStream()) &&
                                      B.getTracks().forEach(function (U) {
                                        return B.removeTrack(U);
                                      }),
                                    this.closePeerConnection(),
                                    this.emitConnectionStateChangedEvent(fr)),
                                  this.addEventInternal(
                                    L0,
                                    "unsubscribe audio"
                                  ),
                                  this.addEventInternal(
                                    N9,
                                    "unsubscribe video"
                                  ),
                                  F.abrupt("return", b)
                                );
                              case 25:
                              case "end":
                                return F.stop();
                            }
                        },
                        _,
                        this
                      );
                    })
                  )),
                  function (_) {
                    return l.apply(this, arguments);
                  }),
              },
              {
                key: "sendSubscription",
                value: function (b) {
                  var R = this,
                    N = { srcTinyId: this.tinyId_, srcUserId: this.userId_ },
                    B = m9,
                    F = en.UNSUBSCRIBE_RESULT;
                  return (
                    b === yy &&
                      ((N = {
                        audio: this.subscribeState_.audio,
                        bigVideo: this.subscribeState_.video,
                        auxVideo: this.subscribeState_.auxiliary,
                        smallVideo: this.subscribeState_.smallVideo,
                        srcTinyId: this.tinyId_,
                      }),
                      (B = g9),
                      (F = en.SUBSCRIBE_CHANGE_RESULT)),
                    this.signalChannel_
                      .sendWaitForResponse({
                        command: B,
                        data: N,
                        responseCommand: F,
                        timeout: 1e4,
                      })
                      .then(function (U) {
                        var T = U.data;
                        if (T.code !== 0) {
                          var A = new Ie({
                            code: T.code,
                            message: Le({
                              key: h7,
                              data: { type: b, message: T.message },
                            }),
                          });
                          throw (R.log_.error(A), A);
                        }
                      })
                  );
                },
              },
              {
                key: "connect",
                value:
                  ((o = C(
                    m().mark(function _() {
                      return m().wrap(
                        function (b) {
                          for (;;)
                            switch ((b.prev = b.next)) {
                              case 0:
                                return (
                                  (b.prev = 0), (b.next = 3), this.exchangeSDP()
                                );
                              case 3:
                                return (
                                  (b.next = 5),
                                  this.waitForPeerConnectionConnected()
                                );
                              case 5:
                                b.next = 11;
                                break;
                              case 7:
                                throw (
                                  ((b.prev = 7),
                                  (b.t0 = b.catch(0)),
                                  this.closePeerConnection(!0),
                                  b.t0)
                                );
                              case 11:
                              case "end":
                                return b.stop();
                            }
                        },
                        _,
                        this,
                        [[0, 7]]
                      );
                    })
                  )),
                  function () {
                    return o.apply(this, arguments);
                  }),
              },
              {
                key: "exchangeSDP",
                value:
                  ((c = C(
                    m().mark(function _() {
                      var b, R, N, B, F, U;
                      return m().wrap(
                        function (T) {
                          for (;;)
                            switch ((T.prev = T.next)) {
                              case 0:
                                return (
                                  (T.prev = 0),
                                  (this.isSDPExchanging_ = !0),
                                  (T.next = 4),
                                  this.createOffer()
                                );
                              case 4:
                                return (
                                  this.log_.info(
                                    "createOffer success, sending offer to remote server"
                                  ),
                                  (b = this.peerConnection_.localDescription),
                                  (R = b.type),
                                  (N = b.sdp),
                                  (B = {
                                    type: R,
                                    sdp: N,
                                    srcUserId: this.userId_,
                                    srcTinyId: this.tinyId_,
                                    audio: this.subscribeState_.audio,
                                    bigVideo: this.subscribeState_.video,
                                    auxVideo: this.subscribeState_.auxiliary,
                                    smallVideo: this.subscribeState_.smallVideo,
                                  }),
                                  ye.emit(E0, {
                                    client: this.client_,
                                    connection: this,
                                    userId: this.userId_,
                                    tinyId: this.tinyId_,
                                    role: Ec,
                                    subscribeState: this.subscribeState_,
                                    trackState: this.trackState_,
                                  }),
                                  (T.next = 10),
                                  this.signalChannel_.sendWaitForResponse({
                                    command: v9,
                                    commandDesc: "exchange sdp",
                                    data: B,
                                    responseCommand: en.SUBSCRIBE_RESULT,
                                    timeout: 1e4,
                                  })
                                );
                              case 10:
                                if (((F = T.sent), this.peerConnection_)) {
                                  T.next = 15;
                                  break;
                                }
                                throw (
                                  ((U = new Ie({
                                    code: ke.INVALID_OPERATION,
                                    message: Le({ key: NU }),
                                  })),
                                  this.log_.warn(U),
                                  U)
                                );
                              case 15:
                                return (T.next = 17), this.onSubscribeResult(F);
                              case 17:
                                (this.isSDPExchanging_ = !1), (T.next = 24);
                                break;
                              case 20:
                                throw (
                                  ((T.prev = 20),
                                  (T.t0 = T.catch(0)),
                                  (this.isSDPExchanging_ = !1),
                                  T.t0)
                                );
                              case 24:
                              case "end":
                                return T.stop();
                            }
                        },
                        _,
                        this,
                        [[0, 20]]
                      );
                    })
                  )),
                  function () {
                    return c.apply(this, arguments);
                  }),
              },
              {
                key: "createOffer",
                value:
                  ((a = C(
                    m().mark(function _() {
                      var b, R;
                      return m().wrap(
                        function (N) {
                          for (;;)
                            switch ((N.prev = N.next)) {
                              case 0:
                                return (
                                  (b = { voiceActivityDetection: !1 }),
                                  Jp() && this.sdpSemantics_ === Ud
                                    ? (this.peerConnection_.addTransceiver(mt, {
                                        direction: "recvonly",
                                      }),
                                      this.peerConnection_.addTransceiver(dt, {
                                        direction: "recvonly",
                                      }),
                                      this.peerConnection_.addTransceiver(dt, {
                                        direction: "recvonly",
                                      }))
                                    : ((b.offerToReceiveAudio = !0),
                                      (b.offerToReceiveVideo = !0)),
                                  (N.next = 4),
                                  this.peerConnection_.createOffer(b)
                                );
                              case 4:
                                return (R = N.sent), (N.next = 7), xI();
                              case 7:
                                return (
                                  N.sent.isH264DecodeSupported ||
                                    (this.log_.warn(
                                      "remove h264 desc from sdp"
                                    ),
                                    (R.sdp =
                                      ((B = R.sdp),
                                      (F = void 0),
                                      (F = Ja(B)).media.forEach(function (U) {
                                        if (U.type === dt) {
                                          var T = /* @__PURE__ */ new Set();
                                          U.rtp.forEach(function (L) {
                                            var $ = L.payload;
                                            return (
                                              L.codec === "H264" && T.add($)
                                            );
                                          }),
                                            U.fmtp.forEach(function (L) {
                                              var $ = L.payload,
                                                X = L.config.match(/apt=(\d+)/);
                                              X &&
                                                X[1] &&
                                                T.has(Number(X[1])) &&
                                                T.add($);
                                            });
                                          var A = function ($) {
                                            var X = $.payload;
                                            return !T.has(X);
                                          };
                                          (U.rtp = U.rtp.filter(A)),
                                            (U.rtcpFb = U.rtcpFb.filter(A)),
                                            (U.fmtp = U.fmtp.filter(A)),
                                            (U.payloads = U.payloads
                                              .split(" ")
                                              .filter(function (L) {
                                                return !T.has(Number(L));
                                              })
                                              .join(" "));
                                        }
                                      }),
                                      Uc(F)))),
                                  (R.sdp = this.addRRTRLine(R.sdp)),
                                  (R.sdp = this.addSPSDescription(R.sdp)),
                                  (R.sdp = xF(R.sdp)),
                                  this.sdpSemantics_ === Ud &&
                                    (R.sdp = this.removeSDESDescription(R.sdp)),
                                  (N.next = 16),
                                  this.peerConnection_.setLocalDescription(R)
                                );
                              case 16:
                              case "end":
                                return N.stop();
                            }
                          var B, F;
                        },
                        _,
                        this
                      );
                    })
                  )),
                  function () {
                    return a.apply(this, arguments);
                  }),
              },
              {
                key: "onSubscribeResult",
                value:
                  ((n = C(
                    m().mark(function _(b) {
                      var R,
                        N,
                        B,
                        F,
                        U,
                        T,
                        A,
                        L = this;
                      return m().wrap(
                        function ($) {
                          for (;;)
                            switch (($.prev = $.next)) {
                              case 0:
                                if (
                                  ((R = (b && b.data) || {}),
                                  (N = R.code),
                                  (B = R.message),
                                  (F = B === void 0 ? "" : B),
                                  (U = (b && b.data && b.data.data) || {}),
                                  (T = U.type),
                                  (A = U.sdp),
                                  N !== 77393)
                                ) {
                                  $.next = 5;
                                  break;
                                }
                                throw (
                                  (this.log_.error(No.NOT_SUPPORTED_H264DECODE),
                                  new Ie({
                                    code: ke.NOT_SUPPORTED_H264,
                                    message: Le({ key: lE }),
                                  }))
                                );
                              case 5:
                                if ((($.prev = 5), N === 0)) {
                                  $.next = 8;
                                  break;
                                }
                                throw new Ie({
                                  code: N,
                                  message: Le({ key: v7, data: { errMsg: F } }),
                                });
                              case 8:
                                return (
                                  this.log_.debug("accept remote answer: " + A),
                                  ($.next = 11),
                                  this.peerConnection_.setRemoteDescription({
                                    type: T,
                                    sdp: A,
                                  })
                                );
                              case 11:
                                this.sei_ &&
                                  (this.sei_.handleEncodedStreams(),
                                  (this.sei_.onSEIMessage = function (X) {
                                    L.emitter_.emit(
                                      Kt.SEI_MESSAGE,
                                      v(v({}, X), {}, { userId: L.userId_ })
                                    );
                                  })),
                                  this.updateSSRC(A),
                                  ($.next = 19);
                                break;
                              case 15:
                                throw (
                                  (($.prev = 15),
                                  ($.t0 = $.catch(5)),
                                  this.log_.error($.t0),
                                  $.t0)
                                );
                              case 19:
                              case "end":
                                return $.stop();
                            }
                        },
                        _,
                        this,
                        [[5, 15]]
                      );
                    })
                  )),
                  function (_) {
                    return n.apply(this, arguments);
                  }),
              },
              {
                key: "updateSSRC",
                value: function (b) {
                  var R = this;
                  try {
                    Ja(b).media.forEach(function (N) {
                      if (N.type === mt) {
                        var B = N.ssrcs.find(function (T) {
                          return T.value.includes(la);
                        });
                        B && (R.ssrc_.audio = B.id);
                      } else {
                        var F = N.ssrcs.find(function (T) {
                            return T.value.includes(la);
                          }),
                          U = N.ssrcs.find(function (T) {
                            return T.value.includes(Ld);
                          });
                        F && (R.ssrc_.video = F.id),
                          U && (R.ssrc_.auxiliary = U.id);
                      }
                    });
                  } catch (N) {}
                },
              },
              {
                key: "setRemoteStream",
                value: function (b, R) {
                  this.remoteStreams_.set(b, R);
                },
              },
              {
                key: "getSubscribeState",
                value: function () {
                  return this.subscribeState_;
                },
              },
              {
                key: "getTrackState",
                value: function () {
                  return this.trackState_;
                },
              },
              {
                key: "getSSRC",
                value: function () {
                  return this.ssrc_;
                },
              },
              {
                key: "getMainStream",
                value: function () {
                  return this.remoteStreams_.get(la);
                },
              },
              {
                key: "getAuxStream",
                value: function () {
                  return this.remoteStreams_.get(Ld);
                },
              },
              {
                key: "getMainStreamVideoTrackId",
                value: function () {
                  var b = this.getMainStream();
                  if (b) {
                    var R = b.getVideoTrack();
                    if (R) return R.id;
                  }
                  return "";
                },
              },
              {
                key: "getAuxStreamVideoTrackId",
                value: function () {
                  var b = this.getAuxStream();
                  if (b) {
                    var R = b.getVideoTrack();
                    if (R) return R.id;
                  }
                  return "";
                },
              },
              {
                key: "reconnect",
                value:
                  ((e = C(
                    m().mark(function _() {
                      var b,
                        R,
                        N = this;
                      return m().wrap(
                        function (B) {
                          for (;;)
                            switch ((B.prev = B.next)) {
                              case 0:
                                if (this.reconnectionTimer_ === -1) {
                                  B.next = 3;
                                  break;
                                }
                                return (
                                  this.log_.warn(
                                    "reconnect() downlink is reconnecting, ignore current reconnection"
                                  ),
                                  B.abrupt("return")
                                );
                              case 3:
                                if (!(this.reconnectionCount_ >= 30)) {
                                  B.next = 12;
                                  break;
                                }
                                return (
                                  this.log_.warn(
                                    "SDK has tried reconnect downlink ["
                                      .concat(this.userId_, "] for ")
                                      .concat(
                                        30,
                                        " times, but all failed, please check your network"
                                      )
                                  ),
                                  this.stopReconnection(),
                                  (b = new Ie({
                                    code: ke.DOWNLINK_RECONNECTION_FAILED,
                                    message: Le({ key: p7 }),
                                  })),
                                  st.logFailedEvent({
                                    userId: this.client_.getUserId(),
                                    eventType: TT,
                                    error: b,
                                  }),
                                  this.addEventInternal(
                                    rF,
                                    "downlink-connection reconnect fail"
                                  ),
                                  this.emitConnectionStateChangedEvent(fr),
                                  this.emitter_.emit(Kt.ERROR, b),
                                  B.abrupt("return")
                                );
                              case 12:
                                if (
                                  this.signalChannel_.getCurrentState() === qd
                                ) {
                                  B.next = 16;
                                  break;
                                }
                                return (
                                  this.log_.warn(
                                    "reconnect() signal channel is not connected, suspend reconnection until signal is connected"
                                  ),
                                  this.signalChannel_.once(
                                    Gd,
                                    this.reconnect,
                                    this
                                  ),
                                  B.abrupt("return")
                                );
                              case 16:
                                if (
                                  (this.reconnectionCount_++,
                                  this.log_.warn(
                                    "reconnect() try to reconnect downlink ["
                                      .concat(this.reconnectionCount_, "/")
                                      .concat(30, "]")
                                  ),
                                  (R = Xy(this.reconnectionCount_)),
                                  (this.reconnectionTimer_ = setTimeout(
                                    function () {
                                      N.log_.warn(
                                        "reconnect() downlink ["
                                          .concat(
                                            N.userId_,
                                            "] reconnect timeout("
                                          )
                                          .concat(R / 1e3, "s), try again")
                                      ),
                                        N.clearReconnectionTimer(),
                                        N.reconnect();
                                    },
                                    R
                                  )),
                                  !(
                                    this.isSDPExchanging_ ||
                                    (this.peerConnection_ &&
                                      this.peerConnection_.connectionState ===
                                        Tp)
                                  ))
                                ) {
                                  B.next = 22;
                                  break;
                                }
                                return B.abrupt("return");
                              case 22:
                                return (
                                  (B.prev = 22),
                                  this.closePeerConnection(),
                                  this.initialize(),
                                  (B.next = 27),
                                  this.connect()
                                );
                              case 27:
                                this.stopReconnection(),
                                  this.log_.warn(
                                    "reconnect() downlink reconnect successfully"
                                  ),
                                  st.logSuccessEvent({
                                    userId: this.client_.getUserId(),
                                    eventType: TT,
                                  }),
                                  this.addEventInternal(
                                    nF,
                                    "downlink-connection reconnect success"
                                  ),
                                  this.recoverSubscription(),
                                  (B.next = 36);
                                break;
                              case 34:
                                (B.prev = 34), (B.t0 = B.catch(22));
                              case 36:
                              case "end":
                                return B.stop();
                            }
                        },
                        _,
                        this,
                        [[22, 34]]
                      );
                    })
                  )),
                  function () {
                    return e.apply(this, arguments);
                  }),
              },
              {
                key: "recoverSubscription",
                value: function () {
                  var b = this,
                    R = this.client_.getSubscriptionManager();
                  R &&
                    Je(this.remoteStreams_.values()).forEach(function (N) {
                      R.hasAutoRecoveryFlag(b.userId_, N.getType()) &&
                        R.recover(N);
                    });
                },
              },
              {
                key: "getIsReconnecting",
                value: function () {
                  return this.isReconnecting_;
                },
              },
              {
                key: "getSubscribedMainStream",
                value: function () {
                  var b = null;
                  return (
                    this.isMainStreamSubscribed &&
                      (b = this.remoteStreams_.get(la)),
                    b
                  );
                },
              },
              {
                key: "clearReconnectionTimer",
                value: function () {
                  this.reconnectionTimer_ !== -1 &&
                    (clearTimeout(this.reconnectionTimer_),
                    (this.reconnectionTimer_ = -1));
                },
              },
              {
                key: "startReconnection",
                value: function () {
                  var b = this.client_.getSubscriptionManager();
                  if (b) {
                    var R,
                      N = We(this.remoteStreams_.values());
                    try {
                      for (N.s(); !(R = N.n()).done; ) {
                        var B = R.value,
                          F = B.getType();
                        ((F === fn &&
                          (this.trackState_.audio || this.trackState_.video)) ||
                          (F === Pn && this.trackState_.auxiliary)) &&
                          b.setAutoRecoveryFlag(this.userId_, B.getType());
                      }
                    } catch (U) {
                      N.e(U);
                    } finally {
                      N.f();
                    }
                  }
                  vt(Ee(g.prototype), "startReconnection", this).call(this);
                },
              },
              {
                key: "getCurrentState",
                value: function () {
                  return this.currentState_;
                },
              },
              {
                key: "hasMainStream",
                value: function () {
                  return (
                    this.trackState_.video ||
                    this.trackState_.audio ||
                    this.trackState_.smallVideo
                  );
                },
              },
              {
                key: "hasAuxStream",
                value: function () {
                  return this.trackState_.auxiliary;
                },
              },
            ]),
            g
          );
        })(vb)),
        Oe(
          Li.prototype,
          "subscribe",
          [ZA, QA],
          Object.getOwnPropertyDescriptor(Li.prototype, "subscribe"),
          Li.prototype
        ),
        Oe(
          Li.prototype,
          "unsubscribe",
          [XA],
          Object.getOwnPropertyDescriptor(Li.prototype, "unsubscribe"),
          Li.prototype
        ),
        Oe(
          Li.prototype,
          "exchangeSDP",
          [e3],
          Object.getOwnPropertyDescriptor(Li.prototype, "exchangeSDP"),
          Li.prototype
        ),
        Li),
      Fv = (function () {
        function s() {
          G(this, s), (this.startTime = 0), (this.endTime = 0), this.start();
        }
        return (
          ce(s, [
            {
              key: "start",
              value: function () {
                this.startTime === 0 && (this.startTime = En());
              },
            },
            {
              key: "stop",
              value: function () {
                this.endTime === 0 && (this.endTime = En());
              },
            },
            {
              key: "getDuration",
              value: function () {
                return this.endTime === 0
                  ? En() - this.startTime
                  : this.endTime - this.startTime;
              },
            },
          ]),
          s
        );
      })(),
      HG = (function () {
        function s(c) {
          G(this, s),
            (this.client_ = c.client),
            (this.intervalId_ = -1),
            (this.statsCalculator_ = c.stats),
            (this.prevStats_ = null),
            (this.renderFreezeMap_ = /* @__PURE__ */ new Map()),
            (this.remoteStreamMap_ = /* @__PURE__ */ new Map()),
            (this.dataFreezeMap_ = /* @__PURE__ */ new Map()),
            (this.monitorFreezeData_ = /* @__PURE__ */ new Map());
        }
        var e, n, a;
        return (
          ce(s, [
            {
              key: "installEvents",
              value: function () {
                ye.on(S0, this.handlePlayVideoStart, this),
                  ye.on(Hd, this.onVideoTrackMuted, this),
                  ye.on(_0, this.onVideoTrackUnmuted, this),
                  ye.on(Xs, this.handleStreamStopped, this),
                  ye.on(Ga, this.handleStreamStopped, this),
                  ye.on(Bd, this.handleVideoPlaying, this);
              },
            },
            {
              key: "uninstallEvents",
              value: function () {
                ye.off(S0, this.handlePlayVideoStart, this),
                  ye.off(Hd, this.onVideoTrackMuted, this),
                  ye.off(_0, this.onVideoTrackUnmuted, this),
                  ye.off(Xs, this.handleStreamStopped, this),
                  ye.off(Ga, this.handleStreamStopped, this),
                  ye.off(Bd, this.handleVideoPlaying, this);
              },
            },
            {
              key: "start",
              value: function () {
                var o = this;
                this.intervalId_ === -1 &&
                  (this.installEvents(),
                  (this.intervalId_ = un.run(
                    C(
                      m().mark(function l() {
                        return m().wrap(
                          function (h) {
                            for (;;)
                              switch ((h.prev = h.next)) {
                                case 0:
                                  return (
                                    (h.prev = 0), (h.next = 3), o.detectFPS()
                                  );
                                case 3:
                                  h.next = 7;
                                  break;
                                case 5:
                                  (h.prev = 5), (h.t0 = h.catch(0));
                                case 7:
                                case "end":
                                  return h.stop();
                              }
                          },
                          l,
                          null,
                          [[0, 5]]
                        );
                      })
                    ),
                    { delay: 1e3 }
                  )));
              },
            },
            {
              key: "stop",
              value: function () {
                this.intervalId_ !== -1 &&
                  (this.uninstallEvents(),
                  un.clearTask(this.intervalId_),
                  (this.intervalId_ = -1),
                  this.renderFreezeMap_.clear(),
                  this.dataFreezeMap_.clear(),
                  this.remoteStreamMap_.clear());
              },
            },
            {
              key: "onVideoTrackMuted",
              value: function (o) {
                var l = o.stream;
                if (l.getClient() === this.client_ && l.isRemote()) {
                  var h = l.userId_,
                    p = l.type_,
                    g = "".concat(h, "_").concat(p),
                    _ = this.dataFreezeMap_.get(g),
                    b = new Fv();
                  _
                    ? _.durationItemList.push(b)
                    : this.dataFreezeMap_.set(g, {
                        userId: h,
                        type: p,
                        durationItemList: [b],
                        isFreezing: function () {
                          var N =
                            this.durationItemList[
                              this.durationItemList.length - 1
                            ];
                          return N && N.endTime === 0;
                        },
                      });
                }
              },
            },
            {
              key: "onVideoTrackUnmuted",
              value: function (o) {
                var l = o.stream;
                if (l.getClient() === this.client_ && l.isRemote()) {
                  var h = l.userId_,
                    p = l.type_,
                    g = "".concat(h, "_").concat(p);
                  this.stopDataFreeze({ key: g, userId: h, type: p });
                }
              },
            },
            {
              key: "handleStreamStopped",
              value: function (o) {
                var l = o.client,
                  h = o.stream;
                if (l === this.client_) {
                  var p = h.getUserId(),
                    g = h.getType(),
                    _ = "".concat(p, "_").concat(g);
                  this.stopDataFreeze({ key: _, userId: p, type: g });
                }
              },
            },
            {
              key: "stopDataFreeze",
              value: function (o) {
                var l = o.key,
                  h = o.userId,
                  p = o.type,
                  g = this.dataFreezeMap_.get(l);
                if (g && g.isFreezing()) {
                  var _ = g.durationItemList[g.durationItemList.length - 1];
                  _.stop();
                  var b = _.getDuration();
                  b > 500
                    ? (st.logEvent({ eventType: "videoFrozenCount", delta: b }),
                      this.monitorFreezeData_.set(l, {
                        userId: h,
                        type: p,
                        duration: b,
                      }))
                    : g.durationItemList.pop();
                }
              },
            },
            {
              key: "getTotalDuration",
              value: function (o) {
                return o.reduce(function (l, h) {
                  var p = h.getDuration();
                  return l + Math.min(p, 5e3);
                }, 0);
              },
            },
            {
              key: "getStats",
              value:
                ((a = C(
                  m().mark(function c() {
                    var o, l, h, p, g, _, b, R, N, B, F;
                    return m().wrap(
                      function (U) {
                        for (;;)
                          switch ((U.prev = U.next)) {
                            case 0:
                              (o = this.client_.getConnections()),
                                (l = {}),
                                (h = We(o)),
                                (U.prev = 3),
                                h.s();
                            case 5:
                              if ((p = h.n()).done) {
                                U.next = 20;
                                break;
                              }
                              if (
                                ((g = wt(p.value, 2)),
                                (_ = g[0]),
                                (b = g[1]).getPeerConnection())
                              ) {
                                U.next = 9;
                                break;
                              }
                              return U.abrupt("continue", 18);
                            case 9:
                              return (
                                (R = b.getSubscribeState()),
                                (N = b.getTrackState()),
                                (U.next = 13),
                                this.statsCalculator_.getReceiverStats(b)
                              );
                            case 13:
                              (B = U.sent),
                                (F = {
                                  userId: B.userId,
                                  tinyId: _,
                                  hasVideo: N.video && R.video,
                                  hasAuxiliary: N.auxiliary && R.auxiliary,
                                  video: { framesDecoded: 0 },
                                  auxiliary: { framesDecoded: 0 },
                                }).hasVideo &&
                                  (F.video.framesDecoded =
                                    B.video.framesDecoded),
                                F.hasAuxiliary &&
                                  (F.auxiliary.framesDecoded =
                                    B.auxiliary.framesDecoded),
                                (l[B.userId] = F);
                            case 18:
                              U.next = 5;
                              break;
                            case 20:
                              U.next = 25;
                              break;
                            case 22:
                              (U.prev = 22), (U.t0 = U.catch(3)), h.e(U.t0);
                            case 25:
                              return (U.prev = 25), h.f(), U.finish(25);
                            case 28:
                              return U.abrupt("return", l);
                            case 29:
                            case "end":
                              return U.stop();
                          }
                      },
                      c,
                      this,
                      [[3, 22, 25, 28]]
                    );
                  })
                )),
                function () {
                  return a.apply(this, arguments);
                }),
            },
            {
              key: "detectFPS",
              value:
                ((n = C(
                  m().mark(function c() {
                    var o, l, h, p, g, _;
                    return m().wrap(
                      function (b) {
                        for (;;)
                          switch ((b.prev = b.next)) {
                            case 0:
                              return (b.next = 2), this.getStats();
                            case 2:
                              if (((o = b.sent), this.prevStats_)) {
                                b.next = 6;
                                break;
                              }
                              return (this.prevStats_ = o), b.abrupt("return");
                            case 6:
                              b.t0 = m().keys(o);
                            case 7:
                              if ((b.t1 = b.t0()).done) {
                                b.next = 17;
                                break;
                              }
                              if (((l = b.t1.value), this.prevStats_[l])) {
                                b.next = 11;
                                break;
                              }
                              return b.abrupt("continue", 7);
                            case 11:
                              (h = o[l].tinyId),
                                (p = this.client_.getMutedStates()),
                                o[l].hasVideo &&
                                  this.prevStats_[l].hasVideo &&
                                  p.has(h) &&
                                  !p.get(h).videoMuted &&
                                  ((g =
                                    o[l].video.framesDecoded -
                                    this.prevStats_[l].video.framesDecoded),
                                  this.handleRenderFreeze({
                                    userId: l,
                                    type: fn,
                                    fps: g,
                                  })),
                                o[l].hasAuxiliary &&
                                  this.prevStats_[l].hasAuxiliary &&
                                  ((_ =
                                    o[l].auxiliary.framesDecoded -
                                    this.prevStats_[l].auxiliary.framesDecoded),
                                  this.handleRenderFreeze({
                                    userId: l,
                                    type: Pn,
                                    fps: _,
                                  })),
                                (b.next = 7);
                              break;
                            case 17:
                              this.prevStats_ = o;
                            case 18:
                            case "end":
                              return b.stop();
                          }
                      },
                      c,
                      this
                    );
                  })
                )),
                function () {
                  return n.apply(this, arguments);
                }),
            },
            {
              key: "handleRenderFreeze",
              value:
                ((e = C(
                  m().mark(function c(o) {
                    var l, h, p, g, _, b, R, N;
                    return m().wrap(
                      function (B) {
                        for (;;)
                          switch ((B.prev = B.next)) {
                            case 0:
                              (l = o.userId),
                                (h = o.fps),
                                (p = o.type),
                                (g = "".concat(l, "_").concat(p)),
                                (_ = this.renderFreezeMap_.get(g)),
                                h <= 2
                                  ? ((b = En()),
                                    _ &&
                                      !_.isFreeze &&
                                      (_.freezeTimeline.push({
                                        startTime: b,
                                        endTime: void 0,
                                      }),
                                      (_.isFreeze = !0)),
                                    _ ||
                                      this.renderFreezeMap_.set(g, {
                                        userId: l,
                                        type: p,
                                        isFreeze: !0,
                                        freezeTimeline: [
                                          { startTime: b, endTime: void 0 },
                                        ],
                                        renderFreezeTotal: 0,
                                      }))
                                  : _ &&
                                    _.isFreeze &&
                                    ((_.isFreeze = !1),
                                    ((R = _.freezeTimeline.pop()).endTime =
                                      En()),
                                    (N = R.endTime - R.startTime),
                                    _.freezeTimeline.push(R),
                                    (_.renderFreezeTotal += Math.min(5e3, N)));
                            case 4:
                            case "end":
                              return B.stop();
                          }
                      },
                      c,
                      this
                    );
                  })
                )),
                function (c) {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "handlePlayVideoStart",
              value: function (o) {
                var l = o.stream;
                if (
                  l.getClient() === this.client_ &&
                  l.isRemote() &&
                  l.hasVideo()
                ) {
                  var h = "".concat(l.getUserId(), "_").concat(l.getType());
                  this.remoteStreamMap_.has(h) ||
                    this.remoteStreamMap_.set(h, { isPlayingFired: !1 });
                }
              },
            },
            {
              key: "handleVideoPlaying",
              value: function (o) {
                var l = o.stream;
                if (l.isRemote() && l.getClient() === this.client_) {
                  var h = "".concat(l.getUserId(), "_").concat(l.getType());
                  this.remoteStreamMap_.has(h) &&
                    (this.remoteStreamMap_.get(h).isPlayingFired = !0);
                }
              },
            },
            {
              key: "getDataFreezeDuration",
              value: function (o) {
                var l = { dataFreeze: 0, count: 0 },
                  h = this.dataFreezeMap_.get(o);
                if (h) {
                  if (h.isFreezing()) {
                    var p = h.durationItemList[h.durationItemList.length - 1];
                    p.stop(), p.getDuration() < 500 && h.durationItemList.pop();
                  }
                  (l.dataFreeze = this.getTotalDuration(h.durationItemList)),
                    (l.count = h.durationItemList.length);
                }
                return l;
              },
            },
            {
              key: "getRenderFreezeDuration",
              value: function (o) {
                var l = this.renderFreezeMap_.get(o),
                  h = 0,
                  p = 0;
                if (l)
                  if (l.isFreeze) {
                    var g =
                      En() -
                      l.freezeTimeline[l.freezeTimeline.length - 1].startTime;
                    (h = l.renderFreezeTotal + Math.min(g, 5e3)),
                      (p = l.freezeTimeline.length);
                  } else h = l.renderFreezeTotal;
                return { renderFreeze: h, count: p };
              },
            },
            {
              key: "getMonitorFreeze",
              value: function () {
                return this.monitorFreezeData_;
              },
            },
            {
              key: "isBlackStream",
              value: function (o) {
                return (
                  !!this.remoteStreamMap_.has(o) &&
                  !this.remoteStreamMap_.get(o).isPlayingFired
                );
              },
            },
            {
              key: "resetMonitor",
              value: function () {
                this.monitorFreezeData_.clear();
              },
            },
          ]),
          s
        );
      })(),
      Ib = ce(function s(e) {
        G(this, s),
          (this.userId = e.userId),
          (this.tinyId = e.tinyId),
          (this.role = e.role === Ec ? ca : Gs);
      }),
      n3 = { exports: {} };
    (function (s) {
      (function (e) {
        function n(U, T) {
          var A = (65535 & U) + (65535 & T);
          return (((U >> 16) + (T >> 16) + (A >> 16)) << 16) | (65535 & A);
        }
        function a(U, T, A, L, $, X) {
          return n(
            ((Q = n(n(T, U), n(L, X))) << (D = $)) | (Q >>> (32 - D)),
            A
          );
          var Q, D;
        }
        function c(U, T, A, L, $, X, Q) {
          return a((T & A) | (~T & L), U, T, $, X, Q);
        }
        function o(U, T, A, L, $, X, Q) {
          return a((T & L) | (A & ~L), U, T, $, X, Q);
        }
        function l(U, T, A, L, $, X, Q) {
          return a(T ^ A ^ L, U, T, $, X, Q);
        }
        function h(U, T, A, L, $, X, Q) {
          return a(A ^ (T | ~L), U, T, $, X, Q);
        }
        function p(U, T) {
          var A, L, $, X, Q;
          (U[T >> 5] |= 128 << T % 32), (U[14 + (((T + 64) >>> 9) << 4)] = T);
          var D = 1732584193,
            M = -271733879,
            z = -1732584194,
            W = 271733878;
          for (A = 0; A < U.length; A += 16)
            (L = D),
              ($ = M),
              (X = z),
              (Q = W),
              (D = c(D, M, z, W, U[A], 7, -680876936)),
              (W = c(W, D, M, z, U[A + 1], 12, -389564586)),
              (z = c(z, W, D, M, U[A + 2], 17, 606105819)),
              (M = c(M, z, W, D, U[A + 3], 22, -1044525330)),
              (D = c(D, M, z, W, U[A + 4], 7, -176418897)),
              (W = c(W, D, M, z, U[A + 5], 12, 1200080426)),
              (z = c(z, W, D, M, U[A + 6], 17, -1473231341)),
              (M = c(M, z, W, D, U[A + 7], 22, -45705983)),
              (D = c(D, M, z, W, U[A + 8], 7, 1770035416)),
              (W = c(W, D, M, z, U[A + 9], 12, -1958414417)),
              (z = c(z, W, D, M, U[A + 10], 17, -42063)),
              (M = c(M, z, W, D, U[A + 11], 22, -1990404162)),
              (D = c(D, M, z, W, U[A + 12], 7, 1804603682)),
              (W = c(W, D, M, z, U[A + 13], 12, -40341101)),
              (z = c(z, W, D, M, U[A + 14], 17, -1502002290)),
              (D = o(
                D,
                (M = c(M, z, W, D, U[A + 15], 22, 1236535329)),
                z,
                W,
                U[A + 1],
                5,
                -165796510
              )),
              (W = o(W, D, M, z, U[A + 6], 9, -1069501632)),
              (z = o(z, W, D, M, U[A + 11], 14, 643717713)),
              (M = o(M, z, W, D, U[A], 20, -373897302)),
              (D = o(D, M, z, W, U[A + 5], 5, -701558691)),
              (W = o(W, D, M, z, U[A + 10], 9, 38016083)),
              (z = o(z, W, D, M, U[A + 15], 14, -660478335)),
              (M = o(M, z, W, D, U[A + 4], 20, -405537848)),
              (D = o(D, M, z, W, U[A + 9], 5, 568446438)),
              (W = o(W, D, M, z, U[A + 14], 9, -1019803690)),
              (z = o(z, W, D, M, U[A + 3], 14, -187363961)),
              (M = o(M, z, W, D, U[A + 8], 20, 1163531501)),
              (D = o(D, M, z, W, U[A + 13], 5, -1444681467)),
              (W = o(W, D, M, z, U[A + 2], 9, -51403784)),
              (z = o(z, W, D, M, U[A + 7], 14, 1735328473)),
              (D = l(
                D,
                (M = o(M, z, W, D, U[A + 12], 20, -1926607734)),
                z,
                W,
                U[A + 5],
                4,
                -378558
              )),
              (W = l(W, D, M, z, U[A + 8], 11, -2022574463)),
              (z = l(z, W, D, M, U[A + 11], 16, 1839030562)),
              (M = l(M, z, W, D, U[A + 14], 23, -35309556)),
              (D = l(D, M, z, W, U[A + 1], 4, -1530992060)),
              (W = l(W, D, M, z, U[A + 4], 11, 1272893353)),
              (z = l(z, W, D, M, U[A + 7], 16, -155497632)),
              (M = l(M, z, W, D, U[A + 10], 23, -1094730640)),
              (D = l(D, M, z, W, U[A + 13], 4, 681279174)),
              (W = l(W, D, M, z, U[A], 11, -358537222)),
              (z = l(z, W, D, M, U[A + 3], 16, -722521979)),
              (M = l(M, z, W, D, U[A + 6], 23, 76029189)),
              (D = l(D, M, z, W, U[A + 9], 4, -640364487)),
              (W = l(W, D, M, z, U[A + 12], 11, -421815835)),
              (z = l(z, W, D, M, U[A + 15], 16, 530742520)),
              (D = h(
                D,
                (M = l(M, z, W, D, U[A + 2], 23, -995338651)),
                z,
                W,
                U[A],
                6,
                -198630844
              )),
              (W = h(W, D, M, z, U[A + 7], 10, 1126891415)),
              (z = h(z, W, D, M, U[A + 14], 15, -1416354905)),
              (M = h(M, z, W, D, U[A + 5], 21, -57434055)),
              (D = h(D, M, z, W, U[A + 12], 6, 1700485571)),
              (W = h(W, D, M, z, U[A + 3], 10, -1894986606)),
              (z = h(z, W, D, M, U[A + 10], 15, -1051523)),
              (M = h(M, z, W, D, U[A + 1], 21, -2054922799)),
              (D = h(D, M, z, W, U[A + 8], 6, 1873313359)),
              (W = h(W, D, M, z, U[A + 15], 10, -30611744)),
              (z = h(z, W, D, M, U[A + 6], 15, -1560198380)),
              (M = h(M, z, W, D, U[A + 13], 21, 1309151649)),
              (D = h(D, M, z, W, U[A + 4], 6, -145523070)),
              (W = h(W, D, M, z, U[A + 11], 10, -1120210379)),
              (z = h(z, W, D, M, U[A + 2], 15, 718787259)),
              (M = h(M, z, W, D, U[A + 9], 21, -343485551)),
              (D = n(D, L)),
              (M = n(M, $)),
              (z = n(z, X)),
              (W = n(W, Q));
          return [D, M, z, W];
        }
        function g(U) {
          var T,
            A = "",
            L = 32 * U.length;
          for (T = 0; T < L; T += 8)
            A += String.fromCharCode((U[T >> 5] >>> T % 32) & 255);
          return A;
        }
        function _(U) {
          var T,
            A = [];
          for (A[(U.length >> 2) - 1] = void 0, T = 0; T < A.length; T += 1)
            A[T] = 0;
          var L = 8 * U.length;
          for (T = 0; T < L; T += 8)
            A[T >> 5] |= (255 & U.charCodeAt(T / 8)) << T % 32;
          return A;
        }
        function b(U) {
          var T,
            A,
            L = "0123456789abcdef",
            $ = "";
          for (A = 0; A < U.length; A += 1)
            (T = U.charCodeAt(A)),
              ($ += L.charAt((T >>> 4) & 15) + L.charAt(15 & T));
          return $;
        }
        function R(U) {
          return unescape(encodeURIComponent(U));
        }
        function N(U) {
          return (function (T) {
            return g(p(_(T), 8 * T.length));
          })(R(U));
        }
        function B(U, T) {
          return (function (A, L) {
            var $,
              X,
              Q = _(A),
              D = [],
              M = [];
            for (
              D[15] = M[15] = void 0,
                Q.length > 16 && (Q = p(Q, 8 * A.length)),
                $ = 0;
              $ < 16;
              $ += 1
            )
              (D[$] = 909522486 ^ Q[$]), (M[$] = 1549556828 ^ Q[$]);
            return (
              (X = p(D.concat(_(L)), 512 + 8 * L.length)),
              g(p(M.concat(X), 640))
            );
          })(R(U), R(T));
        }
        function F(U, T, A) {
          return T ? (A ? B(T, U) : b(B(T, U))) : A ? N(U) : b(N(U));
        }
        s.exports ? (s.exports = F) : (e.md5 = F);
      })(at);
    })(n3);
    var r3,
      i3,
      Jo,
      jv = n3.exports,
      zG = (function () {
        function s(o) {
          G(this, s),
            (this.client_ = o.client),
            (this.signalChannel_ = o.signalChannel),
            (this.log_ = it.createLogger({
              id: "mix|" + this.client_.getUserId(),
              userId: o.client.getUserId(),
              sdkAppId: o.client.getSDKAppId(),
            })),
            (this.isMixing_ = !1),
            (this.config_ = null),
            (this.data_ = null),
            (this.remoteStreamMap_ = /* @__PURE__ */ new Map()),
            this.installEvents();
        }
        var e, n, a, c;
        return (
          ce(s, [
            {
              key: "isPresetLayoutMode",
              get: function () {
                return this.config_ && this.config_.mode === Sy.PRESET_LAYOUT;
              },
            },
            {
              key: "installEvents",
              value: function () {
                ye.on(Wa, this.onStreamSubscribed, this),
                  ye.on(Ga, this.onStreamUnsubscribed, this),
                  this.client_.on("stream-removed", this.onStreamRemoved, this);
              },
            },
            {
              key: "uninstallEvents",
              value: function () {
                ye.off(Wa, this.onStreamSubscribed, this),
                  ye.off(Ga, this.onStreamUnsubscribed, this),
                  this.client_.off(
                    "stream-removed",
                    this.onStreamRemoved,
                    this
                  );
              },
            },
            {
              key: "reset",
              value: function () {
                this.uninstallEvents(),
                  (this.isMixing_ = !1),
                  (this.config_ = null);
              },
            },
            {
              key: "onStreamSubscribed",
              value: function (l) {
                var h = l.client,
                  p = l.stream;
                h === this.client_ &&
                  (this.remoteStreamMap_.set(p.getId(), {
                    remoteStream: p,
                    isUsed: !1,
                  }),
                  this.isMixing_ &&
                    this.hasAvailablePlaceHolder() &&
                    this.startMixTranscode(this.config_));
              },
            },
            {
              key: "onStreamUnsubscribed",
              value: function (l) {
                var h = l.client,
                  p = l.stream;
                h === this.client_ && this.onStreamRemoved({ stream: p });
              },
            },
            {
              key: "onStreamRemoved",
              value: function (l) {
                var h = l.stream;
                if (this.remoteStreamMap_.has(h.getId())) {
                  var p = this.remoteStreamMap_.get(h.getId()).isUsed;
                  this.remoteStreamMap_.delete(h.getId()),
                    this.isMixing_ &&
                      this.isPresetLayoutMode &&
                      p &&
                      this.startMixTranscode(this.config_);
                }
              },
            },
            {
              key: "startMixTranscode",
              value:
                ((c = C(
                  m().mark(function o(l) {
                    var h, p, g;
                    return m().wrap(
                      function (_) {
                        for (;;)
                          switch ((_.prev = _.next)) {
                            case 0:
                              if (
                                ((_.prev = 0),
                                this.resetIsUsedFlag(),
                                (this.config_ = l),
                                (h = this.getInputParam(
                                  l,
                                  this.remoteStreamMap_
                                )),
                                (p = this.getOutputParam(l)),
                                (g = this.getOutputSessionId({
                                  config: l,
                                  roomId: this.client_.getRoomId(),
                                  userId: this.client_.getUserId(),
                                })),
                                !this.isMixing_ ||
                                  !this.data_ ||
                                  g === this.data_.outputSessionId)
                              ) {
                                _.next = 10;
                                break;
                              }
                              return (
                                this.log_.info(
                                  "startMixTranscode() streamId changed, stop mixing before start"
                                ),
                                (_.next = 10),
                                this.doStopMixTranscode()
                              );
                            case 10:
                              return (
                                (_.next = 12),
                                this.doStartMixTranscode({
                                  outputSessionId: g,
                                  inputParam: h,
                                  outputParam: p,
                                })
                              );
                            case 12:
                              _.next = 18;
                              break;
                            case 14:
                              throw (
                                ((_.prev = 14),
                                (_.t0 = _.catch(0)),
                                this.resetIsUsedFlag(),
                                _.t0)
                              );
                            case 18:
                            case "end":
                              return _.stop();
                          }
                      },
                      o,
                      this,
                      [[0, 14]]
                    );
                  })
                )),
                function (o) {
                  return c.apply(this, arguments);
                }),
            },
            {
              key: "doStartMixTranscode",
              value:
                ((a = C(
                  m().mark(function o(l) {
                    var h, p, g, _, b, R, N, B;
                    return m().wrap(
                      function (F) {
                        for (;;)
                          switch ((F.prev = F.next)) {
                            case 0:
                              return (
                                (h = l.outputSessionId),
                                (p = l.inputParam),
                                (g = l.outputParam),
                                (_ = {
                                  roomId: String(this.client_.getRoomId()),
                                  mcuRequestTime: Date.now(),
                                  outputSessionId: h,
                                  inputParam: p,
                                  outputParam: g,
                                }),
                                (this.data_ = _),
                                this.log_.info(
                                  "startMixTranscode: ".concat(
                                    JSON.stringify(_)
                                  )
                                ),
                                (this.isMixing_ = !0),
                                (F.prev = 5),
                                (F.next = 8),
                                this.signalChannel_.sendWaitForResponse({
                                  command: w9,
                                  data: _,
                                  timeout: 5e3,
                                  responseCommand: en.START_MIX_TRANSCODE_RES,
                                  commandDesc: "startMixTranscode",
                                })
                              );
                            case 8:
                              if (
                                ((b = F.sent),
                                (R = b.data),
                                (N = R.code),
                                (B = R.message),
                                N === 0)
                              ) {
                                F.next = 15;
                                break;
                              }
                              throw (
                                (N === -102083 &&
                                  (B = "Please enable relayed-push in "
                                    .concat(WT, " and try later, refer to ")
                                    .concat(
                                      Iy,
                                      "tutorial-26-advanced-publish-cdn-stream.html"
                                    )),
                                this.log_.error(
                                  "startMixTranscode failed, errCode: "
                                    .concat(N, " errMsg: ")
                                    .concat(B)
                                ),
                                (this.isMixing_ = !1),
                                new Ie({
                                  code: ke.START_MIX_TRANSCODE_FAILED,
                                  message: Le({
                                    key: lU,
                                    data: { message: B },
                                    link: {
                                      className: "Client",
                                      fnName: "startMixTranscode",
                                    },
                                  }),
                                }))
                              );
                            case 15:
                              F.next = 21;
                              break;
                            case 17:
                              throw (
                                ((F.prev = 17),
                                (F.t0 = F.catch(5)),
                                (this.isMixing_ = !1),
                                F.t0)
                              );
                            case 21:
                            case "end":
                              return F.stop();
                          }
                      },
                      o,
                      this,
                      [[5, 17]]
                    );
                  })
                )),
                function (o) {
                  return a.apply(this, arguments);
                }),
            },
            {
              key: "reStartMixTranscode",
              value: function () {
                this.isMixing_ && this.startMixTranscode(this.config_);
              },
            },
            {
              key: "stopMixTranscode",
              value:
                ((n = C(
                  m().mark(function o() {
                    return m().wrap(
                      function (l) {
                        for (;;)
                          switch ((l.prev = l.next)) {
                            case 0:
                              if (this.isMixing_) {
                                l.next = 2;
                                break;
                              }
                              throw new Ie({
                                code: ke.INVALID_OPERATION,
                                message: Le({ key: hU }),
                              });
                            case 2:
                              return (l.next = 4), this.doStopMixTranscode();
                            case 4:
                              this.resetIsUsedFlag();
                            case 5:
                            case "end":
                              return l.stop();
                          }
                      },
                      o,
                      this
                    );
                  })
                )),
                function () {
                  return n.apply(this, arguments);
                }),
            },
            {
              key: "doStopMixTranscode",
              value:
                ((e = C(
                  m().mark(function o() {
                    var l, h, p, g, _;
                    return m().wrap(
                      function (b) {
                        for (;;)
                          switch ((b.prev = b.next)) {
                            case 0:
                              return (
                                (l = {
                                  mcuRequestTime: Date.now(),
                                  outputSessionId: this.data_.outputSessionId,
                                  streamType: this.data_.outputParam.streamType,
                                }),
                                this.log_.info(
                                  "stopMixTranscode: ".concat(JSON.stringify(l))
                                ),
                                (b.next = 4),
                                this.signalChannel_.sendWaitForResponse({
                                  command: k9,
                                  data: l,
                                  timeout: 5e3,
                                  responseCommand: en.STOP_MIX_TRANSCODE_RES,
                                  commandDesc: "stopMixTranscode",
                                })
                              );
                            case 4:
                              if (
                                ((h = b.sent),
                                (p = h.data),
                                (g = p.code),
                                (_ = p.message),
                                g !== 0)
                              ) {
                                b.next = 10;
                                break;
                              }
                              (this.isMixing_ = !1), (b.next = 12);
                              break;
                            case 10:
                              throw (
                                (this.log_.error(
                                  "stopMixTranscode failed, errCode: "
                                    .concat(g, " errMsg: ")
                                    .concat(_)
                                ),
                                new Ie({
                                  code: ke.STOP_MIX_TRANSCODE_FAILED,
                                  message: Le({
                                    key: dU,
                                    data: { message: _ },
                                    link: {
                                      className: "Client",
                                      fnName: "stopMixTranscode",
                                    },
                                  }),
                                }))
                              );
                            case 12:
                            case "end":
                              return b.stop();
                          }
                      },
                      o,
                      this
                    );
                  })
                )),
                function () {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "getOutputSessionId",
              value: function (l) {
                var h = l.config,
                  p = l.userId,
                  g = l.roomId;
                return zn(h.streamId) && h.streamId.length > 0
                  ? h.streamId
                  : jv("".concat(g, "_").concat(p, "_main"));
              },
            },
            {
              key: "getInputParam",
              value: function (l, h) {
                var p = this,
                  g = l.mixUsers.map(function (_) {
                    return {
                      userId: _.userId,
                      roomId: String(_.roomId || p.client_.getRoomId()),
                      width: _.width || 0,
                      height: _.height || 0,
                      locationX: _.locationX || 0,
                      locationY: _.locationY || 0,
                      zOrder: _.zOrder,
                      streamType:
                        rt(_.streamType) || _.streamType !== Pn ? 0 : 1,
                      inputType: _.pureAudio
                        ? LT.IT_PURE_AUDIO
                        : LT.IT_AUDIO_VIDEO,
                      renderMode: _.renderMode || 0,
                    };
                  });
                return (
                  l.mode === Sy.PRESET_LAYOUT &&
                    (g.forEach(function (_) {
                      if (_.userId === NT.REMOTE) {
                        var b = Je(h.values()).find(function (R) {
                          return !R.isUsed;
                        });
                        b &&
                          ((_.userId = b.remoteStream.getUserId()),
                          (_.streamType =
                            b.remoteStream.getType() === Pn ? 1 : 0),
                          (b.isUsed = !0));
                      }
                    }),
                    (g = g.filter(function (_) {
                      return _.userId !== NT.REMOTE;
                    }))),
                  g
                );
              },
            },
            {
              key: "getOutputParam",
              value: function (l) {
                var h = l.streamId || "";
                return {
                  streamId: h,
                  streamType: h.length > 0 ? 1 : 0,
                  width: rt(l.videoWidth) ? 640 : l.videoWidth,
                  height: rt(l.videoHeight) ? 480 : l.videoHeight,
                  videoBps: l.videoBitrate || 0,
                  fps: l.videoFramerate || 15,
                  gop: l.videoGOP || 2,
                  audioSampleRate: l.audioSampleRate || 48e3,
                  audioBps: l.audioBitrate || 64,
                  audioChannels: l.audioChannels || 1,
                  backgroundColor: l.backgroundColor || 0,
                  backgroundImg: l.backgroundImage || "",
                  extraInfo: "",
                  videoCodec: 2,
                  audioCodec: 0,
                };
              },
            },
            {
              key: "hasAvailablePlaceHolder",
              value: function () {
                return (
                  !!this.isPresetLayoutMode &&
                  this.data_.inputParam.length !== this.config_.mixUsers.length
                );
              },
            },
            {
              key: "resetIsUsedFlag",
              value: function () {
                this.remoteStreamMap_.forEach(function (l) {
                  return (l.isUsed = !1);
                });
              },
            },
          ]),
          s
        );
      })(),
      WG = (function () {
        function s(h) {
          G(this, s),
            (this.client_ = h.client),
            (this.signalChannel_ = h.signalChannel),
            (this.publishTencentMainStreamObj_ = {
              params_: null,
              streamId_: void 0,
              isPublishing_: !1,
            }),
            (this.publishTencentAuxStreamObj_ = {
              params_: null,
              streamId_: void 0,
              isPublishing_: !1,
            }),
            (this.publishGivenCDNData_ = null),
            (this.isPublishingGivenCDN_ = !1);
        }
        var e, n, a, c, o, l;
        return (
          ce(s, [
            {
              key: "setSignalChannel",
              value: function (p) {
                this.signalChannel_ = p.signalChannel;
              },
            },
            {
              key: "getIsPublishingTencentCDN",
              value: function () {
                return (
                  this.publishTencentMainStreamObj_.isPublishing_ ||
                  this.publishTencentAuxStreamObj_.isPublishing_
                );
              },
            },
            {
              key: "getIsPublishingGivenCDN",
              value: function () {
                return this.isPublishingGivenCDN_;
              },
            },
            {
              key: "generatePublishCDNStreamId",
              value: function (p, g) {
                if (!p) {
                  var _ = ""
                    .concat(this.client_.getRoomId(), "_")
                    .concat(this.client_.getUserId(), "_")
                    .concat(g);
                  return (
                    /^[A-Za-z\d_-]*$/.test(_) || (_ = jv(_)),
                    "".concat(this.client_.getSDKAppId(), "_").concat(_)
                  );
                }
                return p;
              },
            },
            {
              key: "generatePublishCDNSessionId",
              value: function (p) {
                return jv(
                  ""
                    .concat(this.client_.getRoomId(), "_")
                    .concat(this.client_.getUserId(), "_")
                    .concat(p)
                );
              },
            },
            {
              key: "startPublishTencentCDN",
              value:
                ((l = C(
                  m().mark(function h(p) {
                    var g, _, b, R;
                    return m().wrap(
                      function (N) {
                        for (;;)
                          switch ((N.prev = N.next)) {
                            case 0:
                              if (
                                (p.streamType === ti
                                  ? ((this.publishTencentAuxStreamObj_.params_ =
                                      p),
                                    (this.publishTencentAuxStreamObj_.isPublishing_ =
                                      !0))
                                  : ((this.publishTencentMainStreamObj_.params_ =
                                      p),
                                    (this.publishTencentMainStreamObj_.isPublishing_ =
                                      !0)),
                                this.client_.isJoined_)
                              ) {
                                N.next = 3;
                                break;
                              }
                              return N.abrupt("return");
                            case 3:
                              return (
                                (g = this.generatePublishCDNStreamId(
                                  p.streamId,
                                  p.streamType
                                )),
                                (_ = this.generatePublishCDNSessionId(
                                  p.streamType
                                )),
                                (b = p.streamType === ti ? 1 : 0),
                                (R = {
                                  requestTime: Date.now(),
                                  sessionId: _,
                                  streamId: g,
                                  streamType: b,
                                }),
                                (N.next = 9),
                                this.doStartPublishTencentCDN(R, p.streamType)
                              );
                            case 9:
                            case "end":
                              return N.stop();
                          }
                      },
                      h,
                      this
                    );
                  })
                )),
                function (h) {
                  return l.apply(this, arguments);
                }),
            },
            {
              key: "doStartPublishTencentCDN",
              value:
                ((o = C(
                  m().mark(function h(p, g) {
                    var _, b, R, N;
                    return m().wrap(
                      function (B) {
                        for (;;)
                          switch ((B.prev = B.next)) {
                            case 0:
                              return (
                                (B.prev = 0),
                                it.info(
                                  "startPublishTencentCDN: " + JSON.stringify(p)
                                ),
                                (B.next = 4),
                                this.signalChannel_.sendWaitForResponseWithRetry(
                                  {
                                    command: _9,
                                    data: p,
                                    timeout: 2e3,
                                    responseCommand:
                                      en.START_PUBLISH_TENCENT_CDN_RES,
                                    commandDesc: "startPublishCDNStream",
                                    retries: 2,
                                  }
                                )
                              );
                            case 4:
                              if (
                                ((_ = B.sent),
                                (b = _.data),
                                (R = b.code),
                                (N = b.message),
                                R !== 0)
                              ) {
                                B.next = 10;
                                break;
                              }
                              g === ti
                                ? (this.publishTencentAuxStreamObj_.streamId_ =
                                    p.streamId)
                                : (this.publishTencentMainStreamObj_.streamId_ =
                                    p.streamId),
                                (B.next = 14);
                              break;
                            case 10:
                              throw (
                                (g === ti
                                  ? (this.publishTencentAuxStreamObj_.isPublishing_ =
                                      !1)
                                  : (this.publishTencentMainStreamObj_.isPublishing_ =
                                      !1),
                                R === -102083 &&
                                  (N = "Please enable relayed-push in "
                                    .concat(WT, " and try later, refer to ")
                                    .concat(
                                      Iy,
                                      "tutorial-26-advanced-publish-cdn-stream.html"
                                    )),
                                it.error(
                                  "startPublishTencentCDN failed, errCode: "
                                    .concat(R, ", errMsg: ")
                                    .concat(N)
                                ),
                                new Ie({
                                  code: ke.START_PUBLISH_CDN_FAILED,
                                  message: Le({
                                    key: rE,
                                    data: { message: N },
                                    link: {
                                      className: "Client",
                                      fnName: "startPublishCDNStream",
                                    },
                                  }),
                                }))
                              );
                            case 14:
                              B.next = 20;
                              break;
                            case 16:
                              throw (
                                ((B.prev = 16),
                                (B.t0 = B.catch(0)),
                                g === ti
                                  ? (this.publishTencentAuxStreamObj_.isPublishing_ =
                                      !1)
                                  : (this.publishTencentMainStreamObj_.isPublishing_ =
                                      !1),
                                B.t0)
                              );
                            case 20:
                            case "end":
                              return B.stop();
                          }
                      },
                      h,
                      this,
                      [[0, 16]]
                    );
                  })
                )),
                function (h, p) {
                  return o.apply(this, arguments);
                }),
            },
            {
              key: "resetPublishTencentParam",
              value: function (p) {
                p === jt &&
                  (this.publishTencentMainStreamObj_ = {
                    params_: null,
                    streamId_: void 0,
                    isPublishing_: !1,
                  }),
                  p === ti &&
                    (this.publishTencentAuxStreamObj_ = {
                      params_: null,
                      streamId_: void 0,
                      isPublishing_: !1,
                    });
              },
            },
            {
              key: "stopPublishTencentCDN",
              value:
                ((c = C(
                  m().mark(function h() {
                    return m().wrap(
                      function (p) {
                        for (;;)
                          switch ((p.prev = p.next)) {
                            case 0:
                              if (this.client_.isJoined_) {
                                p.next = 4;
                                break;
                              }
                              return (
                                this.resetPublishTencentParam(jt),
                                this.resetPublishTencentParam(ti),
                                p.abrupt("return")
                              );
                            case 4:
                              if (
                                !this.publishTencentMainStreamObj_.isPublishing_
                              ) {
                                p.next = 7;
                                break;
                              }
                              return (
                                (p.next = 7), this.doStopPublishTencentCDN(jt)
                              );
                            case 7:
                              if (
                                !this.publishTencentAuxStreamObj_.isPublishing_
                              ) {
                                p.next = 10;
                                break;
                              }
                              return (
                                (p.next = 10), this.doStopPublishTencentCDN(ti)
                              );
                            case 10:
                            case "end":
                              return p.stop();
                          }
                      },
                      h,
                      this
                    );
                  })
                )),
                function () {
                  return c.apply(this, arguments);
                }),
            },
            {
              key: "doStopPublishTencentCDN",
              value:
                ((a = C(
                  m().mark(function h(p) {
                    var g, _, b, R, N;
                    return m().wrap(
                      function (B) {
                        for (;;)
                          switch ((B.prev = B.next)) {
                            case 0:
                              return (
                                (g = {
                                  requestTime: Date.now(),
                                  sessionId: jv(
                                    ""
                                      .concat(this.client_.getRoomId(), "_")
                                      .concat(this.client_.getUserId(), "_")
                                      .concat(p)
                                  ),
                                }),
                                it.info(
                                  "stopPublishTencentCDN: " + JSON.stringify(g)
                                ),
                                (B.next = 4),
                                this.signalChannel_.sendWaitForResponse({
                                  command: y9,
                                  data: g,
                                  timeout: 5e3,
                                  responseCommand:
                                    en.STOP_PUBLISH_TENCENT_CDN_RES,
                                  commandDesc: "stopPublishCDNStream",
                                })
                              );
                            case 4:
                              if (
                                ((_ = B.sent),
                                (b = _.data),
                                (R = b.code),
                                (N = b.message),
                                R !== 0)
                              ) {
                                B.next = 10;
                                break;
                              }
                              this.resetPublishTencentParam(p), (B.next = 17);
                              break;
                            case 10:
                              if (R !== -102069) {
                                B.next = 15;
                                break;
                              }
                              it.warn(
                                "stopPublishTencentCDN failed, can not stopPublishTencentCDN in auto relayed-push mode"
                              ),
                                this.resetPublishTencentParam(p),
                                (B.next = 17);
                              break;
                            case 15:
                              throw (
                                (it.error(
                                  "stopPublishTencentCDN failed, errCode: "
                                    .concat(R, " errMsg: ")
                                    .concat(N)
                                ),
                                new Ie({
                                  code: ke.STOP_PUBLISH_CDN_FAILED,
                                  message: Le({
                                    key: iE,
                                    data: { message: N },
                                    link: {
                                      className: "Client",
                                      fnName: "stopPublishCDNStream",
                                    },
                                  }),
                                }))
                              );
                            case 17:
                            case "end":
                              return B.stop();
                          }
                      },
                      h,
                      this
                    );
                  })
                )),
                function (h) {
                  return a.apply(this, arguments);
                }),
            },
            {
              key: "startPublishGivenCDN",
              value:
                ((n = C(
                  m().mark(function h(p) {
                    var g, _, b, R, N, B;
                    return m().wrap(
                      function (F) {
                        for (;;)
                          switch ((F.prev = F.next)) {
                            case 0:
                              if (
                                ((g =
                                  p.streamType === jt
                                    ? this.publishTencentMainStreamObj_
                                        .streamId_
                                    : this.publishTencentAuxStreamObj_
                                        .streamId_),
                                (_ = {
                                  pushRequestTime: Date.now(),
                                  pushAppId: p.appId,
                                  pushBizId: p.bizId,
                                  pushCdnUrl: p.url,
                                  pushStreamType: p.streamType,
                                  pushStreamId: g,
                                }),
                                it.info(
                                  "startPublishGivenCDN: " + JSON.stringify(_)
                                ),
                                (this.publishGivenCDNData_ = _),
                                (this.isPublishingGivenCDN_ = !0),
                                this.client_.isJoined_)
                              ) {
                                F.next = 7;
                                break;
                              }
                              return F.abrupt("return");
                            case 7:
                              return (
                                (F.prev = 7),
                                (F.next = 10),
                                this.signalChannel_.sendWaitForResponse({
                                  command: b9,
                                  data: _,
                                  timeout: 5e3,
                                  responseCommand:
                                    en.START_PUBLISH_GIVEN_CDN_RES,
                                  commandDesc: "startPublishCDNStream",
                                })
                              );
                            case 10:
                              if (
                                ((b = F.sent),
                                (R = b.data),
                                (N = R.code),
                                (B = R.message),
                                N === 0)
                              ) {
                                F.next = 17;
                                break;
                              }
                              throw (
                                (it.error(
                                  "startPublishGivenCDN failed, errCode: "
                                    .concat(N, ", errMsg: ")
                                    .concat(B)
                                ),
                                (this.publishGivenCDNData_ = null),
                                (this.isPublishingGivenCDN_ = !1),
                                new Ie({
                                  code: ke.START_PUBLISH_CDN_FAILED,
                                  message: Le({
                                    key: rE,
                                    data: { message: B },
                                    link: {
                                      className: "Client",
                                      fnName: "startPublishCDNStream",
                                    },
                                  }),
                                }))
                              );
                            case 17:
                              F.next = 24;
                              break;
                            case 19:
                              throw (
                                ((F.prev = 19),
                                (F.t0 = F.catch(7)),
                                (this.publishGivenCDNData_ = null),
                                (this.isPublishingGivenCDN_ = !1),
                                F.t0)
                              );
                            case 24:
                            case "end":
                              return F.stop();
                          }
                      },
                      h,
                      this,
                      [[7, 19]]
                    );
                  })
                )),
                function (h) {
                  return n.apply(this, arguments);
                }),
            },
            {
              key: "stopPublishGivenCDN",
              value:
                ((e = C(
                  m().mark(function h() {
                    var p, g, _, b, R, N, B, F, U, T;
                    return m().wrap(
                      function (A) {
                        for (;;)
                          switch ((A.prev = A.next)) {
                            case 0:
                              if (this.client_.isJoined_) {
                                A.next = 4;
                                break;
                              }
                              return (
                                (this.publishGivenCDNData_ = null),
                                (this.isPublishingGivenCDN_ = !1),
                                A.abrupt("return")
                              );
                            case 4:
                              return (
                                (p = this.publishGivenCDNData_),
                                (g = p.pushAppId),
                                (_ = p.pushBizId),
                                (b = p.pushCdnUrl),
                                (R = p.pushStreamType),
                                (N = {
                                  pushRequestTime: Date.now(),
                                  pushAppId: g,
                                  pushBizId: _,
                                  pushCdnUrl: b,
                                  pushStreamType: R,
                                }),
                                it.info(
                                  "stopPublishGivenCDN: " + JSON.stringify(N)
                                ),
                                (A.next = 9),
                                this.signalChannel_.sendWaitForResponse({
                                  command: S9,
                                  data: N,
                                  timeout: 5e3,
                                  responseCommand:
                                    en.STOP_PUBLISH_GIVEN_CDN_RES,
                                  commandDesc: "stopPublishCDNStream",
                                })
                              );
                            case 9:
                              if (
                                ((B = A.sent),
                                (F = B.data),
                                (U = F.code),
                                (T = F.message),
                                U !== 0)
                              ) {
                                A.next = 16;
                                break;
                              }
                              (this.publishGivenCDNData_ = null),
                                (this.isPublishingGivenCDN_ = !1),
                                (A.next = 18);
                              break;
                            case 16:
                              throw (
                                (it.error(
                                  "stopPublishGivenCDN failed, errCode: "
                                    .concat(U, " errMsg: ")
                                    .concat(T)
                                ),
                                new Ie({
                                  code: ke.STOP_PUBLISH_CDN_FAILED,
                                  message: Le({
                                    key: iE,
                                    data: { message: T },
                                    link: {
                                      className: "Client",
                                      fnName: "stopPublishCDNStream",
                                    },
                                  }),
                                }))
                              );
                            case 18:
                            case "end":
                              return A.stop();
                          }
                      },
                      h,
                      this
                    );
                  })
                )),
                function () {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "handleCDNConfigForJoinData",
              value: function (p) {
                var g,
                  _ = p;
                if (
                  this.publishTencentMainStreamObj_.isPublishing_ ||
                  this.publishTencentAuxStreamObj_.isPublishing_
                ) {
                  var b = {};
                  zn(_) && (b = JSON.parse(_)),
                    b.Str_uc_params || (b.Str_uc_params = {}),
                    this.publishTencentMainStreamObj_.isPublishing_ &&
                      (this.publishTencentMainStreamObj_.streamId_
                        ? (b.Str_uc_params.userdefine_streamid_main =
                            this.publishTencentMainStreamObj_.streamId_)
                        : this.publishTencentMainStreamObj_.params_ &&
                          (b.Str_uc_params.userdefine_streamid_main =
                            this.generatePublishCDNStreamId(
                              this.publishTencentMainStreamObj_.params_
                                .streamId,
                              jt
                            ))),
                    this.publishTencentAuxStreamObj_.isPublishing_ &&
                      (this.publishTencentAuxStreamObj_.streamId_
                        ? (b.Str_uc_params.userdefine_streamid_aux =
                            this.publishTencentAuxStreamObj_.streamId_)
                        : this.publishTencentAuxStreamObj_.params_ &&
                          (b.Str_uc_params.userdefine_streamid_aux =
                            this.generatePublishCDNStreamId(
                              this.publishTencentAuxStreamObj_.params_.streamId,
                              ti
                            ))),
                    (_ = JSON.stringify(b));
                }
                if (this.isPublishingGivenCDN_) {
                  var R = this.publishGivenCDNData_,
                    N = R.pushAppId,
                    B = R.pushBizId,
                    F = R.pushCdnUrl,
                    U = R.pushStreamType,
                    T = R.pushStreamId;
                  g = {
                    pushRequestTime: Date.now(),
                    pushAppId: N,
                    pushBizId: B,
                    pushCdnUrl: F,
                    pushStreamType: U,
                    pushStreamId: T,
                  };
                }
                return { bussinessInfo: _, pushUserCdnInfo: g };
              },
            },
            {
              key: "reset",
              value: function () {
                this.resetPublishTencentParam(jt),
                  this.resetPublishTencentParam(ti),
                  (this.publishGivenCDNData_ = null),
                  (this.isPublishingGivenCDN_ = !1);
              },
            },
          ]),
          s
        );
      })(),
      GG = (function () {
        function s(e) {
          G(this, s),
            (this.client_ = e.client),
            (this.durationMap_ = /* @__PURE__ */ new Map()),
            this.installEvents();
        }
        return (
          ce(s, [
            {
              key: "installEvents",
              value: function () {
                ye.on(Wa, this.handleSubscribed, this),
                  ye.on(ii, this.handleStreamTrackUpdated, this),
                  ye.on(Ga, this.handleStreamStopped, this),
                  ye.on(Xs, this.handleStreamStopped, this);
              },
            },
            {
              key: "uninstallEvents",
              value: function () {
                ye.off(Wa, this.handleSubscribed, this),
                  ye.off(ii, this.handleStreamTrackUpdated, this),
                  ye.off(Ga, this.handleStreamStopped, this),
                  ye.off(Xs, this.handleStreamStopped, this);
              },
            },
            {
              key: "handleSubscribed",
              value: function (n) {
                var a = n.client,
                  c = n.stream;
                if (a === this.client_) {
                  var o = c.getUserId(),
                    l = c.getType(),
                    h = "".concat(o, "_").concat(l);
                  if (c.hasAudio())
                    if (c.isMainAudioSubscribed) {
                      var p = new Fv(),
                        g = this.durationMap_.get(h);
                      g
                        ? this.isRecording(g.audio) || g.audio.push(p)
                        : this.durationMap_.set(h, {
                            userId: o,
                            type: l,
                            audio: [p],
                            video: [],
                          });
                    } else this.stopDurationItem(h, mt);
                  if (c.hasVideo())
                    if (
                      (l === fn && c.isMainVideoSubscribed) ||
                      (l === Pn && c.isAuxVideoSubscribed)
                    ) {
                      var _ = new Fv(),
                        b = this.durationMap_.get(h);
                      b
                        ? this.isRecording(b.video) || b.video.push(_)
                        : this.durationMap_.set(h, {
                            userId: o,
                            type: l,
                            audio: [],
                            video: [_],
                          });
                    } else this.stopDurationItem(h, dt);
                }
              },
            },
            {
              key: "handleStreamStopped",
              value: function (n) {
                var a = n.client,
                  c = n.stream;
                if (this.clientHitTest(a)) {
                  var o = c.getUserId(),
                    l = c.getType(),
                    h = "".concat(o, "_").concat(l);
                  this.stopDurationItem(h, mt), this.stopDurationItem(h, dt);
                }
              },
            },
            {
              key: "handleStreamTrackUpdated",
              value: function (n) {
                var a = n.client,
                  c = n.userId,
                  o = n.tinyId,
                  l = n.kind,
                  h = n.action;
                if (
                  this.clientHitTest(a) &&
                  this.client_.getConnections().has(o)
                ) {
                  var p = l === ln ? l : fn,
                    g = "".concat(c, "_").concat(p);
                  if (h === vr.ADD) {
                    var _ = this.client_
                      .getConnections()
                      .get(o)
                      .getSubscribeState();
                    if (
                      (l === mt && !_.audio) ||
                      (l === dt && !_.video) ||
                      (l === ln && !_.auxiliary)
                    )
                      return;
                    var b = new Fv(),
                      R = this.durationMap_.get(g);
                    R
                      ? (l !== mt ||
                          this.isRecording(R.audio) ||
                          R.audio.push(b),
                        l === mt ||
                          this.isRecording(R.video) ||
                          R.video.push(b))
                      : this.durationMap_.set(g, {
                          userId: c,
                          type: p,
                          audio: l === mt ? [b] : [],
                          video: l === mt ? [] : [b],
                        });
                  } else this.stopDurationItem(g, l === mt ? mt : dt);
                }
              },
            },
            {
              key: "isRecording",
              value: function (n) {
                return (
                  n.findIndex(function (a) {
                    return a.endTime === 0;
                  }) >= 0
                );
              },
            },
            {
              key: "stopDurationItem",
              value: function (n, a) {
                if (this.durationMap_.has(n)) {
                  var c = this.durationMap_.get(n)[a].find(function (o) {
                    return o.endTime === 0;
                  });
                  c && c.stop();
                }
              },
            },
            {
              key: "clientHitTest",
              value: function (n) {
                return this.client_ === n;
              },
            },
            {
              key: "getDuration",
              value: function (n, a) {
                return this.durationMap_.has(n)
                  ? this.durationMap_.get(n)[a].reduce(function (c, o) {
                      return c + o.getDuration();
                    }, 0)
                  : 0;
              },
            },
            {
              key: "getDurationMap",
              value: function () {
                return this.durationMap_;
              },
            },
            {
              key: "reset",
              value: function () {
                this.durationMap_.clear();
              },
            },
            {
              key: "destroy",
              value: function () {
                (this.client_ = null), this.uninstallEvents();
              },
            },
          ]),
          s
        );
      })();
    function hh() {
      return function (s, e, n) {
        var a = n.value,
          c = /* @__PURE__ */ new Set();
        return (
          (n.value = C(
            m().mark(function o() {
              var l,
                h,
                p,
                g,
                _ = arguments;
              return m().wrap(
                function (b) {
                  for (;;)
                    switch ((b.prev = b.next)) {
                      case 0:
                        if (!c.has(this)) {
                          b.next = 2;
                          break;
                        }
                        throw new Ie({
                          code: ke.INVALID_OPERATION,
                          message: Le({ key: a7, data: { name: e } }),
                        });
                      case 2:
                        for (
                          b.prev = 2,
                            c.add(this),
                            l = _.length,
                            h = new Array(l),
                            p = 0;
                          p < l;
                          p++
                        )
                          h[p] = _[p];
                        return (b.next = 7), a.apply(this, h);
                      case 7:
                        return (
                          (g = b.sent), c.delete(this), b.abrupt("return", g)
                        );
                      case 12:
                        throw (
                          ((b.prev = 12),
                          (b.t0 = b.catch(2)),
                          c.delete(this),
                          b.t0)
                        );
                      case 16:
                      case "end":
                        return b.stop();
                    }
                },
                o,
                this,
                [[2, 12]]
              );
            })
          )),
          n
        );
      };
    }
    var a3,
      o3,
      s3,
      u3,
      c3,
      l3,
      d3,
      h3,
      f3,
      p3,
      v3,
      m3,
      g3,
      _3,
      y3,
      b3,
      S3,
      w3,
      k3,
      T3,
      E3,
      I3,
      R3,
      C3,
      A3,
      x3,
      P3,
      O3,
      D3,
      N3,
      L3,
      _t,
      qG =
        ((r3 = br({
          name: "options",
          type: qr,
          required: !0,
          properties: {
            roomId: { type: sn, required: !0 },
            userId: { type: sn, required: !1 },
          },
        })),
        (i3 = br({
          name: "options",
          type: qr,
          required: !0,
          properties: {
            updateList: {
              type: MT,
              required: !0,
              arrayItem: {
                require: !0,
                type: qr,
                properties: {
                  roomId: { required: !0, type: sn },
                  userId: { required: !1, type: sn },
                  muteAudio: { type: Kn },
                  muteVideo: { type: Kn },
                  muteAuxiliary: { type: Kn },
                },
              },
              validate: function (e) {
                if (
                  e.find(function (n) {
                    return n.userId;
                  }) &&
                  e.find(function (n) {
                    return !n.userId;
                  })
                )
                  throw new Ie({
                    code: ke.INVALID_PARAMETER,
                    message: "you can not update both userId and all",
                  });
              },
            },
          },
        })),
        (Jo = (function () {
          function s() {
            G(this, s), (this.crossRoomSeq = 0);
          }
          var e, n, a;
          return (
            ce(s, [
              {
                key: "call",
                value: function (o, l) {
                  return gr(this[o])
                    ? this[o](l)
                    : Promise.reject(
                        new Ie({
                          code: ke.INVALID_PARAMETER,
                          message: Le({ key: DU, data: { name: o } }),
                        })
                      );
                },
              },
              {
                key: "updatePrivateMapKey",
                value: function (o) {
                  var l = o.privateMapKey;
                  return (
                    o.client.setProperty("privateMapKey", l), Promise.resolve()
                  );
                },
              },
              {
                key: "connectOtherRoom",
                value:
                  ((a = C(
                    m().mark(function c(o) {
                      var l, h, p, g;
                      return m().wrap(function (_) {
                        for (;;)
                          switch ((_.prev = _.next)) {
                            case 0:
                              if (
                                ((l = o.client),
                                (h = o.roomId),
                                (p = o.userId),
                                l.signalChannel_)
                              ) {
                                _.next = 3;
                                break;
                              }
                              return _.abrupt(
                                "return",
                                Promise.reject(
                                  new Ie({
                                    code: ke.INVALID_OPERATION,
                                    message: "you did not joined room",
                                  })
                                )
                              );
                            case 3:
                              return (
                                (_.next = 5),
                                l.signalChannel_.sendWaitForResponseWithRetry({
                                  command: R9,
                                  responseCommand: en.CONNECT_OTHER_ROOM_RES,
                                  data: {
                                    roomId: h,
                                    userId: p,
                                    localRoomId: p ? void 0 : l.getRoomId(),
                                  },
                                  retries: 3,
                                })
                              );
                            case 5:
                              if ((g = _.sent).data.code === 0) {
                                _.next = 8;
                                break;
                              }
                              throw new Ie({
                                code: g.data.code,
                                message: g.data.message,
                              });
                            case 8:
                            case "end":
                              return _.stop();
                          }
                      }, c);
                    })
                  )),
                  function (c) {
                    return a.apply(this, arguments);
                  }),
              },
              {
                key: "updateOtherRoomForwardMode",
                value:
                  ((n = C(
                    m().mark(function c(o) {
                      var l, h, p, g, _;
                      return m().wrap(
                        function (b) {
                          for (;;)
                            switch ((b.prev = b.next)) {
                              case 0:
                                if (
                                  ((h = o.client),
                                  (p = o.updateList),
                                  h.signalChannel_)
                                ) {
                                  b.next = 3;
                                  break;
                                }
                                return b.abrupt(
                                  "return",
                                  Promise.reject(
                                    new Ie({
                                      code: ke.INVALID_OPERATION,
                                      message: "you did not joined room",
                                    })
                                  )
                                );
                              case 3:
                                return (
                                  (g = p.find(function (R) {
                                    return R.userId;
                                  })
                                    ? 0
                                    : 1),
                                  (b.next = 6),
                                  h.signalChannel_.sendWaitForResponseWithRetry(
                                    {
                                      command: C9,
                                      responseCommand:
                                        en.UPDATE_OTHER_ROOM_FORWARD_MODE_RES,
                                      data: {
                                        seq: ++this.crossRoomSeq,
                                        operationType: g,
                                        updateList: p.map(function (R) {
                                          return {
                                            roomId: R.roomId,
                                            userId: R.userId,
                                            muteAudio: R.muteAudio,
                                            muteVideo: R.muteVideo,
                                            muteSubStream: R.muteAuxiliary,
                                          };
                                        }),
                                      },
                                      retries: 3,
                                    }
                                  )
                                );
                              case 6:
                                if (!(_ = b.sent).data.data.expectSeq) {
                                  b.next = 10;
                                  break;
                                }
                                return (
                                  (this.crossRoomSeq = _.data.data.expectSeq),
                                  b.abrupt(
                                    "return",
                                    this.updateOtherRoomForwardMode({
                                      client: h,
                                      updateList: p,
                                    })
                                  )
                                );
                              case 10:
                                if (_.data.code === 0) {
                                  b.next = 14;
                                  break;
                                }
                                throw new Ie({
                                  code: _.data.code,
                                  message: _.data.message,
                                });
                              case 14:
                                if (
                                  !(
                                    ((l = _.data.errorList) === null ||
                                    l === void 0
                                      ? void 0
                                      : l.length) > 0
                                  )
                                ) {
                                  b.next = 16;
                                  break;
                                }
                                throw new Ie({
                                  code: ke.UNKNOWN,
                                  message: _.data.errorList[0].message,
                                });
                              case 16:
                              case "end":
                                return b.stop();
                            }
                        },
                        c,
                        this
                      );
                    })
                  )),
                  function (c) {
                    return n.apply(this, arguments);
                  }),
              },
              {
                key: "disconnectOtherRoom",
                value:
                  ((e = C(
                    m().mark(function c(o) {
                      var l, h, p;
                      return m().wrap(function (g) {
                        for (;;)
                          switch ((g.prev = g.next)) {
                            case 0:
                              if (
                                ((l = o.client),
                                (h = o.roomId),
                                l.signalChannel_)
                              ) {
                                g.next = 3;
                                break;
                              }
                              return g.abrupt("return", Promise.resolve());
                            case 3:
                              return (
                                (g.next = 5),
                                l.signalChannel_.sendWaitForResponseWithRetry({
                                  command: A9,
                                  responseCommand: en.DISCONNECT_OTHER_ROOM_RES,
                                  data: {
                                    roomId: h,
                                    localRoomId: h ? l.getRoomId() : void 0,
                                  },
                                  retries: 3,
                                })
                              );
                            case 5:
                              if ((p = g.sent).data.code === 0) {
                                g.next = 8;
                                break;
                              }
                              throw new Ie({
                                code: p.data.code,
                                message: p.data.message,
                              });
                            case 8:
                            case "end":
                              return g.stop();
                          }
                      }, c);
                    })
                  )),
                  function (c) {
                    return e.apply(this, arguments);
                  }),
              },
            ]),
            s
          );
        })()),
        Oe(
          Jo.prototype,
          "connectOtherRoom",
          [r3],
          Object.getOwnPropertyDescriptor(Jo.prototype, "connectOtherRoom"),
          Jo.prototype
        ),
        Oe(
          Jo.prototype,
          "updateOtherRoomForwardMode",
          [i3],
          Object.getOwnPropertyDescriptor(
            Jo.prototype,
            "updateOtherRoomForwardMode"
          ),
          Jo.prototype
        ),
        Jo),
      KG = new qG(),
      Bv,
      Hv,
      zv,
      Rb,
      M3,
      U3,
      V3,
      F3,
      j3,
      B3,
      er,
      JG =
        ((a3 = hh()),
        (o3 = br(Xn.CLIENT.join)),
        (s3 = Qc({
          retries: 1,
          timeout: 0,
          onError: function (e, n, a) {
            this.isUsingCachedSchedule_
              ? (this.log_.warn("is using cached schedule, retry join"),
                jo(!0),
                this.reset(),
                n())
              : (ye.emit(Qs, { client: this, error: e }),
                st.logFailedEvent({
                  userId: this.userId_,
                  eventType: vT,
                  error: e,
                }),
                this.reset(),
                this.log_.error(e),
                a(e));
          },
        })),
        (u3 = hh()),
        (c3 = Qc({ retries: 3 })),
        (l3 = hh()),
        (d3 = br.apply(void 0, Je(Xn.CLIENT.publish))),
        (h3 = gn(mr)),
        (f3 = hh()),
        (p3 = br(Xn.CLIENT.unpublish)),
        (v3 = br.apply(void 0, Je(Xn.CLIENT.subscribe))),
        (m3 = br(Xn.CLIENT.unsubscribe)),
        (g3 = hh()),
        (_3 = br(Xn.CLIENT.switchRole)),
        (y3 = gn(mr)),
        (b3 = br(Xn.CLIENT.startPublishCDNStream)),
        (S3 = gn(mr)),
        (w3 = gn(mr)),
        (k3 = br(Xn.CLIENT.startMixTranscode)),
        (T3 = gn(mr)),
        (E3 = gn(mr)),
        (I3 = gn(mr)),
        (R3 = gn(mr)),
        (C3 = gn(mr)),
        (A3 = gn(mr)),
        (x3 = gn(mr)),
        (P3 = Cv.apply(void 0, Je(Xn.CLIENT.sendSEIMessage))),
        (O3 = gn(mr)),
        (Bv = {
          timesInSecond: 30,
          maxSizeInSecond: 8e3,
          getSize: function () {
            for (var e = arguments.length, n = new Array(e), a = 0; a < e; a++)
              n[a] = arguments[a];
            return n[0].byteLength;
          },
        }),
        (Hv = Bv.timesInSecond),
        (zv = Bv.maxSizeInSecond),
        (Rb = Bv.getSize),
        (D3 = function (e, n, a) {
          var c = a.value,
            o = /* @__PURE__ */ new Map();
          return (
            ye.on(h0, function (l) {
              var h = l.client;
              return o.delete(h);
            }),
            (a.value = function () {
              var l = o.get(this);
              l ||
                ((l = {
                  callCountInSecond: 0,
                  timestamp: 0,
                  totalSizeInSecond: 0,
                }),
                o.set(this, l)),
                l.timestamp === 0
                  ? (l.timestamp = Date.now())
                  : Date.now() - l.timestamp > 1e3 &&
                    ((l.timestamp = Date.now()),
                    (l.callCountInSecond = 0),
                    (l.totalSizeInSecond = 0));
              for (
                var h = arguments.length, p = new Array(h), g = 0;
                g < h;
                g++
              )
                p[g] = arguments[g];
              if (
                (Rb && (l.totalSizeInSecond += Rb.apply(void 0, p)),
                l.timestamp !== 0 &&
                  Date.now() - l.timestamp < 1e3 &&
                  (l.callCountInSecond >= Hv || l.totalSizeInSecond > zv))
              )
                throw new Ie({
                  code: ke.INVALID_OPERATION,
                  message: Le({
                    key: BU,
                    data: {
                      isTimes: l.callCountInSecond >= Hv,
                      isSize: l.totalSizeInSecond > zv,
                      name: n,
                      timesInSecond: Hv,
                      maxSizeInSecond: zv,
                    },
                  }),
                });
              return l.callCountInSecond++, c.apply(this, p);
            }),
            a
          );
        }),
        (N3 = gn(mr)),
        (L3 = gn(mr)),
        (_t = (function () {
          function s(H) {
            var I, S;
            G(this, s),
              (this.name_ = mr),
              (this.mode_ = H.mode),
              (this.sdpSemantics_ = by),
              rt(H.sdpSemantics)
                ? (function () {
                    var q;
                    if (
                      rt(window.RTCRtpTransceiver) ||
                      !("currentDirection" in RTCRtpTransceiver.prototype)
                    )
                      return !1;
                    var J = null,
                      te = !1;
                    try {
                      (J = new RTCPeerConnection({
                        sdpSemantics: Ud,
                      })).addTransceiver(mt),
                        (te = !0);
                    } catch (ue) {}
                    return (q = J) === null || q === void 0 || q.close(), te;
                  })() && (this.sdpSemantics_ = Ud)
                : (this.sdpSemantics_ = H.sdpSemantics),
              (this.sdkAppId_ = H.sdkAppId),
              (this.userId_ = H.userId),
              (this.log_ = it.createLogger({
                id: "c".concat(H.seq, "|").concat(this.userId_),
                userId: this.userId_,
                sdkAppId: this.sdkAppId_,
              })),
              (this.userSig_ = H.userSig),
              (this.roomId_ = 0),
              (this.useStringRoomId_ = H.useStringRoomId || !1),
              (this.pureAudioPushMode_ = null),
              (this.version_ = H.version),
              this.log_.info("using sdpSemantics: " + this.sdpSemantics_),
              (this.signalChannel_ = null),
              (this.role_ = ca),
              (this.privateMapKey_ = ""),
              (this.tinyId_ = 0),
              (this.env_ = ""),
              (this.proxy_ = null),
              (this.unifiedProxy_ = null),
              (this.connections_ = /* @__PURE__ */ new Map()),
              (this.mutedStates_ = /* @__PURE__ */ new Map()),
              (this.userMap_ = /* @__PURE__ */ new Map()),
              (this.syncUserListInterval_ = -1),
              (this.localStream_ = null),
              (this.localAuxStream_ = null),
              (this.uplinkConnection_ = null),
              (this.emitter_ = LE(new Fo(), this.name_)),
              (this.isJoined_ = !1),
              (this.heartbeat_ = -1),
              (this.lastHeartBeatTime_ = -1),
              (this.stats_ = new KF(this)),
              (this.joinTimeout_ = -1),
              (this.changeBigSmallRecords_ = /* @__PURE__ */ new Map()),
              (this.networkQuality_ = null),
              (this.badCaseDetector_ = null),
              (this.networkType_ = Qy()),
              (this.autoSubscribe_ = !!rt(H.autoSubscribe) || H.autoSubscribe),
              (this.joinedTimestamp_ = 0),
              (this.joinOptions_ = {}),
              (this.basis_ =
                ((S = {
                  browser: Ys().name + "/" + Ys().version,
                  os: e1(),
                  displayResolution: VF(),
                  isScreenShareSupported: OI(),
                  isWebRTCSupported: J0(),
                  isGetUserMediaSupported: FF(),
                  isWebAudioSupported: jF(),
                  isWebSocketsSupported:
                    "WebSocket" in window && window.WebSocket.CLOSING === 2,
                  isWebCodecSupported:
                    ((I = {
                      AudioDecoder: !1,
                      AudioEncoder: !1,
                      VideoDecoder: !1,
                      VideoEncoder: !1,
                      ImageDecoder: !1,
                    }),
                    rt(window.AudioDecoder) || (I.AudioDecoder = !0),
                    rt(window.AudioEncoder) || (I.AudioEncoder = !0),
                    rt(window.VideoDecoder) || (I.VideoDecoder = !0),
                    rt(window.VideoEncoder) || (I.VideoEncoder = !0),
                    rt(window.ImageDecoder) || (I.ImageDecoder = !0),
                    I),
                  isMediaSessionSupported:
                    "mediaSession" in navigator &&
                    !rt(navigator.mediaSession.setActionHandler),
                  isWebTransportSupported: !rt(window.WebTransport),
                }),
                navigator.userAgent.includes("miniProgram") &&
                  (S.browser = "mini/".concat(S.browser)),
                S)),
              this.initBussinessInfo_(H),
              (this.publishedCDN_ = !1),
              (this.publishCDNData_ = null),
              (this.mixedMCU_ = !1),
              (this.mixTranscodeData_ = null),
              (this.checkSystemResult_ = null),
              (this.enableAudioVolumeEvaluation_ = !1),
              (this.audioVolumeIntervalId_ = null),
              (this.mixTranscodeManager_ = null),
              (this.publishCDNManager_ = new WG({ client: this })),
              (this.keyPointManager_ = new sG({
                client: this,
                frameWorkType: H.frameWorkType,
                component: H.component,
              })),
              (this.isPublishing_ = !1),
              (this.isEnableSmallStream_ = !1),
              (this.smallStreamConfig_ = {
                bitrate: 100,
                frameRate: 15,
                height: 120,
                width: 160,
              }),
              (this.turnServers_ = []),
              (this.iceTransportPolicy_ = H.iceTransportPolicy),
              (this.schedule_ = {
                domains: null,
                iceServers: null,
                iceTransportPolicy: null,
                trtcCapability: null,
              }),
              (this.isUsingCachedSchedule_ = !1),
              (this.enableAutoPlayDialog_ =
                !!rt(H.enableAutoPlayDialog) || H.enableAutoPlayDialog),
              (this.enableMultiAuxStream_ =
                !rt(H.enableMultiAuxStream) && H.enableMultiAuxStream),
              (this.signalInfo_ = {}),
              (this.enableSEI_ = !rt(H.enableSEI) && H.enableSEI),
              (this.isDestroyed_ = !1);
          }
          var e,
            n,
            a,
            c,
            o,
            l,
            h,
            p,
            g,
            _,
            b,
            R,
            N,
            B,
            F,
            U,
            T,
            A,
            L,
            $,
            X,
            Q,
            D,
            M,
            z,
            W,
            ee;
          return (
            ce(s, [
              {
                key: "initBussinessInfo_",
                value: function (I) {
                  this.bussinessInfo_ = I.bussinessInfo;
                  var S = {};
                  if (
                    (zn(I.bussinessInfo) && (S = JSON.parse(I.bussinessInfo)),
                    !rt(I.pureAudioPushMode))
                  ) {
                    if (!Number.isInteger(Number(I.pureAudioPushMode)))
                      throw new Ie({
                        code: ke.INVALID_PARAMETER,
                        message: Le({ key: g7 }),
                      });
                    (this.pureAudioPushMode_ = I.pureAudioPushMode),
                      S.Str_uc_params || (S.Str_uc_params = {}),
                      (S.Str_uc_params.pure_audio_push_mod =
                        this.pureAudioPushMode_);
                  }
                  if (!rt(I.streamId)) {
                    if (
                      !(
                        zn(I.streamId) &&
                        String(I.streamId) &&
                        String(I.streamId).length <= 64
                      )
                    )
                      throw new Ie({
                        code: ke.INVALID_PARAMETER,
                        message: Le({ key: _7 }),
                      });
                    S.Str_uc_params || (S.Str_uc_params = {}),
                      (S.Str_uc_params.userdefine_streamid_main = I.streamId);
                  }
                  if (!rt(I.userDefineRecordId)) {
                    if (
                      I.userDefineRecordId.match(/^[A-Za-z0-9_-]{1,64}$/gi) ===
                      null
                    )
                      throw new Ie({
                        code: ke.INVALID_PARAMETER,
                        message: Le({ key: y7 }),
                      });
                    S.Str_uc_params || (S.Str_uc_params = {}),
                      (S.Str_uc_params.userdefine_record_id =
                        I.userDefineRecordId);
                  }
                  if (!rt(I.userDefinePushArgs)) {
                    if (
                      !(
                        zn(I.userDefinePushArgs) &&
                        String(I.userDefinePushArgs) &&
                        String(I.userDefinePushArgs).length <= 256
                      )
                    )
                      throw new Ie({
                        code: ke.INVALID_PARAMETER,
                        message: Le({ key: b7 }),
                      });
                    S.Str_uc_params || (S.Str_uc_params = {}),
                      (S.Str_uc_params.userdefine_push_args =
                        I.userDefinePushArgs);
                  }
                  I.enableServerAudioMix &&
                    (S.Str_uc_params || (S.Str_uc_params = {}),
                    (S.Str_uc_params.enable_server_audio_mix = 1),
                    (S.Str_uc_params.uc_biz_type = 1e3)),
                    Ka(S) || (this.bussinessInfo_ = JSON.stringify(S));
                },
              },
              {
                key: "schedule",
                value:
                  ((ee = C(
                    m().mark(function H(I) {
                      var S, q, J;
                      return m().wrap(
                        function (te) {
                          for (;;)
                            switch ((te.prev = te.next)) {
                              case 0:
                                return (
                                  (te.next = 2),
                                  _F({
                                    userId: this.userId_,
                                    sdkAppId: this.sdkAppId_,
                                    roomId: I,
                                    useStringRoomId: this.useStringRoomId_,
                                    version: this.version_,
                                    userSig: this.userSig_,
                                  })
                                );
                              case 2:
                                (S = te.sent),
                                  (q = S.result),
                                  (J = S.isCached),
                                  (this.isUsingCachedSchedule_ = J),
                                  q &&
                                    (this.log_.info(
                                      "schedule with cache:"
                                        .concat(J, " : ")
                                        .concat(JSON.stringify(q))
                                    ),
                                    (q.trtcCapability =
                                      q == null ? void 0 : q.trtcAutoConf),
                                    (this.schedule_ = v(
                                      v({}, this.schedule_),
                                      q
                                    )),
                                    ye.emit(FE, this.schedule_));
                              case 7:
                              case "end":
                                return te.stop();
                            }
                        },
                        H,
                        this
                      );
                    })
                  )),
                  function (H) {
                    return ee.apply(this, arguments);
                  }),
              },
              {
                key: "getSignalChannelUrl",
                value: function () {
                  var I = { mainUrl: "", backupUrl: "" },
                    S = RE();
                  return (
                    S
                      ? (I.mainUrl = I.backupUrl =
                          "wss://".concat(S, ".rtc.qq.com"))
                      : this.proxy_
                      ? (I.mainUrl = I.backupUrl = this.proxy_)
                      : this.unifiedProxy_
                      ? (I.mainUrl = I.backupUrl =
                          "wss://".concat(this.unifiedProxy_))
                      : Array.isArray(this.schedule_.domains) &&
                        this.schedule_.domains.length > 0 &&
                        ((I.mainUrl = I.backupUrl =
                          "wss://".concat(this.schedule_.domains[0])),
                        this.schedule_.domains[1] &&
                          (I.backupUrl = "wss://".concat(
                            this.schedule_.domains[1]
                          ))),
                    I
                  );
                },
              },
              {
                key: "getUserId",
                value: function () {
                  return this.userId_;
                },
              },
              {
                key: "getUserSig",
                value: function () {
                  return this.userSig_;
                },
              },
              {
                key: "getRole",
                value: function () {
                  return this.role_;
                },
              },
              {
                key: "getSignalInfo",
                value: function () {
                  return this.signalInfo_;
                },
              },
              {
                key: "getRoomId",
                value: function () {
                  return this.roomId_;
                },
              },
              {
                key: "getSDKAppId",
                value: function () {
                  return this.sdkAppId_;
                },
              },
              {
                key: "getTinyId",
                value: function () {
                  return this.tinyId_;
                },
              },
              {
                key: "getIceTransportPolicy",
                value: function () {
                  return (
                    this.iceTransportPolicy_ ||
                    this.schedule_.iceTransportPolicy ||
                    "all"
                  );
                },
              },
              {
                key: "initialize",
                value: function (I) {
                  var S = this;
                  this.log_.info("setup signal channel");
                  var q = this.getSignalChannelUrl(),
                    J = q.mainUrl,
                    te = q.backupUrl;
                  return (
                    (this.signalChannel_ = new SF({
                      sdkAppId: this.sdkAppId_,
                      userId: this.userId_,
                      userSig: this.userSig_,
                      roomId: I.roomId,
                      url: J,
                      backupUrl: te,
                      signalDomainWhenUnifiedProxy: this.unifiedProxy_
                        ? this.schedule_.domains[0]
                        : void 0,
                      client: this,
                    })),
                    this.networkQuality_ ||
                      ((this.networkQuality_ = new JF({
                        connections: this.connections_,
                        signalChannel: this.signalChannel_,
                        userId: this.userId_,
                        client: this,
                      })),
                      this.networkQuality_.on(
                        tn.NETWORK_QUALITY,
                        function (ue) {
                          S.emitter_.emit(tn.NETWORK_QUALITY, ue);
                        }
                      )),
                    this.deviceDetector_ ||
                      (this.deviceDetector_ = new $F({ client: this })),
                    this.subscriptionManager_ ||
                      (this.subscriptionManager_ = new uG({ client: this })),
                    this.badCaseDetector_ ||
                      (this.badCaseDetector_ = new HG({
                        client: this,
                        stats: this.stats_,
                      })),
                    this.callDurationCalculator_ ||
                      (this.callDurationCalculator_ = new GG({ client: this })),
                    this.mixTranscodeManager_ ||
                      (this.mixTranscodeManager_ = new zG({
                        client: this,
                        signalChannel: this.signalChannel_,
                      })),
                    this.publishCDNManager_ &&
                      this.publishCDNManager_.setSignalChannel({
                        signalChannel: this.signalChannel_,
                      }),
                    this.signalChannel_.on(O0, function (ue) {
                      S.log_.info(
                        "SignalChannel state changed from "
                          .concat(ue.prevState, " to ")
                          .concat(ue.state)
                      ),
                        S.emitter_.emit(tn.CONNECTION_STATE_CHANGED, ue);
                    }),
                    this.signalChannel_.on(D0, function (ue) {
                      S.reset(), S.emitter_.emit(tn.ERROR, ue);
                    }),
                    this.signalChannel_.once(oI, function (ue) {
                      (S.tinyId_ = ue.signalInfo.tinyId),
                        ye.emit(Hp, { client: S });
                    }),
                    this.signalChannel_.on(en.PEER_JOIN, this.onPeerJoin, this),
                    this.signalChannel_.on(
                      en.PEER_LEAVE,
                      this.onPeerLeave,
                      this
                    ),
                    this.signalChannel_.on(
                      en.UPDATE_REMOTE_MUTE_STAT,
                      function (ue) {
                        Date.now() - S.lastHeartBeatTime_ >= 1e4 &&
                          S.doHeartbeat(),
                          ye.emit(u0, { client: S, data: ue.data }),
                          S.onPublishedUserList(ue.data),
                          S.onUpdateRemoteMuteStat(ue.data);
                      }
                    ),
                    this.signalChannel_.on(en.CLIENT_BANNED, function (ue) {
                      var fe,
                        Re = ue.data.data.reason;
                      if (
                        (st.uploadEvent({
                          log: "stat-banned:".concat(Re),
                          userId: S.userId_,
                        }),
                        Re === wM)
                      )
                        fe = "you got banned by the admin";
                      else if (Re === kM)
                        fe = "duplicated userId joining the room";
                      else if (Re === EM)
                        (fe = "the room has been disbanded by the admin"),
                          (Re = Re.replace("_", "-"));
                      else if (Re === TM)
                        return (
                          S.log_.warn(
                            ""
                              .concat(Re, " last heart beat time: ")
                              .concat(S.lastHeartBeatTime_, " interval: ")
                              .concat(
                                Date.now() - S.lastHeartBeatTime_,
                                ", visibility: "
                              )
                              .concat(document.visibilityState)
                          ),
                          void S.reJoin()
                        );
                      S.log_[Re === "kick" ? "error" : "info"](
                        "user was banned because of [".concat(Re, "]")
                      ),
                        S.reset(),
                        S.emitter_.emit(tn.CLIENT_BANNED, {
                          reason: Re,
                          message:
                            Le({
                              key: V7,
                              data: { message: fe, reason: Re },
                            }) || Re,
                        });
                    }),
                    ye.emit(l0, { client: this }),
                    this.signalChannel_.connect()
                  );
                },
              },
              {
                key: "preJoin",
                value:
                  ((W = C(
                    m().mark(function H(I) {
                      var S, q, J, te;
                      return m().wrap(
                        function (ue) {
                          for (;;)
                            switch ((ue.prev = ue.next)) {
                              case 0:
                                return (
                                  (this.joinOptions_ = I), (ue.next = 3), Y0()
                                );
                              case 3:
                                if (
                                  ((this.checkSystemResult_ = ue.sent),
                                  this.checkDestroy(),
                                  (S = RE()) ||
                                    ((S = Sp),
                                    this.proxy_ &&
                                      (this.proxy_.startsWith(RM)
                                        ? (S = AM)
                                        : this.proxy_.startsWith(CM) &&
                                          (S = xM))),
                                  (this.env_ = S),
                                  st.setConfig({
                                    env: S,
                                    sdkAppId: this.sdkAppId_,
                                    userId: this.userId_,
                                    roomId: I.roomId,
                                  }),
                                  this.uploadTrtcStats(),
                                  (q = this.checkSystemResult_.detail),
                                  (J = q.isH264EncodeSupported),
                                  (te = q.isVp8EncodeSupported),
                                  J0() && (J || te))
                                ) {
                                  ue.next = 13;
                                  break;
                                }
                                throw new Ie({
                                  code: ke.NOT_SUPPORTED,
                                  message: Le({ key: uE }),
                                });
                              case 13:
                              case "end":
                                return ue.stop();
                            }
                        },
                        H,
                        this
                      );
                    })
                  )),
                  function (H) {
                    return W.apply(this, arguments);
                  }),
              },
              {
                key: "join",
                value:
                  ((z = C(
                    m().mark(function H(I) {
                      var S,
                        q = this;
                      return m().wrap(
                        function (J) {
                          for (;;)
                            switch ((J.prev = J.next)) {
                              case 0:
                                return (
                                  (this.roomId_ = I.roomId),
                                  rt(I.role) || (this.role_ = I.role),
                                  rt(I.privateMapKey) ||
                                    (this.privateMapKey_ = I.privateMapKey),
                                  (S = En()),
                                  ye.emit(Bp, { client: this }),
                                  xr(this.userId_, {
                                    eventId: z9,
                                    eventDesc: "joining room",
                                    timestamp: hr(),
                                    userId: this.userId_,
                                    tinyId: this.tinyId_,
                                  }),
                                  (J.next = 8),
                                  this.preJoin(I)
                                );
                              case 8:
                                return J.abrupt(
                                  "return",
                                  new Promise(
                                    (function () {
                                      var te = C(
                                        m().mark(function ue(fe, Re) {
                                          return m().wrap(
                                            function (De) {
                                              for (;;)
                                                switch ((De.prev = De.next)) {
                                                  case 0:
                                                    if (
                                                      ((q.joinReject_ = Re),
                                                      (De.prev = 1),
                                                      q.proxy_ ||
                                                        q.schedule_.domains)
                                                    ) {
                                                      De.next = 5;
                                                      break;
                                                    }
                                                    return (
                                                      (De.next = 5),
                                                      q.schedule(I.roomId)
                                                    );
                                                  case 5:
                                                    return (
                                                      q.checkDestroy(),
                                                      (De.next = 8),
                                                      q.initialize(I)
                                                    );
                                                  case 8:
                                                    return (
                                                      (De.next = 10),
                                                      q.doJoin(I)
                                                    );
                                                  case 10:
                                                    (q.signalInfo_ =
                                                      q.signalChannel_.getSignalInfo()),
                                                      ye.emit(Oc, {
                                                        client: q,
                                                      }),
                                                      (q.joinedTimestamp_ =
                                                        En()),
                                                      st.logSuccessEvent({
                                                        userId: q.userId_,
                                                        eventType: FM,
                                                        delta:
                                                          q.joinedTimestamp_ -
                                                          S,
                                                      }),
                                                      st.logSuccessEvent({
                                                        userId: q.userId_,
                                                        eventType: vT,
                                                      }),
                                                      st.uploadEvent({
                                                        log: "stat-autoplay-dialog:".concat(
                                                          q.enableAutoPlayDialog_
                                                        ),
                                                        userId: q.userId_,
                                                      }),
                                                      st.uploadEvent({
                                                        log: "stat-conv-"
                                                          .concat(Js, "-")
                                                          .concat(
                                                            location.hostname
                                                          ),
                                                        userId: q.userId_,
                                                      }),
                                                      fe(),
                                                      (De.next = 23);
                                                    break;
                                                  case 20:
                                                    (De.prev = 20),
                                                      (De.t0 = De.catch(1)),
                                                      Re(De.t0);
                                                  case 23:
                                                    q.joinReject_ = null;
                                                  case 24:
                                                  case "end":
                                                    return De.stop();
                                                }
                                            },
                                            ue,
                                            null,
                                            [[1, 20]]
                                          );
                                        })
                                      );
                                      return function (ue, fe) {
                                        return te.apply(this, arguments);
                                      };
                                    })()
                                  )
                                );
                              case 9:
                              case "end":
                                return J.stop();
                            }
                        },
                        H,
                        this
                      );
                    })
                  )),
                  function (H) {
                    return z.apply(this, arguments);
                  }),
              },
              {
                key: "checkDestroy",
                value: function () {
                  if (this.isDestroyed_)
                    throw new Ie({
                      code: ke.INVALID_OPERATION,
                      message: Le({ key: xy, data: { funName: "join" } }),
                    });
                },
              },
              {
                key: "uploadTrtcStats",
                value:
                  ((M = C(
                    m().mark(function H() {
                      var I, S, q, J, te, ue, fe, Re, De, At, Rt, Dt, Jt;
                      return m().wrap(
                        function (xt) {
                          for (;;)
                            switch ((xt.prev = xt.next)) {
                              case 0:
                                return (
                                  (xt.prev = 0),
                                  (xt.next = 3),
                                  Sn.getMicrophones()
                                );
                              case 3:
                                (q = xt.sent),
                                  (I = q && q.length),
                                  (xt.next = 9);
                                break;
                              case 7:
                                (xt.prev = 7), (xt.t0 = xt.catch(0));
                              case 9:
                                return (
                                  (xt.prev = 9), (xt.next = 12), Sn.getCameras()
                                );
                              case 12:
                                (J = xt.sent),
                                  (S = J && J.length),
                                  (xt.next = 18);
                                break;
                              case 16:
                                (xt.prev = 16), (xt.t1 = xt.catch(9));
                              case 18:
                                (te = { microphone: I, camera: S }),
                                  (ue = this.checkSystemResult_.detail),
                                  (fe = ue.isH264EncodeSupported),
                                  (Re = ue.isVp8EncodeSupported),
                                  (De = ue.isH264DecodeSupported),
                                  (At = ue.isVp8DecodeSupported),
                                  (Rt = {
                                    webRTC: this.basis_.isWebRTCSupported,
                                    getUserMedia:
                                      this.basis_.isGetUserMediaSupported,
                                    webSocket:
                                      this.basis_.isWebSocketsSupported,
                                    screenShare:
                                      this.basis_.isScreenShareSupported,
                                    webAudio: this.basis_.isWebAudioSupported,
                                    h264Encode: fe,
                                    h264Decode: De,
                                    vp8Encode: Re,
                                    vp8Decode: At,
                                  }),
                                  (Dt = {
                                    browser: this.basis_.browser,
                                    os: this.basis_.os,
                                    trtc: Rt,
                                    devices: te,
                                  }),
                                  (Jt = {
                                    isWebCodecSupported:
                                      this.basis_.isWebCodecSupported,
                                    isMediaSessionSupported:
                                      this.basis_.isMediaSessionSupported,
                                    isWebTransportSupported:
                                      this.basis_.isWebTransportSupported,
                                  }),
                                  st.uploadEvent({
                                    log: "trtcstats-" + JSON.stringify(Dt),
                                    userId: this.userId_,
                                  }),
                                  this.log_.info(
                                    "TrtcStats-" + JSON.stringify(Dt)
                                  ),
                                  st.uploadEvent({
                                    log:
                                      "trtcadvancedstats-" + JSON.stringify(Jt),
                                    userId: this.userId_,
                                  });
                              case 26:
                              case "end":
                                return xt.stop();
                            }
                        },
                        H,
                        this,
                        [
                          [0, 7],
                          [9, 16],
                        ]
                      );
                    })
                  )),
                  function () {
                    return M.apply(this, arguments);
                  }),
              },
              {
                key: "doJoin",
                value: function (I) {
                  var S = this;
                  return new Promise(function (q, J) {
                    S.log_.info(
                      "Join() => joining room: "
                        .concat(S.roomId_, " useStringRoomId: ")
                        .concat(S.useStringRoomId_, " mode: ")
                        .concat(S.mode_, " role: ")
                        .concat(S.role_)
                    );
                    var te = {
                      roomId: String(S.roomId_),
                      useStringRoomId: S.useStringRoomId_,
                      privateMapKey: S.privateMapKey_,
                      trtcRole: S.role_ === ca ? Ec : fy,
                      trtcScene: S.mode_ === wp ? NM : DM,
                      sdpSemantics: S.sdpSemantics_,
                      version: mV(S.version_),
                      ua: (navigator && navigator.userAgent) || "",
                      autoSubscribe: S.autoSubscribe_,
                      terminalType: Cc
                        ? 4
                        : Ly
                        ? 2
                        : Ny
                        ? 3
                        : jd
                        ? 12
                        : wE
                        ? 5
                        : kE
                        ? 13
                        : 1,
                      netType: wy[Qy()],
                      bussinessInfo: S.bussinessInfo_,
                      receiveMix: !0,
                    };
                    if (S.publishCDNManager_) {
                      var ue = S.publishCDNManager_.handleCDNConfigForJoinData(
                          S.bussinessInfo_
                        ),
                        fe = ue.bussinessInfo,
                        Re = ue.pushUserCdnInfo;
                      Object.assign(te, {
                        bussinessInfo: fe,
                        pushUserCdnInfo: Re,
                      });
                    }
                    S.log_.debug(
                      "join room signal data: ".concat(JSON.stringify(te))
                    ),
                      (S.joinTimeout_ = setTimeout(function () {
                        J(
                          new Ie({
                            code: ke.JOIN_ROOM_FAILED,
                            message: Le({ key: E7 }),
                          })
                        );
                      }, 5e3)),
                      ye.emit(r0, { client: S }),
                      S.signalChannel_.once(sI, function (De) {
                        S.clearJoinTimeout(),
                          ye.emit(Hp, { client: S, error: De }),
                          J(De);
                      }),
                      S.signalChannel_.send(l9, te),
                      S.signalChannel_.once(en.JOIN_ROOM_RESULT, function (De) {
                        S.clearJoinTimeout();
                        var At = De.data,
                          Rt = At.code,
                          Dt = At.message,
                          Jt = At.data;
                        S.onPublishedUserList({
                          data: { userList: Jt.publishers },
                        }),
                          ye.emit(i0, { client: S, code: Rt }),
                          Rt === 0
                            ? ((S.isJoined_ = !0),
                              S.log_.info("Join room success, start heartbeat"),
                              S.startHeartbeat(),
                              S.badCaseDetector_ && S.badCaseDetector_.start(),
                              S.syncUserList(),
                              S.startSyncUserListInterval(),
                              q())
                            : (S.log_.error(
                                "Join room failed result: " +
                                  Rt +
                                  " error: " +
                                  Dt
                              ),
                              J(
                                new Ie({
                                  code: ke.JOIN_ROOM_FAILED,
                                  extraCode: Rt,
                                  message: Le({
                                    key: tE,
                                    data: { error: Dt, code: Rt },
                                  }),
                                })
                              ));
                      });
                  });
                },
              },
              {
                key: "reJoin",
                value:
                  ((D = C(
                    m().mark(function H() {
                      return m().wrap(
                        function (I) {
                          for (;;)
                            switch ((I.prev = I.next)) {
                              case 0:
                                if (this.isJoined_) {
                                  I.next = 3;
                                  break;
                                }
                                return (
                                  this.log_.warn("reJoin abort"),
                                  I.abrupt("return")
                                );
                              case 3:
                                return (
                                  (this.isJoined_ = !1),
                                  (I.prev = 4),
                                  this.log_.warn(
                                    "reJoin pending: ".concat(
                                      this.joinOptions_.roomId
                                    )
                                  ),
                                  this.subscriptionManager_ &&
                                    this.subscriptionManager_.markAllStream(),
                                  this.signalChannel_.close(),
                                  (I.next = 10),
                                  this.signalChannel_.connect()
                                );
                              case 10:
                                return (
                                  (I.next = 12),
                                  this.doJoin(
                                    v(
                                      v({}, this.joinOptions_),
                                      {},
                                      {
                                        role: this.role_,
                                        privateMapKey: this.privateMapKey_,
                                      }
                                    )
                                  )
                                );
                              case 12:
                                this.log_.warn("reJoin success"),
                                  st.logSuccessEvent({
                                    userId: this.userId_,
                                    eventType: mT,
                                  }),
                                  this.checkConnectionsToReconnect(),
                                  this.uplinkConnection_ &&
                                    !this.uplinkConnection_.getIsReconnecting() &&
                                    this.uplinkConnection_.startReconnection(),
                                  this.mixTranscodeManager_ &&
                                    this.mixTranscodeManager_.reStartMixTranscode(),
                                  (I.next = 25);
                                break;
                              case 19:
                                (I.prev = 19),
                                  (I.t0 = I.catch(4)),
                                  this.log_.warn("reJoin fail " + I.t0),
                                  this.reset(),
                                  st.logFailedEvent({
                                    userId: this.userId_,
                                    eventType: mT,
                                    error: I.t0,
                                  }),
                                  this.emitter_.emit(
                                    tn.ERROR,
                                    new Ie({
                                      code: ke.JOIN_ROOM_FAILED,
                                      message: Le({
                                        key: I7,
                                        data: {
                                          roomId: this.joinOptions_.roomId,
                                        },
                                      }),
                                    })
                                  );
                              case 25:
                              case "end":
                                return I.stop();
                            }
                        },
                        H,
                        this,
                        [[4, 19]]
                      );
                    })
                  )),
                  function () {
                    return D.apply(this, arguments);
                  }),
              },
              {
                key: "leave",
                value:
                  ((Q = C(
                    m().mark(function H() {
                      var I;
                      return m().wrap(
                        function (S) {
                          for (;;)
                            switch ((S.prev = S.next)) {
                              case 0:
                                return (
                                  ye.emit(a0, { client: this }),
                                  xr(this.userId_, {
                                    eventId: W9,
                                    eventDesc: "leaving room",
                                    timestamp: hr(),
                                    userId: this.userId_,
                                    tinyId: this.tinyId_,
                                  }),
                                  (S.prev = 2),
                                  (S.next = 5),
                                  this.doHeartbeat()
                                );
                              case 5:
                                S.next = 9;
                                break;
                              case 7:
                                (S.prev = 7), (S.t0 = S.catch(2));
                              case 9:
                                this.doLeave(),
                                  ye.emit(Dc, { client: this }),
                                  st.logSuccessEvent({
                                    userId: this.userId_,
                                    eventType: jM,
                                  }),
                                  (I = Math.floor(
                                    (En() - this.joinedTimestamp_) / 1e3
                                  )),
                                  st.logSuccessEvent({
                                    userId: this.userId_,
                                    eventType: BM,
                                    delta: I,
                                  });
                              case 14:
                              case "end":
                                return S.stop();
                            }
                        },
                        H,
                        this,
                        [[2, 7]]
                      );
                    })
                  )),
                  function () {
                    return Q.apply(this, arguments);
                  }),
              },
              {
                key: "doLeave",
                value: function () {
                  this.isJoined_ &&
                    (ye.emit(o0, { client: this }),
                    this.log_.info("leave() => leaving room"),
                    this.signalChannel_.send(d9),
                    this.reset());
                },
              },
              {
                key: "clearNetworkQuality",
                value: function () {
                  this.networkQuality_ &&
                    (this.networkQuality_.stop(),
                    (this.networkQuality_ = null));
                },
              },
              {
                key: "closeConnections",
                value: function () {
                  var I = this;
                  this.connections_.forEach(function (S) {
                    I.closeDownLink(S.getTinyId());
                  });
                },
              },
              {
                key: "clearJoinTimeout",
                value: function () {
                  clearTimeout(this.joinTimeout_), (this.joinTimeout_ = -1);
                },
              },
              {
                key: "destroy",
                value: function () {
                  var I, S, q;
                  if (this.isJoined_)
                    throw (
                      (this.log_.warn(No.INVALID_DESTROY),
                      new Ie({
                        code: ke.INVALID_OPERATION,
                        message: Le({ key: R7 }),
                      }))
                    );
                  this.isDestroyed_ ||
                    (this.log_.info("destroy client"),
                    this.joinReject_ &&
                      (this.joinReject_(
                        new Ie({
                          code: ke.INVALID_OPERATION,
                          message: Le({ key: xy, data: { funName: "join" } }),
                        })
                      ),
                      this.clearJoinTimeout(),
                      this.reset()),
                    this.off("*"),
                    (I = this.callDurationCalculator_) === null ||
                      I === void 0 ||
                      I.destroy(),
                    (S = this.keyPointManager_) === null ||
                      S === void 0 ||
                      S.destroy(),
                    (q = this.deviceDetector_) === null ||
                      q === void 0 ||
                      q.destroy(),
                    (this.callDurationCalculator_ = null),
                    (this.keyPointManager_ = null),
                    (this.deviceDetector_ = null),
                    (this.badCaseDetector_ = null),
                    (this.publishCDNManager_ = null),
                    (this.isDestroyed_ = !0),
                    ye.emit(h0, { client: this }));
                },
              },
              {
                key: "reset",
                value: function () {
                  (this.isJoined_ = !1),
                    (this.schedule_ = {
                      domains: null,
                      iceServers: null,
                      iceTransportPolicy: null,
                      trtcCapability: null,
                    }),
                    this.keyPointManager_ &&
                      this.keyPointManager_.prepareReport(),
                    this.mixTranscodeManager_ &&
                      (this.mixTranscodeManager_.reset(),
                      (this.mixTranscodeManager_ = null)),
                    this.publishCDNManager_ && this.publishCDNManager_.reset(),
                    this.userMap_.clear(),
                    this.stopSyncUserListInterval(),
                    this.stopHeartbeat(),
                    this.closeConnections(),
                    this.mutedStates_.clear(),
                    this.clearNetworkQuality(),
                    this.badCaseDetector_ &&
                      this.callDurationCalculator_ &&
                      this.uploadAllCallStats(),
                    this.closeUplink(),
                    this.signalChannel_ &&
                      (this.log_.info("destroying SignalChannel"),
                      this.signalChannel_.close(),
                      (this.signalChannel_ = null)),
                    this.stats_.reset();
                },
              },
              {
                key: "startSyncUserListInterval",
                value: function () {
                  this.syncUserListInterval_ === -1 &&
                    (this.syncUserListInterval_ = un.run(
                      Rc,
                      this.syncUserList.bind(this)
                    ));
                },
              },
              {
                key: "stopSyncUserListInterval",
                value: function () {
                  un.clearTask(this.syncUserListInterval_),
                    (this.syncUserListInterval_ = -1);
                },
              },
              {
                key: "syncUserList",
                value:
                  ((X = C(
                    m().mark(function H() {
                      var I,
                        S = this;
                      return m().wrap(
                        function (q) {
                          for (;;)
                            switch ((q.prev = q.next)) {
                              case 0:
                                return (
                                  (q.prev = 0), (q.next = 3), this.getUserList()
                                );
                              case 3:
                                (I = q.sent),
                                  this.userMap_.size !== 0 &&
                                    this.userMap_.forEach(function (J) {
                                      I.findIndex(function (te) {
                                        return te.userId === J.userId;
                                      }) < 0 &&
                                        (S.log_.info(
                                          "peer leave detected: ".concat(
                                            J.userId
                                          )
                                        ),
                                        S.cleanUser({
                                          userId: J.userId,
                                          tinyId: J.tinyId,
                                        }));
                                    }),
                                  I.forEach(function (J) {
                                    var te = J.userId;
                                    S.userMap_.has(te) ||
                                      te === S.userId_ ||
                                      (S.userMap_.set(te, J),
                                      S.emitter_.emit(tn.PEER_JOIN, {
                                        userId: te,
                                      }));
                                  }),
                                  (q.next = 11);
                                break;
                              case 8:
                                (q.prev = 8),
                                  (q.t0 = q.catch(0)),
                                  this.log_.warn(
                                    "sync user list failed: " + q.t0
                                  );
                              case 11:
                              case "end":
                                return q.stop();
                            }
                        },
                        H,
                        this,
                        [[0, 8]]
                      );
                    })
                  )),
                  function () {
                    return X.apply(this, arguments);
                  }),
              },
              {
                key: "getUserList",
                value: function () {
                  return this.signalChannel_
                    ? this.signalChannel_
                        .sendWaitForResponse({
                          command: T9,
                          responseCommand: en.USER_LIST_RES,
                          enableLog: !1,
                          timeout: 2e3,
                        })
                        .then(function (I) {
                          var S = I.data,
                            q = S.code,
                            J = S.message;
                          if (q === 0)
                            return ((S.data && S.data.userList) || []).map(
                              function (te) {
                                var ue = te.userId,
                                  fe = te.srcTinyId,
                                  Re = te.role;
                                return new Ib({
                                  userId: ue,
                                  tinyId: fe,
                                  role: Re,
                                });
                              }
                            );
                          throw Le({
                            key: dE,
                            data: {
                              signalResponse: en.USER_LIST_RES,
                              code: q,
                              message: J,
                            },
                          });
                        })
                    : [];
                },
              },
              {
                key: "publish",
                value:
                  (($ = C(
                    m().mark(function H(I) {
                      var S,
                        q,
                        J,
                        te,
                        ue,
                        fe,
                        Re,
                        De,
                        At = this,
                        Rt = arguments;
                      return m().wrap(
                        function (Dt) {
                          for (;;)
                            switch ((Dt.prev = Dt.next)) {
                              case 0:
                                return (
                                  (S =
                                    Rt.length > 1 && Rt[1] !== void 0
                                      ? Rt[1]
                                      : { isAuxiliary: !1 }),
                                  I.setPublishState(Vd),
                                  (this.isPublishing_ = !0),
                                  (q = En()),
                                  ye.emit(c0, { client: this, stream: I }),
                                  (J = S.isAuxiliary),
                                  (te = J ? ln : jt),
                                  (ue = I.getScreen()),
                                  this.log_.info(
                                    "publish() => publishing "
                                      .concat(ue ? uy + " " : "")
                                      .concat(te, " stream ")
                                      .concat(I.getId())
                                  ),
                                  (fe = this.uplinkConnection_),
                                  (Dt.prev = 10),
                                  fe ||
                                    ((fe = new _G({
                                      userId: this.userId_,
                                      tinyId: this.tinyId_,
                                      client: this,
                                      isUplink: !0,
                                      signalChannel: this.signalChannel_,
                                      enableSEI: this.enableSEI_,
                                    })).initialize(),
                                    fe.on(Kt.ERROR, function (Jt) {
                                      var xt = Jt.getCode();
                                      xt !== ke.ICE_TRANSPORT_ERROR &&
                                        (xt === ke.UPLINK_RECONNECTION_FAILED &&
                                          At.closeUplink(),
                                        At.emitter_.emit(tn.ERROR, Jt));
                                    })),
                                  I.setConnection(fe),
                                  (Dt.next = 15),
                                  fe.publish(I, J)
                                );
                              case 15:
                                this.log_.info(
                                  "local "
                                    .concat(ue ? uy + " " : "")
                                    .concat(te, " stream is published")
                                ),
                                  (this.isPublishing_ = !1),
                                  J
                                    ? (this.localAuxStream_ = I)
                                    : ((this.localStream_ = I),
                                      this.deviceDetector_ &&
                                        this.deviceDetector_.setLocalStream(
                                          this.localStream_
                                        ),
                                      this.localStream_.getBeautyStatus() &&
                                        this.log_.info(
                                          "beauty stream is published successfully"
                                        )),
                                  I.setPublishState(zM),
                                  I.setClient(this, J),
                                  (this.uplinkConnection_ = fe),
                                  (Re = En()),
                                  (De = Re - q),
                                  st.logSuccessEvent({
                                    userId: this.userId_,
                                    eventType: gT,
                                  }),
                                  st.logSuccessEvent({
                                    userId: this.userId_,
                                    eventType: HM,
                                    delta: De,
                                  }),
                                  I.hasAudio() &&
                                    xr(this.userId_, {
                                      eventId: dI,
                                      eventDesc: "publish audio track",
                                      timestamp: hr(),
                                      userId: this.userId_,
                                      tinyId: this.tinyId_,
                                    }),
                                  I.hasVideo() &&
                                    xr(this.userId_, {
                                      eventId: lI,
                                      eventDesc: "publish video track",
                                      timestamp: hr(),
                                      userId: this.userId_,
                                      tinyId: this.tinyId_,
                                    }),
                                  this.networkQuality_ &&
                                    this.networkQuality_.setUplinkConnection(
                                      this.uplinkConnection_
                                    ),
                                  ye.emit(SV, {
                                    localStream: I,
                                    isAuxiliary: J,
                                    client: this,
                                  }),
                                  (this.notPublishWithoutH264Supported_ = !1),
                                  I.isAIDenoiser &&
                                    Ko.handleFunctionState({
                                      fnName: "AI_DENOISER",
                                    }),
                                  (Dt.next = 42);
                                break;
                              case 33:
                                throw (
                                  ((Dt.prev = 33),
                                  (Dt.t0 = Dt.catch(10)),
                                  Dt.t0 instanceof Ie &&
                                    Dt.t0.getCode() === ke.NOT_SUPPORTED_H264 &&
                                    (this.notPublishWithoutH264Supported_ = !0),
                                  I.setPublishState(UT),
                                  fe.close(),
                                  this.log_.error(
                                    "failed to publish stream " + Dt.t0
                                  ),
                                  (this.isPublishing_ = !1),
                                  st.logFailedEvent({
                                    userId: this.userId_,
                                    eventType: gT,
                                    error: Dt.t0,
                                  }),
                                  Dt.t0)
                                );
                              case 42:
                              case "end":
                                return Dt.stop();
                            }
                        },
                        H,
                        this,
                        [[10, 33]]
                      );
                    })
                  )),
                  function (H) {
                    return $.apply(this, arguments);
                  }),
              },
              {
                key: "unpublish",
                value:
                  ((L = C(
                    m().mark(function H(I) {
                      var S, q;
                      return m().wrap(
                        function (J) {
                          for (;;)
                            switch ((J.prev = J.next)) {
                              case 0:
                                if (this.uplinkConnection_) {
                                  J.next = 2;
                                  break;
                                }
                                return J.abrupt("return");
                              case 2:
                                return (
                                  (S = I === this.localAuxStream_),
                                  (q = I.getScreen()),
                                  this.log_.info(
                                    "unpublish() => unpublishing local "
                                      .concat(q ? uy + " " : "")
                                      .concat(S ? ln : jt, " stream")
                                  ),
                                  (J.prev = 5),
                                  (J.next = 8),
                                  this.uplinkConnection_.unpublish(I)
                                );
                              case 8:
                                st.logSuccessEvent({
                                  userId: this.userId_,
                                  eventType: _T,
                                }),
                                  (J.next = 15);
                                break;
                              case 11:
                                (J.prev = 11),
                                  (J.t0 = J.catch(5)),
                                  this.log_.warn(
                                    "unpublish error ".concat(J.t0)
                                  ),
                                  st.logFailedEvent({
                                    userId: this.userId_,
                                    eventType: _T,
                                    error: J.t0,
                                  });
                              case 15:
                                I.setClient(null),
                                  I.setConnection(null),
                                  S
                                    ? (this.localAuxStream_ = null)
                                    : ((this.localStream_ = null),
                                      I.hasAudio() &&
                                        xr(this.userId_, {
                                          eventId: fI,
                                          eventDesc: "unpublish audio track",
                                          timestamp: hr(),
                                          userId: this.userId_,
                                          tinyId: this.tinyId_,
                                        }),
                                      I.hasVideo() &&
                                        xr(this.userId_, {
                                          eventId: hI,
                                          eventDesc: "unpublish video track",
                                          timestamp: hr(),
                                          userId: this.userId_,
                                          tinyId: this.tinyId_,
                                        })),
                                  this.localStream_ ||
                                    this.localAuxStream_ ||
                                    this.closeUplink();
                              case 19:
                              case "end":
                                return J.stop();
                            }
                        },
                        H,
                        this,
                        [[5, 11]]
                      );
                    })
                  )),
                  function (H) {
                    return L.apply(this, arguments);
                  }),
              },
              {
                key: "closeUplink",
                value: function () {
                  this.uplinkConnection_ &&
                    (this.uplinkConnection_.close(),
                    (this.uplinkConnection_ = null),
                    this.networkQuality_ &&
                      this.networkQuality_.setUplinkConnection(null),
                    this.localStream_ &&
                      (this.localStream_.setClient(null),
                      this.localStream_.setConnection(null),
                      (this.localStream_ = null)),
                    this.localAuxStream_ &&
                      (this.localAuxStream_.setClient(null),
                      this.localAuxStream_.setConnection(null),
                      (this.localAuxStream_ = null)),
                    this.deviceDetector_ &&
                      this.deviceDetector_.setLocalStream(null));
                },
              },
              {
                key: "closeDownLink",
                value: function (I) {
                  var S = this.connections_.get(I);
                  S &&
                    (S.getIsReconnecting() && S.stopReconnection(),
                    this.subscriptionManager_ &&
                      this.subscriptionManager_.delete(S.getUserId()),
                    S.close(),
                    this.connections_.delete(I),
                    this.mutedStates_.delete(I));
                },
              },
              {
                key: "subscribe",
                value:
                  ((A = C(
                    m().mark(function H(I, S) {
                      var q, J, te;
                      return m().wrap(
                        function (ue) {
                          for (;;)
                            switch ((ue.prev = ue.next)) {
                              case 0:
                                return (
                                  this.log_.info(
                                    "subscribe() => subscribe to ["
                                      .concat(I.getUserId(), "] ")
                                      .concat(
                                        I.getType(),
                                        " stream with options: "
                                      )
                                      .concat(JSON.stringify(S))
                                  ),
                                  rt(S) && (S = { audio: !0, video: !0 }),
                                  rt(S.audio) && (S.audio = !0),
                                  rt(S.smallVideo)
                                    ? rt(S.video) && (S.video = !0)
                                    : S.smallVideo
                                    ? rt(S.video)
                                      ? ((S.video = !1), (S.smallVideo = !0))
                                      : S.video &&
                                        ((S.video = !0),
                                        delete S.smallVideo,
                                        this.log_.warn(
                                          "options.video and options.smallVideo can't be both true"
                                        ))
                                    : rt(S.video) &&
                                      ((S.video = !0), delete S.smallVideo),
                                  S.video &&
                                    this.changeBigSmallRecords_.delete(
                                      I.getUserId()
                                    ),
                                  (q = I.getConnection()),
                                  S.smallVideo &&
                                    (q.getTrackState().smallVideo ||
                                      (this.setRemoteVideoStreamType(
                                        I,
                                        "small"
                                      ),
                                      (S.video = !0),
                                      delete S.smallVideo)),
                                  (ue.prev = 7),
                                  ye.emit(p0, { client: this, stream: I }),
                                  (ue.next = 11),
                                  q.subscribe(I, S)
                                );
                              case 11:
                                this.subscriptionManager_ &&
                                  this.subscriptionManager_.addSubscriptionRecord(
                                    I.getUserId(),
                                    I,
                                    S
                                  ),
                                  (this.notSubscribeWithoutH264Supported_ = !1),
                                  st.logSuccessEvent({
                                    userId: this.userId_,
                                    eventType: yT,
                                  }),
                                  q.checkTrackEnded(),
                                  (ue.next = 25);
                                break;
                              case 17:
                                throw (
                                  ((ue.prev = 17),
                                  (ue.t0 = ue.catch(7)),
                                  (J =
                                    ue.t0 instanceof Ie
                                      ? ue.t0.getCode()
                                      : ke.UNKNOWN) === ke.NOT_SUPPORTED_H264 &&
                                    (this.notSubscribeWithoutH264Supported_ =
                                      !0),
                                  (te = new Ie(
                                    J === ke.REMOTE_STREAM_NOT_EXIST
                                      ? {
                                          code: ke.API_CALL_ABORTED,
                                          message: Le({
                                            key: Dy,
                                            data: {
                                              message: ue.t0.message,
                                              stream: I,
                                            },
                                          }),
                                        }
                                      : {
                                          code: J,
                                          message: Le({
                                            key: D7,
                                            data: {
                                              message: ue.t0.message,
                                              stream: I,
                                            },
                                          }),
                                        }
                                  )).getCode() === ke.API_CALL_ABORTED
                                    ? this.log_.warn(te)
                                    : this.log_.error(te),
                                  st.logFailedEvent({
                                    userId: this.userId_,
                                    eventType: yT,
                                    error: te,
                                  }),
                                  te)
                                );
                              case 25:
                              case "end":
                                return ue.stop();
                            }
                        },
                        H,
                        this,
                        [[7, 17]]
                      );
                    })
                  )),
                  function (H, I) {
                    return A.apply(this, arguments);
                  }),
              },
              {
                key: "unsubscribe",
                value:
                  ((T = C(
                    m().mark(function H(I) {
                      var S;
                      return m().wrap(
                        function (q) {
                          for (;;)
                            switch ((q.prev = q.next)) {
                              case 0:
                                return (
                                  this.log_.info(
                                    "unsubscribe() => unsubscribe to ["
                                      .concat(I.getUserId(), "] ")
                                      .concat(I.getType(), " stream")
                                  ),
                                  (q.prev = 1),
                                  (S = I.getConnection()),
                                  (q.next = 5),
                                  S.unsubscribe(I)
                                );
                              case 5:
                                this.subscriptionManager_ &&
                                  this.subscriptionManager_.addUnsubscriptionRecord(
                                    I.getUserId(),
                                    I
                                  ),
                                  ye.emit(Ga, { client: this, stream: I }),
                                  st.logSuccessEvent({
                                    userId: this.userId_,
                                    eventType: bT,
                                  }),
                                  (q.next = 14);
                                break;
                              case 10:
                                throw (
                                  ((q.prev = 10),
                                  (q.t0 = q.catch(1)),
                                  st.logFailedEvent({
                                    userId: this.userId_,
                                    eventType: bT,
                                    error: q.t0,
                                  }),
                                  q.t0)
                                );
                              case 14:
                              case "end":
                                return q.stop();
                            }
                        },
                        H,
                        this,
                        [[1, 10]]
                      );
                    })
                  )),
                  function (H) {
                    return T.apply(this, arguments);
                  }),
              },
              {
                key: "switchRole",
                value:
                  ((U = C(
                    m().mark(function H(I) {
                      return m().wrap(
                        function (S) {
                          for (;;)
                            switch ((S.prev = S.next)) {
                              case 0:
                                if (this.role_ !== I) {
                                  S.next = 2;
                                  break;
                                }
                                return S.abrupt("return");
                              case 2:
                                return (
                                  I === Gs &&
                                    this.uplinkConnection_ &&
                                    this.closeUplink(),
                                  this.log_.info(
                                    "switchRole() => switch role to: " + I
                                  ),
                                  (S.next = 6),
                                  this.doSwitchRole(I)
                                );
                              case 6:
                              case "end":
                                return S.stop();
                            }
                        },
                        H,
                        this
                      );
                    })
                  )),
                  function (H) {
                    return U.apply(this, arguments);
                  }),
              },
              {
                key: "doSwitchRole",
                value: function (I) {
                  var S,
                    q,
                    J = this,
                    te = {
                      command: E9,
                      data: {
                        role: I === ca ? Ec : fy,
                        privateMapKey: this.privateMapKey_,
                      },
                      responseCommand: en.SWITCH_ROLE_RES,
                      retries:
                        ((S = this.schedule_.config) === null ||
                        S === void 0 ||
                        (q = S.retries) === null ||
                        q === void 0
                          ? void 0
                          : q.switchRole) || 1,
                    };
                  return (
                    this.log_.info(
                      "switchRole signal data: " + JSON.stringify(te.data)
                    ),
                    this.signalChannel_
                      .sendWaitForResponseWithRetry(te)
                      .then(function (ue) {
                        var fe = ue.data,
                          Re = fe.code,
                          De = fe.message;
                        if (Re !== 0)
                          throw new Ie({
                            code: ke.SWITCH_ROLE_FAILED,
                            message: Le({
                              key: U7,
                              data: { errMsg: De, errCode: Re },
                            }),
                          });
                        J.role_ = I;
                      })
                      .catch(function (ue) {
                        throw (
                          (ue instanceof Ie &&
                            ue.getCode() === ke.API_CALL_TIMEOUT &&
                            (ue = new Ie({
                              code: ke.SWITCH_ROLE_FAILED,
                              message: Le({ key: M7 }),
                            })),
                          J.log_.error(ue),
                          ue)
                        );
                      })
                  );
                },
              },
              {
                key: "on",
                value: function (I, S, q) {
                  this.emitter_.on(I, S, q);
                },
              },
              {
                key: "off",
                value: function (I, S, q) {
                  I === "*"
                    ? this.emitter_.removeAllListeners()
                    : this.emitter_.off(I, S, q);
                },
              },
              {
                key: "getRemoteMutedState",
                value: function () {
                  var I = this,
                    S = [];
                  return (
                    this.mutedStates_.forEach(function (q, J, te) {
                      var ue = I.connections_.get(J);
                      ue && S.push(v({ userId: ue.getUserId() }, q));
                    }),
                    S
                  );
                },
              },
              {
                key: "getTransportStats",
                value:
                  ((F = C(
                    m().mark(function H() {
                      var I, S, q, J, te, ue, fe;
                      return m().wrap(
                        function (Re) {
                          for (;;)
                            switch ((Re.prev = Re.next)) {
                              case 0:
                                if (
                                  ((I = { rtt: 0, downlinksRTT: {} }),
                                  !this.uplinkConnection_)
                                ) {
                                  Re.next = 6;
                                  break;
                                }
                                return (
                                  (Re.next = 4),
                                  this.stats_.getSenderStats(
                                    this.uplinkConnection_
                                  )
                                );
                              case 4:
                                (S = Re.sent), (I.rtt = S.rtt);
                              case 6:
                                (q = We(this.connections_)),
                                  (Re.prev = 7),
                                  q.s();
                              case 9:
                                if ((J = q.n()).done) {
                                  Re.next = 17;
                                  break;
                                }
                                return (
                                  (te = wt(J.value, 2))[0],
                                  (ue = te[1]),
                                  (Re.next = 13),
                                  this.stats_.getReceiverStats(ue)
                                );
                              case 13:
                                (fe = Re.sent),
                                  (I.downlinksRTT[fe.userId] = fe.rtt);
                              case 15:
                                Re.next = 9;
                                break;
                              case 17:
                                Re.next = 22;
                                break;
                              case 19:
                                (Re.prev = 19),
                                  (Re.t0 = Re.catch(7)),
                                  q.e(Re.t0);
                              case 22:
                                return (Re.prev = 22), q.f(), Re.finish(22);
                              case 25:
                                return Re.abrupt("return", I);
                              case 26:
                              case "end":
                                return Re.stop();
                            }
                        },
                        H,
                        this,
                        [[7, 19, 22, 25]]
                      );
                    })
                  )),
                  function () {
                    return F.apply(this, arguments);
                  }),
              },
              {
                key: "getLocalAudioStats",
                value:
                  ((B = C(
                    m().mark(function H() {
                      var I, S;
                      return m().wrap(
                        function (q) {
                          for (;;)
                            switch ((q.prev = q.next)) {
                              case 0:
                                if (
                                  (((I = {})[this.userId_] = {
                                    bytesSent: 0,
                                    packetsSent: 0,
                                  }),
                                  !this.uplinkConnection_)
                                ) {
                                  q.next = 7;
                                  break;
                                }
                                return (
                                  (q.next = 5),
                                  this.stats_.getSenderStats(
                                    this.uplinkConnection_
                                  )
                                );
                              case 5:
                                (S = q.sent),
                                  (I[this.userId_] = {
                                    bytesSent: S.audio.bytesSent,
                                    packetsSent: S.audio.packetsSent,
                                  });
                              case 7:
                                return q.abrupt("return", I);
                              case 8:
                              case "end":
                                return q.stop();
                            }
                        },
                        H,
                        this
                      );
                    })
                  )),
                  function () {
                    return B.apply(this, arguments);
                  }),
              },
              {
                key: "getLocalVideoStats",
                value:
                  ((N = C(
                    m().mark(function H() {
                      var I, S;
                      return m().wrap(
                        function (q) {
                          for (;;)
                            switch ((q.prev = q.next)) {
                              case 0:
                                if (
                                  (((I = {})[this.userId_] = {
                                    bytesSent: 0,
                                    packetsSent: 0,
                                    framesEncoded: 0,
                                    framesSent: 0,
                                    frameWidth: 0,
                                    frameHeight: 0,
                                  }),
                                  !this.uplinkConnection_)
                                ) {
                                  q.next = 7;
                                  break;
                                }
                                return (
                                  (q.next = 5),
                                  this.stats_.getSenderStats(
                                    this.uplinkConnection_
                                  )
                                );
                              case 5:
                                (S = q.sent),
                                  (I[this.userId_] = {
                                    bytesSent: S.video.bytesSent,
                                    packetsSent: S.video.packetsSent,
                                    framesEncoded: S.video.framesEncoded,
                                    framesSent: S.video.framesSent,
                                    frameWidth: S.video.frameWidth,
                                    frameHeight: S.video.frameHeight,
                                  });
                              case 7:
                                return q.abrupt("return", I);
                              case 8:
                              case "end":
                                return q.stop();
                            }
                        },
                        H,
                        this
                      );
                    })
                  )),
                  function () {
                    return N.apply(this, arguments);
                  }),
              },
              {
                key: "getRemoteAudioStats",
                value:
                  ((R = C(
                    m().mark(function H() {
                      var I, S, q, J, te, ue, fe, Re;
                      return m().wrap(
                        function (De) {
                          for (;;)
                            switch ((De.prev = De.next)) {
                              case 0:
                                (I = {}),
                                  (S = We(this.connections_)),
                                  (De.prev = 2),
                                  S.s();
                              case 4:
                                if ((q = S.n()).done) {
                                  De.next = 13;
                                  break;
                                }
                                return (
                                  (J = wt(q.value, 2))[0],
                                  (te = J[1]),
                                  (ue = te.getDelay()),
                                  (fe = ue.audioDelay),
                                  (De.next = 9),
                                  this.stats_.getReceiverStats(te)
                                );
                              case 9:
                                (Re = De.sent).hasAudio &&
                                  (I[Re.userId] = {
                                    bytesReceived: Re.audio.bytesReceived,
                                    packetsReceived: Re.audio.packetsReceived,
                                    packetsLost: Re.audio.packetsLost,
                                    end2EndDelay: fe,
                                  });
                              case 11:
                                De.next = 4;
                                break;
                              case 13:
                                De.next = 18;
                                break;
                              case 15:
                                (De.prev = 15),
                                  (De.t0 = De.catch(2)),
                                  S.e(De.t0);
                              case 18:
                                return (De.prev = 18), S.f(), De.finish(18);
                              case 21:
                                return De.abrupt("return", I);
                              case 22:
                              case "end":
                                return De.stop();
                            }
                        },
                        H,
                        this,
                        [[2, 15, 18, 21]]
                      );
                    })
                  )),
                  function () {
                    return R.apply(this, arguments);
                  }),
              },
              {
                key: "getRemoteVideoStats",
                value:
                  ((b = C(
                    m().mark(function H() {
                      var I,
                        S,
                        q,
                        J,
                        te,
                        ue,
                        fe,
                        Re,
                        De,
                        At = arguments;
                      return m().wrap(
                        function (Rt) {
                          for (;;)
                            switch ((Rt.prev = Rt.next)) {
                              case 0:
                                (I =
                                  At.length > 0 && At[0] !== void 0
                                    ? At[0]
                                    : fn),
                                  (S = {}),
                                  (q = We(this.connections_)),
                                  (Rt.prev = 3),
                                  q.s();
                              case 5:
                                if ((J = q.n()).done) {
                                  Rt.next = 15;
                                  break;
                                }
                                return (
                                  (te = wt(J.value, 2))[0],
                                  (ue = te[1]),
                                  (Rt.next = 9),
                                  this.stats_.getReceiverStats(ue)
                                );
                              case 9:
                                (fe = Rt.sent),
                                  (Re = ue.getDelay()),
                                  (De = Re.videoDelay),
                                  I === fn &&
                                    fe.hasVideo &&
                                    (S[fe.userId] = {
                                      bytesReceived: fe.video.bytesReceived,
                                      packetsReceived: fe.video.packetsReceived,
                                      packetsLost: fe.video.packetsLost,
                                      framesDecoded: fe.video.framesDecoded,
                                      frameWidth: fe.video.frameWidth,
                                      frameHeight: fe.video.frameHeight,
                                      end2EndDelay: De,
                                    }),
                                  I === Pn &&
                                    fe.hasAuxiliary &&
                                    (S[fe.userId] = {
                                      bytesReceived: fe.auxiliary.bytesReceived,
                                      packetsReceived:
                                        fe.auxiliary.packetsReceived,
                                      packetsLost: fe.auxiliary.packetsLost,
                                      framesDecoded: fe.auxiliary.framesDecoded,
                                      frameWidth: fe.auxiliary.frameWidth,
                                      frameHeight: fe.auxiliary.frameHeight,
                                      end2EndDelay: De,
                                    });
                              case 13:
                                Rt.next = 5;
                                break;
                              case 15:
                                Rt.next = 20;
                                break;
                              case 17:
                                (Rt.prev = 17),
                                  (Rt.t0 = Rt.catch(3)),
                                  q.e(Rt.t0);
                              case 20:
                                return (Rt.prev = 20), q.f(), Rt.finish(20);
                              case 23:
                                return Rt.abrupt("return", S);
                              case 24:
                              case "end":
                                return Rt.stop();
                            }
                        },
                        H,
                        this,
                        [[3, 17, 20, 23]]
                      );
                    })
                  )),
                  function () {
                    return b.apply(this, arguments);
                  }),
              },
              {
                key: "getSdpSemantics",
                value: function () {
                  return this.sdpSemantics_;
                },
              },
              {
                key: "getIceServers",
                value: function () {
                  return this.turnServers_.length === 0 &&
                    this.schedule_.iceServers
                    ? this.schedule_.iceServers
                    : this.turnServers_;
                },
              },
              {
                key: "getConnections",
                value: function () {
                  return this.connections_;
                },
              },
              {
                key: "getMutedStates",
                value: function () {
                  return this.mutedStates_;
                },
              },
              {
                key: "startHeartbeat",
                value: function () {
                  this.heartbeat_ === -1 &&
                    (this.log_.info("startHeartbeat..."),
                    (this.heartbeat_ = un.run(Rc, this.doHeartbeat.bind(this), {
                      delay: 2e3,
                    })));
                },
              },
              {
                key: "stopHeartbeat",
                value: function () {
                  this.heartbeat_ !== -1 &&
                    (this.log_.info("stopHeartbeat"),
                    un.clearTask(this.heartbeat_),
                    (this.heartbeat_ = -1),
                    (this.lastHeartBeatTime_ = -1));
                },
              },
              {
                key: "doHeartbeat",
                value:
                  ((_ = C(
                    m().mark(function H() {
                      var I, S, q, J, te, ue;
                      return m().wrap(
                        function (fe) {
                          for (;;)
                            switch ((fe.prev = fe.next)) {
                              case 0:
                                return (
                                  (S =
                                    this.badCaseDetector_.getMonitorFreeze()),
                                  (fe.next = 3),
                                  this.stats_.getStatsReport({
                                    uplinkConnection: this.uplinkConnection_,
                                    downlinkConnections: this.connections_,
                                    freezeMap: S,
                                  })
                                );
                              case 3:
                                if (
                                  ((q = fe.sent),
                                  ye.emit(s0, { client: this, stats: q }),
                                  (I = this.badCaseDetector_) === null ||
                                    I === void 0 ||
                                    I.resetMonitor(),
                                  this.signalChannel_)
                                ) {
                                  fe.next = 8;
                                  break;
                                }
                                return fe.abrupt("return");
                              case 8:
                                (J = this.signalChannel_.isConnected()
                                  ? oF(this.userId_)
                                  : []),
                                  (te = v(
                                    v(
                                      {
                                        str_sdk_version: this.version_,
                                        uint64_datetime:
                                          /* @__PURE__ */ new Date().getTime(),
                                        msg_user_info: {
                                          str_identifier: this.userId_,
                                          uint64_tinyid: this.tinyId_,
                                        },
                                        msg_device_info: {
                                          uint32_terminal_type: 15,
                                          str_device_name: navigator.platform,
                                          str_os_version: "",
                                          uint32_net_type:
                                            wy[this.networkType_],
                                        },
                                      },
                                      q
                                    ),
                                    {},
                                    { msg_event_msg: J }
                                  )),
                                  this.signalChannel_.send(h9, te),
                                  (ue = Date.now()),
                                  this.lastHeartBeatTime_ > 0 &&
                                    ue - this.lastHeartBeatTime_ > 1e4 &&
                                    this.log_.warn(
                                      "heartbeat took ".concat(
                                        ue - this.lastHeartBeatTime_
                                      )
                                    ),
                                  (this.lastHeartBeatTime_ = ue),
                                  !this.isRelayChanged_ &&
                                    this.isRelayMaybeFailed() &&
                                    (this.reJoin(),
                                    (this.isRelayChanged_ = !0));
                              case 15:
                              case "end":
                                return fe.stop();
                            }
                        },
                        H,
                        this
                      );
                    })
                  )),
                  function () {
                    return _.apply(this, arguments);
                  }),
              },
              {
                key: "onRemoteStreamAdded",
                value: function (I) {
                  var S = I.content,
                    q = S.userId,
                    J = S.tinyId,
                    te = S.audio,
                    ue = S.bigVideo,
                    fe = S.auxVideo,
                    Re = S.smallVideo;
                  if (q !== null) {
                    this.userMap_.has(q) ||
                      (this.userMap_.set(
                        q,
                        new Ib({ userId: q, tinyId: J, role: ca })
                      ),
                      this.emitter_.emit(tn.PEER_JOIN, { userId: q }));
                    var De = this.connections_.get(J);
                    if (De) {
                      if (De.getIsReconnecting()) return;
                      this.log_.warn(
                        "duplicated stream-added observed, rebuild the connection"
                      ),
                        De.close(),
                        this.connections_.delete(J);
                    }
                    var At = {
                      audio: te,
                      video: ue,
                      auxiliary: fe,
                      smallVideo: Re,
                    };
                    this.log_.info(
                      "remote peer ["
                        .concat(q, "] published stream. trackState: ")
                        .concat(JSON.stringify(At))
                    ),
                      this.createDownlinkConnection({
                        userId: q,
                        tinyId: J,
                        trackState: At,
                      });
                  } else this.log_.warn("received null userId on stream added");
                },
              },
              {
                key: "createDownlinkConnection",
                value: function (I) {
                  var S = this,
                    q = I.userId,
                    J = I.tinyId,
                    te = I.trackState,
                    ue = new BG({
                      userId: q,
                      tinyId: J,
                      client: this,
                      isUplink: !1,
                      signalChannel: this.signalChannel_,
                      autoSubscribe: this.autoSubscribe_,
                      trackState: te,
                      enableSEI: this.enableSEI_,
                    });
                  this.connections_.set(J, ue),
                    this.installDownlinkEvents(ue, q, J),
                    this.autoSubscribe_
                      ? (ue.initialize(),
                        ue.connect().catch(function () {
                          !ue.getMainStream() &&
                            ue.hasMainStream() &&
                            S.initRemoteStream({
                              type: fn,
                              userId: q,
                              downlinkConnection: ue,
                            }),
                            !ue.getAuxStream() &&
                              ue.hasAuxStream() &&
                              S.initRemoteStream({
                                type: Pn,
                                userId: q,
                                downlinkConnection: ue,
                              });
                        }))
                      : (ue.hasMainStream() &&
                          this.initRemoteStream({
                            type: fn,
                            userId: q,
                            downlinkConnection: ue,
                          }),
                        ue.hasAuxStream() &&
                          this.initRemoteStream({
                            type: Pn,
                            userId: q,
                            downlinkConnection: ue,
                          }));
                },
              },
              {
                key: "initRemoteStream",
                value: function (I) {
                  var S = I.type,
                    q = I.userId,
                    J = I.downlinkConnection,
                    te = new _b({ type: S, userId: q, client: this });
                  te.setConnection(J),
                    J.setRemoteStream(S === fn ? la : Ld, te),
                    te.setIsStreamAddedEventEmitted(!0),
                    ye.emit(zp, { client: this, stream: te }),
                    this.emitter_.emit(tn.STREAM_ADDED, { stream: te });
                },
              },
              {
                key: "installDownlinkEvents",
                value: function (I, S, q) {
                  var J = this;
                  I.on(Kt.SEI_MESSAGE, function (te) {
                    J.emitter_.emit(tn.SEI_MESSAGE, te);
                  }),
                    I.on(Kt.STREAM_ADDED, function (te) {
                      te.stream.setIsStreamAddedEventEmitted(!0),
                        ye.emit(zp, { client: J, stream: te.stream }),
                        J.emitter_.emit(tn.STREAM_ADDED, { stream: te.stream });
                    }),
                    I.on(Kt.STREAM_REMOVED, function (te) {
                      J.changeBigSmallRecords_.delete(te.stream.getUserId()),
                        te.stream.stop(),
                        te.stream.setIsStreamAddedEventEmitted(!1),
                        J.subscriptionManager_ &&
                          J.subscriptionManager_.deleteAutoRecoveryFlag(
                            te.stream.getUserId(),
                            te.stream.getType()
                          ),
                        ye.emit(Xs, { client: J, stream: te.stream }),
                        J.emitter_.emit(tn.STREAM_REMOVED, {
                          stream: te.stream,
                        });
                    }),
                    I.on(Kt.STREAM_UPDATED, function (te) {
                      ye.emit(bV, { client: J, stream: te.stream });
                      var ue = I.getMixUserList();
                      ue && (te.mixUserList = ue),
                        J.emitter_.emit(tn.STREAM_UPDATED, te);
                    }),
                    I.on(Kt.STREAM_SUBSCRIBED, function (te) {
                      ye.emit(Wa, { client: J, stream: te.stream }),
                        J.emitter_.emit(tn.STREAM_SUBSCRIBED, {
                          stream: te.stream,
                        });
                    }),
                    I.on(Kt.ERROR, function (te) {
                      var ue = te.getCode();
                      ue !== ke.ICE_TRANSPORT_ERROR &&
                        (ue === ke.DOWNLINK_RECONNECTION_FAILED &&
                          J.closeDownLink(q),
                        J.emitter_.emit(tn.ERROR, te));
                    });
                },
              },
              {
                key: "onPeerJoin",
                value: function (I) {
                  var S = I.data.data,
                    q = S.srcTinyId,
                    J = S.userId,
                    te = S.role;
                  this.userMap_.has(J) ||
                    (this.userMap_.set(
                      J,
                      new Ib({ userId: J, tinyId: q, role: te })
                    ),
                    this.emitter_.emit(tn.PEER_JOIN, { userId: J }));
                },
              },
              {
                key: "onPeerLeave",
                value: function (I) {
                  var S = I.data.data,
                    q = S.srcTinyId,
                    J = S.userId,
                    te = S.reason,
                    ue = te === void 0 ? 0 : te;
                  this.log_.info(
                    "peer leave [".concat(J, "]: ").concat(ZM[ue])
                  ),
                    this.cleanUser({ userId: J, tinyId: q });
                },
              },
              {
                key: "cleanUser",
                value: function (I) {
                  var S = I.userId,
                    q = I.tinyId;
                  this.userMap_.delete(S),
                    this.closeDownLink(q),
                    this.emitter_.emit(tn.PEER_LEAVE, { userId: S });
                },
              },
              {
                key: "onPublishedUserList",
                value: function (I) {
                  var S = this;
                  try {
                    var q = Je(I.data.userList);
                    I.data.mixRobotList &&
                      q.push.apply(q, Je(I.data.mixRobotList)),
                      I.data.fakeMixUser && q.push(I.data.fakeMixUser);
                    var J = q.map(function (te) {
                      return te.userId;
                    });
                    this.connections_.forEach(function (te) {
                      var ue = te.getUserId(),
                        fe = te.getTinyId();
                      J.findIndex(function (Re) {
                        return Re === ue;
                      }) < 0 &&
                        (S.log_.info(
                          "peer unpublished detected [".concat(ue, "]")
                        ),
                        S.closeDownLink(fe));
                    }),
                      q.forEach(function (te) {
                        var ue = te.userId,
                          fe = te.srcTinyId,
                          Re = te.flag,
                          De = te.mixUserList;
                        if (ue !== S.userId_) {
                          var At = !!(1 & Re),
                            Rt = !!(8 & Re),
                            Dt = !!(4 & Re),
                            Jt = !!(2 & Re),
                            xt = S.connections_.get(fe);
                          if (
                            ((Jt || At) &&
                              S.checkSubscribeBigSmallVideo(xt, Jt),
                            xt)
                          ) {
                            var el = xt.getTrackState(),
                              fh = el.audio,
                              Wv = el.video,
                              ph = el.auxiliary,
                              H3 = el.smallVideo;
                            xc(De) && xt.setMixUserList(De),
                              !Wv &&
                                At &&
                                ye.emit(ii, {
                                  client: S,
                                  tinyId: fe,
                                  userId: ue,
                                  action: vr.ADD,
                                  kind: dt,
                                }),
                              !fh &&
                                Rt &&
                                ye.emit(ii, {
                                  client: S,
                                  tinyId: fe,
                                  userId: ue,
                                  action: vr.ADD,
                                  kind: mt,
                                }),
                              !ph &&
                                Dt &&
                                ye.emit(ii, {
                                  client: S,
                                  tinyId: fe,
                                  userId: ue,
                                  action: vr.ADD,
                                  kind: ln,
                                }),
                              !H3 &&
                                Jt &&
                                ye.emit(ii, {
                                  client: S,
                                  tinyId: fe,
                                  userId: ue,
                                  action: vr.ADD,
                                  kind: yp,
                                }),
                              Wv &&
                                !At &&
                                ye.emit(ii, {
                                  client: S,
                                  tinyId: fe,
                                  userId: ue,
                                  action: vr.REMOVE,
                                  kind: dt,
                                }),
                              fh &&
                                !Rt &&
                                ye.emit(ii, {
                                  client: S,
                                  tinyId: fe,
                                  userId: ue,
                                  action: vr.REMOVE,
                                  kind: mt,
                                }),
                              ph &&
                                !Dt &&
                                ye.emit(ii, {
                                  client: S,
                                  tinyId: fe,
                                  userId: ue,
                                  action: vr.REMOVE,
                                  kind: ln,
                                }),
                              H3 &&
                                !Jt &&
                                ye.emit(ii, {
                                  client: S,
                                  tinyId: fe,
                                  userId: ue,
                                  action: vr.REMOVE,
                                  kind: yp,
                                });
                          } else
                            S.log_.info(
                              "peer published detected [".concat(ue, "]")
                            ),
                              S.onRemoteStreamAdded({
                                content: {
                                  audio: Rt,
                                  bigVideo: At,
                                  auxVideo: Dt,
                                  smallVideo: Jt,
                                  userId: ue,
                                  tinyId: fe,
                                },
                              });
                        }
                      });
                  } catch (te) {}
                },
              },
              {
                key: "onUpdateRemoteMuteStat",
                value: function (I) {
                  var S = this,
                    q = I.data;
                  ((q && q.userList) || []).forEach(function (J) {
                    var te = J.srcTinyId,
                      ue = J.userId;
                    if (te !== 0 && te !== S.tinyId_) {
                      var fe = S.connections_.get(te);
                      if (fe) {
                        var Re = fe.getMainStream();
                        if (Re && Re.getIsStreamAddedEventEmitted()) {
                          var De = !!(1 & J.flag),
                            At = !!(8 & J.flag),
                            Rt = !!(2 & J.flag),
                            Dt = !!(64 & J.flag),
                            Jt = !!(16 & J.flag),
                            xt = S.mutedStates_.get(te);
                          if (xt === void 0)
                            return (
                              S.mutedStates_.set(te, {
                                hasAudio: At,
                                hasVideo: De,
                                hasSmall: Rt,
                                audioMuted: Dt,
                                videoMuted: Jt,
                              }),
                              De
                                ? Jt
                                  ? S.emitter_.emit(tn.MUTE_VIDEO, {
                                      userId: ue,
                                    })
                                  : S.emitter_.emit(tn.UNMUTE_VIDEO, {
                                      userId: ue,
                                    })
                                : S.emitter_.emit(tn.MUTE_VIDEO, {
                                    userId: ue,
                                  }),
                              void (At
                                ? Dt
                                  ? S.emitter_.emit(tn.MUTE_AUDIO, {
                                      userId: ue,
                                    })
                                  : S.emitter_.emit(tn.UNMUTE_AUDIO, {
                                      userId: ue,
                                    })
                                : S.emitter_.emit(tn.MUTE_AUDIO, {
                                    userId: ue,
                                  }))
                            );
                          var el = !xt.audioMuted && xt.hasAudio,
                            fh = !Dt && At,
                            Wv = !xt.videoMuted && xt.hasVideo,
                            ph = !Jt && De;
                          S.mutedStates_.set(te, {
                            hasAudio: At,
                            hasVideo: De,
                            hasSmall: Rt,
                            audioMuted: Dt,
                            videoMuted: Jt,
                          }),
                            el !== fh &&
                              (fh
                                ? S.emitter_.emit(tn.UNMUTE_AUDIO, {
                                    userId: ue,
                                  })
                                : S.emitter_.emit(tn.MUTE_AUDIO, {
                                    userId: ue,
                                  })),
                            Wv !== ph &&
                              (ph
                                ? S.emitter_.emit(tn.UNMUTE_VIDEO, {
                                    userId: ue,
                                  })
                                : S.emitter_.emit(tn.MUTE_VIDEO, {
                                    userId: ue,
                                  }));
                        }
                      } else S.mutedStates_.delete(te);
                    }
                  });
                },
              },
              {
                key: "getEnv",
                value: function () {
                  return this.env_;
                },
              },
              {
                key: "getSubscriptionManager",
                value: function () {
                  return this.subscriptionManager_;
                },
              },
              {
                key: "startPublishCDNStream",
                value:
                  ((g = C(
                    m().mark(function H() {
                      var I,
                        S = arguments;
                      return m().wrap(
                        function (q) {
                          for (;;)
                            switch ((q.prev = q.next)) {
                              case 0:
                                if (
                                  ((I =
                                    S.length > 0 && S[0] !== void 0
                                      ? S[0]
                                      : {}),
                                  this.log_.info(
                                    "startPublishCDNStream with params: "
                                      .concat(JSON.stringify(I), "; isJoined: ")
                                      .concat(
                                        this.isJoined_,
                                        "; hasMainStream: "
                                      )
                                      .concat(
                                        !!this.localStream_,
                                        "; hasAuxStream: "
                                      )
                                      .concat(!!this.localAuxStream_, ";")
                                  ),
                                  (I.streamType = I.streamType || jt),
                                  I.streamType === ln && (I.streamType = ti),
                                  (I.streamId = I.streamId || ""),
                                  !this.isJoined_)
                                ) {
                                  q.next = 10;
                                  break;
                                }
                                if (I.streamType !== jt || this.localStream_) {
                                  q.next = 8;
                                  break;
                                }
                                throw new Ie({
                                  code: ke.INVALID_OPERATION,
                                  message: Le({ key: nE }),
                                });
                              case 8:
                                if (
                                  I.streamType !== ti ||
                                  this.localAuxStream_
                                ) {
                                  q.next = 10;
                                  break;
                                }
                                throw new Ie({
                                  code: ke.INVALID_OPERATION,
                                  message: Le({ key: nE }),
                                });
                              case 10:
                                return (
                                  (q.next = 12),
                                  this.publishCDNManager_.startPublishTencentCDN(
                                    I
                                  )
                                );
                              case 12:
                                if (!(I.appId && I.bizId && I.url)) {
                                  q.next = 15;
                                  break;
                                }
                                return (
                                  (q.next = 15),
                                  this.publishCDNManager_.startPublishGivenCDN(
                                    I
                                  )
                                );
                              case 15:
                              case "end":
                                return q.stop();
                            }
                        },
                        H,
                        this
                      );
                    })
                  )),
                  function () {
                    return g.apply(this, arguments);
                  }),
              },
              {
                key: "stopPublishCDNStream",
                value:
                  ((p = C(
                    m().mark(function H() {
                      return m().wrap(
                        function (I) {
                          for (;;)
                            switch ((I.prev = I.next)) {
                              case 0:
                                if (
                                  this.publishCDNManager_.getIsPublishingTencentCDN()
                                ) {
                                  I.next = 2;
                                  break;
                                }
                                throw new Ie({
                                  code: ke.INVALID_OPERATION,
                                  message: Le({ key: F7 }),
                                });
                              case 2:
                                return (
                                  this.log_.info("stopPublishCDNStream"),
                                  (I.next = 5),
                                  this.publishCDNManager_.stopPublishTencentCDN()
                                );
                              case 5:
                                if (
                                  !this.publishCDNManager_.getIsPublishingGivenCDN()
                                ) {
                                  I.next = 8;
                                  break;
                                }
                                return (
                                  (I.next = 8),
                                  this.publishCDNManager_.stopPublishGivenCDN()
                                );
                              case 8:
                              case "end":
                                return I.stop();
                            }
                        },
                        H,
                        this
                      );
                    })
                  )),
                  function () {
                    return p.apply(this, arguments);
                  }),
              },
              {
                key: "startMixTranscode",
                value:
                  ((h = C(
                    m().mark(function H(I) {
                      return m().wrap(
                        function (S) {
                          for (;;)
                            switch ((S.prev = S.next)) {
                              case 0:
                                if (
                                  this.isJoined_ &&
                                  this.mixTranscodeManager_
                                ) {
                                  S.next = 2;
                                  break;
                                }
                                throw new Ie({
                                  code: ke.INVALID_OPERATION,
                                  message: Le({ key: B7 }),
                                });
                              case 2:
                                return (
                                  rt(I.mode) && (I.mode = Sy.MANUAL),
                                  (S.prev = 3),
                                  this.log_.info(
                                    "startMixTranscode with config ".concat(
                                      JSON.stringify(I)
                                    )
                                  ),
                                  st.uploadEvent({
                                    log: "mix-transcode-mode:".concat(I.mode),
                                    userId: this.userId_,
                                  }),
                                  (S.next = 8),
                                  this.mixTranscodeManager_.startMixTranscode(I)
                                );
                              case 8:
                                st.logSuccessEvent({
                                  userId: this.userId_,
                                  eventType: xT,
                                }),
                                  (S.next = 15);
                                break;
                              case 11:
                                throw (
                                  ((S.prev = 11),
                                  (S.t0 = S.catch(3)),
                                  st.logFailedEvent({
                                    userId: this.userId_,
                                    eventType: xT,
                                    error: S.t0,
                                  }),
                                  S.t0)
                                );
                              case 15:
                              case "end":
                                return S.stop();
                            }
                        },
                        H,
                        this,
                        [[3, 11]]
                      );
                    })
                  )),
                  function (H) {
                    return h.apply(this, arguments);
                  }),
              },
              {
                key: "stopMixTranscode",
                value:
                  ((l = C(
                    m().mark(function H() {
                      return m().wrap(
                        function (I) {
                          for (;;)
                            switch ((I.prev = I.next)) {
                              case 0:
                                if (
                                  this.isJoined_ &&
                                  this.mixTranscodeManager_
                                ) {
                                  I.next = 2;
                                  break;
                                }
                                throw new Ie({
                                  code: ke.INVALID_OPERATION,
                                  message: Le({ key: H7 }),
                                });
                              case 2:
                                return (
                                  (I.prev = 2),
                                  (I.next = 5),
                                  this.mixTranscodeManager_.stopMixTranscode()
                                );
                              case 5:
                                st.logSuccessEvent({
                                  userId: this.userId_,
                                  eventType: PT,
                                }),
                                  (I.next = 12);
                                break;
                              case 8:
                                throw (
                                  ((I.prev = 8),
                                  (I.t0 = I.catch(2)),
                                  st.logFailedEvent({
                                    userId: this.userId_,
                                    eventType: PT,
                                    error: I.t0,
                                  }),
                                  I.t0)
                                );
                              case 12:
                              case "end":
                                return I.stop();
                            }
                        },
                        H,
                        this,
                        [[2, 8]]
                      );
                    })
                  )),
                  function () {
                    return l.apply(this, arguments);
                  }),
              },
              {
                key: "getSystemResult",
                value: function () {
                  return this.checkSystemResult_;
                },
              },
              {
                key: "enableAudioVolumeEvaluation",
                value: function () {
                  var I = this,
                    S =
                      arguments.length > 0 && arguments[0] !== void 0
                        ? arguments[0]
                        : 2e3,
                    q =
                      arguments.length > 1 &&
                      arguments[1] !== void 0 &&
                      arguments[1];
                  if (!Ri(S))
                    throw new Ie({
                      code: ke.INVALID_PARAMETER,
                      message: Le({ key: z7 }),
                    });
                  if (
                    (this.log_.info(
                      "enableAudioVolumeEvaluation with interval: " + S
                    ),
                    S <= 0)
                  )
                    return (
                      (this.enableAudioVolumeEvaluation_ = !1),
                      un.clearTask(this.audioVolumeIntervalId_),
                      void (this.audioVolumeIntervalId_ = null)
                    );
                  (S = Math.floor(Math.max(S, 16))),
                    ye.emit(d0, { interval: S }),
                    this.audioVolumeIntervalId_ &&
                      (un.clearTask(this.audioVolumeIntervalId_),
                      (this.audioVolumeIntervalId_ = null)),
                    (this.enableAudioVolumeEvaluation_ = !0),
                    (this.audioVolumeIntervalId_ = un.run(
                      Cp,
                      function () {
                        var J = [];
                        if (I.localStream_) {
                          var te = Math.floor(
                            100 * I.localStream_.getAudioLevel()
                          );
                          J.push({
                            userId: I.userId_,
                            audioVolume: te,
                            stream: I.localStream_,
                          });
                        }
                        I.connections_.forEach(function (ue) {
                          var fe = ue.getSubscribedMainStream();
                          if (fe) {
                            var Re = Math.floor(100 * fe.getAudioLevel());
                            J.push({
                              userId: ue.getUserId(),
                              audioVolume: Re,
                              stream: fe,
                            });
                          }
                        }),
                          I.emitter_.emit(tn.AUDIO_VOLUME, { result: J });
                      },
                      { fps: 1e3 / S, backgroundTask: q }
                    ));
                },
              },
              {
                key: "callExperimentalAPI",
                value: function (I, S) {
                  return (
                    this.log_.info(
                      "callExperimentalAPI("
                        .concat(I, ", ")
                        .concat(JSON.stringify(S), ")")
                    ),
                    KG.call(I, v({ client: this }, S))
                  );
                },
              },
              {
                key: "setProperty",
                value: function (I, S) {
                  var q = "".concat(I, "_");
                  rt(this[q]) || (this[q] = S);
                },
              },
              {
                key: "uploadAllCallStats",
                value: function () {
                  var I = this;
                  this.callDurationCalculator_
                    .getDurationMap()
                    .forEach(function (S, q) {
                      var J = {
                        userId: S.userId,
                        type: S.type,
                        duration: I.callDurationCalculator_.getDuration(q, dt),
                        dataFreeze:
                          I.badCaseDetector_.getDataFreezeDuration(q)
                            .dataFreeze,
                        renderFreeze:
                          I.badCaseDetector_.getRenderFreezeDuration(q)
                            .renderFreeze,
                      };
                      st.uploadEvent({
                        log: "callStats-" + JSON.stringify(J),
                        userId: I.userId_,
                      });
                    }),
                    this.badCaseDetector_.stop(),
                    this.callDurationCalculator_.reset();
                },
              },
              {
                key: "enableSmallStream",
                value:
                  ((o = C(
                    m().mark(function H() {
                      return m().wrap(
                        function (I) {
                          for (;;)
                            switch ((I.prev = I.next)) {
                              case 0:
                                if (
                                  !this.isPublished() &&
                                  !this.isPublishing_
                                ) {
                                  I.next = 2;
                                  break;
                                }
                                throw new Ie({
                                  code: ke.INVALID_OPERATION,
                                  message: Le({ key: W7 }),
                                });
                              case 2:
                                if (!MI()) {
                                  I.next = 7;
                                  break;
                                }
                                this.setIsEnableSmallStream(!0),
                                  this.log_.info(
                                    "SmallStream successfully enabled"
                                  ),
                                  (I.next = 8);
                                break;
                              case 7:
                                throw new Ie({
                                  code: ke.INVALID_OPERATION,
                                  message: Le({ key: q7 }),
                                });
                              case 8:
                              case "end":
                                return I.stop();
                            }
                        },
                        H,
                        this
                      );
                    })
                  )),
                  function () {
                    return o.apply(this, arguments);
                  }),
              },
              {
                key: "disableSmallStream",
                value:
                  ((c = C(
                    m().mark(function H() {
                      return m().wrap(
                        function (I) {
                          for (;;)
                            switch ((I.prev = I.next)) {
                              case 0:
                                if (
                                  !this.isPublished() &&
                                  !this.isPublishing_
                                ) {
                                  I.next = 2;
                                  break;
                                }
                                throw new Ie({
                                  code: ke.INVALID_OPERATION,
                                  message: Le({ key: G7 }),
                                });
                              case 2:
                                this.setIsEnableSmallStream(!1),
                                  this.log_.info(
                                    "SmallStream successfully disabled"
                                  );
                              case 4:
                              case "end":
                                return I.stop();
                            }
                        },
                        H,
                        this
                      );
                    })
                  )),
                  function () {
                    return c.apply(this, arguments);
                  }),
              },
              {
                key: "setSmallStreamProfile",
                value: function (I) {
                  var S = this;
                  I && I.framerate && (I.frameRate = I.framerate),
                    I.width * I.height > 307200 &&
                      ((I.width = 320),
                      (I.height = 240),
                      this.log_.info(
                        "Small stream resolution is beyond limitation, which is invalid. Reset to 320 * 240"
                      )),
                    Object.keys(this.smallStreamConfig_).forEach(function (Re) {
                      I[Re] && (S.smallStreamConfig_[Re] = I[Re]);
                    });
                  var q = this.smallStreamConfig_,
                    J = q.width,
                    te = q.height,
                    ue = q.bitrate,
                    fe = q.frameRate;
                  if (
                    (this.log_.info(
                      "setSmallStreamProfile: bitrate="
                        .concat(ue, ", frameRate=")
                        .concat(fe, ", height=")
                        .concat(te, ", width=")
                        .concat(J)
                    ),
                    J < 0 || te < 0 || ue < 0 || fe < 0)
                  )
                    throw new Ie({
                      code: ke.INVALID_PARAMETER,
                      message: Le({ key: K7 }),
                    });
                },
              },
              {
                key: "setRemoteVideoStreamType",
                value:
                  ((a = C(
                    m().mark(function H(I, S) {
                      return m().wrap(
                        function (q) {
                          for (;;)
                            switch ((q.prev = q.next)) {
                              case 0:
                                if (I instanceof _b) {
                                  q.next = 2;
                                  break;
                                }
                                throw new Ie({
                                  code: ke.INVALID_PARAMETER,
                                  message: Le({ key: J7 }),
                                });
                              case 2:
                                if (I.getConnection()) {
                                  q.next = 4;
                                  break;
                                }
                                throw new Ie({
                                  code: ke.INVALID_OPERATION,
                                  message: Le({ key: Ay }),
                                });
                              case 4:
                                if (I.getType() !== Pn) {
                                  q.next = 6;
                                  break;
                                }
                                return q.abrupt("return");
                              case 6:
                                (q.t0 = S),
                                  (q.next =
                                    q.t0 === VT || q.t0 === FT ? 9 : 12);
                                break;
                              case 9:
                                return (
                                  (q.next = 11), this.changeVideoType(I, S)
                                );
                              case 11:
                              case 12:
                                return q.abrupt("break", 13);
                              case 13:
                              case "end":
                                return q.stop();
                            }
                        },
                        H,
                        this
                      );
                    })
                  )),
                  function (H, I) {
                    return a.apply(this, arguments);
                  }),
              },
              {
                key: "changeVideoType",
                value:
                  ((n = C(
                    m().mark(function H(I, S) {
                      var q, J;
                      return m().wrap(
                        function (te) {
                          for (;;)
                            switch ((te.prev = te.next)) {
                              case 0:
                                (q = I.getUserId()),
                                  (J = {
                                    stream: I,
                                    options: {
                                      video: S === VT,
                                      smallVideo: S === FT,
                                    },
                                    isSubscribing: !1,
                                    reSubscribeCount: 10,
                                  }),
                                  this.changeBigSmallRecords_.set(q, J),
                                  this.log_.info(
                                    "set ["
                                      .concat(q, "] ")
                                      .concat(
                                        I.getType(),
                                        " stream video prefer type: "
                                      )
                                      .concat(S)
                                  );
                              case 5:
                              case "end":
                                return te.stop();
                            }
                        },
                        H,
                        this
                      );
                    })
                  )),
                  function (H, I) {
                    return n.apply(this, arguments);
                  }),
              },
              {
                key: "checkSubscribeBigSmallVideo",
                value:
                  ((e = C(
                    m().mark(function H(I, S) {
                      var q, J, te, ue, fe, Re, De, At, Rt, Dt, Jt;
                      return m().wrap(
                        function (xt) {
                          for (;;)
                            switch ((xt.prev = xt.next)) {
                              case 0:
                                if (
                                  (I != null && I.isBigStreamSubscribed) ||
                                  (I != null && I.isSmallStreamSubscribed)
                                ) {
                                  xt.next = 2;
                                  break;
                                }
                                return xt.abrupt("return");
                              case 2:
                                if (
                                  ((q = I.getUserId()),
                                  this.changeBigSmallRecords_.has(q))
                                ) {
                                  xt.next = 5;
                                  break;
                                }
                                return xt.abrupt("return");
                              case 5:
                                if (
                                  ((J = this.changeBigSmallRecords_.get(q)),
                                  (te = I.getSubscribeState()),
                                  (ue = te.video),
                                  (fe = te.smallVideo),
                                  (Re = J.stream),
                                  (De = J.options),
                                  (At = J.isSubscribing),
                                  (Rt = J.reSubscribeCount),
                                  !(
                                    (De.video && ue) ||
                                    (De.smallVideo && fe && S)
                                  ))
                                ) {
                                  xt.next = 10;
                                  break;
                                }
                                return xt.abrupt("return");
                              case 10:
                                if (
                                  ((Dt = {
                                    video: De.video,
                                    smallVideo: De.smallVideo,
                                  }),
                                  !(
                                    (S && I.isBigStreamSubscribed) ||
                                    I.isSmallStreamSubscribed
                                  ))
                                ) {
                                  xt.next = 31;
                                  break;
                                }
                                if (
                                  ((xt.prev = 12),
                                  !(De && Re && !At && Rt >= 1))
                                ) {
                                  xt.next = 24;
                                  break;
                                }
                                return (
                                  (J.isSubscribing = !0),
                                  (J.reSubscribeCount = Rt - 1),
                                  (Jt = Re.getConnection()),
                                  !S &&
                                    Jt.isSmallStreamSubscribed &&
                                    (Dt = { video: !0, smallVideo: !1 }),
                                  (Dt.emitEvent = !1),
                                  (xt.next = 21),
                                  Jt == null ? void 0 : Jt.subscribe(Re, Dt)
                                );
                              case 21:
                                this.log_.info(
                                  "change ["
                                    .concat(q, "] to ")
                                    .concat(
                                      Dt.smallVideo ? "small" : "big",
                                      " video successfully. count "
                                    )
                                    .concat(10 - J.reSubscribeCount, ".")
                                ),
                                  (J.isSubscribing = !1),
                                  (J.reSubscribeCount = 10);
                              case 24:
                                xt.next = 31;
                                break;
                              case 26:
                                (xt.prev = 26),
                                  (xt.t0 = xt.catch(12)),
                                  this.log_.info(
                                    "change ["
                                      .concat(q, "] to ")
                                      .concat(
                                        Dt.smallVideo ? "small" : "big",
                                        " video failed. count "
                                      )
                                      .concat(10 - J.reSubscribeCount, ".")
                                  ),
                                  (J.isSubscribing = !1),
                                  Rt === 0 &&
                                    this.changeBigSmallRecords_.delete(q);
                              case 31:
                              case "end":
                                return xt.stop();
                            }
                        },
                        H,
                        this,
                        [[12, 26]]
                      );
                    })
                  )),
                  function (H, I) {
                    return e.apply(this, arguments);
                  }),
              },
              {
                key: "setIsEnableSmallStream",
                value: function (I) {
                  this.isEnableSmallStream_ = I;
                },
              },
              {
                key: "getIsEnableSmallStream",
                value: function () {
                  return this.isEnableSmallStream_;
                },
              },
              {
                key: "smallStreamConfig",
                get: function () {
                  return this.smallStreamConfig_;
                },
              },
              {
                key: "isPublished",
                value: function () {
                  return !!this.localStream_;
                },
              },
              {
                key: "getUplinkConnection",
                value: function () {
                  return this.uplinkConnection_;
                },
              },
              {
                key: "getLocalStream",
                value: function () {
                  return this.localStream_;
                },
              },
              {
                key: "getMode",
                value: function () {
                  return this.mode_;
                },
              },
              {
                key: "getBadCaseDetector",
                value: function () {
                  return this.badCaseDetector_;
                },
              },
              {
                key: "getCallDurationCalculator",
                value: function () {
                  return this.callDurationCalculator_;
                },
              },
              {
                key: "getIsJoined",
                value: function () {
                  return this.isJoined_;
                },
              },
              {
                key: "getAllConnections",
                value: function () {
                  var I = Je(this.connections_.values());
                  return (
                    this.uplinkConnection_ && I.push(this.uplinkConnection_), I
                  );
                },
              },
              {
                key: "isRelayMaybeFailed",
                value: function () {
                  if (!this.signalChannel_.isOnline) return !1;
                  var I = this.getAllConnections();
                  if (I.length === 0) return !1;
                  for (var S = 0; S < I.length; S++)
                    if (I[S].getReconnectionCount() < 6) return !1;
                  return !0;
                },
              },
              {
                key: "getUseStringRoomId",
                value: function () {
                  return this.useStringRoomId_;
                },
              },
              {
                key: "checkConnectionsToReconnect",
                value: function () {
                  var I = this;
                  this.getAllConnections().forEach(function (S) {
                    if (!S.getIsReconnecting()) {
                      var q = S.getPeerConnection();
                      q &&
                        q.connectionState === vy &&
                        (I.log_.warn(
                          "[".concat(
                            S.getUserId(),
                            "] pc is closed but not reconnect"
                          )
                        ),
                        S.startReconnection());
                    }
                  });
                },
              },
              {
                key: "getEnableAutoPlayDialog",
                value: function () {
                  return this.enableAutoPlayDialog_;
                },
              },
              {
                key: "sendSEIMessage",
                value: function (I, S) {
                  this.uplinkConnection_.sendSEI(I, S);
                },
              },
              {
                key: "setProxyServer",
                value: function (I) {
                  if (
                    (this.log_.info(
                      "set proxy server: ".concat(JSON.stringify(I))
                    ),
                    zn(I))
                  ) {
                    if (!I.startsWith("wss://"))
                      throw new Ie({
                        code: ke.INVALID_PARAMETER,
                        message: Le({ key: S7 }),
                      });
                    this.proxy_ = I;
                  } else if (Uo(I)) {
                    var S = I.websocketProxy,
                      q = I.loggerProxy,
                      J = I.scheduleProxy,
                      te = I.unifiedProxy;
                    S && (this.proxy_ = S),
                      q && hy(q),
                      J && BT(J),
                      te &&
                        ((this.unifiedProxy_ = te),
                        hy("https://".concat(te)),
                        BT(te));
                  }
                },
              },
              {
                key: "setTurnServer",
                value: function (I) {
                  this.log_.info("set turn server: " + JSON.stringify(I));
                  var S = [];
                  Array.isArray(I)
                    ? I.forEach(function (q) {
                        return S.push(PE(q));
                      })
                    : Uo(I) && S.push(PE(I)),
                    (this.turnServers_ = S);
                },
              },
              {
                key: "get2k4kFlag",
                value: function () {
                  var I, S;
                  return (
                    ((I = this.schedule_) === null ||
                    I === void 0 ||
                    (S = I.trtcCapability) === null ||
                    S === void 0
                      ? void 0
                      : S["2k4k"]) || 2
                  );
                },
              },
              {
                key: "getWSProxy",
                value: function () {
                  return this.proxy_;
                },
              },
              {
                key: "getUnifiedProxy",
                value: function () {
                  return this.unifiedProxy_;
                },
              },
            ]),
            s
          );
        })()),
        Oe(
          _t.prototype,
          "join",
          [a3, o3, s3],
          Object.getOwnPropertyDescriptor(_t.prototype, "join"),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "leave",
          [u3],
          Object.getOwnPropertyDescriptor(_t.prototype, "leave"),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "getUserList",
          [c3],
          Object.getOwnPropertyDescriptor(_t.prototype, "getUserList"),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "publish",
          [l3, d3, h3],
          Object.getOwnPropertyDescriptor(_t.prototype, "publish"),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "unpublish",
          [f3, p3],
          Object.getOwnPropertyDescriptor(_t.prototype, "unpublish"),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "subscribe",
          [v3],
          Object.getOwnPropertyDescriptor(_t.prototype, "subscribe"),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "unsubscribe",
          [m3],
          Object.getOwnPropertyDescriptor(_t.prototype, "unsubscribe"),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "switchRole",
          [g3, _3, y3],
          Object.getOwnPropertyDescriptor(_t.prototype, "switchRole"),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "startPublishCDNStream",
          [b3, S3],
          Object.getOwnPropertyDescriptor(
            _t.prototype,
            "startPublishCDNStream"
          ),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "stopPublishCDNStream",
          [w3],
          Object.getOwnPropertyDescriptor(_t.prototype, "stopPublishCDNStream"),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "startMixTranscode",
          [k3, T3],
          Object.getOwnPropertyDescriptor(_t.prototype, "startMixTranscode"),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "stopMixTranscode",
          [E3],
          Object.getOwnPropertyDescriptor(_t.prototype, "stopMixTranscode"),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "enableAudioVolumeEvaluation",
          [I3],
          Object.getOwnPropertyDescriptor(
            _t.prototype,
            "enableAudioVolumeEvaluation"
          ),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "enableSmallStream",
          [R3],
          Object.getOwnPropertyDescriptor(_t.prototype, "enableSmallStream"),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "disableSmallStream",
          [C3],
          Object.getOwnPropertyDescriptor(_t.prototype, "disableSmallStream"),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "setSmallStreamProfile",
          [A3],
          Object.getOwnPropertyDescriptor(
            _t.prototype,
            "setSmallStreamProfile"
          ),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "setRemoteVideoStreamType",
          [x3],
          Object.getOwnPropertyDescriptor(
            _t.prototype,
            "setRemoteVideoStreamType"
          ),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "sendSEIMessage",
          [P3, O3, D3],
          Object.getOwnPropertyDescriptor(_t.prototype, "sendSEIMessage"),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "setProxyServer",
          [N3],
          Object.getOwnPropertyDescriptor(_t.prototype, "setProxyServer"),
          _t.prototype
        ),
        Oe(
          _t.prototype,
          "setTurnServer",
          [L3],
          Object.getOwnPropertyDescriptor(_t.prototype, "setTurnServer"),
          _t.prototype
        ),
        _t),
      $G = 0,
      YG = 0,
      ZG =
        ((M3 = gn(Fd)),
        (U3 = gn(Fd)),
        (V3 = gn(Fd)),
        (F3 = Cv(Xn.TRTC.createClient)),
        (j3 = gn(Fd)),
        (B3 = Cv(Xn.TRTC.createStream)),
        (er = (function () {
          function s() {
            G(this, s),
              (this.name_ = Fd),
              (this.VERSION = Xi),
              (this.Logger = {
                loggerManager: it,
                LogLevel: ni,
                setLogLevel: function (a) {
                  it.setLogLevel(a), a <= 1 && pV();
                },
                enableUploadLog: function () {
                  Ko.handleFunctionState({ fnName: "TRTC.enableUploadLog" }),
                    it.enableUploadLog();
                },
                disableUploadLog: function () {
                  it.warn("disableUploadLog"),
                    Ko.handleFunctionState({ fnName: "TRTC.disableUploadLog" }),
                    it.disableUploadLog();
                },
              });
          }
          var e;
          return (
            ce(s, [
              {
                key: "checkSystemRequirements",
                value:
                  ((e = C(
                    m().mark(function n() {
                      return m().wrap(function (a) {
                        for (;;)
                          switch ((a.prev = a.next)) {
                            case 0:
                              return (a.next = 2), Y0();
                            case 2:
                              return a.abrupt("return", a.sent);
                            case 3:
                            case "end":
                              return a.stop();
                          }
                      }, n);
                    })
                  )),
                  function () {
                    return e.apply(this, arguments);
                  }),
              },
              {
                key: "isScreenShareSupported",
                value: function () {
                  return OI();
                },
              },
              {
                key: "isSmallStreamSupported",
                value: function () {
                  return MI();
                },
              },
              {
                key: "getDevices",
                value: function () {
                  return r1();
                },
              },
              {
                key: "getCameras",
                value: function () {
                  return (function () {
                    return n1.apply(this, arguments);
                  })();
                },
              },
              {
                key: "getMicrophones",
                value: function () {
                  return BI();
                },
              },
              {
                key: "getSpeakers",
                value: function () {
                  return HI();
                },
              },
              {
                key: "createClient",
                value: function (a) {
                  (function () {
                    if (
                      HE &&
                      ((HE = !1),
                      it.getLogLevel() != Sn.Logger.LogLevel.NONE &&
                        (console.info(
                          "******************************************************************************"
                        ),
                        console.info("*   TRTC Web SDK"),
                        console.info(
                          "*   API Document: " + "".concat(Iy, "index.html")
                        ),
                        console.info(
                          "*   Changelog: https://cloud.tencent.com/document/product/647/38958"
                        ),
                        console.info(
                          "*   Report issues: https://github.com/LiteAVSDK/TRTC_Web/issues"
                        ),
                        console.info(
                          "******************************************************************************"
                        )),
                      it.info("TRTC Web SDK Version: 4.15.22"),
                      it.info("UserAgent: " + navigator.userAgent),
                      it.info("URL of current page: " + location.href),
                      navigator.userAgentData &&
                        gr(navigator.userAgentData.getHighEntropyValues))
                    )
                      try {
                        navigator.userAgentData
                          .getHighEntropyValues([
                            "architecture",
                            "bitness",
                            "model",
                            "platformVersion",
                            "fullVersionList",
                          ])
                          .then(function (l) {
                            var h = "UAData: "
                              .concat(l.platform, "/")
                              .concat(l.platformVersion);
                            l.architecture &&
                              l.bitness &&
                              (h += " "
                                .concat(l.architecture, "/")
                                .concat(l.bitness)),
                              l.mobile && (h += " mobile"),
                              l.model && (h += " model: ".concat(l.model)),
                              l.fullVersionList &&
                                (h += " ".concat(
                                  l.fullVersionList
                                    .filter(function (p) {
                                      return p.brand !== "Not/A)Brand";
                                    })
                                    .map(function (p) {
                                      return ""
                                        .concat(p.brand, "/")
                                        .concat(p.version);
                                    })
                                    .join(",")
                                )),
                              it.info(h);
                          })
                          .catch(function () {});
                      } catch (l) {}
                  })();
                  var c = { version: this.VERSION },
                    o = new JG(v(v(v({}, c), a), {}, { seq: ++$G }));
                  return ye.emit(VE, { client: o }), o;
                },
              },
              {
                key: "createStream",
                value: function (a) {
                  return new gG(v(v({}, a), {}, { seq: ++YG }));
                },
              },
            ]),
            s
          );
        })()),
        Oe(
          er.prototype,
          "checkSystemRequirements",
          [M3],
          Object.getOwnPropertyDescriptor(
            er.prototype,
            "checkSystemRequirements"
          ),
          er.prototype
        ),
        Oe(
          er.prototype,
          "isScreenShareSupported",
          [U3],
          Object.getOwnPropertyDescriptor(
            er.prototype,
            "isScreenShareSupported"
          ),
          er.prototype
        ),
        Oe(
          er.prototype,
          "isSmallStreamSupported",
          [V3],
          Object.getOwnPropertyDescriptor(
            er.prototype,
            "isSmallStreamSupported"
          ),
          er.prototype
        ),
        Oe(
          er.prototype,
          "createClient",
          [F3, j3],
          Object.getOwnPropertyDescriptor(er.prototype, "createClient"),
          er.prototype
        ),
        Oe(
          er.prototype,
          "createStream",
          [B3],
          Object.getOwnPropertyDescriptor(er.prototype, "createStream"),
          er.prototype
        ),
        er),
      Sn = new ZG();
    return Sn;
  });
})(AP);
var zY = AP.exports;
const hu = /* @__PURE__ */ j4(zY);
var M4 =
  typeof globalThis != "undefined"
    ? globalThis
    : typeof window != "undefined"
    ? window
    : typeof global != "undefined"
    ? global
    : typeof self != "undefined"
    ? self
    : {};
function WY(r) {
  return r && r.__esModule && Object.prototype.hasOwnProperty.call(r, "default")
    ? r.default
    : r;
}
var hm = {
    exports: {},
  },
  GY = hm.exports,
  U4;
function qY() {
  return (
    U4 ||
      ((U4 = 1),
      (function (r, i) {
        (function (u, v) {
          r.exports = v();
        })(GY, function () {
          var u =
              typeof M4 != "undefined"
                ? M4
                : typeof self != "undefined"
                ? self
                : typeof window != "undefined"
                ? window
                : {},
            v = [],
            m = [],
            E = typeof Uint8Array != "undefined" ? Uint8Array : Array,
            O = !1;
          function C() {
            O = !0;
            for (
              var t =
                  "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
                f = 0,
                d = t.length;
              f < d;
              ++f
            )
              (v[f] = t[f]), (m[t.charCodeAt(f)] = f);
            (m["-".charCodeAt(0)] = 62), (m["_".charCodeAt(0)] = 63);
          }
          function G(t, f, d) {
            for (var y, w, k = [], P = f; P < d; P += 3)
              (y = (t[P] << 16) + (t[P + 1] << 8) + t[P + 2]),
                k.push(
                  v[((w = y) >> 18) & 63] +
                    v[(w >> 12) & 63] +
                    v[(w >> 6) & 63] +
                    v[63 & w]
                );
            return k.join("");
          }
          function re(t) {
            var f;
            O || C();
            for (
              var d = t.length, y = d % 3, w = "", k = [], P = 0, V = d - y;
              P < V;
              P += 16383
            )
              k.push(G(t, P, P + 16383 > V ? V : P + 16383));
            return (
              y === 1
                ? ((f = t[d - 1]),
                  (w += v[f >> 2]),
                  (w += v[(f << 4) & 63]),
                  (w += "=="))
                : y === 2 &&
                  ((f = (t[d - 2] << 8) + t[d - 1]),
                  (w += v[f >> 10]),
                  (w += v[(f >> 4) & 63]),
                  (w += v[(f << 2) & 63]),
                  (w += "=")),
              k.push(w),
              k.join("")
            );
          }
          function ce(t, f, d, y, w) {
            var k,
              P,
              V = 8 * w - y - 1,
              j = (1 << V) - 1,
              x = j >> 1,
              K = -7,
              ne = d ? w - 1 : 0,
              Y = d ? -1 : 1,
              Z = t[f + ne];
            for (
              ne += Y, k = Z & ((1 << -K) - 1), Z >>= -K, K += V;
              K > 0;
              k = 256 * k + t[f + ne], ne += Y, K -= 8
            );
            for (
              P = k & ((1 << -K) - 1), k >>= -K, K += y;
              K > 0;
              P = 256 * P + t[f + ne], ne += Y, K -= 8
            );
            if (k === 0) k = 1 - x;
            else {
              if (k === j) return P ? NaN : (1 / 0) * (Z ? -1 : 1);
              (P += Math.pow(2, y)), (k -= x);
            }
            return (Z ? -1 : 1) * P * Math.pow(2, k - y);
          }
          function de(t, f, d, y, w, k) {
            var P,
              V,
              j,
              x = 8 * k - w - 1,
              K = (1 << x) - 1,
              ne = K >> 1,
              Y = w === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
              Z = y ? 0 : k - 1,
              ae = y ? 1 : -1,
              ve = f < 0 || (f === 0 && 1 / f < 0) ? 1 : 0;
            for (
              f = Math.abs(f),
                isNaN(f) || f === 1 / 0
                  ? ((V = isNaN(f) ? 1 : 0), (P = K))
                  : ((P = Math.floor(Math.log(f) / Math.LN2)),
                    f * (j = Math.pow(2, -P)) < 1 && (P--, (j *= 2)),
                    (f += P + ne >= 1 ? Y / j : Y * Math.pow(2, 1 - ne)) * j >=
                      2 && (P++, (j /= 2)),
                    P + ne >= K
                      ? ((V = 0), (P = K))
                      : P + ne >= 1
                      ? ((V = (f * j - 1) * Math.pow(2, w)), (P += ne))
                      : ((V = f * Math.pow(2, ne - 1) * Math.pow(2, w)),
                        (P = 0)));
              w >= 8;
              t[d + Z] = 255 & V, Z += ae, V /= 256, w -= 8
            );
            for (
              P = (P << w) | V, x += w;
              x > 0;
              t[d + Z] = 255 & P, Z += ae, P /= 256, x -= 8
            );
            t[d + Z - ae] |= 128 * ve;
          }
          var me = {}.toString,
            Ee =
              Array.isArray ||
              function (t) {
                return me.call(t) == "[object Array]";
              };
          function Ae() {
            return le.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823;
          }
          function Be(t, f) {
            if (Ae() < f) throw new RangeError("Invalid typed array length");
            return (
              le.TYPED_ARRAY_SUPPORT
                ? ((t = new Uint8Array(f)).__proto__ = le.prototype)
                : (t === null && (t = new le(f)), (t.length = f)),
              t
            );
          }
          function le(t, f, d) {
            if (!(le.TYPED_ARRAY_SUPPORT || this instanceof le))
              return new le(t, f, d);
            if (typeof t == "number") {
              if (typeof f == "string")
                throw new Error(
                  "If encoding is specified then the first argument must be a string"
                );
              return St(this, t);
            }
            return bt(this, t, f, d);
          }
          function bt(t, f, d, y) {
            if (typeof f == "number")
              throw new TypeError('"value" argument must not be a number');
            return typeof ArrayBuffer != "undefined" && f instanceof ArrayBuffer
              ? (function (w, k, P, V) {
                  if ((k.byteLength, P < 0 || k.byteLength < P))
                    throw new RangeError("'offset' is out of bounds");
                  if (k.byteLength < P + (V || 0))
                    throw new RangeError("'length' is out of bounds");
                  return (
                    (k =
                      P === void 0 && V === void 0
                        ? new Uint8Array(k)
                        : V === void 0
                        ? new Uint8Array(k, P)
                        : new Uint8Array(k, P, V)),
                    le.TYPED_ARRAY_SUPPORT
                      ? ((w = k).__proto__ = le.prototype)
                      : (w = Ut(w, k)),
                    w
                  );
                })(t, f, d, y)
              : typeof f == "string"
              ? (function (w, k, P) {
                  if (
                    ((typeof P == "string" && P !== "") || (P = "utf8"),
                    !le.isEncoding(P))
                  )
                    throw new TypeError(
                      '"encoding" must be a valid string encoding'
                    );
                  var V = 0 | Je(k, P),
                    j = (w = Be(w, V)).write(k, P);
                  return j !== V && (w = w.slice(0, j)), w;
                })(t, f, d)
              : (function (w, k) {
                  if (wt(k)) {
                    var P = 0 | vt(k.length);
                    return (w = Be(w, P)).length === 0 || k.copy(w, 0, 0, P), w;
                  }
                  if (k) {
                    if (
                      (typeof ArrayBuffer != "undefined" &&
                        k.buffer instanceof ArrayBuffer) ||
                      "length" in k
                    )
                      return typeof k.length != "number" || (V = k.length) != V
                        ? Be(w, 0)
                        : Ut(w, k);
                    if (k.type === "Buffer" && Ee(k.data)) return Ut(w, k.data);
                  }
                  var V;
                  throw new TypeError(
                    "First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object."
                  );
                })(t, f);
          }
          function Et(t) {
            if (typeof t != "number")
              throw new TypeError('"size" argument must be a number');
            if (t < 0)
              throw new RangeError('"size" argument must not be negative');
          }
          function St(t, f) {
            if (
              (Et(f),
              (t = Be(t, f < 0 ? 0 : 0 | vt(f))),
              !le.TYPED_ARRAY_SUPPORT)
            )
              for (var d = 0; d < f; ++d) t[d] = 0;
            return t;
          }
          function Ut(t, f) {
            var d = f.length < 0 ? 0 : 0 | vt(f.length);
            t = Be(t, d);
            for (var y = 0; y < d; y += 1) t[y] = 255 & f[y];
            return t;
          }
          function vt(t) {
            if (t >= Ae())
              throw new RangeError(
                "Attempt to allocate Buffer larger than maximum size: 0x" +
                  Ae().toString(16) +
                  " bytes"
              );
            return 0 | t;
          }
          function wt(t) {
            return !(t == null || !t._isBuffer);
          }
          function Je(t, f) {
            if (wt(t)) return t.length;
            if (
              typeof ArrayBuffer != "undefined" &&
              typeof ArrayBuffer.isView == "function" &&
              (ArrayBuffer.isView(t) || t instanceof ArrayBuffer)
            )
              return t.byteLength;
            typeof t != "string" && (t = "" + t);
            var d = t.length;
            if (d === 0) return 0;
            for (var y = !1; ; )
              switch (f) {
                case "ascii":
                case "latin1":
                case "binary":
                  return d;
                case "utf8":
                case "utf-8":
                case void 0:
                  return is(t).length;
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return 2 * d;
                case "hex":
                  return d >>> 1;
                case "base64":
                  return Mh(t).length;
                default:
                  if (y) return is(t).length;
                  (f = ("" + f).toLowerCase()), (y = !0);
              }
          }
          function It(t, f, d) {
            var y = !1;
            if (
              ((f === void 0 || f < 0) && (f = 0),
              f > this.length ||
                ((d === void 0 || d > this.length) && (d = this.length),
                d <= 0) ||
                (d >>>= 0) <= (f >>>= 0))
            )
              return "";
            for (t || (t = "utf8"); ; )
              switch (t) {
                case "hex":
                  return Ve(this, f, d);
                case "utf8":
                case "utf-8":
                  return nt(this, f, d);
                case "ascii":
                  return Te(this, f, d);
                case "latin1":
                case "binary":
                  return we(this, f, d);
                case "base64":
                  return rn(this, f, d);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return Ne(this, f, d);
                default:
                  if (y) throw new TypeError("Unknown encoding: " + t);
                  (t = (t + "").toLowerCase()), (y = !0);
              }
          }
          function ct(t, f, d) {
            var y = t[f];
            (t[f] = t[d]), (t[d] = y);
          }
          function We(t, f, d, y, w) {
            if (t.length === 0) return -1;
            if (
              (typeof d == "string"
                ? ((y = d), (d = 0))
                : d > 2147483647
                ? (d = 2147483647)
                : d < -2147483648 && (d = -2147483648),
              (d = +d),
              isNaN(d) && (d = w ? 0 : t.length - 1),
              d < 0 && (d = t.length + d),
              d >= t.length)
            ) {
              if (w) return -1;
              d = t.length - 1;
            } else if (d < 0) {
              if (!w) return -1;
              d = 0;
            }
            if ((typeof f == "string" && (f = le.from(f, y)), wt(f)))
              return f.length === 0 ? -1 : Oe(t, f, d, y, w);
            if (typeof f == "number")
              return (
                (f &= 255),
                le.TYPED_ARRAY_SUPPORT &&
                typeof Uint8Array.prototype.indexOf == "function"
                  ? w
                    ? Uint8Array.prototype.indexOf.call(t, f, d)
                    : Uint8Array.prototype.lastIndexOf.call(t, f, d)
                  : Oe(t, [f], d, y, w)
              );
            throw new TypeError("val must be string, number or Buffer");
          }
          function Oe(t, f, d, y, w) {
            var k,
              P = 1,
              V = t.length,
              j = f.length;
            if (
              y !== void 0 &&
              ((y = String(y).toLowerCase()) === "ucs2" ||
                y === "ucs-2" ||
                y === "utf16le" ||
                y === "utf-16le")
            ) {
              if (t.length < 2 || f.length < 2) return -1;
              (P = 2), (V /= 2), (j /= 2), (d /= 2);
            }
            function x(Z, ae) {
              return P === 1 ? Z[ae] : Z.readUInt16BE(ae * P);
            }
            if (w) {
              var K = -1;
              for (k = d; k < V; k++)
                if (x(t, k) === x(f, K === -1 ? 0 : k - K)) {
                  if ((K === -1 && (K = k), k - K + 1 === j)) return K * P;
                } else K !== -1 && (k -= k - K), (K = -1);
            } else
              for (d + j > V && (d = V - j), k = d; k >= 0; k--) {
                for (var ne = !0, Y = 0; Y < j; Y++)
                  if (x(t, k + Y) !== x(f, Y)) {
                    ne = !1;
                    break;
                  }
                if (ne) return k;
              }
            return -1;
          }
          function at(t, f, d, y) {
            d = Number(d) || 0;
            var w = t.length - d;
            y ? (y = Number(y)) > w && (y = w) : (y = w);
            var k = f.length;
            if (k % 2 != 0) throw new TypeError("Invalid hex string");
            y > k / 2 && (y = k / 2);
            for (var P = 0; P < y; ++P) {
              var V = parseInt(f.substr(2 * P, 2), 16);
              if (isNaN(V)) return P;
              t[d + P] = V;
            }
            return P;
          }
          function kt(t, f, d, y) {
            return Su(is(f, t.length - d), t, d, y);
          }
          function Xe(t, f, d, y) {
            return Su(
              (function (w) {
                for (var k = [], P = 0; P < w.length; ++P)
                  k.push(255 & w.charCodeAt(P));
                return k;
              })(f),
              t,
              d,
              y
            );
          }
          function Ot(t, f, d, y) {
            return Xe(t, f, d, y);
          }
          function et(t, f, d, y) {
            return Su(Mh(f), t, d, y);
          }
          function Mt(t, f, d, y) {
            return Su(
              (function (w, k) {
                for (
                  var P, V, j, x = [], K = 0;
                  K < w.length && !((k -= 2) < 0);
                  ++K
                )
                  (P = w.charCodeAt(K)),
                    (V = P >> 8),
                    (j = P % 256),
                    x.push(j),
                    x.push(V);
                return x;
              })(f, t.length - d),
              t,
              d,
              y
            );
          }
          function rn(t, f, d) {
            return f === 0 && d === t.length ? re(t) : re(t.slice(f, d));
          }
          function nt(t, f, d) {
            d = Math.min(t.length, d);
            for (var y = [], w = f; w < d; ) {
              var k,
                P,
                V,
                j,
                x = t[w],
                K = null,
                ne = x > 239 ? 4 : x > 223 ? 3 : x > 191 ? 2 : 1;
              if (w + ne <= d)
                switch (ne) {
                  case 1:
                    x < 128 && (K = x);
                    break;
                  case 2:
                    (192 & (k = t[w + 1])) == 128 &&
                      (j = ((31 & x) << 6) | (63 & k)) > 127 &&
                      (K = j);
                    break;
                  case 3:
                    (k = t[w + 1]),
                      (P = t[w + 2]),
                      (192 & k) == 128 &&
                        (192 & P) == 128 &&
                        (j = ((15 & x) << 12) | ((63 & k) << 6) | (63 & P)) >
                          2047 &&
                        (j < 55296 || j > 57343) &&
                        (K = j);
                    break;
                  case 4:
                    (k = t[w + 1]),
                      (P = t[w + 2]),
                      (V = t[w + 3]),
                      (192 & k) == 128 &&
                        (192 & P) == 128 &&
                        (192 & V) == 128 &&
                        (j =
                          ((15 & x) << 18) |
                          ((63 & k) << 12) |
                          ((63 & P) << 6) |
                          (63 & V)) > 65535 &&
                        j < 1114112 &&
                        (K = j);
                }
              K === null
                ? ((K = 65533), (ne = 1))
                : K > 65535 &&
                  ((K -= 65536),
                  y.push(((K >>> 10) & 1023) | 55296),
                  (K = 56320 | (1023 & K))),
                y.push(K),
                (w += ne);
            }
            return (function (Y) {
              var Z = Y.length;
              if (Z <= Ge) return String.fromCharCode.apply(String, Y);
              for (var ae = "", ve = 0; ve < Z; )
                ae += String.fromCharCode.apply(
                  String,
                  Y.slice(ve, (ve += Ge))
                );
              return ae;
            })(y);
          }
          (le.TYPED_ARRAY_SUPPORT =
            u.TYPED_ARRAY_SUPPORT === void 0 || u.TYPED_ARRAY_SUPPORT),
            (le.poolSize = 8192),
            (le._augment = function (t) {
              return (t.__proto__ = le.prototype), t;
            }),
            (le.from = function (t, f, d) {
              return bt(null, t, f, d);
            }),
            le.TYPED_ARRAY_SUPPORT &&
              ((le.prototype.__proto__ = Uint8Array.prototype),
              (le.__proto__ = Uint8Array)),
            (le.alloc = function (t, f, d) {
              return (function (y, w, k, P) {
                return (
                  Et(w),
                  w <= 0
                    ? Be(y, w)
                    : k !== void 0
                    ? typeof P == "string"
                      ? Be(y, w).fill(k, P)
                      : Be(y, w).fill(k)
                    : Be(y, w)
                );
              })(null, t, f, d);
            }),
            (le.allocUnsafe = function (t) {
              return St(null, t);
            }),
            (le.allocUnsafeSlow = function (t) {
              return St(null, t);
            }),
            (le.isBuffer = or),
            (le.compare = function (t, f) {
              if (!wt(t) || !wt(f))
                throw new TypeError("Arguments must be Buffers");
              if (t === f) return 0;
              for (
                var d = t.length, y = f.length, w = 0, k = Math.min(d, y);
                w < k;
                ++w
              )
                if (t[w] !== f[w]) {
                  (d = t[w]), (y = f[w]);
                  break;
                }
              return d < y ? -1 : y < d ? 1 : 0;
            }),
            (le.isEncoding = function (t) {
              switch (String(t).toLowerCase()) {
                case "hex":
                case "utf8":
                case "utf-8":
                case "ascii":
                case "latin1":
                case "binary":
                case "base64":
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return !0;
                default:
                  return !1;
              }
            }),
            (le.concat = function (t, f) {
              if (!Ee(t))
                throw new TypeError(
                  '"list" argument must be an Array of Buffers'
                );
              if (t.length === 0) return le.alloc(0);
              var d;
              if (f === void 0)
                for (f = 0, d = 0; d < t.length; ++d) f += t[d].length;
              var y = le.allocUnsafe(f),
                w = 0;
              for (d = 0; d < t.length; ++d) {
                var k = t[d];
                if (!wt(k))
                  throw new TypeError(
                    '"list" argument must be an Array of Buffers'
                  );
                k.copy(y, w), (w += k.length);
              }
              return y;
            }),
            (le.byteLength = Je),
            (le.prototype._isBuffer = !0),
            (le.prototype.swap16 = function () {
              var t = this.length;
              if (t % 2 != 0)
                throw new RangeError(
                  "Buffer size must be a multiple of 16-bits"
                );
              for (var f = 0; f < t; f += 2) ct(this, f, f + 1);
              return this;
            }),
            (le.prototype.swap32 = function () {
              var t = this.length;
              if (t % 4 != 0)
                throw new RangeError(
                  "Buffer size must be a multiple of 32-bits"
                );
              for (var f = 0; f < t; f += 4)
                ct(this, f, f + 3), ct(this, f + 1, f + 2);
              return this;
            }),
            (le.prototype.swap64 = function () {
              var t = this.length;
              if (t % 8 != 0)
                throw new RangeError(
                  "Buffer size must be a multiple of 64-bits"
                );
              for (var f = 0; f < t; f += 8)
                ct(this, f, f + 7),
                  ct(this, f + 1, f + 6),
                  ct(this, f + 2, f + 5),
                  ct(this, f + 3, f + 4);
              return this;
            }),
            (le.prototype.toString = function () {
              var t = 0 | this.length;
              return t === 0
                ? ""
                : arguments.length === 0
                ? nt(this, 0, t)
                : It.apply(this, arguments);
            }),
            (le.prototype.equals = function (t) {
              if (!wt(t)) throw new TypeError("Argument must be a Buffer");
              return this === t || le.compare(this, t) === 0;
            }),
            (le.prototype.inspect = function () {
              var t = "";
              return (
                this.length > 0 &&
                  ((t = this.toString("hex", 0, 50).match(/.{2}/g).join(" ")),
                  this.length > 50 && (t += " ... ")),
                "<Buffer " + t + ">"
              );
            }),
            (le.prototype.compare = function (t, f, d, y, w) {
              if (!wt(t)) throw new TypeError("Argument must be a Buffer");
              if (
                (f === void 0 && (f = 0),
                d === void 0 && (d = t ? t.length : 0),
                y === void 0 && (y = 0),
                w === void 0 && (w = this.length),
                f < 0 || d > t.length || y < 0 || w > this.length)
              )
                throw new RangeError("out of range index");
              if (y >= w && f >= d) return 0;
              if (y >= w) return -1;
              if (f >= d) return 1;
              if (this === t) return 0;
              for (
                var k = (w >>>= 0) - (y >>>= 0),
                  P = (d >>>= 0) - (f >>>= 0),
                  V = Math.min(k, P),
                  j = this.slice(y, w),
                  x = t.slice(f, d),
                  K = 0;
                K < V;
                ++K
              )
                if (j[K] !== x[K]) {
                  (k = j[K]), (P = x[K]);
                  break;
                }
              return k < P ? -1 : P < k ? 1 : 0;
            }),
            (le.prototype.includes = function (t, f, d) {
              return this.indexOf(t, f, d) !== -1;
            }),
            (le.prototype.indexOf = function (t, f, d) {
              return We(this, t, f, d, !0);
            }),
            (le.prototype.lastIndexOf = function (t, f, d) {
              return We(this, t, f, d, !1);
            }),
            (le.prototype.write = function (t, f, d, y) {
              if (f === void 0) (y = "utf8"), (d = this.length), (f = 0);
              else if (d === void 0 && typeof f == "string")
                (y = f), (d = this.length), (f = 0);
              else {
                if (!isFinite(f))
                  throw new Error(
                    "Buffer.write(string, encoding, offset[, length]) is no longer supported"
                  );
                (f |= 0),
                  isFinite(d)
                    ? ((d |= 0), y === void 0 && (y = "utf8"))
                    : ((y = d), (d = void 0));
              }
              var w = this.length - f;
              if (
                ((d === void 0 || d > w) && (d = w),
                (t.length > 0 && (d < 0 || f < 0)) || f > this.length)
              )
                throw new RangeError("Attempt to write outside buffer bounds");
              y || (y = "utf8");
              for (var k = !1; ; )
                switch (y) {
                  case "hex":
                    return at(this, t, f, d);
                  case "utf8":
                  case "utf-8":
                    return kt(this, t, f, d);
                  case "ascii":
                    return Xe(this, t, f, d);
                  case "latin1":
                  case "binary":
                    return Ot(this, t, f, d);
                  case "base64":
                    return et(this, t, f, d);
                  case "ucs2":
                  case "ucs-2":
                  case "utf16le":
                  case "utf-16le":
                    return Mt(this, t, f, d);
                  default:
                    if (k) throw new TypeError("Unknown encoding: " + y);
                    (y = ("" + y).toLowerCase()), (k = !0);
                }
            }),
            (le.prototype.toJSON = function () {
              return {
                type: "Buffer",
                data: Array.prototype.slice.call(this._arr || this, 0),
              };
            });
          var Ge = 4096;
          function Te(t, f, d) {
            var y = "";
            d = Math.min(t.length, d);
            for (var w = f; w < d; ++w) y += String.fromCharCode(127 & t[w]);
            return y;
          }
          function we(t, f, d) {
            var y = "";
            d = Math.min(t.length, d);
            for (var w = f; w < d; ++w) y += String.fromCharCode(t[w]);
            return y;
          }
          function Ve(t, f, d) {
            var y = t.length;
            (!f || f < 0) && (f = 0), (!d || d < 0 || d > y) && (d = y);
            for (var w = "", k = f; k < d; ++k) w += Lh(t[k]);
            return w;
          }
          function Ne(t, f, d) {
            for (var y = t.slice(f, d), w = "", k = 0; k < y.length; k += 2)
              w += String.fromCharCode(y[k] + 256 * y[k + 1]);
            return w;
          }
          function Ue(t, f, d) {
            if (t % 1 != 0 || t < 0) throw new RangeError("offset is not uint");
            if (t + f > d)
              throw new RangeError("Trying to access beyond buffer length");
          }
          function Ye(t, f, d, y, w, k) {
            if (!wt(t))
              throw new TypeError(
                '"buffer" argument must be a Buffer instance'
              );
            if (f > w || f < k)
              throw new RangeError('"value" argument is out of bounds');
            if (d + y > t.length) throw new RangeError("Index out of range");
          }
          function pt(t, f, d, y) {
            f < 0 && (f = 65535 + f + 1);
            for (var w = 0, k = Math.min(t.length - d, 2); w < k; ++w)
              t[d + w] =
                (f & (255 << (8 * (y ? w : 1 - w)))) >>> (8 * (y ? w : 1 - w));
          }
          function ft(t, f, d, y) {
            f < 0 && (f = 4294967295 + f + 1);
            for (var w = 0, k = Math.min(t.length - d, 4); w < k; ++w)
              t[d + w] = (f >>> (8 * (y ? w : 3 - w))) & 255;
          }
          function An(t, f, d, y, w, k) {
            if (d + y > t.length) throw new RangeError("Index out of range");
            if (d < 0) throw new RangeError("Index out of range");
          }
          function Yn(t, f, d, y, w) {
            return w || An(t, 0, d, 4), de(t, f, d, y, 23, 4), d + 4;
          }
          function oo(t, f, d, y, w) {
            return w || An(t, 0, d, 8), de(t, f, d, y, 52, 8), d + 8;
          }
          (le.prototype.slice = function (t, f) {
            var d,
              y = this.length;
            if (
              ((t = ~~t) < 0 ? (t += y) < 0 && (t = 0) : t > y && (t = y),
              (f = f === void 0 ? y : ~~f) < 0
                ? (f += y) < 0 && (f = 0)
                : f > y && (f = y),
              f < t && (f = t),
              le.TYPED_ARRAY_SUPPORT)
            )
              (d = this.subarray(t, f)).__proto__ = le.prototype;
            else {
              var w = f - t;
              d = new le(w, void 0);
              for (var k = 0; k < w; ++k) d[k] = this[k + t];
            }
            return d;
          }),
            (le.prototype.readUIntLE = function (t, f, d) {
              (t |= 0), (f |= 0), d || Ue(t, f, this.length);
              for (var y = this[t], w = 1, k = 0; ++k < f && (w *= 256); )
                y += this[t + k] * w;
              return y;
            }),
            (le.prototype.readUIntBE = function (t, f, d) {
              (t |= 0), (f |= 0), d || Ue(t, f, this.length);
              for (var y = this[t + --f], w = 1; f > 0 && (w *= 256); )
                y += this[t + --f] * w;
              return y;
            }),
            (le.prototype.readUInt8 = function (t, f) {
              return f || Ue(t, 1, this.length), this[t];
            }),
            (le.prototype.readUInt16LE = function (t, f) {
              return f || Ue(t, 2, this.length), this[t] | (this[t + 1] << 8);
            }),
            (le.prototype.readUInt16BE = function (t, f) {
              return f || Ue(t, 2, this.length), (this[t] << 8) | this[t + 1];
            }),
            (le.prototype.readUInt32LE = function (t, f) {
              return (
                f || Ue(t, 4, this.length),
                (this[t] | (this[t + 1] << 8) | (this[t + 2] << 16)) +
                  16777216 * this[t + 3]
              );
            }),
            (le.prototype.readUInt32BE = function (t, f) {
              return (
                f || Ue(t, 4, this.length),
                16777216 * this[t] +
                  ((this[t + 1] << 16) | (this[t + 2] << 8) | this[t + 3])
              );
            }),
            (le.prototype.readIntLE = function (t, f, d) {
              (t |= 0), (f |= 0), d || Ue(t, f, this.length);
              for (var y = this[t], w = 1, k = 0; ++k < f && (w *= 256); )
                y += this[t + k] * w;
              return y >= (w *= 128) && (y -= Math.pow(2, 8 * f)), y;
            }),
            (le.prototype.readIntBE = function (t, f, d) {
              (t |= 0), (f |= 0), d || Ue(t, f, this.length);
              for (var y = f, w = 1, k = this[t + --y]; y > 0 && (w *= 256); )
                k += this[t + --y] * w;
              return k >= (w *= 128) && (k -= Math.pow(2, 8 * f)), k;
            }),
            (le.prototype.readInt8 = function (t, f) {
              return (
                f || Ue(t, 1, this.length),
                128 & this[t] ? -1 * (255 - this[t] + 1) : this[t]
              );
            }),
            (le.prototype.readInt16LE = function (t, f) {
              f || Ue(t, 2, this.length);
              var d = this[t] | (this[t + 1] << 8);
              return 32768 & d ? 4294901760 | d : d;
            }),
            (le.prototype.readInt16BE = function (t, f) {
              f || Ue(t, 2, this.length);
              var d = this[t + 1] | (this[t] << 8);
              return 32768 & d ? 4294901760 | d : d;
            }),
            (le.prototype.readInt32LE = function (t, f) {
              return (
                f || Ue(t, 4, this.length),
                this[t] |
                  (this[t + 1] << 8) |
                  (this[t + 2] << 16) |
                  (this[t + 3] << 24)
              );
            }),
            (le.prototype.readInt32BE = function (t, f) {
              return (
                f || Ue(t, 4, this.length),
                (this[t] << 24) |
                  (this[t + 1] << 16) |
                  (this[t + 2] << 8) |
                  this[t + 3]
              );
            }),
            (le.prototype.readFloatLE = function (t, f) {
              return f || Ue(t, 4, this.length), ce(this, t, !0, 23, 4);
            }),
            (le.prototype.readFloatBE = function (t, f) {
              return f || Ue(t, 4, this.length), ce(this, t, !1, 23, 4);
            }),
            (le.prototype.readDoubleLE = function (t, f) {
              return f || Ue(t, 8, this.length), ce(this, t, !0, 52, 8);
            }),
            (le.prototype.readDoubleBE = function (t, f) {
              return f || Ue(t, 8, this.length), ce(this, t, !1, 52, 8);
            }),
            (le.prototype.writeUIntLE = function (t, f, d, y) {
              (t = +t),
                (f |= 0),
                (d |= 0),
                y || Ye(this, t, f, d, Math.pow(2, 8 * d) - 1, 0);
              var w = 1,
                k = 0;
              for (this[f] = 255 & t; ++k < d && (w *= 256); )
                this[f + k] = (t / w) & 255;
              return f + d;
            }),
            (le.prototype.writeUIntBE = function (t, f, d, y) {
              (t = +t),
                (f |= 0),
                (d |= 0),
                y || Ye(this, t, f, d, Math.pow(2, 8 * d) - 1, 0);
              var w = d - 1,
                k = 1;
              for (this[f + w] = 255 & t; --w >= 0 && (k *= 256); )
                this[f + w] = (t / k) & 255;
              return f + d;
            }),
            (le.prototype.writeUInt8 = function (t, f, d) {
              return (
                (t = +t),
                (f |= 0),
                d || Ye(this, t, f, 1, 255, 0),
                le.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)),
                (this[f] = 255 & t),
                f + 1
              );
            }),
            (le.prototype.writeUInt16LE = function (t, f, d) {
              return (
                (t = +t),
                (f |= 0),
                d || Ye(this, t, f, 2, 65535, 0),
                le.TYPED_ARRAY_SUPPORT
                  ? ((this[f] = 255 & t), (this[f + 1] = t >>> 8))
                  : pt(this, t, f, !0),
                f + 2
              );
            }),
            (le.prototype.writeUInt16BE = function (t, f, d) {
              return (
                (t = +t),
                (f |= 0),
                d || Ye(this, t, f, 2, 65535, 0),
                le.TYPED_ARRAY_SUPPORT
                  ? ((this[f] = t >>> 8), (this[f + 1] = 255 & t))
                  : pt(this, t, f, !1),
                f + 2
              );
            }),
            (le.prototype.writeUInt32LE = function (t, f, d) {
              return (
                (t = +t),
                (f |= 0),
                d || Ye(this, t, f, 4, 4294967295, 0),
                le.TYPED_ARRAY_SUPPORT
                  ? ((this[f + 3] = t >>> 24),
                    (this[f + 2] = t >>> 16),
                    (this[f + 1] = t >>> 8),
                    (this[f] = 255 & t))
                  : ft(this, t, f, !0),
                f + 4
              );
            }),
            (le.prototype.writeUInt32BE = function (t, f, d) {
              return (
                (t = +t),
                (f |= 0),
                d || Ye(this, t, f, 4, 4294967295, 0),
                le.TYPED_ARRAY_SUPPORT
                  ? ((this[f] = t >>> 24),
                    (this[f + 1] = t >>> 16),
                    (this[f + 2] = t >>> 8),
                    (this[f + 3] = 255 & t))
                  : ft(this, t, f, !1),
                f + 4
              );
            }),
            (le.prototype.writeIntLE = function (t, f, d, y) {
              if (((t = +t), (f |= 0), !y)) {
                var w = Math.pow(2, 8 * d - 1);
                Ye(this, t, f, d, w - 1, -w);
              }
              var k = 0,
                P = 1,
                V = 0;
              for (this[f] = 255 & t; ++k < d && (P *= 256); )
                t < 0 && V === 0 && this[f + k - 1] !== 0 && (V = 1),
                  (this[f + k] = (((t / P) >> 0) - V) & 255);
              return f + d;
            }),
            (le.prototype.writeIntBE = function (t, f, d, y) {
              if (((t = +t), (f |= 0), !y)) {
                var w = Math.pow(2, 8 * d - 1);
                Ye(this, t, f, d, w - 1, -w);
              }
              var k = d - 1,
                P = 1,
                V = 0;
              for (this[f + k] = 255 & t; --k >= 0 && (P *= 256); )
                t < 0 && V === 0 && this[f + k + 1] !== 0 && (V = 1),
                  (this[f + k] = (((t / P) >> 0) - V) & 255);
              return f + d;
            }),
            (le.prototype.writeInt8 = function (t, f, d) {
              return (
                (t = +t),
                (f |= 0),
                d || Ye(this, t, f, 1, 127, -128),
                le.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)),
                t < 0 && (t = 255 + t + 1),
                (this[f] = 255 & t),
                f + 1
              );
            }),
            (le.prototype.writeInt16LE = function (t, f, d) {
              return (
                (t = +t),
                (f |= 0),
                d || Ye(this, t, f, 2, 32767, -32768),
                le.TYPED_ARRAY_SUPPORT
                  ? ((this[f] = 255 & t), (this[f + 1] = t >>> 8))
                  : pt(this, t, f, !0),
                f + 2
              );
            }),
            (le.prototype.writeInt16BE = function (t, f, d) {
              return (
                (t = +t),
                (f |= 0),
                d || Ye(this, t, f, 2, 32767, -32768),
                le.TYPED_ARRAY_SUPPORT
                  ? ((this[f] = t >>> 8), (this[f + 1] = 255 & t))
                  : pt(this, t, f, !1),
                f + 2
              );
            }),
            (le.prototype.writeInt32LE = function (t, f, d) {
              return (
                (t = +t),
                (f |= 0),
                d || Ye(this, t, f, 4, 2147483647, -2147483648),
                le.TYPED_ARRAY_SUPPORT
                  ? ((this[f] = 255 & t),
                    (this[f + 1] = t >>> 8),
                    (this[f + 2] = t >>> 16),
                    (this[f + 3] = t >>> 24))
                  : ft(this, t, f, !0),
                f + 4
              );
            }),
            (le.prototype.writeInt32BE = function (t, f, d) {
              return (
                (t = +t),
                (f |= 0),
                d || Ye(this, t, f, 4, 2147483647, -2147483648),
                t < 0 && (t = 4294967295 + t + 1),
                le.TYPED_ARRAY_SUPPORT
                  ? ((this[f] = t >>> 24),
                    (this[f + 1] = t >>> 16),
                    (this[f + 2] = t >>> 8),
                    (this[f + 3] = 255 & t))
                  : ft(this, t, f, !1),
                f + 4
              );
            }),
            (le.prototype.writeFloatLE = function (t, f, d) {
              return Yn(this, t, f, !0, d);
            }),
            (le.prototype.writeFloatBE = function (t, f, d) {
              return Yn(this, t, f, !1, d);
            }),
            (le.prototype.writeDoubleLE = function (t, f, d) {
              return oo(this, t, f, !0, d);
            }),
            (le.prototype.writeDoubleBE = function (t, f, d) {
              return oo(this, t, f, !1, d);
            }),
            (le.prototype.copy = function (t, f, d, y) {
              if (
                (d || (d = 0),
                y || y === 0 || (y = this.length),
                f >= t.length && (f = t.length),
                f || (f = 0),
                y > 0 && y < d && (y = d),
                y === d || t.length === 0 || this.length === 0)
              )
                return 0;
              if (f < 0) throw new RangeError("targetStart out of bounds");
              if (d < 0 || d >= this.length)
                throw new RangeError("sourceStart out of bounds");
              if (y < 0) throw new RangeError("sourceEnd out of bounds");
              y > this.length && (y = this.length),
                t.length - f < y - d && (y = t.length - f + d);
              var w,
                k = y - d;
              if (this === t && d < f && f < y)
                for (w = k - 1; w >= 0; --w) t[w + f] = this[w + d];
              else if (k < 1e3 || !le.TYPED_ARRAY_SUPPORT)
                for (w = 0; w < k; ++w) t[w + f] = this[w + d];
              else Uint8Array.prototype.set.call(t, this.subarray(d, d + k), f);
              return k;
            }),
            (le.prototype.fill = function (t, f, d, y) {
              if (typeof t == "string") {
                if (
                  (typeof f == "string"
                    ? ((y = f), (f = 0), (d = this.length))
                    : typeof d == "string" && ((y = d), (d = this.length)),
                  t.length === 1)
                ) {
                  var w = t.charCodeAt(0);
                  w < 256 && (t = w);
                }
                if (y !== void 0 && typeof y != "string")
                  throw new TypeError("encoding must be a string");
                if (typeof y == "string" && !le.isEncoding(y))
                  throw new TypeError("Unknown encoding: " + y);
              } else typeof t == "number" && (t &= 255);
              if (f < 0 || this.length < f || this.length < d)
                throw new RangeError("Out of range index");
              if (d <= f) return this;
              var k;
              if (
                ((f >>>= 0),
                (d = d === void 0 ? this.length : d >>> 0),
                t || (t = 0),
                typeof t == "number")
              )
                for (k = f; k < d; ++k) this[k] = t;
              else {
                var P = wt(t) ? t : is(new le(t, y).toString()),
                  V = P.length;
                for (k = 0; k < d - f; ++k) this[k + f] = P[k % V];
              }
              return this;
            });
          var Bm = /[^+\/0-9A-Za-z-_]/g;
          function Lh(t) {
            return t < 16 ? "0" + t.toString(16) : t.toString(16);
          }
          function is(t, f) {
            var d;
            f = f || 1 / 0;
            for (var y = t.length, w = null, k = [], P = 0; P < y; ++P) {
              if ((d = t.charCodeAt(P)) > 55295 && d < 57344) {
                if (!w) {
                  if (d > 56319) {
                    (f -= 3) > -1 && k.push(239, 191, 189);
                    continue;
                  }
                  if (P + 1 === y) {
                    (f -= 3) > -1 && k.push(239, 191, 189);
                    continue;
                  }
                  w = d;
                  continue;
                }
                if (d < 56320) {
                  (f -= 3) > -1 && k.push(239, 191, 189), (w = d);
                  continue;
                }
                d = 65536 + (((w - 55296) << 10) | (d - 56320));
              } else w && (f -= 3) > -1 && k.push(239, 191, 189);
              if (((w = null), d < 128)) {
                if ((f -= 1) < 0) break;
                k.push(d);
              } else if (d < 2048) {
                if ((f -= 2) < 0) break;
                k.push((d >> 6) | 192, (63 & d) | 128);
              } else if (d < 65536) {
                if ((f -= 3) < 0) break;
                k.push((d >> 12) | 224, ((d >> 6) & 63) | 128, (63 & d) | 128);
              } else {
                if (!(d < 1114112)) throw new Error("Invalid code point");
                if ((f -= 4) < 0) break;
                k.push(
                  (d >> 18) | 240,
                  ((d >> 12) & 63) | 128,
                  ((d >> 6) & 63) | 128,
                  (63 & d) | 128
                );
              }
            }
            return k;
          }
          function Mh(t) {
            return (function (f) {
              var d, y, w, k, P, V;
              O || C();
              var j = f.length;
              if (j % 4 > 0)
                throw new Error(
                  "Invalid string. Length must be a multiple of 4"
                );
              (P = f[j - 2] === "=" ? 2 : f[j - 1] === "=" ? 1 : 0),
                (V = new E((3 * j) / 4 - P)),
                (w = P > 0 ? j - 4 : j);
              var x = 0;
              for (d = 0, y = 0; d < w; d += 4, y += 3)
                (k =
                  (m[f.charCodeAt(d)] << 18) |
                  (m[f.charCodeAt(d + 1)] << 12) |
                  (m[f.charCodeAt(d + 2)] << 6) |
                  m[f.charCodeAt(d + 3)]),
                  (V[x++] = (k >> 16) & 255),
                  (V[x++] = (k >> 8) & 255),
                  (V[x++] = 255 & k);
              return (
                P === 2
                  ? ((k =
                      (m[f.charCodeAt(d)] << 2) |
                      (m[f.charCodeAt(d + 1)] >> 4)),
                    (V[x++] = 255 & k))
                  : P === 1 &&
                    ((k =
                      (m[f.charCodeAt(d)] << 10) |
                      (m[f.charCodeAt(d + 1)] << 4) |
                      (m[f.charCodeAt(d + 2)] >> 2)),
                    (V[x++] = (k >> 8) & 255),
                    (V[x++] = 255 & k)),
                V
              );
            })(
              (function (f) {
                if (
                  (f = (function (d) {
                    return d.trim ? d.trim() : d.replace(/^\s+|\s+$/g, "");
                  })(f).replace(Bm, "")).length < 2
                )
                  return "";
                for (; f.length % 4 != 0; ) f += "=";
                return f;
              })(t)
            );
          }
          function Su(t, f, d, y) {
            for (var w = 0; w < y && !(w + d >= f.length || w >= t.length); ++w)
              f[w + d] = t[w];
            return w;
          }
          function or(t) {
            return (
              t != null &&
              (!!t._isBuffer ||
                Uh(t) ||
                (function (f) {
                  return (
                    typeof f.readFloatLE == "function" &&
                    typeof f.slice == "function" &&
                    Uh(f.slice(0, 0))
                  );
                })(t))
            );
          }
          function Uh(t) {
            return (
              !!t.constructor &&
              typeof t.constructor.isBuffer == "function" &&
              t.constructor.isBuffer(t)
            );
          }
          function zt(t, f) {
            return (
              t(
                (f = {
                  exports: {},
                }),
                f.exports
              ),
              f.exports
            );
          }
          var Qe = zt(function (t, f) {
              var d;
              t.exports =
                ((d =
                  d ||
                  (function (y, w) {
                    var k =
                        Object.create ||
                        (function () {
                          function ie() {}
                          return function (oe) {
                            var se;
                            return (
                              (ie.prototype = oe),
                              (se = new ie()),
                              (ie.prototype = null),
                              se
                            );
                          };
                        })(),
                      P = {},
                      V = (P.lib = {}),
                      j = (V.Base = {
                        extend: function (oe) {
                          var se = k(this);
                          return (
                            oe && se.mixIn(oe),
                            (se.hasOwnProperty("init") &&
                              this.init !== se.init) ||
                              (se.init = function () {
                                se.$super.init.apply(this, arguments);
                              }),
                            (se.init.prototype = se),
                            (se.$super = this),
                            se
                          );
                        },
                        create: function () {
                          var oe = this.extend();
                          return oe.init.apply(oe, arguments), oe;
                        },
                        init: function () {},
                        mixIn: function (oe) {
                          for (var se in oe)
                            oe.hasOwnProperty(se) && (this[se] = oe[se]);
                          oe.hasOwnProperty("toString") &&
                            (this.toString = oe.toString);
                        },
                        clone: function () {
                          return this.init.prototype.extend(this);
                        },
                      }),
                      x = (V.WordArray = j.extend({
                        init: function (oe, se) {
                          (oe = this.words = oe || []),
                            (this.sigBytes = se != null ? se : 4 * oe.length);
                        },
                        toString: function (oe) {
                          return (oe || ne).stringify(this);
                        },
                        concat: function (oe) {
                          var se = this.words,
                            he = oe.words,
                            pe = this.sigBytes,
                            ge = oe.sigBytes;
                          if ((this.clamp(), pe % 4))
                            for (var be = 0; be < ge; be++) {
                              var xe =
                                (he[be >>> 2] >>> (24 - (be % 4) * 8)) & 255;
                              se[(pe + be) >>> 2] |=
                                xe << (24 - ((pe + be) % 4) * 8);
                            }
                          else
                            for (var be = 0; be < ge; be += 4)
                              se[(pe + be) >>> 2] = he[be >>> 2];
                          return (this.sigBytes += ge), this;
                        },
                        clamp: function () {
                          var oe = this.words,
                            se = this.sigBytes;
                          (oe[se >>> 2] &= 4294967295 << (32 - (se % 4) * 8)),
                            (oe.length = y.ceil(se / 4));
                        },
                        clone: function () {
                          var oe = j.clone.call(this);
                          return (oe.words = this.words.slice(0)), oe;
                        },
                        random: function (oe) {
                          for (
                            var se,
                              he = [],
                              pe = function (Pe) {
                                var Pe = Pe,
                                  _e = 987654321,
                                  Se = 4294967295;
                                return function () {
                                  var je =
                                    (((_e =
                                      (36969 * (65535 & _e) + (_e >> 16)) &
                                      Se) <<
                                      16) +
                                      (Pe =
                                        (18e3 * (65535 & Pe) + (Pe >> 16)) &
                                        Se)) &
                                    Se;
                                  return (
                                    (je /= 4294967296),
                                    (je += 0.5) * (y.random() > 0.5 ? 1 : -1)
                                  );
                                };
                              },
                              ge = 0;
                            ge < oe;
                            ge += 4
                          ) {
                            var be = pe(4294967296 * (se || y.random()));
                            (se = 987654071 * be()),
                              he.push((4294967296 * be()) | 0);
                          }
                          return new x.init(he, oe);
                        },
                      })),
                      K = (P.enc = {}),
                      ne = (K.Hex = {
                        stringify: function (oe) {
                          for (
                            var se = oe.words,
                              he = oe.sigBytes,
                              pe = [],
                              ge = 0;
                            ge < he;
                            ge++
                          ) {
                            var be =
                              (se[ge >>> 2] >>> (24 - (ge % 4) * 8)) & 255;
                            pe.push((be >>> 4).toString(16)),
                              pe.push((15 & be).toString(16));
                          }
                          return pe.join("");
                        },
                        parse: function (oe) {
                          for (
                            var se = oe.length, he = [], pe = 0;
                            pe < se;
                            pe += 2
                          )
                            he[pe >>> 3] |=
                              parseInt(oe.substr(pe, 2), 16) <<
                              (24 - (pe % 8) * 4);
                          return new x.init(he, se / 2);
                        },
                      }),
                      Y = (K.Latin1 = {
                        stringify: function (oe) {
                          for (
                            var se = oe.words,
                              he = oe.sigBytes,
                              pe = [],
                              ge = 0;
                            ge < he;
                            ge++
                          ) {
                            var be =
                              (se[ge >>> 2] >>> (24 - (ge % 4) * 8)) & 255;
                            pe.push(String.fromCharCode(be));
                          }
                          return pe.join("");
                        },
                        parse: function (oe) {
                          for (
                            var se = oe.length, he = [], pe = 0;
                            pe < se;
                            pe++
                          )
                            he[pe >>> 2] |=
                              (255 & oe.charCodeAt(pe)) << (24 - (pe % 4) * 8);
                          return new x.init(he, se);
                        },
                      }),
                      Z = (K.Utf8 = {
                        stringify: function (oe) {
                          try {
                            return decodeURIComponent(escape(Y.stringify(oe)));
                          } catch (se) {
                            throw new Error("Malformed UTF-8 data");
                          }
                        },
                        parse: function (oe) {
                          return Y.parse(unescape(encodeURIComponent(oe)));
                        },
                      }),
                      ae = (V.BufferedBlockAlgorithm = j.extend({
                        reset: function () {
                          (this._data = new x.init()), (this._nDataBytes = 0);
                        },
                        _append: function (oe) {
                          typeof oe == "string" && (oe = Z.parse(oe)),
                            this._data.concat(oe),
                            (this._nDataBytes += oe.sigBytes);
                        },
                        _process: function (oe) {
                          var se = this._data,
                            he = se.words,
                            pe = se.sigBytes,
                            ge = this.blockSize,
                            be = 4 * ge,
                            xe = pe / be,
                            Ce =
                              (xe = oe
                                ? y.ceil(xe)
                                : y.max((0 | xe) - this._minBufferSize, 0)) *
                              ge,
                            Pe = y.min(4 * Ce, pe);
                          if (Ce) {
                            for (var _e = 0; _e < Ce; _e += ge)
                              this._doProcessBlock(he, _e);
                            var Se = he.splice(0, Ce);
                            se.sigBytes -= Pe;
                          }
                          return new x.init(Se, Pe);
                        },
                        clone: function () {
                          var oe = j.clone.call(this);
                          return (oe._data = this._data.clone()), oe;
                        },
                        _minBufferSize: 0,
                      })),
                      ve =
                        ((V.Hasher = ae.extend({
                          cfg: j.extend(),
                          init: function (oe) {
                            (this.cfg = this.cfg.extend(oe)), this.reset();
                          },
                          reset: function () {
                            ae.reset.call(this), this._doReset();
                          },
                          update: function (oe) {
                            return this._append(oe), this._process(), this;
                          },
                          finalize: function (oe) {
                            oe && this._append(oe);
                            var se = this._doFinalize();
                            return se;
                          },
                          blockSize: 16,
                          _createHelper: function (oe) {
                            return function (se, he) {
                              return new oe.init(he).finalize(se);
                            };
                          },
                          _createHmacHelper: function (oe) {
                            return function (se, he) {
                              return new ve.HMAC.init(oe, he).finalize(se);
                            };
                          },
                        })),
                        (P.algo = {}));
                    return P;
                  })(Math)),
                d);
            }),
            Vh =
              (zt(function (t, f) {
                var d, y, w, k, P, V;
                t.exports =
                  ((w = (y = d = Qe).lib),
                  (k = w.Base),
                  (P = w.WordArray),
                  ((V = y.x64 = {}).Word = k.extend({
                    init: function (x, K) {
                      (this.high = x), (this.low = K);
                    },
                  })),
                  (V.WordArray = k.extend({
                    init: function (x, K) {
                      (x = this.words = x || []),
                        (this.sigBytes = K != null ? K : 8 * x.length);
                    },
                    toX32: function () {
                      for (
                        var x = this.words, K = x.length, ne = [], Y = 0;
                        Y < K;
                        Y++
                      ) {
                        var Z = x[Y];
                        ne.push(Z.high), ne.push(Z.low);
                      }
                      return P.create(ne, this.sigBytes);
                    },
                    clone: function () {
                      for (
                        var x = k.clone.call(this),
                          K = (x.words = this.words.slice(0)),
                          ne = K.length,
                          Y = 0;
                        Y < ne;
                        Y++
                      )
                        K[Y] = K[Y].clone();
                      return x;
                    },
                  })),
                  d);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  ((d = Qe),
                  (function () {
                    if (typeof ArrayBuffer == "function") {
                      var y = d.lib.WordArray,
                        w = y.init;
                      (y.init = function (k) {
                        if (
                          (k instanceof ArrayBuffer && (k = new Uint8Array(k)),
                          (k instanceof Int8Array ||
                            (typeof Uint8ClampedArray != "undefined" &&
                              k instanceof Uint8ClampedArray) ||
                            k instanceof Int16Array ||
                            k instanceof Uint16Array ||
                            k instanceof Int32Array ||
                            k instanceof Uint32Array ||
                            k instanceof Float32Array ||
                            k instanceof Float64Array) &&
                            (k = new Uint8Array(
                              k.buffer,
                              k.byteOffset,
                              k.byteLength
                            )),
                          k instanceof Uint8Array)
                        ) {
                          for (var P = k.byteLength, V = [], j = 0; j < P; j++)
                            V[j >>> 2] |= k[j] << (24 - (j % 4) * 8);
                          w.call(this, V, P);
                        } else w.apply(this, arguments);
                      }).prototype = y;
                    }
                  })(),
                  d.lib.WordArray);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  ((d = Qe),
                  (function () {
                    var y = d,
                      w = y.lib.WordArray,
                      k = y.enc;
                    function P(V) {
                      return ((V << 8) & 4278255360) | ((V >>> 8) & 16711935);
                    }
                    (k.Utf16 = k.Utf16BE =
                      {
                        stringify: function (j) {
                          for (
                            var x = j.words, K = j.sigBytes, ne = [], Y = 0;
                            Y < K;
                            Y += 2
                          ) {
                            var Z = (x[Y >>> 2] >>> (16 - (Y % 4) * 8)) & 65535;
                            ne.push(String.fromCharCode(Z));
                          }
                          return ne.join("");
                        },
                        parse: function (j) {
                          for (var x = j.length, K = [], ne = 0; ne < x; ne++)
                            K[ne >>> 1] |=
                              j.charCodeAt(ne) << (16 - (ne % 2) * 16);
                          return w.create(K, 2 * x);
                        },
                      }),
                      (k.Utf16LE = {
                        stringify: function (j) {
                          for (
                            var x = j.words, K = j.sigBytes, ne = [], Y = 0;
                            Y < K;
                            Y += 2
                          ) {
                            var Z = P(
                              (x[Y >>> 2] >>> (16 - (Y % 4) * 8)) & 65535
                            );
                            ne.push(String.fromCharCode(Z));
                          }
                          return ne.join("");
                        },
                        parse: function (j) {
                          for (var x = j.length, K = [], ne = 0; ne < x; ne++)
                            K[ne >>> 1] |= P(
                              j.charCodeAt(ne) << (16 - (ne % 2) * 16)
                            );
                          return w.create(K, 2 * x);
                        },
                      });
                  })(),
                  d.enc.Utf16);
              }),
              zt(function (t, f) {
                var d, y, w;
                t.exports =
                  ((w = (y = d = Qe).lib.WordArray),
                  (y.enc.Base64 = {
                    stringify: function (P) {
                      var V = P.words,
                        j = P.sigBytes,
                        x = this._map;
                      P.clamp();
                      for (var K = [], ne = 0; ne < j; ne += 3)
                        for (
                          var Y =
                              (((V[ne >>> 2] >>> (24 - (ne % 4) * 8)) & 255) <<
                                16) |
                              (((V[(ne + 1) >>> 2] >>>
                                (24 - ((ne + 1) % 4) * 8)) &
                                255) <<
                                8) |
                              ((V[(ne + 2) >>> 2] >>>
                                (24 - ((ne + 2) % 4) * 8)) &
                                255),
                            Z = 0;
                          Z < 4 && ne + 0.75 * Z < j;
                          Z++
                        )
                          K.push(x.charAt((Y >>> (6 * (3 - Z))) & 63));
                      var ae = x.charAt(64);
                      if (ae) for (; K.length % 4; ) K.push(ae);
                      return K.join("");
                    },
                    parse: function (P) {
                      var V = P.length,
                        j = this._map,
                        x = this._reverseMap;
                      if (!x) {
                        x = this._reverseMap = [];
                        for (var K = 0; K < j.length; K++)
                          x[j.charCodeAt(K)] = K;
                      }
                      var ne = j.charAt(64);
                      if (ne) {
                        var Y = P.indexOf(ne);
                        Y !== -1 && (V = Y);
                      }
                      return (function (Z, ae, ve) {
                        for (var ie = [], oe = 0, se = 0; se < ae; se++)
                          if (se % 4) {
                            var he = ve[Z.charCodeAt(se - 1)] << ((se % 4) * 2),
                              pe = ve[Z.charCodeAt(se)] >>> (6 - (se % 4) * 2);
                            (ie[oe >>> 2] |= (he | pe) << (24 - (oe % 4) * 8)),
                              oe++;
                          }
                        return w.create(ie, oe);
                      })(P, V, x);
                    },
                    _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
                  }),
                  d.enc.Base64);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  ((d = Qe),
                  (function (y) {
                    var w = d,
                      k = w.lib,
                      P = k.WordArray,
                      V = k.Hasher,
                      j = w.algo,
                      x = [];
                    (function () {
                      for (var ve = 0; ve < 64; ve++)
                        x[ve] = (4294967296 * y.abs(y.sin(ve + 1))) | 0;
                    })();
                    var K = (j.MD5 = V.extend({
                      _doReset: function () {
                        this._hash = new P.init([
                          1732584193, 4023233417, 2562383102, 271733878,
                        ]);
                      },
                      _doProcessBlock: function (ie, oe) {
                        for (var se = 0; se < 16; se++) {
                          var he = oe + se,
                            pe = ie[he];
                          ie[he] =
                            (16711935 & ((pe << 8) | (pe >>> 24))) |
                            (4278255360 & ((pe << 24) | (pe >>> 8)));
                        }
                        var ge = this._hash.words,
                          be = ie[oe + 0],
                          xe = ie[oe + 1],
                          Ce = ie[oe + 2],
                          Pe = ie[oe + 3],
                          _e = ie[oe + 4],
                          Se = ie[oe + 5],
                          je = ie[oe + 6],
                          Ze = ie[oe + 7],
                          Fe = ie[oe + 8],
                          ot = ie[oe + 9],
                          ht = ie[oe + 10],
                          Ct = ie[oe + 11],
                          gt = ie[oe + 12],
                          Xt = ie[oe + 13],
                          Wt = ie[oe + 14],
                          kn = ie[oe + 15],
                          ze = ge[0],
                          $e = ge[1],
                          He = ge[2],
                          qe = ge[3];
                        (ze = ne(ze, $e, He, qe, be, 7, x[0])),
                          (qe = ne(qe, ze, $e, He, xe, 12, x[1])),
                          (He = ne(He, qe, ze, $e, Ce, 17, x[2])),
                          ($e = ne($e, He, qe, ze, Pe, 22, x[3])),
                          (ze = ne(ze, $e, He, qe, _e, 7, x[4])),
                          (qe = ne(qe, ze, $e, He, Se, 12, x[5])),
                          (He = ne(He, qe, ze, $e, je, 17, x[6])),
                          ($e = ne($e, He, qe, ze, Ze, 22, x[7])),
                          (ze = ne(ze, $e, He, qe, Fe, 7, x[8])),
                          (qe = ne(qe, ze, $e, He, ot, 12, x[9])),
                          (He = ne(He, qe, ze, $e, ht, 17, x[10])),
                          ($e = ne($e, He, qe, ze, Ct, 22, x[11])),
                          (ze = ne(ze, $e, He, qe, gt, 7, x[12])),
                          (qe = ne(qe, ze, $e, He, Xt, 12, x[13])),
                          (He = ne(He, qe, ze, $e, Wt, 17, x[14])),
                          (ze = Y(
                            ze,
                            ($e = ne($e, He, qe, ze, kn, 22, x[15])),
                            He,
                            qe,
                            xe,
                            5,
                            x[16]
                          )),
                          (qe = Y(qe, ze, $e, He, je, 9, x[17])),
                          (He = Y(He, qe, ze, $e, Ct, 14, x[18])),
                          ($e = Y($e, He, qe, ze, be, 20, x[19])),
                          (ze = Y(ze, $e, He, qe, Se, 5, x[20])),
                          (qe = Y(qe, ze, $e, He, ht, 9, x[21])),
                          (He = Y(He, qe, ze, $e, kn, 14, x[22])),
                          ($e = Y($e, He, qe, ze, _e, 20, x[23])),
                          (ze = Y(ze, $e, He, qe, ot, 5, x[24])),
                          (qe = Y(qe, ze, $e, He, Wt, 9, x[25])),
                          (He = Y(He, qe, ze, $e, Pe, 14, x[26])),
                          ($e = Y($e, He, qe, ze, Fe, 20, x[27])),
                          (ze = Y(ze, $e, He, qe, Xt, 5, x[28])),
                          (qe = Y(qe, ze, $e, He, Ce, 9, x[29])),
                          (He = Y(He, qe, ze, $e, Ze, 14, x[30])),
                          (ze = Z(
                            ze,
                            ($e = Y($e, He, qe, ze, gt, 20, x[31])),
                            He,
                            qe,
                            Se,
                            4,
                            x[32]
                          )),
                          (qe = Z(qe, ze, $e, He, Fe, 11, x[33])),
                          (He = Z(He, qe, ze, $e, Ct, 16, x[34])),
                          ($e = Z($e, He, qe, ze, Wt, 23, x[35])),
                          (ze = Z(ze, $e, He, qe, xe, 4, x[36])),
                          (qe = Z(qe, ze, $e, He, _e, 11, x[37])),
                          (He = Z(He, qe, ze, $e, Ze, 16, x[38])),
                          ($e = Z($e, He, qe, ze, ht, 23, x[39])),
                          (ze = Z(ze, $e, He, qe, Xt, 4, x[40])),
                          (qe = Z(qe, ze, $e, He, be, 11, x[41])),
                          (He = Z(He, qe, ze, $e, Pe, 16, x[42])),
                          ($e = Z($e, He, qe, ze, je, 23, x[43])),
                          (ze = Z(ze, $e, He, qe, ot, 4, x[44])),
                          (qe = Z(qe, ze, $e, He, gt, 11, x[45])),
                          (He = Z(He, qe, ze, $e, kn, 16, x[46])),
                          (ze = ae(
                            ze,
                            ($e = Z($e, He, qe, ze, Ce, 23, x[47])),
                            He,
                            qe,
                            be,
                            6,
                            x[48]
                          )),
                          (qe = ae(qe, ze, $e, He, Ze, 10, x[49])),
                          (He = ae(He, qe, ze, $e, Wt, 15, x[50])),
                          ($e = ae($e, He, qe, ze, Se, 21, x[51])),
                          (ze = ae(ze, $e, He, qe, gt, 6, x[52])),
                          (qe = ae(qe, ze, $e, He, Pe, 10, x[53])),
                          (He = ae(He, qe, ze, $e, ht, 15, x[54])),
                          ($e = ae($e, He, qe, ze, xe, 21, x[55])),
                          (ze = ae(ze, $e, He, qe, Fe, 6, x[56])),
                          (qe = ae(qe, ze, $e, He, kn, 10, x[57])),
                          (He = ae(He, qe, ze, $e, je, 15, x[58])),
                          ($e = ae($e, He, qe, ze, Xt, 21, x[59])),
                          (ze = ae(ze, $e, He, qe, _e, 6, x[60])),
                          (qe = ae(qe, ze, $e, He, Ct, 10, x[61])),
                          (He = ae(He, qe, ze, $e, Ce, 15, x[62])),
                          ($e = ae($e, He, qe, ze, ot, 21, x[63])),
                          (ge[0] = (ge[0] + ze) | 0),
                          (ge[1] = (ge[1] + $e) | 0),
                          (ge[2] = (ge[2] + He) | 0),
                          (ge[3] = (ge[3] + qe) | 0);
                      },
                      _doFinalize: function () {
                        var ie = this._data,
                          oe = ie.words,
                          se = 8 * this._nDataBytes,
                          he = 8 * ie.sigBytes;
                        oe[he >>> 5] |= 128 << (24 - (he % 32));
                        var pe = y.floor(se / 4294967296),
                          ge = se;
                        (oe[15 + (((he + 64) >>> 9) << 4)] =
                          (16711935 & ((pe << 8) | (pe >>> 24))) |
                          (4278255360 & ((pe << 24) | (pe >>> 8)))),
                          (oe[14 + (((he + 64) >>> 9) << 4)] =
                            (16711935 & ((ge << 8) | (ge >>> 24))) |
                            (4278255360 & ((ge << 24) | (ge >>> 8)))),
                          (ie.sigBytes = 4 * (oe.length + 1)),
                          this._process();
                        for (
                          var be = this._hash, xe = be.words, Ce = 0;
                          Ce < 4;
                          Ce++
                        ) {
                          var Pe = xe[Ce];
                          xe[Ce] =
                            (16711935 & ((Pe << 8) | (Pe >>> 24))) |
                            (4278255360 & ((Pe << 24) | (Pe >>> 8)));
                        }
                        return be;
                      },
                      clone: function () {
                        var ie = V.clone.call(this);
                        return (ie._hash = this._hash.clone()), ie;
                      },
                    }));
                    function ne(ve, ie, oe, se, he, pe, ge) {
                      var be = ve + ((ie & oe) | (~ie & se)) + he + ge;
                      return ((be << pe) | (be >>> (32 - pe))) + ie;
                    }
                    function Y(ve, ie, oe, se, he, pe, ge) {
                      var be = ve + ((ie & se) | (oe & ~se)) + he + ge;
                      return ((be << pe) | (be >>> (32 - pe))) + ie;
                    }
                    function Z(ve, ie, oe, se, he, pe, ge) {
                      var be = ve + (ie ^ oe ^ se) + he + ge;
                      return ((be << pe) | (be >>> (32 - pe))) + ie;
                    }
                    function ae(ve, ie, oe, se, he, pe, ge) {
                      var be = ve + (oe ^ (ie | ~se)) + he + ge;
                      return ((be << pe) | (be >>> (32 - pe))) + ie;
                    }
                    (w.MD5 = V._createHelper(K)),
                      (w.HmacMD5 = V._createHmacHelper(K));
                  })(Math),
                  d.MD5);
              }),
              zt(function (t, f) {
                var d, y, w, k, P, V, j, x;
                t.exports =
                  ((w = (y = d = Qe).lib),
                  (k = w.WordArray),
                  (P = w.Hasher),
                  (V = y.algo),
                  (j = []),
                  (x = V.SHA1 =
                    P.extend({
                      _doReset: function () {
                        this._hash = new k.init([
                          1732584193, 4023233417, 2562383102, 271733878,
                          3285377520,
                        ]);
                      },
                      _doProcessBlock: function (ne, Y) {
                        for (
                          var Z = this._hash.words,
                            ae = Z[0],
                            ve = Z[1],
                            ie = Z[2],
                            oe = Z[3],
                            se = Z[4],
                            he = 0;
                          he < 80;
                          he++
                        ) {
                          if (he < 16) j[he] = 0 | ne[Y + he];
                          else {
                            var pe =
                              j[he - 3] ^ j[he - 8] ^ j[he - 14] ^ j[he - 16];
                            j[he] = (pe << 1) | (pe >>> 31);
                          }
                          var ge = ((ae << 5) | (ae >>> 27)) + se + j[he];
                          (ge +=
                            he < 20
                              ? 1518500249 + ((ve & ie) | (~ve & oe))
                              : he < 40
                              ? 1859775393 + (ve ^ ie ^ oe)
                              : he < 60
                              ? ((ve & ie) | (ve & oe) | (ie & oe)) - 1894007588
                              : (ve ^ ie ^ oe) - 899497514),
                            (se = oe),
                            (oe = ie),
                            (ie = (ve << 30) | (ve >>> 2)),
                            (ve = ae),
                            (ae = ge);
                        }
                        (Z[0] = (Z[0] + ae) | 0),
                          (Z[1] = (Z[1] + ve) | 0),
                          (Z[2] = (Z[2] + ie) | 0),
                          (Z[3] = (Z[3] + oe) | 0),
                          (Z[4] = (Z[4] + se) | 0);
                      },
                      _doFinalize: function () {
                        var ne = this._data,
                          Y = ne.words,
                          Z = 8 * this._nDataBytes,
                          ae = 8 * ne.sigBytes;
                        return (
                          (Y[ae >>> 5] |= 128 << (24 - (ae % 32))),
                          (Y[14 + (((ae + 64) >>> 9) << 4)] = Math.floor(
                            Z / 4294967296
                          )),
                          (Y[15 + (((ae + 64) >>> 9) << 4)] = Z),
                          (ne.sigBytes = 4 * Y.length),
                          this._process(),
                          this._hash
                        );
                      },
                      clone: function () {
                        var ne = P.clone.call(this);
                        return (ne._hash = this._hash.clone()), ne;
                      },
                    })),
                  (y.SHA1 = P._createHelper(x)),
                  (y.HmacSHA1 = P._createHmacHelper(x)),
                  d.SHA1);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  ((d = Qe),
                  (function (y) {
                    var w = d,
                      k = w.lib,
                      P = k.WordArray,
                      V = k.Hasher,
                      j = w.algo,
                      x = [],
                      K = [];
                    (function () {
                      function Z(oe) {
                        for (var se = y.sqrt(oe), he = 2; he <= se; he++)
                          if (!(oe % he)) return !1;
                        return !0;
                      }
                      function ae(oe) {
                        return (4294967296 * (oe - (0 | oe))) | 0;
                      }
                      for (var ve = 2, ie = 0; ie < 64; )
                        Z(ve) &&
                          (ie < 8 && (x[ie] = ae(y.pow(ve, 0.5))),
                          (K[ie] = ae(y.pow(ve, 1 / 3))),
                          ie++),
                          ve++;
                    })();
                    var ne = [],
                      Y = (j.SHA256 = V.extend({
                        _doReset: function () {
                          this._hash = new P.init(x.slice(0));
                        },
                        _doProcessBlock: function (ae, ve) {
                          for (
                            var ie = this._hash.words,
                              oe = ie[0],
                              se = ie[1],
                              he = ie[2],
                              pe = ie[3],
                              ge = ie[4],
                              be = ie[5],
                              xe = ie[6],
                              Ce = ie[7],
                              Pe = 0;
                            Pe < 64;
                            Pe++
                          ) {
                            if (Pe < 16) ne[Pe] = 0 | ae[ve + Pe];
                            else {
                              var _e = ne[Pe - 15],
                                Se =
                                  ((_e << 25) | (_e >>> 7)) ^
                                  ((_e << 14) | (_e >>> 18)) ^
                                  (_e >>> 3),
                                je = ne[Pe - 2],
                                Ze =
                                  ((je << 15) | (je >>> 17)) ^
                                  ((je << 13) | (je >>> 19)) ^
                                  (je >>> 10);
                              ne[Pe] = Se + ne[Pe - 7] + Ze + ne[Pe - 16];
                            }
                            var Fe = (oe & se) ^ (oe & he) ^ (se & he),
                              ot =
                                ((oe << 30) | (oe >>> 2)) ^
                                ((oe << 19) | (oe >>> 13)) ^
                                ((oe << 10) | (oe >>> 22)),
                              ht =
                                Ce +
                                (((ge << 26) | (ge >>> 6)) ^
                                  ((ge << 21) | (ge >>> 11)) ^
                                  ((ge << 7) | (ge >>> 25))) +
                                ((ge & be) ^ (~ge & xe)) +
                                K[Pe] +
                                ne[Pe];
                            (Ce = xe),
                              (xe = be),
                              (be = ge),
                              (ge = (pe + ht) | 0),
                              (pe = he),
                              (he = se),
                              (se = oe),
                              (oe = (ht + (ot + Fe)) | 0);
                          }
                          (ie[0] = (ie[0] + oe) | 0),
                            (ie[1] = (ie[1] + se) | 0),
                            (ie[2] = (ie[2] + he) | 0),
                            (ie[3] = (ie[3] + pe) | 0),
                            (ie[4] = (ie[4] + ge) | 0),
                            (ie[5] = (ie[5] + be) | 0),
                            (ie[6] = (ie[6] + xe) | 0),
                            (ie[7] = (ie[7] + Ce) | 0);
                        },
                        _doFinalize: function () {
                          var ae = this._data,
                            ve = ae.words,
                            ie = 8 * this._nDataBytes,
                            oe = 8 * ae.sigBytes;
                          return (
                            (ve[oe >>> 5] |= 128 << (24 - (oe % 32))),
                            (ve[14 + (((oe + 64) >>> 9) << 4)] = y.floor(
                              ie / 4294967296
                            )),
                            (ve[15 + (((oe + 64) >>> 9) << 4)] = ie),
                            (ae.sigBytes = 4 * ve.length),
                            this._process(),
                            this._hash
                          );
                        },
                        clone: function () {
                          var ae = V.clone.call(this);
                          return (ae._hash = this._hash.clone()), ae;
                        },
                      }));
                    (w.SHA256 = V._createHelper(Y)),
                      (w.HmacSHA256 = V._createHmacHelper(Y));
                  })(Math),
                  d.SHA256);
              }),
              zt(function (t, f) {
                var d, y, w, k, P, V;
                t.exports =
                  ((w = (y = d = Qe).lib.WordArray),
                  (k = y.algo),
                  (P = k.SHA256),
                  (V = k.SHA224 =
                    P.extend({
                      _doReset: function () {
                        this._hash = new w.init([
                          3238371032, 914150663, 812702999, 4144912697,
                          4290775857, 1750603025, 1694076839, 3204075428,
                        ]);
                      },
                      _doFinalize: function () {
                        var x = P._doFinalize.call(this);
                        return (x.sigBytes -= 4), x;
                      },
                    })),
                  (y.SHA224 = P._createHelper(V)),
                  (y.HmacSHA224 = P._createHmacHelper(V)),
                  d.SHA224);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  ((d = Qe),
                  (function () {
                    var y = d,
                      w = y.lib.Hasher,
                      k = y.x64,
                      P = k.Word,
                      V = k.WordArray,
                      j = y.algo;
                    function x() {
                      return P.create.apply(P, arguments);
                    }
                    var K = [
                        x(1116352408, 3609767458),
                        x(1899447441, 602891725),
                        x(3049323471, 3964484399),
                        x(3921009573, 2173295548),
                        x(961987163, 4081628472),
                        x(1508970993, 3053834265),
                        x(2453635748, 2937671579),
                        x(2870763221, 3664609560),
                        x(3624381080, 2734883394),
                        x(310598401, 1164996542),
                        x(607225278, 1323610764),
                        x(1426881987, 3590304994),
                        x(1925078388, 4068182383),
                        x(2162078206, 991336113),
                        x(2614888103, 633803317),
                        x(3248222580, 3479774868),
                        x(3835390401, 2666613458),
                        x(4022224774, 944711139),
                        x(264347078, 2341262773),
                        x(604807628, 2007800933),
                        x(770255983, 1495990901),
                        x(1249150122, 1856431235),
                        x(1555081692, 3175218132),
                        x(1996064986, 2198950837),
                        x(2554220882, 3999719339),
                        x(2821834349, 766784016),
                        x(2952996808, 2566594879),
                        x(3210313671, 3203337956),
                        x(3336571891, 1034457026),
                        x(3584528711, 2466948901),
                        x(113926993, 3758326383),
                        x(338241895, 168717936),
                        x(666307205, 1188179964),
                        x(773529912, 1546045734),
                        x(1294757372, 1522805485),
                        x(1396182291, 2643833823),
                        x(1695183700, 2343527390),
                        x(1986661051, 1014477480),
                        x(2177026350, 1206759142),
                        x(2456956037, 344077627),
                        x(2730485921, 1290863460),
                        x(2820302411, 3158454273),
                        x(3259730800, 3505952657),
                        x(3345764771, 106217008),
                        x(3516065817, 3606008344),
                        x(3600352804, 1432725776),
                        x(4094571909, 1467031594),
                        x(275423344, 851169720),
                        x(430227734, 3100823752),
                        x(506948616, 1363258195),
                        x(659060556, 3750685593),
                        x(883997877, 3785050280),
                        x(958139571, 3318307427),
                        x(1322822218, 3812723403),
                        x(1537002063, 2003034995),
                        x(1747873779, 3602036899),
                        x(1955562222, 1575990012),
                        x(2024104815, 1125592928),
                        x(2227730452, 2716904306),
                        x(2361852424, 442776044),
                        x(2428436474, 593698344),
                        x(2756734187, 3733110249),
                        x(3204031479, 2999351573),
                        x(3329325298, 3815920427),
                        x(3391569614, 3928383900),
                        x(3515267271, 566280711),
                        x(3940187606, 3454069534),
                        x(4118630271, 4000239992),
                        x(116418474, 1914138554),
                        x(174292421, 2731055270),
                        x(289380356, 3203993006),
                        x(460393269, 320620315),
                        x(685471733, 587496836),
                        x(852142971, 1086792851),
                        x(1017036298, 365543100),
                        x(1126000580, 2618297676),
                        x(1288033470, 3409855158),
                        x(1501505948, 4234509866),
                        x(1607167915, 987167468),
                        x(1816402316, 1246189591),
                      ],
                      ne = [];
                    (function () {
                      for (var Z = 0; Z < 80; Z++) ne[Z] = x();
                    })();
                    var Y = (j.SHA512 = w.extend({
                      _doReset: function () {
                        this._hash = new V.init([
                          new P.init(1779033703, 4089235720),
                          new P.init(3144134277, 2227873595),
                          new P.init(1013904242, 4271175723),
                          new P.init(2773480762, 1595750129),
                          new P.init(1359893119, 2917565137),
                          new P.init(2600822924, 725511199),
                          new P.init(528734635, 4215389547),
                          new P.init(1541459225, 327033209),
                        ]);
                      },
                      _doProcessBlock: function (ae, ve) {
                        for (
                          var ie = this._hash.words,
                            oe = ie[0],
                            se = ie[1],
                            he = ie[2],
                            pe = ie[3],
                            ge = ie[4],
                            be = ie[5],
                            xe = ie[6],
                            Ce = ie[7],
                            Pe = oe.high,
                            _e = oe.low,
                            Se = se.high,
                            je = se.low,
                            Ze = he.high,
                            Fe = he.low,
                            ot = pe.high,
                            ht = pe.low,
                            Ct = ge.high,
                            gt = ge.low,
                            Xt = be.high,
                            Wt = be.low,
                            kn = xe.high,
                            ze = xe.low,
                            $e = Ce.high,
                            He = Ce.low,
                            qe = Pe,
                            Dn = _e,
                            ei = Se,
                            jr = je,
                            ia = Ze,
                            La = Fe,
                            nc = ot,
                            Ma = ht,
                            Br = Ct,
                            Ar = gt,
                            Ua = Xt,
                            Ns = Wt,
                            rc = kn,
                            Ls = ze,
                            Hr = $e,
                            Ms = He,
                            zr = 0;
                          zr < 80;
                          zr++
                        ) {
                          var aa = ne[zr];
                          if (zr < 16)
                            var Va = (aa.high = 0 | ae[ve + 2 * zr]),
                              bo = (aa.low = 0 | ae[ve + 2 * zr + 1]);
                          else {
                            var Df = ne[zr - 15],
                              So = Df.high,
                              Ti = Df.low,
                              Nf =
                                ((So >>> 1) | (Ti << 31)) ^
                                ((So >>> 8) | (Ti << 24)) ^
                                (So >>> 7),
                              Lf =
                                ((Ti >>> 1) | (So << 31)) ^
                                ((Ti >>> 8) | (So << 24)) ^
                                ((Ti >>> 7) | (So << 25)),
                              Mf = ne[zr - 2],
                              wo = Mf.high,
                              Us = Mf.low,
                              ic =
                                ((wo >>> 19) | (Us << 13)) ^
                                ((wo << 3) | (Us >>> 29)) ^
                                (wo >>> 6),
                              Uf =
                                ((Us >>> 19) | (wo << 13)) ^
                                ((Us << 3) | (wo >>> 29)) ^
                                ((Us >>> 6) | (wo << 26)),
                              Vf = ne[zr - 7],
                              Ff = Vf.high,
                              Og = Vf.low,
                              dd = ne[zr - 16],
                              Dg = dd.high,
                              jf = dd.low;
                            (Va =
                              (Va =
                                (Va =
                                  Nf +
                                  Ff +
                                  ((bo = Lf + Og) >>> 0 < Lf >>> 0 ? 1 : 0)) +
                                ic +
                                ((bo += Uf) >>> 0 < Uf >>> 0 ? 1 : 0)) +
                              Dg +
                              ((bo += jf) >>> 0 < jf >>> 0 ? 1 : 0)),
                              (aa.high = Va),
                              (aa.low = bo);
                          }
                          var Fa,
                            Ng = (Br & Ua) ^ (~Br & rc),
                            hd = (Ar & Ns) ^ (~Ar & Ls),
                            ac = (qe & ei) ^ (qe & ia) ^ (ei & ia),
                            Bf = (Dn & jr) ^ (Dn & La) ^ (jr & La),
                            Lg =
                              ((qe >>> 28) | (Dn << 4)) ^
                              ((qe << 30) | (Dn >>> 2)) ^
                              ((qe << 25) | (Dn >>> 7)),
                            Hf =
                              ((Dn >>> 28) | (qe << 4)) ^
                              ((Dn << 30) | (qe >>> 2)) ^
                              ((Dn << 25) | (qe >>> 7)),
                            Mg =
                              ((Br >>> 14) | (Ar << 18)) ^
                              ((Br >>> 18) | (Ar << 14)) ^
                              ((Br << 23) | (Ar >>> 9)),
                            Ug =
                              ((Ar >>> 14) | (Br << 18)) ^
                              ((Ar >>> 18) | (Br << 14)) ^
                              ((Ar << 23) | (Br >>> 9)),
                            zf = K[zr],
                            fd = zf.high,
                            Wf = zf.low,
                            ko =
                              Hr +
                              Mg +
                              ((Fa = Ms + Ug) >>> 0 < Ms >>> 0 ? 1 : 0),
                            Gf = Hf + Bf;
                          (Hr = rc),
                            (Ms = Ls),
                            (rc = Ua),
                            (Ls = Ns),
                            (Ua = Br),
                            (Ns = Ar),
                            (Br =
                              (nc +
                                (ko =
                                  (ko =
                                    (ko =
                                      ko +
                                      Ng +
                                      ((Fa += hd) >>> 0 < hd >>> 0 ? 1 : 0)) +
                                    fd +
                                    ((Fa += Wf) >>> 0 < Wf >>> 0 ? 1 : 0)) +
                                  Va +
                                  ((Fa += bo) >>> 0 < bo >>> 0 ? 1 : 0)) +
                                ((Ar = (Ma + Fa) | 0) >>> 0 < Ma >>> 0
                                  ? 1
                                  : 0)) |
                              0),
                            (nc = ia),
                            (Ma = La),
                            (ia = ei),
                            (La = jr),
                            (ei = qe),
                            (jr = Dn),
                            (qe =
                              (ko +
                                (Lg + ac + (Gf >>> 0 < Hf >>> 0 ? 1 : 0)) +
                                ((Dn = (Fa + Gf) | 0) >>> 0 < Fa >>> 0
                                  ? 1
                                  : 0)) |
                              0);
                        }
                        (_e = oe.low = _e + Dn),
                          (oe.high = Pe + qe + (_e >>> 0 < Dn >>> 0 ? 1 : 0)),
                          (je = se.low = je + jr),
                          (se.high = Se + ei + (je >>> 0 < jr >>> 0 ? 1 : 0)),
                          (Fe = he.low = Fe + La),
                          (he.high = Ze + ia + (Fe >>> 0 < La >>> 0 ? 1 : 0)),
                          (ht = pe.low = ht + Ma),
                          (pe.high = ot + nc + (ht >>> 0 < Ma >>> 0 ? 1 : 0)),
                          (gt = ge.low = gt + Ar),
                          (ge.high = Ct + Br + (gt >>> 0 < Ar >>> 0 ? 1 : 0)),
                          (Wt = be.low = Wt + Ns),
                          (be.high = Xt + Ua + (Wt >>> 0 < Ns >>> 0 ? 1 : 0)),
                          (ze = xe.low = ze + Ls),
                          (xe.high = kn + rc + (ze >>> 0 < Ls >>> 0 ? 1 : 0)),
                          (He = Ce.low = He + Ms),
                          (Ce.high = $e + Hr + (He >>> 0 < Ms >>> 0 ? 1 : 0));
                      },
                      _doFinalize: function () {
                        var ae = this._data,
                          ve = ae.words,
                          ie = 8 * this._nDataBytes,
                          oe = 8 * ae.sigBytes;
                        return (
                          (ve[oe >>> 5] |= 128 << (24 - (oe % 32))),
                          (ve[30 + (((oe + 128) >>> 10) << 5)] = Math.floor(
                            ie / 4294967296
                          )),
                          (ve[31 + (((oe + 128) >>> 10) << 5)] = ie),
                          (ae.sigBytes = 4 * ve.length),
                          this._process(),
                          this._hash.toX32()
                        );
                      },
                      clone: function () {
                        var ae = w.clone.call(this);
                        return (ae._hash = this._hash.clone()), ae;
                      },
                      blockSize: 32,
                    }));
                    (y.SHA512 = w._createHelper(Y)),
                      (y.HmacSHA512 = w._createHmacHelper(Y));
                  })(),
                  d.SHA512);
              }),
              zt(function (t, f) {
                var d, y, w, k, P, V, j, x;
                t.exports =
                  ((w = (y = d = Qe).x64),
                  (k = w.Word),
                  (P = w.WordArray),
                  (V = y.algo),
                  (j = V.SHA512),
                  (x = V.SHA384 =
                    j.extend({
                      _doReset: function () {
                        this._hash = new P.init([
                          new k.init(3418070365, 3238371032),
                          new k.init(1654270250, 914150663),
                          new k.init(2438529370, 812702999),
                          new k.init(355462360, 4144912697),
                          new k.init(1731405415, 4290775857),
                          new k.init(2394180231, 1750603025),
                          new k.init(3675008525, 1694076839),
                          new k.init(1203062813, 3204075428),
                        ]);
                      },
                      _doFinalize: function () {
                        var ne = j._doFinalize.call(this);
                        return (ne.sigBytes -= 16), ne;
                      },
                    })),
                  (y.SHA384 = j._createHelper(x)),
                  (y.HmacSHA384 = j._createHmacHelper(x)),
                  d.SHA384);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  ((d = Qe),
                  (function (y) {
                    var w = d,
                      k = w.lib,
                      P = k.WordArray,
                      V = k.Hasher,
                      j = w.x64.Word,
                      x = w.algo,
                      K = [],
                      ne = [],
                      Y = [];
                    (function () {
                      for (var ve = 1, ie = 0, oe = 0; oe < 24; oe++) {
                        K[ve + 5 * ie] = (((oe + 1) * (oe + 2)) / 2) % 64;
                        var se = (2 * ve + 3 * ie) % 5;
                        (ve = ie % 5), (ie = se);
                      }
                      for (ve = 0; ve < 5; ve++)
                        for (ie = 0; ie < 5; ie++)
                          ne[ve + 5 * ie] = ie + ((2 * ve + 3 * ie) % 5) * 5;
                      for (var he = 1, pe = 0; pe < 24; pe++) {
                        for (var ge = 0, be = 0, xe = 0; xe < 7; xe++) {
                          if (1 & he) {
                            var Ce = (1 << xe) - 1;
                            Ce < 32 ? (be ^= 1 << Ce) : (ge ^= 1 << (Ce - 32));
                          }
                          128 & he ? (he = (he << 1) ^ 113) : (he <<= 1);
                        }
                        Y[pe] = j.create(ge, be);
                      }
                    })();
                    var Z = [];
                    (function () {
                      for (var ve = 0; ve < 25; ve++) Z[ve] = j.create();
                    })();
                    var ae = (x.SHA3 = V.extend({
                      cfg: V.cfg.extend({
                        outputLength: 512,
                      }),
                      _doReset: function () {
                        for (var ie = (this._state = []), oe = 0; oe < 25; oe++)
                          ie[oe] = new j.init();
                        this.blockSize =
                          (1600 - 2 * this.cfg.outputLength) / 32;
                      },
                      _doProcessBlock: function (ie, oe) {
                        for (
                          var se = this._state, he = this.blockSize / 2, pe = 0;
                          pe < he;
                          pe++
                        ) {
                          var ge = ie[oe + 2 * pe],
                            be = ie[oe + 2 * pe + 1];
                          (ge =
                            (16711935 & ((ge << 8) | (ge >>> 24))) |
                            (4278255360 & ((ge << 24) | (ge >>> 8)))),
                            (be =
                              (16711935 & ((be << 8) | (be >>> 24))) |
                              (4278255360 & ((be << 24) | (be >>> 8)))),
                            ((He = se[pe]).high ^= be),
                            (He.low ^= ge);
                        }
                        for (var xe = 0; xe < 24; xe++) {
                          for (var Ce = 0; Ce < 5; Ce++) {
                            for (var Pe = 0, _e = 0, Se = 0; Se < 5; Se++)
                              (Pe ^= (He = se[Ce + 5 * Se]).high),
                                (_e ^= He.low);
                            var je = Z[Ce];
                            (je.high = Pe), (je.low = _e);
                          }
                          for (Ce = 0; Ce < 5; Ce++) {
                            var Ze = Z[(Ce + 4) % 5],
                              Fe = Z[(Ce + 1) % 5],
                              ot = Fe.high,
                              ht = Fe.low;
                            for (
                              Pe = Ze.high ^ ((ot << 1) | (ht >>> 31)),
                                _e = Ze.low ^ ((ht << 1) | (ot >>> 31)),
                                Se = 0;
                              Se < 5;
                              Se++
                            )
                              ((He = se[Ce + 5 * Se]).high ^= Pe),
                                (He.low ^= _e);
                          }
                          for (var Ct = 1; Ct < 25; Ct++) {
                            var gt = (He = se[Ct]).high,
                              Xt = He.low,
                              Wt = K[Ct];
                            Wt < 32
                              ? ((Pe = (gt << Wt) | (Xt >>> (32 - Wt))),
                                (_e = (Xt << Wt) | (gt >>> (32 - Wt))))
                              : ((Pe = (Xt << (Wt - 32)) | (gt >>> (64 - Wt))),
                                (_e = (gt << (Wt - 32)) | (Xt >>> (64 - Wt))));
                            var kn = Z[ne[Ct]];
                            (kn.high = Pe), (kn.low = _e);
                          }
                          var ze = Z[0],
                            $e = se[0];
                          for (
                            ze.high = $e.high, ze.low = $e.low, Ce = 0;
                            Ce < 5;
                            Ce++
                          )
                            for (Se = 0; Se < 5; Se++) {
                              var He = se[(Ct = Ce + 5 * Se)],
                                qe = Z[Ct],
                                Dn = Z[((Ce + 1) % 5) + 5 * Se],
                                ei = Z[((Ce + 2) % 5) + 5 * Se];
                              (He.high = qe.high ^ (~Dn.high & ei.high)),
                                (He.low = qe.low ^ (~Dn.low & ei.low));
                            }
                          He = se[0];
                          var jr = Y[xe];
                          (He.high ^= jr.high), (He.low ^= jr.low);
                        }
                      },
                      _doFinalize: function () {
                        var ie = this._data,
                          oe = ie.words,
                          se = (this._nDataBytes, 8 * ie.sigBytes),
                          he = 32 * this.blockSize;
                        (oe[se >>> 5] |= 1 << (24 - (se % 32))),
                          (oe[((y.ceil((se + 1) / he) * he) >>> 5) - 1] |= 128),
                          (ie.sigBytes = 4 * oe.length),
                          this._process();
                        for (
                          var pe = this._state,
                            ge = this.cfg.outputLength / 8,
                            be = ge / 8,
                            xe = [],
                            Ce = 0;
                          Ce < be;
                          Ce++
                        ) {
                          var Pe = pe[Ce],
                            _e = Pe.high,
                            Se = Pe.low;
                          (_e =
                            (16711935 & ((_e << 8) | (_e >>> 24))) |
                            (4278255360 & ((_e << 24) | (_e >>> 8)))),
                            (Se =
                              (16711935 & ((Se << 8) | (Se >>> 24))) |
                              (4278255360 & ((Se << 24) | (Se >>> 8)))),
                            xe.push(Se),
                            xe.push(_e);
                        }
                        return new P.init(xe, ge);
                      },
                      clone: function () {
                        for (
                          var ie = V.clone.call(this),
                            oe = (ie._state = this._state.slice(0)),
                            se = 0;
                          se < 25;
                          se++
                        )
                          oe[se] = oe[se].clone();
                        return ie;
                      },
                    }));
                    (w.SHA3 = V._createHelper(ae)),
                      (w.HmacSHA3 = V._createHmacHelper(ae));
                  })(Math),
                  d.SHA3);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  ((d = Qe),
                  (function (y) {
                    var w = d,
                      k = w.lib,
                      P = k.WordArray,
                      V = k.Hasher,
                      j = w.algo,
                      x = P.create([
                        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7,
                        4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3,
                        10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9,
                        11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5,
                        9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13,
                      ]),
                      K = P.create([
                        5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6,
                        11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15,
                        5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6,
                        4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15,
                        10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11,
                      ]),
                      ne = P.create([
                        11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8,
                        7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12,
                        11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5,
                        11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12,
                        9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6,
                      ]),
                      Y = P.create([
                        8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6,
                        9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11,
                        9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5,
                        15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8,
                        8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11,
                      ]),
                      Z = P.create([
                        0, 1518500249, 1859775393, 2400959708, 2840853838,
                      ]),
                      ae = P.create([
                        1352829926, 1548603684, 1836072691, 2053994217, 0,
                      ]),
                      ve = (j.RIPEMD160 = V.extend({
                        _doReset: function () {
                          this._hash = P.create([
                            1732584193, 4023233417, 2562383102, 271733878,
                            3285377520,
                          ]);
                        },
                        _doProcessBlock: function (xe, Ce) {
                          for (var Pe = 0; Pe < 16; Pe++) {
                            var _e = Ce + Pe,
                              Se = xe[_e];
                            xe[_e] =
                              (16711935 & ((Se << 8) | (Se >>> 24))) |
                              (4278255360 & ((Se << 24) | (Se >>> 8)));
                          }
                          var je,
                            Ze,
                            Fe,
                            ot,
                            ht,
                            Ct,
                            gt,
                            Xt,
                            Wt,
                            kn,
                            ze,
                            $e = this._hash.words,
                            He = Z.words,
                            qe = ae.words,
                            Dn = x.words,
                            ei = K.words,
                            jr = ne.words,
                            ia = Y.words;
                          for (
                            Ct = je = $e[0],
                              gt = Ze = $e[1],
                              Xt = Fe = $e[2],
                              Wt = ot = $e[3],
                              kn = ht = $e[4],
                              Pe = 0;
                            Pe < 80;
                            Pe += 1
                          )
                            (ze = (je + xe[Ce + Dn[Pe]]) | 0),
                              (ze +=
                                Pe < 16
                                  ? ie(Ze, Fe, ot) + He[0]
                                  : Pe < 32
                                  ? oe(Ze, Fe, ot) + He[1]
                                  : Pe < 48
                                  ? se(Ze, Fe, ot) + He[2]
                                  : Pe < 64
                                  ? he(Ze, Fe, ot) + He[3]
                                  : pe(Ze, Fe, ot) + He[4]),
                              (ze = ((ze = ge((ze |= 0), jr[Pe])) + ht) | 0),
                              (je = ht),
                              (ht = ot),
                              (ot = ge(Fe, 10)),
                              (Fe = Ze),
                              (Ze = ze),
                              (ze = (Ct + xe[Ce + ei[Pe]]) | 0),
                              (ze +=
                                Pe < 16
                                  ? pe(gt, Xt, Wt) + qe[0]
                                  : Pe < 32
                                  ? he(gt, Xt, Wt) + qe[1]
                                  : Pe < 48
                                  ? se(gt, Xt, Wt) + qe[2]
                                  : Pe < 64
                                  ? oe(gt, Xt, Wt) + qe[3]
                                  : ie(gt, Xt, Wt) + qe[4]),
                              (ze = ((ze = ge((ze |= 0), ia[Pe])) + kn) | 0),
                              (Ct = kn),
                              (kn = Wt),
                              (Wt = ge(Xt, 10)),
                              (Xt = gt),
                              (gt = ze);
                          (ze = ($e[1] + Fe + Wt) | 0),
                            ($e[1] = ($e[2] + ot + kn) | 0),
                            ($e[2] = ($e[3] + ht + Ct) | 0),
                            ($e[3] = ($e[4] + je + gt) | 0),
                            ($e[4] = ($e[0] + Ze + Xt) | 0),
                            ($e[0] = ze);
                        },
                        _doFinalize: function () {
                          var xe = this._data,
                            Ce = xe.words,
                            Pe = 8 * this._nDataBytes,
                            _e = 8 * xe.sigBytes;
                          (Ce[_e >>> 5] |= 128 << (24 - (_e % 32))),
                            (Ce[14 + (((_e + 64) >>> 9) << 4)] =
                              (16711935 & ((Pe << 8) | (Pe >>> 24))) |
                              (4278255360 & ((Pe << 24) | (Pe >>> 8)))),
                            (xe.sigBytes = 4 * (Ce.length + 1)),
                            this._process();
                          for (
                            var Se = this._hash, je = Se.words, Ze = 0;
                            Ze < 5;
                            Ze++
                          ) {
                            var Fe = je[Ze];
                            je[Ze] =
                              (16711935 & ((Fe << 8) | (Fe >>> 24))) |
                              (4278255360 & ((Fe << 24) | (Fe >>> 8)));
                          }
                          return Se;
                        },
                        clone: function () {
                          var xe = V.clone.call(this);
                          return (xe._hash = this._hash.clone()), xe;
                        },
                      }));
                    function ie(be, xe, Ce) {
                      return be ^ xe ^ Ce;
                    }
                    function oe(be, xe, Ce) {
                      return (be & xe) | (~be & Ce);
                    }
                    function se(be, xe, Ce) {
                      return (be | ~xe) ^ Ce;
                    }
                    function he(be, xe, Ce) {
                      return (be & Ce) | (xe & ~Ce);
                    }
                    function pe(be, xe, Ce) {
                      return be ^ (xe | ~Ce);
                    }
                    function ge(be, xe) {
                      return (be << xe) | (be >>> (32 - xe));
                    }
                    (w.RIPEMD160 = V._createHelper(ve)),
                      (w.HmacRIPEMD160 = V._createHmacHelper(ve));
                  })(),
                  d.RIPEMD160);
              }),
              zt(function (t, f) {
                var d, y, w, k, P, V;
                t.exports =
                  ((y = (d = Qe).lib),
                  (w = y.Base),
                  (k = d.enc),
                  (P = k.Utf8),
                  (V = d.algo),
                  void (V.HMAC = w.extend({
                    init: function (x, K) {
                      (x = this._hasher = new x.init()),
                        typeof K == "string" && (K = P.parse(K));
                      var ne = x.blockSize,
                        Y = 4 * ne;
                      K.sigBytes > Y && (K = x.finalize(K)), K.clamp();
                      for (
                        var Z = (this._oKey = K.clone()),
                          ae = (this._iKey = K.clone()),
                          ve = Z.words,
                          ie = ae.words,
                          oe = 0;
                        oe < ne;
                        oe++
                      )
                        (ve[oe] ^= 1549556828), (ie[oe] ^= 909522486);
                      (Z.sigBytes = ae.sigBytes = Y), this.reset();
                    },
                    reset: function () {
                      var x = this._hasher;
                      x.reset(), x.update(this._iKey);
                    },
                    update: function (x) {
                      return this._hasher.update(x), this;
                    },
                    finalize: function (x) {
                      var K = this._hasher,
                        ne = K.finalize(x);
                      K.reset();
                      var Y = K.finalize(this._oKey.clone().concat(ne));
                      return Y;
                    },
                  })));
              }),
              zt(function (t, f) {
                var d, y, w, k, P, V, j, x, K;
                t.exports =
                  ((w = (y = d = Qe).lib),
                  (k = w.Base),
                  (P = w.WordArray),
                  (V = y.algo),
                  (j = V.SHA1),
                  (x = V.HMAC),
                  (K = V.PBKDF2 =
                    k.extend({
                      cfg: k.extend({
                        keySize: 4,
                        hasher: j,
                        iterations: 1,
                      }),
                      init: function (Y) {
                        this.cfg = this.cfg.extend(Y);
                      },
                      compute: function (Y, Z) {
                        for (
                          var ae = this.cfg,
                            ve = x.create(ae.hasher, Y),
                            ie = P.create(),
                            oe = P.create([1]),
                            se = ie.words,
                            he = oe.words,
                            pe = ae.keySize,
                            ge = ae.iterations;
                          se.length < pe;

                        ) {
                          var be = ve.update(Z).finalize(oe);
                          ve.reset();
                          for (
                            var xe = be.words, Ce = xe.length, Pe = be, _e = 1;
                            _e < ge;
                            _e++
                          ) {
                            (Pe = ve.finalize(Pe)), ve.reset();
                            for (var Se = Pe.words, je = 0; je < Ce; je++)
                              xe[je] ^= Se[je];
                          }
                          ie.concat(be), he[0]++;
                        }
                        return (ie.sigBytes = 4 * pe), ie;
                      },
                    })),
                  (y.PBKDF2 = function (ne, Y, Z) {
                    return K.create(Z).compute(ne, Y);
                  }),
                  d.PBKDF2);
              }),
              zt(function (t, f) {
                var d, y, w, k, P, V, j, x;
                t.exports =
                  ((w = (y = d = Qe).lib),
                  (k = w.Base),
                  (P = w.WordArray),
                  (V = y.algo),
                  (j = V.MD5),
                  (x = V.EvpKDF =
                    k.extend({
                      cfg: k.extend({
                        keySize: 4,
                        hasher: j,
                        iterations: 1,
                      }),
                      init: function (ne) {
                        this.cfg = this.cfg.extend(ne);
                      },
                      compute: function (ne, Y) {
                        for (
                          var Z = this.cfg,
                            ae = Z.hasher.create(),
                            ve = P.create(),
                            ie = ve.words,
                            oe = Z.keySize,
                            se = Z.iterations;
                          ie.length < oe;

                        ) {
                          he && ae.update(he);
                          var he = ae.update(ne).finalize(Y);
                          ae.reset();
                          for (var pe = 1; pe < se; pe++)
                            (he = ae.finalize(he)), ae.reset();
                          ve.concat(he);
                        }
                        return (ve.sigBytes = 4 * oe), ve;
                      },
                    })),
                  (y.EvpKDF = function (K, ne, Y) {
                    return x.create(Y).compute(K, ne);
                  }),
                  d.EvpKDF);
              }),
              zt(function (t, f) {
                var d,
                  y,
                  w,
                  k,
                  P,
                  V,
                  j,
                  x,
                  K,
                  ne,
                  Y,
                  Z,
                  ae,
                  ve,
                  ie,
                  oe,
                  se,
                  he,
                  pe,
                  ge,
                  be,
                  xe,
                  Ce,
                  Pe;
                t.exports = void (
                  (d = Qe).lib.Cipher ||
                  ((w = d),
                  (k = w.lib),
                  (P = k.Base),
                  (V = k.WordArray),
                  (j = k.BufferedBlockAlgorithm),
                  (x = w.enc),
                  x.Utf8,
                  (K = x.Base64),
                  (ne = w.algo),
                  (Y = ne.EvpKDF),
                  (Z = k.Cipher =
                    j.extend({
                      cfg: P.extend(),
                      createEncryptor: function (Se, je) {
                        return this.create(this._ENC_XFORM_MODE, Se, je);
                      },
                      createDecryptor: function (Se, je) {
                        return this.create(this._DEC_XFORM_MODE, Se, je);
                      },
                      init: function (Se, je, Ze) {
                        (this.cfg = this.cfg.extend(Ze)),
                          (this._xformMode = Se),
                          (this._key = je),
                          this.reset();
                      },
                      reset: function () {
                        j.reset.call(this), this._doReset();
                      },
                      process: function (Se) {
                        return this._append(Se), this._process();
                      },
                      finalize: function (Se) {
                        Se && this._append(Se);
                        var je = this._doFinalize();
                        return je;
                      },
                      keySize: 4,
                      ivSize: 4,
                      _ENC_XFORM_MODE: 1,
                      _DEC_XFORM_MODE: 2,
                      _createHelper: (function () {
                        function _e(Se) {
                          return typeof Se == "string" ? Pe : be;
                        }
                        return function (Se) {
                          return {
                            encrypt: function (Ze, Fe, ot) {
                              return _e(Fe).encrypt(Se, Ze, Fe, ot);
                            },
                            decrypt: function (Ze, Fe, ot) {
                              return _e(Fe).decrypt(Se, Ze, Fe, ot);
                            },
                          };
                        };
                      })(),
                    })),
                  (k.StreamCipher = Z.extend({
                    _doFinalize: function () {
                      var Se = this._process(!0);
                      return Se;
                    },
                    blockSize: 1,
                  })),
                  (ae = w.mode = {}),
                  (ve = k.BlockCipherMode =
                    P.extend({
                      createEncryptor: function (Se, je) {
                        return this.Encryptor.create(Se, je);
                      },
                      createDecryptor: function (Se, je) {
                        return this.Decryptor.create(Se, je);
                      },
                      init: function (Se, je) {
                        (this._cipher = Se), (this._iv = je);
                      },
                    })),
                  (ie = ae.CBC =
                    (function () {
                      var _e = ve.extend();
                      function Se(je, Ze, Fe) {
                        var ot = this._iv;
                        if (ot) {
                          var ht = ot;
                          this._iv = y;
                        } else var ht = this._prevBlock;
                        for (var Ct = 0; Ct < Fe; Ct++) je[Ze + Ct] ^= ht[Ct];
                      }
                      return (
                        (_e.Encryptor = _e.extend({
                          processBlock: function (Ze, Fe) {
                            var ot = this._cipher,
                              ht = ot.blockSize;
                            Se.call(this, Ze, Fe, ht),
                              ot.encryptBlock(Ze, Fe),
                              (this._prevBlock = Ze.slice(Fe, Fe + ht));
                          },
                        })),
                        (_e.Decryptor = _e.extend({
                          processBlock: function (Ze, Fe) {
                            var ot = this._cipher,
                              ht = ot.blockSize,
                              Ct = Ze.slice(Fe, Fe + ht);
                            ot.decryptBlock(Ze, Fe),
                              Se.call(this, Ze, Fe, ht),
                              (this._prevBlock = Ct);
                          },
                        })),
                        _e
                      );
                    })()),
                  (oe = w.pad = {}),
                  (se = oe.Pkcs7 =
                    {
                      pad: function (Se, je) {
                        for (
                          var Ze = 4 * je,
                            Fe = Ze - (Se.sigBytes % Ze),
                            ot = (Fe << 24) | (Fe << 16) | (Fe << 8) | Fe,
                            ht = [],
                            Ct = 0;
                          Ct < Fe;
                          Ct += 4
                        )
                          ht.push(ot);
                        var gt = V.create(ht, Fe);
                        Se.concat(gt);
                      },
                      unpad: function (Se) {
                        var je = 255 & Se.words[(Se.sigBytes - 1) >>> 2];
                        Se.sigBytes -= je;
                      },
                    }),
                  (k.BlockCipher = Z.extend({
                    cfg: Z.cfg.extend({
                      mode: ie,
                      padding: se,
                    }),
                    reset: function () {
                      Z.reset.call(this);
                      var Se = this.cfg,
                        je = Se.iv,
                        Ze = Se.mode;
                      if (this._xformMode == this._ENC_XFORM_MODE)
                        var Fe = Ze.createEncryptor;
                      else {
                        var Fe = Ze.createDecryptor;
                        this._minBufferSize = 1;
                      }
                      this._mode && this._mode.__creator == Fe
                        ? this._mode.init(this, je && je.words)
                        : ((this._mode = Fe.call(Ze, this, je && je.words)),
                          (this._mode.__creator = Fe));
                    },
                    _doProcessBlock: function (Se, je) {
                      this._mode.processBlock(Se, je);
                    },
                    _doFinalize: function () {
                      var Se = this.cfg.padding;
                      if (this._xformMode == this._ENC_XFORM_MODE) {
                        Se.pad(this._data, this.blockSize);
                        var je = this._process(!0);
                      } else {
                        var je = this._process(!0);
                        Se.unpad(je);
                      }
                      return je;
                    },
                    blockSize: 4,
                  })),
                  (he = k.CipherParams =
                    P.extend({
                      init: function (Se) {
                        this.mixIn(Se);
                      },
                      toString: function (Se) {
                        return (Se || this.formatter).stringify(this);
                      },
                    })),
                  (pe = w.format = {}),
                  (ge = pe.OpenSSL =
                    {
                      stringify: function (Se) {
                        var je = Se.ciphertext,
                          Ze = Se.salt;
                        if (Ze)
                          var Fe = V.create([1398893684, 1701076831])
                            .concat(Ze)
                            .concat(je);
                        else var Fe = je;
                        return Fe.toString(K);
                      },
                      parse: function (Se) {
                        var je = K.parse(Se),
                          Ze = je.words;
                        if (Ze[0] == 1398893684 && Ze[1] == 1701076831) {
                          var Fe = V.create(Ze.slice(2, 4));
                          Ze.splice(0, 4), (je.sigBytes -= 16);
                        }
                        return he.create({
                          ciphertext: je,
                          salt: Fe,
                        });
                      },
                    }),
                  (be = k.SerializableCipher =
                    P.extend({
                      cfg: P.extend({
                        format: ge,
                      }),
                      encrypt: function (Se, je, Ze, Fe) {
                        Fe = this.cfg.extend(Fe);
                        var ot = Se.createEncryptor(Ze, Fe),
                          ht = ot.finalize(je),
                          Ct = ot.cfg;
                        return he.create({
                          ciphertext: ht,
                          key: Ze,
                          iv: Ct.iv,
                          algorithm: Se,
                          mode: Ct.mode,
                          padding: Ct.padding,
                          blockSize: Se.blockSize,
                          formatter: Fe.format,
                        });
                      },
                      decrypt: function (Se, je, Ze, Fe) {
                        (Fe = this.cfg.extend(Fe)),
                          (je = this._parse(je, Fe.format));
                        var ot = Se.createDecryptor(Ze, Fe).finalize(
                          je.ciphertext
                        );
                        return ot;
                      },
                      _parse: function (Se, je) {
                        return typeof Se == "string" ? je.parse(Se, this) : Se;
                      },
                    })),
                  (xe = w.kdf = {}),
                  (Ce = xe.OpenSSL =
                    {
                      execute: function (Se, je, Ze, Fe) {
                        Fe || (Fe = V.random(8));
                        var ot = Y.create({
                            keySize: je + Ze,
                          }).compute(Se, Fe),
                          ht = V.create(ot.words.slice(je), 4 * Ze);
                        return (
                          (ot.sigBytes = 4 * je),
                          he.create({
                            key: ot,
                            iv: ht,
                            salt: Fe,
                          })
                        );
                      },
                    }),
                  (Pe = k.PasswordBasedCipher =
                    be.extend({
                      cfg: be.cfg.extend({
                        kdf: Ce,
                      }),
                      encrypt: function (Se, je, Ze, Fe) {
                        var ot = (Fe = this.cfg.extend(Fe)).kdf.execute(
                          Ze,
                          Se.keySize,
                          Se.ivSize
                        );
                        Fe.iv = ot.iv;
                        var ht = be.encrypt.call(this, Se, je, ot.key, Fe);
                        return ht.mixIn(ot), ht;
                      },
                      decrypt: function (Se, je, Ze, Fe) {
                        (Fe = this.cfg.extend(Fe)),
                          (je = this._parse(je, Fe.format));
                        var ot = Fe.kdf.execute(
                          Ze,
                          Se.keySize,
                          Se.ivSize,
                          je.salt
                        );
                        Fe.iv = ot.iv;
                        var ht = be.decrypt.call(this, Se, je, ot.key, Fe);
                        return ht;
                      },
                    })))
                );
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  (((d = Qe).mode.CFB = (function () {
                    var y = d.lib.BlockCipherMode.extend();
                    function w(k, P, V, j) {
                      var x = this._iv;
                      if (x) {
                        var K = x.slice(0);
                        this._iv = void 0;
                      } else K = this._prevBlock;
                      j.encryptBlock(K, 0);
                      for (var ne = 0; ne < V; ne++) k[P + ne] ^= K[ne];
                    }
                    return (
                      (y.Encryptor = y.extend({
                        processBlock: function (P, V) {
                          var j = this._cipher,
                            x = j.blockSize;
                          w.call(this, P, V, x, j),
                            (this._prevBlock = P.slice(V, V + x));
                        },
                      })),
                      (y.Decryptor = y.extend({
                        processBlock: function (P, V) {
                          var j = this._cipher,
                            x = j.blockSize,
                            K = P.slice(V, V + x);
                          w.call(this, P, V, x, j), (this._prevBlock = K);
                        },
                      })),
                      y
                    );
                  })()),
                  d.mode.CFB);
              }),
              zt(function (t, f) {
                var d, y, w;
                t.exports =
                  (((d = Qe).mode.CTR =
                    ((y = d.lib.BlockCipherMode.extend()),
                    (w = y.Encryptor =
                      y.extend({
                        processBlock: function (P, V) {
                          var j = this._cipher,
                            x = j.blockSize,
                            K = this._iv,
                            ne = this._counter;
                          K &&
                            ((ne = this._counter = K.slice(0)),
                            (this._iv = void 0));
                          var Y = ne.slice(0);
                          j.encryptBlock(Y, 0),
                            (ne[x - 1] = (ne[x - 1] + 1) | 0);
                          for (var Z = 0; Z < x; Z++) P[V + Z] ^= Y[Z];
                        },
                      })),
                    (y.Decryptor = w),
                    y)),
                  d.mode.CTR);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  (((d = Qe).mode.CTRGladman = (function () {
                    var y = d.lib.BlockCipherMode.extend();
                    function w(P) {
                      if (((P >> 24) & 255) == 255) {
                        var V = (P >> 16) & 255,
                          j = (P >> 8) & 255,
                          x = 255 & P;
                        V === 255
                          ? ((V = 0),
                            j === 255
                              ? ((j = 0), x === 255 ? (x = 0) : ++x)
                              : ++j)
                          : ++V,
                          (P = 0),
                          (P += V << 16),
                          (P += j << 8),
                          (P += x);
                      } else P += 1 << 24;
                      return P;
                    }
                    var k = (y.Encryptor = y.extend({
                      processBlock: function (V, j) {
                        var x = this._cipher,
                          K = x.blockSize,
                          ne = this._iv,
                          Y = this._counter;
                        ne &&
                          ((Y = this._counter = ne.slice(0)),
                          (this._iv = void 0)),
                          (function (ve) {
                            (ve[0] = w(ve[0])) === 0 && (ve[1] = w(ve[1]));
                          })(Y);
                        var Z = Y.slice(0);
                        x.encryptBlock(Z, 0);
                        for (var ae = 0; ae < K; ae++) V[j + ae] ^= Z[ae];
                      },
                    }));
                    return (y.Decryptor = k), y;
                  })()),
                  d.mode.CTRGladman);
              }),
              zt(function (t, f) {
                var d, y, w;
                t.exports =
                  (((d = Qe).mode.OFB =
                    ((y = d.lib.BlockCipherMode.extend()),
                    (w = y.Encryptor =
                      y.extend({
                        processBlock: function (P, V) {
                          var j = this._cipher,
                            x = j.blockSize,
                            K = this._iv,
                            ne = this._keystream;
                          K &&
                            ((ne = this._keystream = K.slice(0)),
                            (this._iv = void 0)),
                            j.encryptBlock(ne, 0);
                          for (var Y = 0; Y < x; Y++) P[V + Y] ^= ne[Y];
                        },
                      })),
                    (y.Decryptor = w),
                    y)),
                  d.mode.OFB);
              }),
              zt(function (t, f) {
                var d, y;
                t.exports =
                  (((d = Qe).mode.ECB =
                    (((y = d.lib.BlockCipherMode.extend()).Encryptor = y.extend(
                      {
                        processBlock: function (k, P) {
                          this._cipher.encryptBlock(k, P);
                        },
                      }
                    )),
                    (y.Decryptor = y.extend({
                      processBlock: function (k, P) {
                        this._cipher.decryptBlock(k, P);
                      },
                    })),
                    y)),
                  d.mode.ECB);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  (((d = Qe).pad.AnsiX923 = {
                    pad: function (w, k) {
                      var P = w.sigBytes,
                        V = 4 * k,
                        j = V - (P % V),
                        x = P + j - 1;
                      w.clamp(),
                        (w.words[x >>> 2] |= j << (24 - (x % 4) * 8)),
                        (w.sigBytes += j);
                    },
                    unpad: function (w) {
                      var k = 255 & w.words[(w.sigBytes - 1) >>> 2];
                      w.sigBytes -= k;
                    },
                  }),
                  d.pad.Ansix923);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  (((d = Qe).pad.Iso10126 = {
                    pad: function (w, k) {
                      var P = 4 * k,
                        V = P - (w.sigBytes % P);
                      w.concat(d.lib.WordArray.random(V - 1)).concat(
                        d.lib.WordArray.create([V << 24], 1)
                      );
                    },
                    unpad: function (w) {
                      var k = 255 & w.words[(w.sigBytes - 1) >>> 2];
                      w.sigBytes -= k;
                    },
                  }),
                  d.pad.Iso10126);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  (((d = Qe).pad.Iso97971 = {
                    pad: function (w, k) {
                      w.concat(d.lib.WordArray.create([2147483648], 1)),
                        d.pad.ZeroPadding.pad(w, k);
                    },
                    unpad: function (w) {
                      d.pad.ZeroPadding.unpad(w), w.sigBytes--;
                    },
                  }),
                  d.pad.Iso97971);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  (((d = Qe).pad.ZeroPadding = {
                    pad: function (w, k) {
                      var P = 4 * k;
                      w.clamp(), (w.sigBytes += P - (w.sigBytes % P || P));
                    },
                    unpad: function (w) {
                      for (
                        var k = w.words, P = w.sigBytes - 1;
                        !((k[P >>> 2] >>> (24 - (P % 4) * 8)) & 255);

                      )
                        P--;
                      w.sigBytes = P + 1;
                    },
                  }),
                  d.pad.ZeroPadding);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  (((d = Qe).pad.NoPadding = {
                    pad: function () {},
                    unpad: function () {},
                  }),
                  d.pad.NoPadding);
              }),
              zt(function (t, f) {
                var d, y, w, k;
                t.exports =
                  ((w = (y = d = Qe).lib.CipherParams),
                  (k = y.enc.Hex),
                  (y.format.Hex = {
                    stringify: function (V) {
                      return V.ciphertext.toString(k);
                    },
                    parse: function (V) {
                      var j = k.parse(V);
                      return w.create({
                        ciphertext: j,
                      });
                    },
                  }),
                  d.format.Hex);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  ((d = Qe),
                  (function () {
                    var y = d,
                      w = y.lib.BlockCipher,
                      k = y.algo,
                      P = [],
                      V = [],
                      j = [],
                      x = [],
                      K = [],
                      ne = [],
                      Y = [],
                      Z = [],
                      ae = [],
                      ve = [];
                    (function () {
                      for (var se = [], he = 0; he < 256; he++)
                        se[he] = he < 128 ? he << 1 : (he << 1) ^ 283;
                      var pe = 0,
                        ge = 0;
                      for (he = 0; he < 256; he++) {
                        var be =
                          ge ^ (ge << 1) ^ (ge << 2) ^ (ge << 3) ^ (ge << 4);
                        (be = (be >>> 8) ^ (255 & be) ^ 99),
                          (P[pe] = be),
                          (V[be] = pe);
                        var xe = se[pe],
                          Ce = se[xe],
                          Pe = se[Ce],
                          _e = (257 * se[be]) ^ (16843008 * be);
                        (j[pe] = (_e << 24) | (_e >>> 8)),
                          (x[pe] = (_e << 16) | (_e >>> 16)),
                          (K[pe] = (_e << 8) | (_e >>> 24)),
                          (ne[pe] = _e),
                          (_e =
                            (16843009 * Pe) ^
                            (65537 * Ce) ^
                            (257 * xe) ^
                            (16843008 * pe)),
                          (Y[be] = (_e << 24) | (_e >>> 8)),
                          (Z[be] = (_e << 16) | (_e >>> 16)),
                          (ae[be] = (_e << 8) | (_e >>> 24)),
                          (ve[be] = _e),
                          pe
                            ? ((pe = xe ^ se[se[se[Pe ^ xe]]]),
                              (ge ^= se[se[ge]]))
                            : (pe = ge = 1);
                      }
                    })();
                    var ie = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54],
                      oe = (k.AES = w.extend({
                        _doReset: function () {
                          if (
                            !this._nRounds ||
                            this._keyPriorReset !== this._key
                          ) {
                            for (
                              var he = (this._keyPriorReset = this._key),
                                pe = he.words,
                                ge = he.sigBytes / 4,
                                be = 4 * ((this._nRounds = ge + 6) + 1),
                                xe = (this._keySchedule = []),
                                Ce = 0;
                              Ce < be;
                              Ce++
                            )
                              if (Ce < ge) xe[Ce] = pe[Ce];
                              else {
                                var Pe = xe[Ce - 1];
                                Ce % ge
                                  ? ge > 6 &&
                                    Ce % ge == 4 &&
                                    (Pe =
                                      (P[Pe >>> 24] << 24) |
                                      (P[(Pe >>> 16) & 255] << 16) |
                                      (P[(Pe >>> 8) & 255] << 8) |
                                      P[255 & Pe])
                                  : ((Pe =
                                      (P[
                                        (Pe = (Pe << 8) | (Pe >>> 24)) >>> 24
                                      ] <<
                                        24) |
                                      (P[(Pe >>> 16) & 255] << 16) |
                                      (P[(Pe >>> 8) & 255] << 8) |
                                      P[255 & Pe]),
                                    (Pe ^= ie[(Ce / ge) | 0] << 24)),
                                  (xe[Ce] = xe[Ce - ge] ^ Pe);
                              }
                            for (
                              var _e = (this._invKeySchedule = []), Se = 0;
                              Se < be;
                              Se++
                            )
                              (Ce = be - Se),
                                (Pe = Se % 4 ? xe[Ce] : xe[Ce - 4]),
                                (_e[Se] =
                                  Se < 4 || Ce <= 4
                                    ? Pe
                                    : Y[P[Pe >>> 24]] ^
                                      Z[P[(Pe >>> 16) & 255]] ^
                                      ae[P[(Pe >>> 8) & 255]] ^
                                      ve[P[255 & Pe]]);
                          }
                        },
                        encryptBlock: function (he, pe) {
                          this._doCryptBlock(
                            he,
                            pe,
                            this._keySchedule,
                            j,
                            x,
                            K,
                            ne,
                            P
                          );
                        },
                        decryptBlock: function (he, pe) {
                          var ge = he[pe + 1];
                          (he[pe + 1] = he[pe + 3]),
                            (he[pe + 3] = ge),
                            this._doCryptBlock(
                              he,
                              pe,
                              this._invKeySchedule,
                              Y,
                              Z,
                              ae,
                              ve,
                              V
                            ),
                            (ge = he[pe + 1]),
                            (he[pe + 1] = he[pe + 3]),
                            (he[pe + 3] = ge);
                        },
                        _doCryptBlock: function (
                          he,
                          pe,
                          ge,
                          be,
                          xe,
                          Ce,
                          Pe,
                          _e
                        ) {
                          for (
                            var Se = this._nRounds,
                              je = he[pe] ^ ge[0],
                              Ze = he[pe + 1] ^ ge[1],
                              Fe = he[pe + 2] ^ ge[2],
                              ot = he[pe + 3] ^ ge[3],
                              ht = 4,
                              Ct = 1;
                            Ct < Se;
                            Ct++
                          ) {
                            var gt =
                                be[je >>> 24] ^
                                xe[(Ze >>> 16) & 255] ^
                                Ce[(Fe >>> 8) & 255] ^
                                Pe[255 & ot] ^
                                ge[ht++],
                              Xt =
                                be[Ze >>> 24] ^
                                xe[(Fe >>> 16) & 255] ^
                                Ce[(ot >>> 8) & 255] ^
                                Pe[255 & je] ^
                                ge[ht++],
                              Wt =
                                be[Fe >>> 24] ^
                                xe[(ot >>> 16) & 255] ^
                                Ce[(je >>> 8) & 255] ^
                                Pe[255 & Ze] ^
                                ge[ht++],
                              kn =
                                be[ot >>> 24] ^
                                xe[(je >>> 16) & 255] ^
                                Ce[(Ze >>> 8) & 255] ^
                                Pe[255 & Fe] ^
                                ge[ht++];
                            (je = gt), (Ze = Xt), (Fe = Wt), (ot = kn);
                          }
                          (gt =
                            ((_e[je >>> 24] << 24) |
                              (_e[(Ze >>> 16) & 255] << 16) |
                              (_e[(Fe >>> 8) & 255] << 8) |
                              _e[255 & ot]) ^
                            ge[ht++]),
                            (Xt =
                              ((_e[Ze >>> 24] << 24) |
                                (_e[(Fe >>> 16) & 255] << 16) |
                                (_e[(ot >>> 8) & 255] << 8) |
                                _e[255 & je]) ^
                              ge[ht++]),
                            (Wt =
                              ((_e[Fe >>> 24] << 24) |
                                (_e[(ot >>> 16) & 255] << 16) |
                                (_e[(je >>> 8) & 255] << 8) |
                                _e[255 & Ze]) ^
                              ge[ht++]),
                            (kn =
                              ((_e[ot >>> 24] << 24) |
                                (_e[(je >>> 16) & 255] << 16) |
                                (_e[(Ze >>> 8) & 255] << 8) |
                                _e[255 & Fe]) ^
                              ge[ht++]),
                            (he[pe] = gt),
                            (he[pe + 1] = Xt),
                            (he[pe + 2] = Wt),
                            (he[pe + 3] = kn);
                        },
                        keySize: 8,
                      }));
                    y.AES = w._createHelper(oe);
                  })(),
                  d.AES);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  ((d = Qe),
                  (function () {
                    var y = d,
                      w = y.lib,
                      k = w.WordArray,
                      P = w.BlockCipher,
                      V = y.algo,
                      j = [
                        57, 49, 41, 33, 25, 17, 9, 1, 58, 50, 42, 34, 26, 18,
                        10, 2, 59, 51, 43, 35, 27, 19, 11, 3, 60, 52, 44, 36,
                        63, 55, 47, 39, 31, 23, 15, 7, 62, 54, 46, 38, 30, 22,
                        14, 6, 61, 53, 45, 37, 29, 21, 13, 5, 28, 20, 12, 4,
                      ],
                      x = [
                        14, 17, 11, 24, 1, 5, 3, 28, 15, 6, 21, 10, 23, 19, 12,
                        4, 26, 8, 16, 7, 27, 20, 13, 2, 41, 52, 31, 37, 47, 55,
                        30, 40, 51, 45, 33, 48, 44, 49, 39, 56, 34, 53, 46, 42,
                        50, 36, 29, 32,
                      ],
                      K = [
                        1, 2, 4, 6, 8, 10, 12, 14, 15, 17, 19, 21, 23, 25, 27,
                        28,
                      ],
                      ne = [
                        {
                          0: 8421888,
                          268435456: 32768,
                          536870912: 8421378,
                          805306368: 2,
                          1073741824: 512,
                          1342177280: 8421890,
                          1610612736: 8389122,
                          1879048192: 8388608,
                          2147483648: 514,
                          2415919104: 8389120,
                          2684354560: 33280,
                          2952790016: 8421376,
                          3221225472: 32770,
                          3489660928: 8388610,
                          3758096384: 0,
                          4026531840: 33282,
                          134217728: 0,
                          402653184: 8421890,
                          671088640: 33282,
                          939524096: 32768,
                          1207959552: 8421888,
                          1476395008: 512,
                          1744830464: 8421378,
                          2013265920: 2,
                          2281701376: 8389120,
                          2550136832: 33280,
                          2818572288: 8421376,
                          3087007744: 8389122,
                          3355443200: 8388610,
                          3623878656: 32770,
                          3892314112: 514,
                          4160749568: 8388608,
                          1: 32768,
                          268435457: 2,
                          536870913: 8421888,
                          805306369: 8388608,
                          1073741825: 8421378,
                          1342177281: 33280,
                          1610612737: 512,
                          1879048193: 8389122,
                          2147483649: 8421890,
                          2415919105: 8421376,
                          2684354561: 8388610,
                          2952790017: 33282,
                          3221225473: 514,
                          3489660929: 8389120,
                          3758096385: 32770,
                          4026531841: 0,
                          134217729: 8421890,
                          402653185: 8421376,
                          671088641: 8388608,
                          939524097: 512,
                          1207959553: 32768,
                          1476395009: 8388610,
                          1744830465: 2,
                          2013265921: 33282,
                          2281701377: 32770,
                          2550136833: 8389122,
                          2818572289: 514,
                          3087007745: 8421888,
                          3355443201: 8389120,
                          3623878657: 0,
                          3892314113: 33280,
                          4160749569: 8421378,
                        },
                        {
                          0: 1074282512,
                          16777216: 16384,
                          33554432: 524288,
                          50331648: 1074266128,
                          67108864: 1073741840,
                          83886080: 1074282496,
                          100663296: 1073758208,
                          117440512: 16,
                          134217728: 540672,
                          150994944: 1073758224,
                          167772160: 1073741824,
                          184549376: 540688,
                          201326592: 524304,
                          218103808: 0,
                          234881024: 16400,
                          251658240: 1074266112,
                          8388608: 1073758208,
                          25165824: 540688,
                          41943040: 16,
                          58720256: 1073758224,
                          75497472: 1074282512,
                          92274688: 1073741824,
                          109051904: 524288,
                          125829120: 1074266128,
                          142606336: 524304,
                          159383552: 0,
                          176160768: 16384,
                          192937984: 1074266112,
                          209715200: 1073741840,
                          226492416: 540672,
                          243269632: 1074282496,
                          260046848: 16400,
                          268435456: 0,
                          285212672: 1074266128,
                          301989888: 1073758224,
                          318767104: 1074282496,
                          335544320: 1074266112,
                          352321536: 16,
                          369098752: 540688,
                          385875968: 16384,
                          402653184: 16400,
                          419430400: 524288,
                          436207616: 524304,
                          452984832: 1073741840,
                          469762048: 540672,
                          486539264: 1073758208,
                          503316480: 1073741824,
                          520093696: 1074282512,
                          276824064: 540688,
                          293601280: 524288,
                          310378496: 1074266112,
                          327155712: 16384,
                          343932928: 1073758208,
                          360710144: 1074282512,
                          377487360: 16,
                          394264576: 1073741824,
                          411041792: 1074282496,
                          427819008: 1073741840,
                          444596224: 1073758224,
                          461373440: 524304,
                          478150656: 0,
                          494927872: 16400,
                          511705088: 1074266128,
                          528482304: 540672,
                        },
                        {
                          0: 260,
                          1048576: 0,
                          2097152: 67109120,
                          3145728: 65796,
                          4194304: 65540,
                          5242880: 67108868,
                          6291456: 67174660,
                          7340032: 67174400,
                          8388608: 67108864,
                          9437184: 67174656,
                          10485760: 65792,
                          11534336: 67174404,
                          12582912: 67109124,
                          13631488: 65536,
                          14680064: 4,
                          15728640: 256,
                          524288: 67174656,
                          1572864: 67174404,
                          2621440: 0,
                          3670016: 67109120,
                          4718592: 67108868,
                          5767168: 65536,
                          6815744: 65540,
                          7864320: 260,
                          8912896: 4,
                          9961472: 256,
                          11010048: 67174400,
                          12058624: 65796,
                          13107200: 65792,
                          14155776: 67109124,
                          15204352: 67174660,
                          16252928: 67108864,
                          16777216: 67174656,
                          17825792: 65540,
                          18874368: 65536,
                          19922944: 67109120,
                          20971520: 256,
                          22020096: 67174660,
                          23068672: 67108868,
                          24117248: 0,
                          25165824: 67109124,
                          26214400: 67108864,
                          27262976: 4,
                          28311552: 65792,
                          29360128: 67174400,
                          30408704: 260,
                          31457280: 65796,
                          32505856: 67174404,
                          17301504: 67108864,
                          18350080: 260,
                          19398656: 67174656,
                          20447232: 0,
                          21495808: 65540,
                          22544384: 67109120,
                          23592960: 256,
                          24641536: 67174404,
                          25690112: 65536,
                          26738688: 67174660,
                          27787264: 65796,
                          28835840: 67108868,
                          29884416: 67109124,
                          30932992: 67174400,
                          31981568: 4,
                          33030144: 65792,
                        },
                        {
                          0: 2151682048,
                          65536: 2147487808,
                          131072: 4198464,
                          196608: 2151677952,
                          262144: 0,
                          327680: 4198400,
                          393216: 2147483712,
                          458752: 4194368,
                          524288: 2147483648,
                          589824: 4194304,
                          655360: 64,
                          720896: 2147487744,
                          786432: 2151678016,
                          851968: 4160,
                          917504: 4096,
                          983040: 2151682112,
                          32768: 2147487808,
                          98304: 64,
                          163840: 2151678016,
                          229376: 2147487744,
                          294912: 4198400,
                          360448: 2151682112,
                          425984: 0,
                          491520: 2151677952,
                          557056: 4096,
                          622592: 2151682048,
                          688128: 4194304,
                          753664: 4160,
                          819200: 2147483648,
                          884736: 4194368,
                          950272: 4198464,
                          1015808: 2147483712,
                          1048576: 4194368,
                          1114112: 4198400,
                          1179648: 2147483712,
                          1245184: 0,
                          1310720: 4160,
                          1376256: 2151678016,
                          1441792: 2151682048,
                          1507328: 2147487808,
                          1572864: 2151682112,
                          1638400: 2147483648,
                          1703936: 2151677952,
                          1769472: 4198464,
                          1835008: 2147487744,
                          1900544: 4194304,
                          1966080: 64,
                          2031616: 4096,
                          1081344: 2151677952,
                          1146880: 2151682112,
                          1212416: 0,
                          1277952: 4198400,
                          1343488: 4194368,
                          1409024: 2147483648,
                          1474560: 2147487808,
                          1540096: 64,
                          1605632: 2147483712,
                          1671168: 4096,
                          1736704: 2147487744,
                          1802240: 2151678016,
                          1867776: 4160,
                          1933312: 2151682048,
                          1998848: 4194304,
                          2064384: 4198464,
                        },
                        {
                          0: 128,
                          4096: 17039360,
                          8192: 262144,
                          12288: 536870912,
                          16384: 537133184,
                          20480: 16777344,
                          24576: 553648256,
                          28672: 262272,
                          32768: 16777216,
                          36864: 537133056,
                          40960: 536871040,
                          45056: 553910400,
                          49152: 553910272,
                          53248: 0,
                          57344: 17039488,
                          61440: 553648128,
                          2048: 17039488,
                          6144: 553648256,
                          10240: 128,
                          14336: 17039360,
                          18432: 262144,
                          22528: 537133184,
                          26624: 553910272,
                          30720: 536870912,
                          34816: 537133056,
                          38912: 0,
                          43008: 553910400,
                          47104: 16777344,
                          51200: 536871040,
                          55296: 553648128,
                          59392: 16777216,
                          63488: 262272,
                          65536: 262144,
                          69632: 128,
                          73728: 536870912,
                          77824: 553648256,
                          81920: 16777344,
                          86016: 553910272,
                          90112: 537133184,
                          94208: 16777216,
                          98304: 553910400,
                          102400: 553648128,
                          106496: 17039360,
                          110592: 537133056,
                          114688: 262272,
                          118784: 536871040,
                          122880: 0,
                          126976: 17039488,
                          67584: 553648256,
                          71680: 16777216,
                          75776: 17039360,
                          79872: 537133184,
                          83968: 536870912,
                          88064: 17039488,
                          92160: 128,
                          96256: 553910272,
                          100352: 262272,
                          104448: 553910400,
                          108544: 0,
                          112640: 553648128,
                          116736: 16777344,
                          120832: 262144,
                          124928: 537133056,
                          129024: 536871040,
                        },
                        {
                          0: 268435464,
                          256: 8192,
                          512: 270532608,
                          768: 270540808,
                          1024: 268443648,
                          1280: 2097152,
                          1536: 2097160,
                          1792: 268435456,
                          2048: 0,
                          2304: 268443656,
                          2560: 2105344,
                          2816: 8,
                          3072: 270532616,
                          3328: 2105352,
                          3584: 8200,
                          3840: 270540800,
                          128: 270532608,
                          384: 270540808,
                          640: 8,
                          896: 2097152,
                          1152: 2105352,
                          1408: 268435464,
                          1664: 268443648,
                          1920: 8200,
                          2176: 2097160,
                          2432: 8192,
                          2688: 268443656,
                          2944: 270532616,
                          3200: 0,
                          3456: 270540800,
                          3712: 2105344,
                          3968: 268435456,
                          4096: 268443648,
                          4352: 270532616,
                          4608: 270540808,
                          4864: 8200,
                          5120: 2097152,
                          5376: 268435456,
                          5632: 268435464,
                          5888: 2105344,
                          6144: 2105352,
                          6400: 0,
                          6656: 8,
                          6912: 270532608,
                          7168: 8192,
                          7424: 268443656,
                          7680: 270540800,
                          7936: 2097160,
                          4224: 8,
                          4480: 2105344,
                          4736: 2097152,
                          4992: 268435464,
                          5248: 268443648,
                          5504: 8200,
                          5760: 270540808,
                          6016: 270532608,
                          6272: 270540800,
                          6528: 270532616,
                          6784: 8192,
                          7040: 2105352,
                          7296: 2097160,
                          7552: 0,
                          7808: 268435456,
                          8064: 268443656,
                        },
                        {
                          0: 1048576,
                          16: 33555457,
                          32: 1024,
                          48: 1049601,
                          64: 34604033,
                          80: 0,
                          96: 1,
                          112: 34603009,
                          128: 33555456,
                          144: 1048577,
                          160: 33554433,
                          176: 34604032,
                          192: 34603008,
                          208: 1025,
                          224: 1049600,
                          240: 33554432,
                          8: 34603009,
                          24: 0,
                          40: 33555457,
                          56: 34604032,
                          72: 1048576,
                          88: 33554433,
                          104: 33554432,
                          120: 1025,
                          136: 1049601,
                          152: 33555456,
                          168: 34603008,
                          184: 1048577,
                          200: 1024,
                          216: 34604033,
                          232: 1,
                          248: 1049600,
                          256: 33554432,
                          272: 1048576,
                          288: 33555457,
                          304: 34603009,
                          320: 1048577,
                          336: 33555456,
                          352: 34604032,
                          368: 1049601,
                          384: 1025,
                          400: 34604033,
                          416: 1049600,
                          432: 1,
                          448: 0,
                          464: 34603008,
                          480: 33554433,
                          496: 1024,
                          264: 1049600,
                          280: 33555457,
                          296: 34603009,
                          312: 1,
                          328: 33554432,
                          344: 1048576,
                          360: 1025,
                          376: 34604032,
                          392: 33554433,
                          408: 34603008,
                          424: 0,
                          440: 34604033,
                          456: 1049601,
                          472: 1024,
                          488: 33555456,
                          504: 1048577,
                        },
                        {
                          0: 134219808,
                          1: 131072,
                          2: 134217728,
                          3: 32,
                          4: 131104,
                          5: 134350880,
                          6: 134350848,
                          7: 2048,
                          8: 134348800,
                          9: 134219776,
                          10: 133120,
                          11: 134348832,
                          12: 2080,
                          13: 0,
                          14: 134217760,
                          15: 133152,
                          2147483648: 2048,
                          2147483649: 134350880,
                          2147483650: 134219808,
                          2147483651: 134217728,
                          2147483652: 134348800,
                          2147483653: 133120,
                          2147483654: 133152,
                          2147483655: 32,
                          2147483656: 134217760,
                          2147483657: 2080,
                          2147483658: 131104,
                          2147483659: 134350848,
                          2147483660: 0,
                          2147483661: 134348832,
                          2147483662: 134219776,
                          2147483663: 131072,
                          16: 133152,
                          17: 134350848,
                          18: 32,
                          19: 2048,
                          20: 134219776,
                          21: 134217760,
                          22: 134348832,
                          23: 131072,
                          24: 0,
                          25: 131104,
                          26: 134348800,
                          27: 134219808,
                          28: 134350880,
                          29: 133120,
                          30: 2080,
                          31: 134217728,
                          2147483664: 131072,
                          2147483665: 2048,
                          2147483666: 134348832,
                          2147483667: 133152,
                          2147483668: 32,
                          2147483669: 134348800,
                          2147483670: 134217728,
                          2147483671: 134219808,
                          2147483672: 134350880,
                          2147483673: 134217760,
                          2147483674: 134219776,
                          2147483675: 0,
                          2147483676: 133120,
                          2147483677: 2080,
                          2147483678: 131104,
                          2147483679: 134350848,
                        },
                      ],
                      Y = [
                        4160749569, 528482304, 33030144, 2064384, 129024, 8064,
                        504, 2147483679,
                      ],
                      Z = (V.DES = P.extend({
                        _doReset: function () {
                          for (
                            var se = this._key.words, he = [], pe = 0;
                            pe < 56;
                            pe++
                          ) {
                            var ge = j[pe] - 1;
                            he[pe] = (se[ge >>> 5] >>> (31 - (ge % 32))) & 1;
                          }
                          for (
                            var be = (this._subKeys = []), xe = 0;
                            xe < 16;
                            xe++
                          ) {
                            var Ce = (be[xe] = []),
                              Pe = K[xe];
                            for (pe = 0; pe < 24; pe++)
                              (Ce[(pe / 6) | 0] |=
                                he[(x[pe] - 1 + Pe) % 28] << (31 - (pe % 6))),
                                (Ce[4 + ((pe / 6) | 0)] |=
                                  he[28 + ((x[pe + 24] - 1 + Pe) % 28)] <<
                                  (31 - (pe % 6)));
                            for (
                              Ce[0] = (Ce[0] << 1) | (Ce[0] >>> 31), pe = 1;
                              pe < 7;
                              pe++
                            )
                              Ce[pe] = Ce[pe] >>> (4 * (pe - 1) + 3);
                            Ce[7] = (Ce[7] << 5) | (Ce[7] >>> 27);
                          }
                          var _e = (this._invSubKeys = []);
                          for (pe = 0; pe < 16; pe++) _e[pe] = be[15 - pe];
                        },
                        encryptBlock: function (se, he) {
                          this._doCryptBlock(se, he, this._subKeys);
                        },
                        decryptBlock: function (se, he) {
                          this._doCryptBlock(se, he, this._invSubKeys);
                        },
                        _doCryptBlock: function (se, he, pe) {
                          (this._lBlock = se[he]),
                            (this._rBlock = se[he + 1]),
                            ae.call(this, 4, 252645135),
                            ae.call(this, 16, 65535),
                            ve.call(this, 2, 858993459),
                            ve.call(this, 8, 16711935),
                            ae.call(this, 1, 1431655765);
                          for (var ge = 0; ge < 16; ge++) {
                            for (
                              var be = pe[ge],
                                xe = this._lBlock,
                                Ce = this._rBlock,
                                Pe = 0,
                                _e = 0;
                              _e < 8;
                              _e++
                            )
                              Pe |= ne[_e][((Ce ^ be[_e]) & Y[_e]) >>> 0];
                            (this._lBlock = Ce), (this._rBlock = xe ^ Pe);
                          }
                          var Se = this._lBlock;
                          (this._lBlock = this._rBlock),
                            (this._rBlock = Se),
                            ae.call(this, 1, 1431655765),
                            ve.call(this, 8, 16711935),
                            ve.call(this, 2, 858993459),
                            ae.call(this, 16, 65535),
                            ae.call(this, 4, 252645135),
                            (se[he] = this._lBlock),
                            (se[he + 1] = this._rBlock);
                        },
                        keySize: 2,
                        ivSize: 2,
                        blockSize: 2,
                      }));
                    function ae(oe, se) {
                      var he = ((this._lBlock >>> oe) ^ this._rBlock) & se;
                      (this._rBlock ^= he), (this._lBlock ^= he << oe);
                    }
                    function ve(oe, se) {
                      var he = ((this._rBlock >>> oe) ^ this._lBlock) & se;
                      (this._lBlock ^= he), (this._rBlock ^= he << oe);
                    }
                    y.DES = P._createHelper(Z);
                    var ie = (V.TripleDES = P.extend({
                      _doReset: function () {
                        var se = this._key.words;
                        (this._des1 = Z.createEncryptor(
                          k.create(se.slice(0, 2))
                        )),
                          (this._des2 = Z.createEncryptor(
                            k.create(se.slice(2, 4))
                          )),
                          (this._des3 = Z.createEncryptor(
                            k.create(se.slice(4, 6))
                          ));
                      },
                      encryptBlock: function (se, he) {
                        this._des1.encryptBlock(se, he),
                          this._des2.decryptBlock(se, he),
                          this._des3.encryptBlock(se, he);
                      },
                      decryptBlock: function (se, he) {
                        this._des3.decryptBlock(se, he),
                          this._des2.encryptBlock(se, he),
                          this._des1.decryptBlock(se, he);
                      },
                      keySize: 6,
                      ivSize: 2,
                      blockSize: 2,
                    }));
                    y.TripleDES = P._createHelper(ie);
                  })(),
                  d.TripleDES);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  ((d = Qe),
                  (function () {
                    var y = d,
                      w = y.lib.StreamCipher,
                      k = y.algo,
                      P = (k.RC4 = w.extend({
                        _doReset: function () {
                          for (
                            var K = this._key,
                              ne = K.words,
                              Y = K.sigBytes,
                              Z = (this._S = []),
                              ae = 0;
                            ae < 256;
                            ae++
                          )
                            Z[ae] = ae;
                          ae = 0;
                          for (var ve = 0; ae < 256; ae++) {
                            var ie = ae % Y,
                              oe = (ne[ie >>> 2] >>> (24 - (ie % 4) * 8)) & 255;
                            ve = (ve + Z[ae] + oe) % 256;
                            var se = Z[ae];
                            (Z[ae] = Z[ve]), (Z[ve] = se);
                          }
                          this._i = this._j = 0;
                        },
                        _doProcessBlock: function (K, ne) {
                          K[ne] ^= V.call(this);
                        },
                        keySize: 8,
                        ivSize: 0,
                      }));
                    function V() {
                      for (
                        var x = this._S,
                          K = this._i,
                          ne = this._j,
                          Y = 0,
                          Z = 0;
                        Z < 4;
                        Z++
                      ) {
                        ne = (ne + x[(K = (K + 1) % 256)]) % 256;
                        var ae = x[K];
                        (x[K] = x[ne]),
                          (x[ne] = ae),
                          (Y |= x[(x[K] + x[ne]) % 256] << (24 - 8 * Z));
                      }
                      return (this._i = K), (this._j = ne), Y;
                    }
                    y.RC4 = w._createHelper(P);
                    var j = (k.RC4Drop = P.extend({
                      cfg: P.cfg.extend({
                        drop: 192,
                      }),
                      _doReset: function () {
                        P._doReset.call(this);
                        for (var K = this.cfg.drop; K > 0; K--) V.call(this);
                      },
                    }));
                    y.RC4Drop = w._createHelper(j);
                  })(),
                  d.RC4);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  ((d = Qe),
                  (function () {
                    var y = d,
                      w = y.lib.StreamCipher,
                      k = y.algo,
                      P = [],
                      V = [],
                      j = [],
                      x = (k.Rabbit = w.extend({
                        _doReset: function () {
                          for (
                            var Y = this._key.words, Z = this.cfg.iv, ae = 0;
                            ae < 4;
                            ae++
                          )
                            Y[ae] =
                              (16711935 & ((Y[ae] << 8) | (Y[ae] >>> 24))) |
                              (4278255360 & ((Y[ae] << 24) | (Y[ae] >>> 8)));
                          var ve = (this._X = [
                              Y[0],
                              (Y[3] << 16) | (Y[2] >>> 16),
                              Y[1],
                              (Y[0] << 16) | (Y[3] >>> 16),
                              Y[2],
                              (Y[1] << 16) | (Y[0] >>> 16),
                              Y[3],
                              (Y[2] << 16) | (Y[1] >>> 16),
                            ]),
                            ie = (this._C = [
                              (Y[2] << 16) | (Y[2] >>> 16),
                              (4294901760 & Y[0]) | (65535 & Y[1]),
                              (Y[3] << 16) | (Y[3] >>> 16),
                              (4294901760 & Y[1]) | (65535 & Y[2]),
                              (Y[0] << 16) | (Y[0] >>> 16),
                              (4294901760 & Y[2]) | (65535 & Y[3]),
                              (Y[1] << 16) | (Y[1] >>> 16),
                              (4294901760 & Y[3]) | (65535 & Y[0]),
                            ]);
                          for (this._b = 0, ae = 0; ae < 4; ae++) K.call(this);
                          for (ae = 0; ae < 8; ae++) ie[ae] ^= ve[(ae + 4) & 7];
                          if (Z) {
                            var oe = Z.words,
                              se = oe[0],
                              he = oe[1],
                              pe =
                                (16711935 & ((se << 8) | (se >>> 24))) |
                                (4278255360 & ((se << 24) | (se >>> 8))),
                              ge =
                                (16711935 & ((he << 8) | (he >>> 24))) |
                                (4278255360 & ((he << 24) | (he >>> 8))),
                              be = (pe >>> 16) | (4294901760 & ge),
                              xe = (ge << 16) | (65535 & pe);
                            for (
                              ie[0] ^= pe,
                                ie[1] ^= be,
                                ie[2] ^= ge,
                                ie[3] ^= xe,
                                ie[4] ^= pe,
                                ie[5] ^= be,
                                ie[6] ^= ge,
                                ie[7] ^= xe,
                                ae = 0;
                              ae < 4;
                              ae++
                            )
                              K.call(this);
                          }
                        },
                        _doProcessBlock: function (Y, Z) {
                          var ae = this._X;
                          K.call(this),
                            (P[0] = ae[0] ^ (ae[5] >>> 16) ^ (ae[3] << 16)),
                            (P[1] = ae[2] ^ (ae[7] >>> 16) ^ (ae[5] << 16)),
                            (P[2] = ae[4] ^ (ae[1] >>> 16) ^ (ae[7] << 16)),
                            (P[3] = ae[6] ^ (ae[3] >>> 16) ^ (ae[1] << 16));
                          for (var ve = 0; ve < 4; ve++)
                            (P[ve] =
                              (16711935 & ((P[ve] << 8) | (P[ve] >>> 24))) |
                              (4278255360 & ((P[ve] << 24) | (P[ve] >>> 8)))),
                              (Y[Z + ve] ^= P[ve]);
                        },
                        blockSize: 4,
                        ivSize: 2,
                      }));
                    function K() {
                      for (var ne = this._X, Y = this._C, Z = 0; Z < 8; Z++)
                        V[Z] = Y[Z];
                      for (
                        Y[0] = (Y[0] + 1295307597 + this._b) | 0,
                          Y[1] =
                            (Y[1] +
                              3545052371 +
                              (Y[0] >>> 0 < V[0] >>> 0 ? 1 : 0)) |
                            0,
                          Y[2] =
                            (Y[2] +
                              886263092 +
                              (Y[1] >>> 0 < V[1] >>> 0 ? 1 : 0)) |
                            0,
                          Y[3] =
                            (Y[3] +
                              1295307597 +
                              (Y[2] >>> 0 < V[2] >>> 0 ? 1 : 0)) |
                            0,
                          Y[4] =
                            (Y[4] +
                              3545052371 +
                              (Y[3] >>> 0 < V[3] >>> 0 ? 1 : 0)) |
                            0,
                          Y[5] =
                            (Y[5] +
                              886263092 +
                              (Y[4] >>> 0 < V[4] >>> 0 ? 1 : 0)) |
                            0,
                          Y[6] =
                            (Y[6] +
                              1295307597 +
                              (Y[5] >>> 0 < V[5] >>> 0 ? 1 : 0)) |
                            0,
                          Y[7] =
                            (Y[7] +
                              3545052371 +
                              (Y[6] >>> 0 < V[6] >>> 0 ? 1 : 0)) |
                            0,
                          this._b = Y[7] >>> 0 < V[7] >>> 0 ? 1 : 0,
                          Z = 0;
                        Z < 8;
                        Z++
                      ) {
                        var ae = ne[Z] + Y[Z],
                          ve = 65535 & ae,
                          ie = ae >>> 16,
                          oe =
                            ((((ve * ve) >>> 17) + ve * ie) >>> 15) + ie * ie,
                          se =
                            (((4294901760 & ae) * ae) | 0) +
                            (((65535 & ae) * ae) | 0);
                        j[Z] = oe ^ se;
                      }
                      (ne[0] =
                        (j[0] +
                          ((j[7] << 16) | (j[7] >>> 16)) +
                          ((j[6] << 16) | (j[6] >>> 16))) |
                        0),
                        (ne[1] =
                          (j[1] + ((j[0] << 8) | (j[0] >>> 24)) + j[7]) | 0),
                        (ne[2] =
                          (j[2] +
                            ((j[1] << 16) | (j[1] >>> 16)) +
                            ((j[0] << 16) | (j[0] >>> 16))) |
                          0),
                        (ne[3] =
                          (j[3] + ((j[2] << 8) | (j[2] >>> 24)) + j[1]) | 0),
                        (ne[4] =
                          (j[4] +
                            ((j[3] << 16) | (j[3] >>> 16)) +
                            ((j[2] << 16) | (j[2] >>> 16))) |
                          0),
                        (ne[5] =
                          (j[5] + ((j[4] << 8) | (j[4] >>> 24)) + j[3]) | 0),
                        (ne[6] =
                          (j[6] +
                            ((j[5] << 16) | (j[5] >>> 16)) +
                            ((j[4] << 16) | (j[4] >>> 16))) |
                          0),
                        (ne[7] =
                          (j[7] + ((j[6] << 8) | (j[6] >>> 24)) + j[5]) | 0);
                    }
                    y.Rabbit = w._createHelper(x);
                  })(),
                  d.Rabbit);
              }),
              zt(function (t, f) {
                var d;
                t.exports =
                  ((d = Qe),
                  (function () {
                    var y = d,
                      w = y.lib.StreamCipher,
                      k = y.algo,
                      P = [],
                      V = [],
                      j = [],
                      x = (k.RabbitLegacy = w.extend({
                        _doReset: function () {
                          var Y = this._key.words,
                            Z = this.cfg.iv,
                            ae = (this._X = [
                              Y[0],
                              (Y[3] << 16) | (Y[2] >>> 16),
                              Y[1],
                              (Y[0] << 16) | (Y[3] >>> 16),
                              Y[2],
                              (Y[1] << 16) | (Y[0] >>> 16),
                              Y[3],
                              (Y[2] << 16) | (Y[1] >>> 16),
                            ]),
                            ve = (this._C = [
                              (Y[2] << 16) | (Y[2] >>> 16),
                              (4294901760 & Y[0]) | (65535 & Y[1]),
                              (Y[3] << 16) | (Y[3] >>> 16),
                              (4294901760 & Y[1]) | (65535 & Y[2]),
                              (Y[0] << 16) | (Y[0] >>> 16),
                              (4294901760 & Y[2]) | (65535 & Y[3]),
                              (Y[1] << 16) | (Y[1] >>> 16),
                              (4294901760 & Y[3]) | (65535 & Y[0]),
                            ]);
                          this._b = 0;
                          for (var ie = 0; ie < 4; ie++) K.call(this);
                          for (ie = 0; ie < 8; ie++) ve[ie] ^= ae[(ie + 4) & 7];
                          if (Z) {
                            var oe = Z.words,
                              se = oe[0],
                              he = oe[1],
                              pe =
                                (16711935 & ((se << 8) | (se >>> 24))) |
                                (4278255360 & ((se << 24) | (se >>> 8))),
                              ge =
                                (16711935 & ((he << 8) | (he >>> 24))) |
                                (4278255360 & ((he << 24) | (he >>> 8))),
                              be = (pe >>> 16) | (4294901760 & ge),
                              xe = (ge << 16) | (65535 & pe);
                            for (
                              ve[0] ^= pe,
                                ve[1] ^= be,
                                ve[2] ^= ge,
                                ve[3] ^= xe,
                                ve[4] ^= pe,
                                ve[5] ^= be,
                                ve[6] ^= ge,
                                ve[7] ^= xe,
                                ie = 0;
                              ie < 4;
                              ie++
                            )
                              K.call(this);
                          }
                        },
                        _doProcessBlock: function (Y, Z) {
                          var ae = this._X;
                          K.call(this),
                            (P[0] = ae[0] ^ (ae[5] >>> 16) ^ (ae[3] << 16)),
                            (P[1] = ae[2] ^ (ae[7] >>> 16) ^ (ae[5] << 16)),
                            (P[2] = ae[4] ^ (ae[1] >>> 16) ^ (ae[7] << 16)),
                            (P[3] = ae[6] ^ (ae[3] >>> 16) ^ (ae[1] << 16));
                          for (var ve = 0; ve < 4; ve++)
                            (P[ve] =
                              (16711935 & ((P[ve] << 8) | (P[ve] >>> 24))) |
                              (4278255360 & ((P[ve] << 24) | (P[ve] >>> 8)))),
                              (Y[Z + ve] ^= P[ve]);
                        },
                        blockSize: 4,
                        ivSize: 2,
                      }));
                    function K() {
                      for (var ne = this._X, Y = this._C, Z = 0; Z < 8; Z++)
                        V[Z] = Y[Z];
                      for (
                        Y[0] = (Y[0] + 1295307597 + this._b) | 0,
                          Y[1] =
                            (Y[1] +
                              3545052371 +
                              (Y[0] >>> 0 < V[0] >>> 0 ? 1 : 0)) |
                            0,
                          Y[2] =
                            (Y[2] +
                              886263092 +
                              (Y[1] >>> 0 < V[1] >>> 0 ? 1 : 0)) |
                            0,
                          Y[3] =
                            (Y[3] +
                              1295307597 +
                              (Y[2] >>> 0 < V[2] >>> 0 ? 1 : 0)) |
                            0,
                          Y[4] =
                            (Y[4] +
                              3545052371 +
                              (Y[3] >>> 0 < V[3] >>> 0 ? 1 : 0)) |
                            0,
                          Y[5] =
                            (Y[5] +
                              886263092 +
                              (Y[4] >>> 0 < V[4] >>> 0 ? 1 : 0)) |
                            0,
                          Y[6] =
                            (Y[6] +
                              1295307597 +
                              (Y[5] >>> 0 < V[5] >>> 0 ? 1 : 0)) |
                            0,
                          Y[7] =
                            (Y[7] +
                              3545052371 +
                              (Y[6] >>> 0 < V[6] >>> 0 ? 1 : 0)) |
                            0,
                          this._b = Y[7] >>> 0 < V[7] >>> 0 ? 1 : 0,
                          Z = 0;
                        Z < 8;
                        Z++
                      ) {
                        var ae = ne[Z] + Y[Z],
                          ve = 65535 & ae,
                          ie = ae >>> 16,
                          oe =
                            ((((ve * ve) >>> 17) + ve * ie) >>> 15) + ie * ie,
                          se =
                            (((4294901760 & ae) * ae) | 0) +
                            (((65535 & ae) * ae) | 0);
                        j[Z] = oe ^ se;
                      }
                      (ne[0] =
                        (j[0] +
                          ((j[7] << 16) | (j[7] >>> 16)) +
                          ((j[6] << 16) | (j[6] >>> 16))) |
                        0),
                        (ne[1] =
                          (j[1] + ((j[0] << 8) | (j[0] >>> 24)) + j[7]) | 0),
                        (ne[2] =
                          (j[2] +
                            ((j[1] << 16) | (j[1] >>> 16)) +
                            ((j[0] << 16) | (j[0] >>> 16))) |
                          0),
                        (ne[3] =
                          (j[3] + ((j[2] << 8) | (j[2] >>> 24)) + j[1]) | 0),
                        (ne[4] =
                          (j[4] +
                            ((j[3] << 16) | (j[3] >>> 16)) +
                            ((j[2] << 16) | (j[2] >>> 16))) |
                          0),
                        (ne[5] =
                          (j[5] + ((j[4] << 8) | (j[4] >>> 24)) + j[3]) | 0),
                        (ne[6] =
                          (j[6] +
                            ((j[5] << 16) | (j[5] >>> 16)) +
                            ((j[4] << 16) | (j[4] >>> 16))) |
                          0),
                        (ne[7] =
                          (j[7] + ((j[6] << 8) | (j[6] >>> 24)) + j[5]) | 0);
                    }
                    y.RabbitLegacy = w._createHelper(x);
                  })(),
                  d.RabbitLegacy);
              }),
              zt(function (t, f) {
                t.exports = Qe;
              }));
          function Fh() {
            throw new Error("setTimeout has not been defined");
          }
          function wu() {
            throw new Error("clearTimeout has not been defined");
          }
          var zi = Fh,
            Er = wu;
          function Lr(t) {
            if (zi === setTimeout) return setTimeout(t, 0);
            if ((zi === Fh || !zi) && setTimeout)
              return (zi = setTimeout), setTimeout(t, 0);
            try {
              return zi(t, 0);
            } catch (f) {
              try {
                return zi.call(null, t, 0);
              } catch (d) {
                return zi.call(this, t, 0);
              }
            }
          }
          typeof u.setTimeout == "function" && (zi = setTimeout),
            typeof u.clearTimeout == "function" && (Er = clearTimeout);
          var _a,
            vi = [],
            Vn = !1,
            ku = -1;
          function Hm() {
            Vn &&
              _a &&
              ((Vn = !1),
              _a.length ? (vi = _a.concat(vi)) : (ku = -1),
              vi.length && Ir());
          }
          function Ir() {
            if (!Vn) {
              var t = Lr(Hm);
              Vn = !0;
              for (var f = vi.length; f; ) {
                for (_a = vi, vi = []; ++ku < f; ) _a && _a[ku].run();
                (ku = -1), (f = vi.length);
              }
              (_a = null),
                (Vn = !1),
                (function (d) {
                  if (Er === clearTimeout) return clearTimeout(d);
                  if ((Er === wu || !Er) && clearTimeout)
                    return (Er = clearTimeout), clearTimeout(d);
                  try {
                    Er(d);
                  } catch (y) {
                    try {
                      return Er.call(null, d);
                    } catch (w) {
                      return Er.call(this, d);
                    }
                  }
                })(t);
            }
          }
          function xn(t) {
            var f = new Array(arguments.length - 1);
            if (arguments.length > 1)
              for (var d = 1; d < arguments.length; d++)
                f[d - 1] = arguments[d];
            vi.push(new as(t, f)), vi.length !== 1 || Vn || Lr(Ir);
          }
          function as(t, f) {
            (this.fun = t), (this.array = f);
          }
          as.prototype.run = function () {
            this.fun.apply(null, this.array);
          };
          var os = u.performance || {};
          os.now || os.mozNow || os.msNow || os.oNow || os.webkitNow;
          function Bt() {}
          function Ht() {
            Ht.init.call(this);
          }
          function jh(t) {
            return t._maxListeners === void 0
              ? Ht.defaultMaxListeners
              : t._maxListeners;
          }
          function pn(t, f, d) {
            if (f) t.call(d);
            else
              for (var y = t.length, w = ya(t, y), k = 0; k < y; ++k)
                w[k].call(d);
          }
          function ml(t, f, d, y) {
            if (f) t.call(d, y);
            else
              for (var w = t.length, k = ya(t, w), P = 0; P < w; ++P)
                k[P].call(d, y);
          }
          function zm(t, f, d, y, w) {
            if (f) t.call(d, y, w);
            else
              for (var k = t.length, P = ya(t, k), V = 0; V < k; ++V)
                P[V].call(d, y, w);
          }
          function Wm(t, f, d, y, w, k) {
            if (f) t.call(d, y, w, k);
            else
              for (var P = t.length, V = ya(t, P), j = 0; j < P; ++j)
                V[j].call(d, y, w, k);
          }
          function mi(t, f, d, y) {
            if (f) t.apply(d, y);
            else
              for (var w = t.length, k = ya(t, w), P = 0; P < w; ++P)
                k[P].apply(d, y);
          }
          function gi(t, f, d, y) {
            var w, k, P, V;
            if (typeof d != "function")
              throw new TypeError('"listener" argument must be a function');
            if (
              ((k = t._events)
                ? (k.newListener &&
                    (t.emit("newListener", f, d.listener ? d.listener : d),
                    (k = t._events)),
                  (P = k[f]))
                : ((k = t._events = new Bt()), (t._eventsCount = 0)),
              P)
            ) {
              if (
                (typeof P == "function"
                  ? (P = k[f] = y ? [d, P] : [P, d])
                  : y
                  ? P.unshift(d)
                  : P.push(d),
                !P.warned && (w = jh(t)) && w > 0 && P.length > w)
              ) {
                P.warned = !0;
                var j = new Error(
                  "Possible EventEmitter memory leak detected. " +
                    P.length +
                    " " +
                    f +
                    " listeners added. Use emitter.setMaxListeners() to increase limit"
                );
                (j.name = "MaxListenersExceededWarning"),
                  (j.emitter = t),
                  (j.type = f),
                  (j.count = P.length),
                  (V = j),
                  typeof console.warn == "function"
                    ? console.warn(V)
                    : console.log(V);
              }
            } else (P = k[f] = d), ++t._eventsCount;
            return t;
          }
          function $r(t, f, d) {
            var y = !1;
            function w() {
              t.removeListener(f, w), y || ((y = !0), d.apply(t, arguments));
            }
            return (w.listener = d), w;
          }
          function gl(t) {
            var f = this._events;
            if (f) {
              var d = f[t];
              if (typeof d == "function") return 1;
              if (d) return d.length;
            }
            return 0;
          }
          function ya(t, f) {
            for (var d = new Array(f); f--; ) d[f] = t[f];
            return d;
          }
          (Bt.prototype = /* @__PURE__ */ Object.create(null)),
            (Ht.EventEmitter = Ht),
            (Ht.usingDomains = !1),
            (Ht.prototype.domain = void 0),
            (Ht.prototype._events = void 0),
            (Ht.prototype._maxListeners = void 0),
            (Ht.defaultMaxListeners = 10),
            (Ht.init = function () {
              (this.domain = null),
                Ht.usingDomains && (void 0).active && (void 0).Domain,
                (this._events &&
                  this._events !== Object.getPrototypeOf(this)._events) ||
                  ((this._events = new Bt()), (this._eventsCount = 0)),
                (this._maxListeners = this._maxListeners || void 0);
            }),
            (Ht.prototype.setMaxListeners = function (t) {
              if (typeof t != "number" || t < 0 || isNaN(t))
                throw new TypeError('"n" argument must be a positive number');
              return (this._maxListeners = t), this;
            }),
            (Ht.prototype.getMaxListeners = function () {
              return jh(this);
            }),
            (Ht.prototype.emit = function (t) {
              var f,
                d,
                y,
                w,
                k,
                P,
                V,
                j = t === "error";
              if ((P = this._events)) j = j && P.error == null;
              else if (!j) return !1;
              if (((V = this.domain), j)) {
                if (((f = arguments[1]), !V)) {
                  if (f instanceof Error) throw f;
                  var x = new Error(
                    'Uncaught, unspecified "error" event. (' + f + ")"
                  );
                  throw ((x.context = f), x);
                }
                return (
                  f || (f = new Error('Uncaught, unspecified "error" event')),
                  (f.domainEmitter = this),
                  (f.domain = V),
                  (f.domainThrown = !1),
                  V.emit("error", f),
                  !1
                );
              }
              if (!(d = P[t])) return !1;
              var K = typeof d == "function";
              switch ((y = arguments.length)) {
                case 1:
                  pn(d, K, this);
                  break;
                case 2:
                  ml(d, K, this, arguments[1]);
                  break;
                case 3:
                  zm(d, K, this, arguments[1], arguments[2]);
                  break;
                case 4:
                  Wm(d, K, this, arguments[1], arguments[2], arguments[3]);
                  break;
                default:
                  for (w = new Array(y - 1), k = 1; k < y; k++)
                    w[k - 1] = arguments[k];
                  mi(d, K, this, w);
              }
              return !0;
            }),
            (Ht.prototype.addListener = function (t, f) {
              return gi(this, t, f, !1);
            }),
            (Ht.prototype.on = Ht.prototype.addListener),
            (Ht.prototype.prependListener = function (t, f) {
              return gi(this, t, f, !0);
            }),
            (Ht.prototype.once = function (t, f) {
              if (typeof f != "function")
                throw new TypeError('"listener" argument must be a function');
              return this.on(t, $r(this, t, f)), this;
            }),
            (Ht.prototype.prependOnceListener = function (t, f) {
              if (typeof f != "function")
                throw new TypeError('"listener" argument must be a function');
              return this.prependListener(t, $r(this, t, f)), this;
            }),
            (Ht.prototype.removeListener = function (t, f) {
              var d, y, w, k, P;
              if (typeof f != "function")
                throw new TypeError('"listener" argument must be a function');
              if (!(y = this._events)) return this;
              if (!(d = y[t])) return this;
              if (d === f || (d.listener && d.listener === f))
                --this._eventsCount == 0
                  ? (this._events = new Bt())
                  : (delete y[t],
                    y.removeListener &&
                      this.emit("removeListener", t, d.listener || f));
              else if (typeof d != "function") {
                for (w = -1, k = d.length; k-- > 0; )
                  if (d[k] === f || (d[k].listener && d[k].listener === f)) {
                    (P = d[k].listener), (w = k);
                    break;
                  }
                if (w < 0) return this;
                if (d.length === 1) {
                  if (((d[0] = void 0), --this._eventsCount == 0))
                    return (this._events = new Bt()), this;
                  delete y[t];
                } else
                  (function (V, j) {
                    for (
                      var x = j, K = x + 1, ne = V.length;
                      K < ne;
                      x += 1, K += 1
                    )
                      V[x] = V[K];
                    V.pop();
                  })(d, w);
                y.removeListener && this.emit("removeListener", t, P || f);
              }
              return this;
            }),
            (Ht.prototype.removeAllListeners = function (t) {
              var f, d;
              if (!(d = this._events)) return this;
              if (!d.removeListener)
                return (
                  arguments.length === 0
                    ? ((this._events = new Bt()), (this._eventsCount = 0))
                    : d[t] &&
                      (--this._eventsCount == 0
                        ? (this._events = new Bt())
                        : delete d[t]),
                  this
                );
              if (arguments.length === 0) {
                for (var y, w = Object.keys(d), k = 0; k < w.length; ++k)
                  (y = w[k]) !== "removeListener" && this.removeAllListeners(y);
                return (
                  this.removeAllListeners("removeListener"),
                  (this._events = new Bt()),
                  (this._eventsCount = 0),
                  this
                );
              }
              if (typeof (f = d[t]) == "function") this.removeListener(t, f);
              else if (f)
                do this.removeListener(t, f[f.length - 1]);
                while (f[0]);
              return this;
            }),
            (Ht.prototype.listeners = function (t) {
              var f,
                d = this._events;
              return d && (f = d[t])
                ? typeof f == "function"
                  ? [f.listener || f]
                  : (function (y) {
                      for (
                        var w = new Array(y.length), k = 0;
                        k < w.length;
                        ++k
                      )
                        w[k] = y[k].listener || y[k];
                      return w;
                    })(f)
                : [];
            }),
            (Ht.listenerCount = function (t, f) {
              return typeof t.listenerCount == "function"
                ? t.listenerCount(f)
                : gl.call(t, f);
            }),
            (Ht.prototype.listenerCount = gl),
            (Ht.prototype.eventNames = function () {
              return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];
            });
          var Zn =
              typeof Object.create == "function"
                ? function (t, f) {
                    (t.super_ = f),
                      (t.prototype = Object.create(f.prototype, {
                        constructor: {
                          value: t,
                          enumerable: !1,
                          writable: !0,
                          configurable: !0,
                        },
                      }));
                  }
                : function (t, f) {
                    t.super_ = f;
                    var d = function () {};
                    (d.prototype = f.prototype),
                      (t.prototype = new d()),
                      (t.prototype.constructor = t);
                  },
            Bh = /%[sdj%]/g;
          function Hh(t) {
            if (!Sl(t)) {
              for (var f = [], d = 0; d < arguments.length; d++)
                f.push(Gi(arguments[d]));
              return f.join(" ");
            }
            d = 1;
            for (
              var y = arguments,
                w = y.length,
                k = String(t).replace(Bh, function (V) {
                  if (V === "%%") return "%";
                  if (d >= w) return V;
                  switch (V) {
                    case "%s":
                      return String(y[d++]);
                    case "%d":
                      return Number(y[d++]);
                    case "%j":
                      try {
                        return JSON.stringify(y[d++]);
                      } catch (j) {
                        return "[Circular]";
                      }
                    default:
                      return V;
                  }
                }),
                P = y[d];
              d < w;
              P = y[++d]
            )
              so(P) || !us(P) ? (k += " " + P) : (k += " " + Gi(P));
            return k;
          }
          function _l(t, f) {
            if (sr(u.process))
              return function () {
                return _l(t, f).apply(this, arguments);
              };
            var d = !1;
            return function () {
              return (
                d || (console.error(f), (d = !0)), t.apply(this, arguments)
              );
            };
          }
          var Wi,
            ss = {};
          function Gi(t, f) {
            var d = {
              seen: [],
              stylize: Wh,
            };
            return (
              arguments.length >= 3 && (d.depth = arguments[2]),
              arguments.length >= 4 && (d.colors = arguments[3]),
              Gh(f)
                ? (d.showHidden = f)
                : f &&
                  (function (y, w) {
                    if (!w || !us(w)) return y;
                    for (var k = Object.keys(w), P = k.length; P--; )
                      y[k[P]] = w[k[P]];
                  })(d, f),
              sr(d.showHidden) && (d.showHidden = !1),
              sr(d.depth) && (d.depth = 2),
              sr(d.colors) && (d.colors = !1),
              sr(d.customInspect) && (d.customInspect = !0),
              d.colors && (d.stylize = zh),
              Tu(d, t, d.depth)
            );
          }
          function zh(t, f) {
            var d = Gi.styles[f];
            return d
              ? "\x1B[" +
                  Gi.colors[d][0] +
                  "m" +
                  t +
                  "\x1B[" +
                  Gi.colors[d][1] +
                  "m"
              : t;
          }
          function Wh(t, f) {
            return t;
          }
          function Tu(t, f, d) {
            if (
              t.customInspect &&
              f &&
              kl(f.inspect) &&
              f.inspect !== Gi &&
              (!f.constructor || f.constructor.prototype !== f)
            ) {
              var y = f.inspect(d, t);
              return Sl(y) || (y = Tu(t, y, d)), y;
            }
            var w = (function (Z, ae) {
              if (sr(ae)) return Z.stylize("undefined", "undefined");
              if (Sl(ae)) {
                var ve =
                  "'" +
                  JSON.stringify(ae)
                    .replace(/^"|"$/g, "")
                    .replace(/'/g, "\\'")
                    .replace(/\\"/g, '"') +
                  "'";
                return Z.stylize(ve, "string");
              }
              if (((ie = ae), typeof ie == "number"))
                return Z.stylize("" + ae, "number");
              var ie;
              if (Gh(ae)) return Z.stylize("" + ae, "boolean");
              if (so(ae)) return Z.stylize("null", "null");
            })(t, f);
            if (w) return w;
            var k = Object.keys(f),
              P = (function (Z) {
                var ae = {};
                return (
                  Z.forEach(function (ve, ie) {
                    ae[ve] = !0;
                  }),
                  ae
                );
              })(k);
            if (
              (t.showHidden && (k = Object.getOwnPropertyNames(f)),
              ur(f) &&
                (k.indexOf("message") >= 0 || k.indexOf("description") >= 0))
            )
              return yl(f);
            if (k.length === 0) {
              if (kl(f)) {
                var V = f.name ? ": " + f.name : "";
                return t.stylize("[Function" + V + "]", "special");
              }
              if (wl(f))
                return t.stylize(RegExp.prototype.toString.call(f), "regexp");
              if (qh(f))
                return t.stylize(Date.prototype.toString.call(f), "date");
              if (ur(f)) return yl(f);
            }
            var j,
              x,
              K = "",
              ne = !1,
              Y = ["{", "}"];
            return (
              (j = f),
              Array.isArray(j) && ((ne = !0), (Y = ["[", "]"])),
              kl(f) && (K = " [Function" + (f.name ? ": " + f.name : "") + "]"),
              wl(f) && (K = " " + RegExp.prototype.toString.call(f)),
              qh(f) && (K = " " + Date.prototype.toUTCString.call(f)),
              ur(f) && (K = " " + yl(f)),
              k.length !== 0 || (ne && f.length != 0)
                ? d < 0
                  ? wl(f)
                    ? t.stylize(RegExp.prototype.toString.call(f), "regexp")
                    : t.stylize("[Object]", "special")
                  : (t.seen.push(f),
                    (x = ne
                      ? (function (Z, ae, ve, ie, oe) {
                          for (
                            var se = [], he = 0, pe = ae.length;
                            he < pe;
                            ++he
                          )
                            ba(ae, String(he))
                              ? se.push(bl(Z, ae, ve, ie, String(he), !0))
                              : se.push("");
                          return (
                            oe.forEach(function (ge) {
                              ge.match(/^\d+$/) ||
                                se.push(bl(Z, ae, ve, ie, ge, !0));
                            }),
                            se
                          );
                        })(t, f, d, P, k)
                      : k.map(function (Z) {
                          return bl(t, f, d, P, Z, ne);
                        })),
                    t.seen.pop(),
                    (function (Z, ae, ve) {
                      return Z.reduce(function (ie, oe) {
                        return (
                          oe.indexOf(`
`),
                          ie + oe.replace(/\u001b\[\d\d?m/g, "").length + 1
                        );
                      }, 0) > 60
                        ? ve[0] +
                            (ae === ""
                              ? ""
                              : ae +
                                `
 `) +
                            " " +
                            Z.join(`,
  `) +
                            " " +
                            ve[1]
                        : ve[0] + ae + " " + Z.join(", ") + " " + ve[1];
                    })(x, K, Y))
                : Y[0] + K + Y[1]
            );
          }
          function yl(t) {
            return "[" + Error.prototype.toString.call(t) + "]";
          }
          function bl(t, f, d, y, w, k) {
            var P, V, j;
            if (
              ((j = Object.getOwnPropertyDescriptor(f, w) || {
                value: f[w],
              }).get
                ? (V = j.set
                    ? t.stylize("[Getter/Setter]", "special")
                    : t.stylize("[Getter]", "special"))
                : j.set && (V = t.stylize("[Setter]", "special")),
              ba(y, w) || (P = "[" + w + "]"),
              V ||
                (t.seen.indexOf(j.value) < 0
                  ? (V = so(d) ? Tu(t, j.value, null) : Tu(t, j.value, d - 1))
                      .indexOf(`
`) > -1 &&
                    (V = k
                      ? V.split(
                          `
`
                        )
                          .map(function (x) {
                            return "  " + x;
                          })
                          .join(
                            `
`
                          )
                          .substr(2)
                      : `
` +
                        V.split(
                          `
`
                        ).map(function (x) {
                          return "   " + x;
                        }).join(`
`))
                  : (V = t.stylize("[Circular]", "special"))),
              sr(P))
            ) {
              if (k && w.match(/^\d+$/)) return V;
              (P = JSON.stringify("" + w)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)
                ? ((P = P.substr(1, P.length - 2)), (P = t.stylize(P, "name")))
                : ((P = P.replace(/'/g, "\\'")
                    .replace(/\\"/g, '"')
                    .replace(/(^"|"$)/g, "'")),
                  (P = t.stylize(P, "string")));
            }
            return P + ": " + V;
          }
          function Gh(t) {
            return typeof t == "boolean";
          }
          function so(t) {
            return t === null;
          }
          function Sl(t) {
            return typeof t == "string";
          }
          function sr(t) {
            return t === void 0;
          }
          function wl(t) {
            return us(t) && Tl(t) === "[object RegExp]";
          }
          function us(t) {
            return ut(t) == "object" && t !== null;
          }
          function qh(t) {
            return us(t) && Tl(t) === "[object Date]";
          }
          function ur(t) {
            return us(t) && (Tl(t) === "[object Error]" || t instanceof Error);
          }
          function kl(t) {
            return typeof t == "function";
          }
          function Tl(t) {
            return Object.prototype.toString.call(t);
          }
          function ba(t, f) {
            return Object.prototype.hasOwnProperty.call(t, f);
          }
          function _i() {
            (this.head = null), (this.tail = null), (this.length = 0);
          }
          (Gi.colors = {
            bold: [1, 22],
            italic: [3, 23],
            underline: [4, 24],
            inverse: [7, 27],
            white: [37, 39],
            grey: [90, 39],
            black: [30, 39],
            blue: [34, 39],
            cyan: [36, 39],
            green: [32, 39],
            magenta: [35, 39],
            red: [31, 39],
            yellow: [33, 39],
          }),
            (Gi.styles = {
              special: "cyan",
              number: "yellow",
              boolean: "yellow",
              undefined: "grey",
              null: "bold",
              string: "green",
              date: "magenta",
              regexp: "red",
            }),
            (_i.prototype.push = function (t) {
              var f = {
                data: t,
                next: null,
              };
              this.length > 0 ? (this.tail.next = f) : (this.head = f),
                (this.tail = f),
                ++this.length;
            }),
            (_i.prototype.unshift = function (t) {
              var f = {
                data: t,
                next: this.head,
              };
              this.length === 0 && (this.tail = f),
                (this.head = f),
                ++this.length;
            }),
            (_i.prototype.shift = function () {
              if (this.length !== 0) {
                var t = this.head.data;
                return (
                  this.length === 1
                    ? (this.head = this.tail = null)
                    : (this.head = this.head.next),
                  --this.length,
                  t
                );
              }
            }),
            (_i.prototype.clear = function () {
              (this.head = this.tail = null), (this.length = 0);
            }),
            (_i.prototype.join = function (t) {
              if (this.length === 0) return "";
              for (var f = this.head, d = "" + f.data; (f = f.next); )
                d += t + f.data;
              return d;
            }),
            (_i.prototype.concat = function (t) {
              if (this.length === 0) return le.alloc(0);
              if (this.length === 1) return this.head.data;
              for (var f = le.allocUnsafe(t >>> 0), d = this.head, y = 0; d; )
                d.data.copy(f, y), (y += d.data.length), (d = d.next);
              return f;
            });
          var El =
            le.isEncoding ||
            function (t) {
              switch (t && t.toLowerCase()) {
                case "hex":
                case "utf8":
                case "utf-8":
                case "ascii":
                case "binary":
                case "base64":
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                case "raw":
                  return !0;
                default:
                  return !1;
              }
            };
          function Sa(t) {
            switch (
              ((this.encoding = (t || "utf8")
                .toLowerCase()
                .replace(/[-_]/, "")),
              (function (f) {
                if (f && !El(f)) throw new Error("Unknown encoding: " + f);
              })(t),
              this.encoding)
            ) {
              case "utf8":
                this.surrogateSize = 3;
                break;
              case "ucs2":
              case "utf16le":
                (this.surrogateSize = 2), (this.detectIncompleteChar = Eu);
                break;
              case "base64":
                (this.surrogateSize = 3), (this.detectIncompleteChar = Kh);
                break;
              default:
                return void (this.write = Gm);
            }
            (this.charBuffer = new le(6)),
              (this.charReceived = 0),
              (this.charLength = 0);
          }
          function Gm(t) {
            return t.toString(this.encoding);
          }
          function Eu(t) {
            (this.charReceived = t.length % 2),
              (this.charLength = this.charReceived ? 2 : 0);
          }
          function Kh(t) {
            (this.charReceived = t.length % 3),
              (this.charLength = this.charReceived ? 3 : 0);
          }
          (Sa.prototype.write = function (t) {
            for (var f = ""; this.charLength; ) {
              var d =
                t.length >= this.charLength - this.charReceived
                  ? this.charLength - this.charReceived
                  : t.length;
              if (
                (t.copy(this.charBuffer, this.charReceived, 0, d),
                (this.charReceived += d),
                this.charReceived < this.charLength)
              )
                return "";
              if (
                ((t = t.slice(d, t.length)),
                !(
                  (w = (f = this.charBuffer
                    .slice(0, this.charLength)
                    .toString(this.encoding)).charCodeAt(f.length - 1)) >=
                    55296 && w <= 56319
                ))
              ) {
                if (((this.charReceived = this.charLength = 0), t.length === 0))
                  return f;
                break;
              }
              (this.charLength += this.surrogateSize), (f = "");
            }
            this.detectIncompleteChar(t);
            var y = t.length;
            this.charLength &&
              (t.copy(this.charBuffer, 0, t.length - this.charReceived, y),
              (y -= this.charReceived));
            var w;
            if (
              ((y = (f += t.toString(this.encoding, 0, y)).length - 1),
              (w = f.charCodeAt(y)) >= 55296 && w <= 56319)
            ) {
              var k = this.surrogateSize;
              return (
                (this.charLength += k),
                (this.charReceived += k),
                this.charBuffer.copy(this.charBuffer, k, 0, k),
                t.copy(this.charBuffer, 0, 0, k),
                f.substring(0, y)
              );
            }
            return f;
          }),
            (Sa.prototype.detectIncompleteChar = function (t) {
              for (var f = t.length >= 3 ? 3 : t.length; f > 0; f--) {
                var d = t[t.length - f];
                if (f == 1 && d >> 5 == 6) {
                  this.charLength = 2;
                  break;
                }
                if (f <= 2 && d >> 4 == 14) {
                  this.charLength = 3;
                  break;
                }
                if (f <= 3 && d >> 3 == 30) {
                  this.charLength = 4;
                  break;
                }
              }
              this.charReceived = f;
            }),
            (Sa.prototype.end = function (t) {
              var f = "";
              if ((t && t.length && (f = this.write(t)), this.charReceived)) {
                var d = this.charReceived,
                  y = this.charBuffer,
                  w = this.encoding;
                f += y.slice(0, d).toString(w);
              }
              return f;
            }),
            (yn.ReadableState = Iu);
          var Yt = (function (t) {
            return (
              sr(Wi) && (Wi = ""),
              (t = t.toUpperCase()),
              ss[t] ||
                (new RegExp("\\b" + t + "\\b", "i").test(Wi)
                  ? (ss[t] = function () {
                      var f = Hh.apply(null, arguments);
                      console.error("%s %d: %s", t, 0, f);
                    })
                  : (ss[t] = function () {})),
              ss[t]
            );
          })("stream");
          function Iu(t, f) {
            (t = t || {}),
              (this.objectMode = !!t.objectMode),
              f instanceof cr &&
                (this.objectMode = this.objectMode || !!t.readableObjectMode);
            var d = t.highWaterMark,
              y = this.objectMode ? 16 : 16384;
            (this.highWaterMark = d || d === 0 ? d : y),
              (this.highWaterMark = ~~this.highWaterMark),
              (this.buffer = new _i()),
              (this.length = 0),
              (this.pipes = null),
              (this.pipesCount = 0),
              (this.flowing = null),
              (this.ended = !1),
              (this.endEmitted = !1),
              (this.reading = !1),
              (this.sync = !0),
              (this.needReadable = !1),
              (this.emittedReadable = !1),
              (this.readableListening = !1),
              (this.resumeScheduled = !1),
              (this.defaultEncoding = t.defaultEncoding || "utf8"),
              (this.ranOut = !1),
              (this.awaitDrain = 0),
              (this.readingMore = !1),
              (this.decoder = null),
              (this.encoding = null),
              t.encoding &&
                ((this.decoder = new Sa(t.encoding)),
                (this.encoding = t.encoding));
          }
          function yn(t) {
            if (!(this instanceof yn)) return new yn(t);
            (this._readableState = new Iu(t, this)),
              (this.readable = !0),
              t && typeof t.read == "function" && (this._read = t.read),
              Ht.call(this);
          }
          function Il(t, f, d, y, w) {
            var k = (function (x, K) {
              var ne = null;
              return (
                or(K) ||
                  typeof K == "string" ||
                  K == null ||
                  x.objectMode ||
                  (ne = new TypeError("Invalid non-string/buffer chunk")),
                ne
              );
            })(f, d);
            if (k) t.emit("error", k);
            else if (d === null)
              (f.reading = !1),
                (function (x, K) {
                  if (!K.ended) {
                    if (K.decoder) {
                      var ne = K.decoder.end();
                      ne &&
                        ne.length &&
                        (K.buffer.push(ne),
                        (K.length += K.objectMode ? 1 : ne.length));
                    }
                    (K.ended = !0), Cu(x);
                  }
                })(t, f);
            else if (f.objectMode || (d && d.length > 0))
              if (f.ended && !w) {
                var P = new Error("stream.push() after EOF");
                t.emit("error", P);
              } else if (f.endEmitted && w) {
                var V = new Error("stream.unshift() after end event");
                t.emit("error", V);
              } else {
                var j;
                !f.decoder ||
                  w ||
                  y ||
                  ((d = f.decoder.write(d)),
                  (j = !f.objectMode && d.length === 0)),
                  w || (f.reading = !1),
                  j ||
                    (f.flowing && f.length === 0 && !f.sync
                      ? (t.emit("data", d), t.read(0))
                      : ((f.length += f.objectMode ? 1 : d.length),
                        w ? f.buffer.unshift(d) : f.buffer.push(d),
                        f.needReadable && Cu(t))),
                  (function (x, K) {
                    K.readingMore || ((K.readingMore = !0), xn(Wn, x, K));
                  })(t, f);
              }
            else w || (f.reading = !1);
            return (function (x) {
              return (
                !x.ended &&
                (x.needReadable || x.length < x.highWaterMark || x.length === 0)
              );
            })(f);
          }
          Zn(yn, Ht),
            (yn.prototype.push = function (t, f) {
              var d = this._readableState;
              return (
                d.objectMode ||
                  typeof t != "string" ||
                  ((f = f || d.defaultEncoding) !== d.encoding &&
                    ((t = le.from(t, f)), (f = ""))),
                Il(this, d, t, f, !1)
              );
            }),
            (yn.prototype.unshift = function (t) {
              return Il(this, this._readableState, t, "", !0);
            }),
            (yn.prototype.isPaused = function () {
              return this._readableState.flowing === !1;
            }),
            (yn.prototype.setEncoding = function (t) {
              return (
                (this._readableState.decoder = new Sa(t)),
                (this._readableState.encoding = t),
                this
              );
            });
          var Ru = 8388608;
          function Rl(t, f) {
            return t <= 0 || (f.length === 0 && f.ended)
              ? 0
              : f.objectMode
              ? 1
              : t != t
              ? f.flowing && f.length
                ? f.buffer.head.data.length
                : f.length
              : (t > f.highWaterMark &&
                  (f.highWaterMark = (function (d) {
                    return (
                      d >= Ru
                        ? (d = Ru)
                        : (d--,
                          (d |= d >>> 1),
                          (d |= d >>> 2),
                          (d |= d >>> 4),
                          (d |= d >>> 8),
                          (d |= d >>> 16),
                          d++),
                      d
                    );
                  })(t)),
                t <= f.length
                  ? t
                  : f.ended
                  ? f.length
                  : ((f.needReadable = !0), 0));
          }
          function Cu(t) {
            var f = t._readableState;
            (f.needReadable = !1),
              f.emittedReadable ||
                (Yt("emitReadable", f.flowing),
                (f.emittedReadable = !0),
                f.sync ? xn(Jh, t) : Jh(t));
          }
          function Jh(t) {
            Yt("emit readable"), t.emit("readable"), bn(t);
          }
          function Wn(t, f) {
            for (
              var d = f.length;
              !f.reading &&
              !f.flowing &&
              !f.ended &&
              f.length < f.highWaterMark &&
              (Yt("maybeReadMore read 0"), t.read(0), d !== f.length);

            )
              d = f.length;
            f.readingMore = !1;
          }
          function qm(t) {
            Yt("readable nexttick read 0"), t.read(0);
          }
          function Km(t, f) {
            f.reading || (Yt("resume read 0"), t.read(0)),
              (f.resumeScheduled = !1),
              (f.awaitDrain = 0),
              t.emit("resume"),
              bn(t),
              f.flowing && !f.reading && t.read(0);
          }
          function bn(t) {
            var f = t._readableState;
            for (Yt("flow", f.flowing); f.flowing && t.read() !== null; );
          }
          function $h(t, f) {
            return f.length === 0
              ? null
              : (f.objectMode
                  ? (d = f.buffer.shift())
                  : !t || t >= f.length
                  ? ((d = f.decoder
                      ? f.buffer.join("")
                      : f.buffer.length === 1
                      ? f.buffer.head.data
                      : f.buffer.concat(f.length)),
                    f.buffer.clear())
                  : (d = (function (y, w, k) {
                      var P;
                      return (
                        y < w.head.data.length
                          ? ((P = w.head.data.slice(0, y)),
                            (w.head.data = w.head.data.slice(y)))
                          : (P =
                              y === w.head.data.length
                                ? w.shift()
                                : k
                                ? (function (V, j) {
                                    var x = j.head,
                                      K = 1,
                                      ne = x.data;
                                    for (V -= ne.length; (x = x.next); ) {
                                      var Y = x.data,
                                        Z = V > Y.length ? Y.length : V;
                                      if (
                                        (Z === Y.length
                                          ? (ne += Y)
                                          : (ne += Y.slice(0, V)),
                                        (V -= Z) === 0)
                                      ) {
                                        Z === Y.length
                                          ? (++K,
                                            x.next
                                              ? (j.head = x.next)
                                              : (j.head = j.tail = null))
                                          : ((j.head = x),
                                            (x.data = Y.slice(Z)));
                                        break;
                                      }
                                      ++K;
                                    }
                                    return (j.length -= K), ne;
                                  })(y, w)
                                : (function (V, j) {
                                    var x = le.allocUnsafe(V),
                                      K = j.head,
                                      ne = 1;
                                    for (
                                      K.data.copy(x), V -= K.data.length;
                                      (K = K.next);

                                    ) {
                                      var Y = K.data,
                                        Z = V > Y.length ? Y.length : V;
                                      if (
                                        (Y.copy(x, x.length - V, 0, Z),
                                        (V -= Z) === 0)
                                      ) {
                                        Z === Y.length
                                          ? (++ne,
                                            K.next
                                              ? (j.head = K.next)
                                              : (j.head = j.tail = null))
                                          : ((j.head = K),
                                            (K.data = Y.slice(Z)));
                                        break;
                                      }
                                      ++ne;
                                    }
                                    return (j.length -= ne), x;
                                  })(y, w)),
                        P
                      );
                    })(t, f.buffer, f.decoder)),
                d);
            var d;
          }
          function Cl(t) {
            var f = t._readableState;
            if (f.length > 0)
              throw new Error('"endReadable()" called on non-empty stream');
            f.endEmitted || ((f.ended = !0), xn(Jm, f, t));
          }
          function Jm(t, f) {
            t.endEmitted ||
              t.length !== 0 ||
              ((t.endEmitted = !0), (f.readable = !1), f.emit("end"));
          }
          function Yh(t, f) {
            for (var d = 0, y = t.length; d < y; d++) if (t[d] === f) return d;
            return -1;
          }
          function Au() {}
          function $m(t, f, d) {
            (this.chunk = t),
              (this.encoding = f),
              (this.callback = d),
              (this.next = null);
          }
          function Al(t, f) {
            Object.defineProperty(this, "buffer", {
              get: _l(function () {
                return this.getBuffer();
              }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead."),
            }),
              (t = t || {}),
              (this.objectMode = !!t.objectMode),
              f instanceof cr &&
                (this.objectMode = this.objectMode || !!t.writableObjectMode);
            var d = t.highWaterMark,
              y = this.objectMode ? 16 : 16384;
            (this.highWaterMark = d || d === 0 ? d : y),
              (this.highWaterMark = ~~this.highWaterMark),
              (this.needDrain = !1),
              (this.ending = !1),
              (this.ended = !1),
              (this.finished = !1);
            var w = t.decodeStrings === !1;
            (this.decodeStrings = !w),
              (this.defaultEncoding = t.defaultEncoding || "utf8"),
              (this.length = 0),
              (this.writing = !1),
              (this.corked = 0),
              (this.sync = !0),
              (this.bufferProcessing = !1),
              (this.onwrite = function (k) {
                (function (P, V) {
                  var j = P._writableState,
                    x = j.sync,
                    K = j.writecb;
                  if (
                    ((function (Y) {
                      (Y.writing = !1),
                        (Y.writecb = null),
                        (Y.length -= Y.writelen),
                        (Y.writelen = 0);
                    })(j),
                    V)
                  )
                    (function (Y, Z, ae, ve, ie) {
                      --Z.pendingcb,
                        ae ? xn(ie, ve) : ie(ve),
                        (Y._writableState.errorEmitted = !0),
                        Y.emit("error", ve);
                    })(P, j, x, V, K);
                  else {
                    var ne = uo(j);
                    ne ||
                      j.corked ||
                      j.bufferProcessing ||
                      !j.bufferedRequest ||
                      Ol(P, j),
                      x ? xn(Pl, P, j, ne, K) : Pl(P, j, ne, K);
                  }
                })(f, k);
              }),
              (this.writecb = null),
              (this.writelen = 0),
              (this.bufferedRequest = null),
              (this.lastBufferedRequest = null),
              (this.pendingcb = 0),
              (this.prefinished = !1),
              (this.errorEmitted = !1),
              (this.bufferedRequestCount = 0),
              (this.corkedRequestsFree = new Zh(this));
          }
          function Fn(t) {
            if (!(this instanceof Fn || this instanceof cr)) return new Fn(t);
            (this._writableState = new Al(t, this)),
              (this.writable = !0),
              t &&
                (typeof t.write == "function" && (this._write = t.write),
                typeof t.writev == "function" && (this._writev = t.writev)),
              Ht.call(this);
          }
          function xl(t, f, d, y, w, k, P) {
            (f.writelen = y),
              (f.writecb = P),
              (f.writing = !0),
              (f.sync = !0),
              d ? t._writev(w, f.onwrite) : t._write(w, k, f.onwrite),
              (f.sync = !1);
          }
          function Pl(t, f, d, y) {
            d ||
              (function (w, k) {
                k.length === 0 &&
                  k.needDrain &&
                  ((k.needDrain = !1), w.emit("drain"));
              })(t, f),
              f.pendingcb--,
              y(),
              Dl(t, f);
          }
          function Ol(t, f) {
            f.bufferProcessing = !0;
            var d = f.bufferedRequest;
            if (t._writev && d && d.next) {
              var y = f.bufferedRequestCount,
                w = new Array(y),
                k = f.corkedRequestsFree;
              k.entry = d;
              for (var P = 0; d; ) (w[P] = d), (d = d.next), (P += 1);
              xl(t, f, !0, f.length, w, "", k.finish),
                f.pendingcb++,
                (f.lastBufferedRequest = null),
                k.next
                  ? ((f.corkedRequestsFree = k.next), (k.next = null))
                  : (f.corkedRequestsFree = new Zh(f));
            } else {
              for (; d; ) {
                var V = d.chunk,
                  j = d.encoding,
                  x = d.callback;
                if (
                  (xl(t, f, !1, f.objectMode ? 1 : V.length, V, j, x),
                  (d = d.next),
                  f.writing)
                )
                  break;
              }
              d === null && (f.lastBufferedRequest = null);
            }
            (f.bufferedRequestCount = 0),
              (f.bufferedRequest = d),
              (f.bufferProcessing = !1);
          }
          function uo(t) {
            return (
              t.ending &&
              t.length === 0 &&
              t.bufferedRequest === null &&
              !t.finished &&
              !t.writing
            );
          }
          function qi(t, f) {
            f.prefinished || ((f.prefinished = !0), t.emit("prefinish"));
          }
          function Dl(t, f) {
            var d = uo(f);
            return (
              d &&
                (f.pendingcb === 0
                  ? (qi(t, f), (f.finished = !0), t.emit("finish"))
                  : qi(t, f)),
              d
            );
          }
          function Zh(t) {
            var f = this;
            (this.next = null),
              (this.entry = null),
              (this.finish = function (d) {
                var y = f.entry;
                for (f.entry = null; y; ) {
                  var w = y.callback;
                  t.pendingcb--, w(d), (y = y.next);
                }
                t.corkedRequestsFree
                  ? (t.corkedRequestsFree.next = f)
                  : (t.corkedRequestsFree = f);
              });
          }
          (yn.prototype.read = function (t) {
            Yt("read", t), (t = parseInt(t, 10));
            var f = this._readableState,
              d = t;
            if (
              (t !== 0 && (f.emittedReadable = !1),
              t === 0 &&
                f.needReadable &&
                (f.length >= f.highWaterMark || f.ended))
            )
              return (
                Yt("read: emitReadable", f.length, f.ended),
                f.length === 0 && f.ended ? Cl(this) : Cu(this),
                null
              );
            if ((t = Rl(t, f)) === 0 && f.ended)
              return f.length === 0 && Cl(this), null;
            var y,
              w = f.needReadable;
            return (
              Yt("need readable", w),
              (f.length === 0 || f.length - t < f.highWaterMark) &&
                Yt("length less than watermark", (w = !0)),
              f.ended || f.reading
                ? Yt("reading or ended", (w = !1))
                : w &&
                  (Yt("do read"),
                  (f.reading = !0),
                  (f.sync = !0),
                  f.length === 0 && (f.needReadable = !0),
                  this._read(f.highWaterMark),
                  (f.sync = !1),
                  f.reading || (t = Rl(d, f))),
              (y = t > 0 ? $h(t, f) : null) === null
                ? ((f.needReadable = !0), (t = 0))
                : (f.length -= t),
              f.length === 0 &&
                (f.ended || (f.needReadable = !0),
                d !== t && f.ended && Cl(this)),
              y !== null && this.emit("data", y),
              y
            );
          }),
            (yn.prototype._read = function (t) {
              this.emit("error", new Error("not implemented"));
            }),
            (yn.prototype.pipe = function (t, f) {
              var d = this,
                y = this._readableState;
              switch (y.pipesCount) {
                case 0:
                  y.pipes = t;
                  break;
                case 1:
                  y.pipes = [y.pipes, t];
                  break;
                default:
                  y.pipes.push(t);
              }
              (y.pipesCount += 1), Yt("pipe count=%d opts=%j", y.pipesCount, f);
              var w = !f || f.end !== !1 ? P : x;
              function k(ie) {
                Yt("onunpipe"), ie === d && x();
              }
              function P() {
                Yt("onend"), t.end();
              }
              y.endEmitted ? xn(w) : d.once("end", w), t.on("unpipe", k);
              var V = (function (ie) {
                return function () {
                  var oe = ie._readableState;
                  Yt("pipeOnDrain", oe.awaitDrain),
                    oe.awaitDrain && oe.awaitDrain--,
                    oe.awaitDrain === 0 &&
                      ie.listeners("data").length &&
                      ((oe.flowing = !0), bn(ie));
                };
              })(d);
              t.on("drain", V);
              var j = !1;
              function x() {
                Yt("cleanup"),
                  t.removeListener("close", Z),
                  t.removeListener("finish", ae),
                  t.removeListener("drain", V),
                  t.removeListener("error", Y),
                  t.removeListener("unpipe", k),
                  d.removeListener("end", P),
                  d.removeListener("end", x),
                  d.removeListener("data", ne),
                  (j = !0),
                  !y.awaitDrain ||
                    (t._writableState && !t._writableState.needDrain) ||
                    V();
              }
              var K = !1;
              function ne(ie) {
                Yt("ondata"),
                  (K = !1),
                  t.write(ie) !== !1 ||
                    K ||
                    (((y.pipesCount === 1 && y.pipes === t) ||
                      (y.pipesCount > 1 && Yh(y.pipes, t) !== -1)) &&
                      !j &&
                      (Yt(
                        "false write response, pause",
                        d._readableState.awaitDrain
                      ),
                      d._readableState.awaitDrain++,
                      (K = !0)),
                    d.pause());
              }
              function Y(ie) {
                var oe;
                Yt("onerror", ie),
                  ve(),
                  t.removeListener("error", Y),
                  (oe = "error"),
                  t.listeners(oe).length === 0 && t.emit("error", ie);
              }
              function Z() {
                t.removeListener("finish", ae), ve();
              }
              function ae() {
                Yt("onfinish"), t.removeListener("close", Z), ve();
              }
              function ve() {
                Yt("unpipe"), d.unpipe(t);
              }
              return (
                d.on("data", ne),
                (function (ie, oe, se) {
                  if (typeof ie.prependListener == "function")
                    return ie.prependListener(oe, se);
                  ie._events && ie._events[oe]
                    ? Array.isArray(ie._events[oe])
                      ? ie._events[oe].unshift(se)
                      : (ie._events[oe] = [se, ie._events[oe]])
                    : ie.on(oe, se);
                })(t, "error", Y),
                t.once("close", Z),
                t.once("finish", ae),
                t.emit("pipe", d),
                y.flowing || (Yt("pipe resume"), d.resume()),
                t
              );
            }),
            (yn.prototype.unpipe = function (t) {
              var f = this._readableState;
              if (f.pipesCount === 0) return this;
              if (f.pipesCount === 1)
                return t && t !== f.pipes
                  ? this
                  : (t || (t = f.pipes),
                    (f.pipes = null),
                    (f.pipesCount = 0),
                    (f.flowing = !1),
                    t && t.emit("unpipe", this),
                    this);
              if (!t) {
                var d = f.pipes,
                  y = f.pipesCount;
                (f.pipes = null), (f.pipesCount = 0), (f.flowing = !1);
                for (var w = 0; w < y; w++) d[w].emit("unpipe", this);
                return this;
              }
              var k = Yh(f.pipes, t);
              return k === -1
                ? this
                : (f.pipes.splice(k, 1),
                  (f.pipesCount -= 1),
                  f.pipesCount === 1 && (f.pipes = f.pipes[0]),
                  t.emit("unpipe", this),
                  this);
            }),
            (yn.prototype.on = function (t, f) {
              var d = Ht.prototype.on.call(this, t, f);
              if (t === "data")
                this._readableState.flowing !== !1 && this.resume();
              else if (t === "readable") {
                var y = this._readableState;
                y.endEmitted ||
                  y.readableListening ||
                  ((y.readableListening = y.needReadable = !0),
                  (y.emittedReadable = !1),
                  y.reading ? y.length && Cu(this) : xn(qm, this));
              }
              return d;
            }),
            (yn.prototype.addListener = yn.prototype.on),
            (yn.prototype.resume = function () {
              var t = this._readableState;
              return (
                t.flowing ||
                  (Yt("resume"),
                  (t.flowing = !0),
                  (function (f, d) {
                    d.resumeScheduled ||
                      ((d.resumeScheduled = !0), xn(Km, f, d));
                  })(this, t)),
                this
              );
            }),
            (yn.prototype.pause = function () {
              return (
                Yt("call pause flowing=%j", this._readableState.flowing),
                this._readableState.flowing !== !1 &&
                  (Yt("pause"),
                  (this._readableState.flowing = !1),
                  this.emit("pause")),
                this
              );
            }),
            (yn.prototype.wrap = function (t) {
              var f = this._readableState,
                d = !1,
                y = this;
              for (var w in (t.on("end", function () {
                if ((Yt("wrapped end"), f.decoder && !f.ended)) {
                  var k = f.decoder.end();
                  k && k.length && y.push(k);
                }
                y.push(null);
              }),
              t.on("data", function (k) {
                Yt("wrapped data"),
                  f.decoder && (k = f.decoder.write(k)),
                  (f.objectMode && k == null) ||
                    ((f.objectMode || (k && k.length)) &&
                      (y.push(k) || ((d = !0), t.pause())));
              }),
              t))
                this[w] === void 0 &&
                  typeof t[w] == "function" &&
                  (this[w] = (function (k) {
                    return function () {
                      return t[k].apply(t, arguments);
                    };
                  })(w));
              return (
                (function (k, P) {
                  for (var V = 0, j = k.length; V < j; V++) P(k[V], V);
                })(
                  ["error", "close", "destroy", "pause", "resume"],
                  function (k) {
                    t.on(k, y.emit.bind(y, k));
                  }
                ),
                (y._read = function (k) {
                  Yt("wrapped _read", k), d && ((d = !1), t.resume());
                }),
                y
              );
            }),
            (yn._fromList = $h),
            (Fn.WritableState = Al),
            Zn(Fn, Ht),
            (Al.prototype.getBuffer = function () {
              for (var t = this.bufferedRequest, f = []; t; )
                f.push(t), (t = t.next);
              return f;
            }),
            (Fn.prototype.pipe = function () {
              this.emit("error", new Error("Cannot pipe, not readable"));
            }),
            (Fn.prototype.write = function (t, f, d) {
              var y = this._writableState,
                w = !1;
              return (
                typeof f == "function" && ((d = f), (f = null)),
                le.isBuffer(t) ? (f = "buffer") : f || (f = y.defaultEncoding),
                typeof d != "function" && (d = Au),
                y.ended
                  ? (function (k, P) {
                      var V = new Error("write after end");
                      k.emit("error", V), xn(P, V);
                    })(this, d)
                  : (function (k, P, V, j) {
                      var x = !0,
                        K = !1;
                      return (
                        V === null
                          ? (K = new TypeError(
                              "May not write null values to stream"
                            ))
                          : le.isBuffer(V) ||
                            typeof V == "string" ||
                            V === void 0 ||
                            P.objectMode ||
                            (K = new TypeError(
                              "Invalid non-string/buffer chunk"
                            )),
                        K && (k.emit("error", K), xn(j, K), (x = !1)),
                        x
                      );
                    })(this, y, t, d) &&
                    (y.pendingcb++,
                    (w = (function (k, P, V, j, x) {
                      (V = (function (Z, ae, ve) {
                        return (
                          Z.objectMode ||
                            Z.decodeStrings === !1 ||
                            typeof ae != "string" ||
                            (ae = le.from(ae, ve)),
                          ae
                        );
                      })(P, V, j)),
                        le.isBuffer(V) && (j = "buffer");
                      var K = P.objectMode ? 1 : V.length;
                      P.length += K;
                      var ne = P.length < P.highWaterMark;
                      if ((ne || (P.needDrain = !0), P.writing || P.corked)) {
                        var Y = P.lastBufferedRequest;
                        (P.lastBufferedRequest = new $m(V, j, x)),
                          Y
                            ? (Y.next = P.lastBufferedRequest)
                            : (P.bufferedRequest = P.lastBufferedRequest),
                          (P.bufferedRequestCount += 1);
                      } else xl(k, P, !1, K, V, j, x);
                      return ne;
                    })(this, y, t, f, d))),
                w
              );
            }),
            (Fn.prototype.cork = function () {
              this._writableState.corked++;
            }),
            (Fn.prototype.uncork = function () {
              var t = this._writableState;
              t.corked &&
                (t.corked--,
                t.writing ||
                  t.corked ||
                  t.finished ||
                  t.bufferProcessing ||
                  !t.bufferedRequest ||
                  Ol(this, t));
            }),
            (Fn.prototype.setDefaultEncoding = function (t) {
              if (
                (typeof t == "string" && (t = t.toLowerCase()),
                !(
                  [
                    "hex",
                    "utf8",
                    "utf-8",
                    "ascii",
                    "binary",
                    "base64",
                    "ucs2",
                    "ucs-2",
                    "utf16le",
                    "utf-16le",
                    "raw",
                  ].indexOf((t + "").toLowerCase()) > -1
                ))
              )
                throw new TypeError("Unknown encoding: " + t);
              return (this._writableState.defaultEncoding = t), this;
            }),
            (Fn.prototype._write = function (t, f, d) {
              d(new Error("not implemented"));
            }),
            (Fn.prototype._writev = null),
            (Fn.prototype.end = function (t, f, d) {
              var y = this._writableState;
              typeof t == "function"
                ? ((d = t), (t = null), (f = null))
                : typeof f == "function" && ((d = f), (f = null)),
                t != null && this.write(t, f),
                y.corked && ((y.corked = 1), this.uncork()),
                y.ending ||
                  y.finished ||
                  (function (w, k, P) {
                    (k.ending = !0),
                      Dl(w, k),
                      P && (k.finished ? xn(P) : w.once("finish", P)),
                      (k.ended = !0),
                      (w.writable = !1);
                  })(this, y, d);
            }),
            Zn(cr, yn);
          for (
            var Qt = Object.keys(Fn.prototype), Nl = 0;
            Nl < Qt.length;
            Nl++
          ) {
            var xu = Qt[Nl];
            cr.prototype[xu] || (cr.prototype[xu] = Fn.prototype[xu]);
          }
          function cr(t) {
            if (!(this instanceof cr)) return new cr(t);
            yn.call(this, t),
              Fn.call(this, t),
              t && t.readable === !1 && (this.readable = !1),
              t && t.writable === !1 && (this.writable = !1),
              (this.allowHalfOpen = !0),
              t && t.allowHalfOpen === !1 && (this.allowHalfOpen = !1),
              this.once("end", Ym);
          }
          function Ym() {
            this.allowHalfOpen || this._writableState.ended || xn(Zm, this);
          }
          function Zm(t) {
            t.end();
          }
          function Qm(t) {
            (this.afterTransform = function (f, d) {
              return (function (y, w, k) {
                var P = y._transformState;
                P.transforming = !1;
                var V = P.writecb;
                if (!V)
                  return y.emit(
                    "error",
                    new Error("no writecb in Transform class")
                  );
                (P.writechunk = null),
                  (P.writecb = null),
                  k != null && y.push(k),
                  V(w);
                var j = y._readableState;
                (j.reading = !1),
                  (j.needReadable || j.length < j.highWaterMark) &&
                    y._read(j.highWaterMark);
              })(t, f, d);
            }),
              (this.needTransform = !1),
              (this.transforming = !1),
              (this.writecb = null),
              (this.writechunk = null),
              (this.writeencoding = null);
          }
          function Rr(t) {
            if (!(this instanceof Rr)) return new Rr(t);
            cr.call(this, t), (this._transformState = new Qm(this));
            var f = this;
            (this._readableState.needReadable = !0),
              (this._readableState.sync = !1),
              t &&
                (typeof t.transform == "function" &&
                  (this._transform = t.transform),
                typeof t.flush == "function" && (this._flush = t.flush)),
              this.once("prefinish", function () {
                typeof this._flush == "function"
                  ? this._flush(function (d) {
                      cs(f, d);
                    })
                  : cs(f);
              });
          }
          function cs(t, f) {
            if (f) return t.emit("error", f);
            var d = t._writableState,
              y = t._transformState;
            if (d.length)
              throw new Error("Calling transform done when ws.length != 0");
            if (y.transforming)
              throw new Error("Calling transform done when still transforming");
            return t.push(null);
          }
          function ls(t) {
            if (!(this instanceof ls)) return new ls(t);
            Rr.call(this, t);
          }
          function yi() {
            Ht.call(this);
          }
          Zn(Rr, cr),
            (Rr.prototype.push = function (t, f) {
              return (
                (this._transformState.needTransform = !1),
                cr.prototype.push.call(this, t, f)
              );
            }),
            (Rr.prototype._transform = function (t, f, d) {
              throw new Error("Not implemented");
            }),
            (Rr.prototype._write = function (t, f, d) {
              var y = this._transformState;
              if (
                ((y.writecb = d),
                (y.writechunk = t),
                (y.writeencoding = f),
                !y.transforming)
              ) {
                var w = this._readableState;
                (y.needTransform ||
                  w.needReadable ||
                  w.length < w.highWaterMark) &&
                  this._read(w.highWaterMark);
              }
            }),
            (Rr.prototype._read = function (t) {
              var f = this._transformState;
              f.writechunk !== null && f.writecb && !f.transforming
                ? ((f.transforming = !0),
                  this._transform(
                    f.writechunk,
                    f.writeencoding,
                    f.afterTransform
                  ))
                : (f.needTransform = !0);
            }),
            Zn(ls, Rr),
            (ls.prototype._transform = function (t, f, d) {
              d(null, t);
            }),
            Zn(yi, Ht),
            (yi.Readable = yn),
            (yi.Writable = Fn),
            (yi.Duplex = cr),
            (yi.Transform = Rr),
            (yi.PassThrough = ls),
            (yi.Stream = yi),
            (yi.prototype.pipe = function (t, f) {
              var d = this;
              function y(K) {
                t.writable && t.write(K) === !1 && d.pause && d.pause();
              }
              function w() {
                d.readable && d.resume && d.resume();
              }
              d.on("data", y),
                t.on("drain", w),
                t._isStdio ||
                  (f && f.end === !1) ||
                  (d.on("end", P), d.on("close", V));
              var k = !1;
              function P() {
                k || ((k = !0), t.end());
              }
              function V() {
                k || ((k = !0), typeof t.destroy == "function" && t.destroy());
              }
              function j(K) {
                if ((x(), Ht.listenerCount(this, "error") === 0)) throw K;
              }
              function x() {
                d.removeListener("data", y),
                  t.removeListener("drain", w),
                  d.removeListener("end", P),
                  d.removeListener("close", V),
                  d.removeListener("error", j),
                  t.removeListener("error", j),
                  d.removeListener("end", x),
                  d.removeListener("close", x),
                  t.removeListener("close", x);
              }
              return (
                d.on("error", j),
                t.on("error", j),
                d.on("end", x),
                d.on("close", x),
                t.on("close", x),
                t.emit("pipe", d),
                t
              );
            });
          var ds = {
            2: "need dictionary",
            1: "stream end",
            0: "",
            "-1": "file error",
            "-2": "stream error",
            "-3": "data error",
            "-4": "insufficient memory",
            "-5": "buffer error",
            "-6": "incompatible version",
          };
          function Qh() {
            (this.input = null),
              (this.next_in = 0),
              (this.avail_in = 0),
              (this.total_in = 0),
              (this.output = null),
              (this.next_out = 0),
              (this.avail_out = 0),
              (this.total_out = 0),
              (this.msg = ""),
              (this.state = null),
              (this.data_type = 2),
              (this.adler = 0);
          }
          function Mr(t, f, d, y, w) {
            if (f.subarray && t.subarray) t.set(f.subarray(d, d + y), w);
            else for (var k = 0; k < y; k++) t[w + k] = f[d + k];
          }
          var Pu = Uint8Array,
            Qn = Uint16Array,
            Ou = Int32Array,
            Xh = 4,
            ef = 0,
            tf = 1,
            Xm = 2;
          function co(t) {
            for (var f = t.length; --f >= 0; ) t[f] = 0;
          }
          var eg = 0,
            nf = 1,
            tg = 2,
            Ll = 29,
            lo = 256,
            vn = lo + 1 + Ll,
            wa = 30,
            Ml = 19,
            rf = 2 * vn + 1,
            ka = 15,
            mn = 16,
            ng = 7,
            Ul = 256,
            af = 16,
            hs = 17,
            Vl = 18,
            Fl = [
              0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4,
              4, 4, 5, 5, 5, 5, 0,
            ],
            ho = [
              0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9,
              10, 10, 11, 11, 12, 12, 13, 13,
            ],
            rg = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7],
            of = [
              16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15,
            ],
            bi = new Array(2 * (vn + 2));
          co(bi);
          var fs = new Array(2 * wa);
          co(fs);
          var ps = new Array(512);
          co(ps);
          var vs = new Array(256);
          co(vs);
          var Cr = new Array(Ll);
          co(Cr);
          var Du,
            Nu,
            sf,
            ms = new Array(wa);
          function jl(t, f, d, y, w) {
            (this.static_tree = t),
              (this.extra_bits = f),
              (this.extra_base = d),
              (this.elems = y),
              (this.max_length = w),
              (this.has_stree = t && t.length);
          }
          function gs(t, f) {
            (this.dyn_tree = t), (this.max_code = 0), (this.stat_desc = f);
          }
          function Ki(t) {
            return t < 256 ? ps[t] : ps[256 + (t >>> 7)];
          }
          function _s(t, f) {
            (t.pending_buf[t.pending++] = 255 & f),
              (t.pending_buf[t.pending++] = (f >>> 8) & 255);
          }
          function Gn(t, f, d) {
            t.bi_valid > mn - d
              ? ((t.bi_buf |= (f << t.bi_valid) & 65535),
                _s(t, t.bi_buf),
                (t.bi_buf = f >> (mn - t.bi_valid)),
                (t.bi_valid += d - mn))
              : ((t.bi_buf |= (f << t.bi_valid) & 65535), (t.bi_valid += d));
          }
          function Yr(t, f, d) {
            Gn(t, d[2 * f], d[2 * f + 1]);
          }
          function ys(t, f) {
            var d = 0;
            do (d |= 1 & t), (t >>>= 1), (d <<= 1);
            while (--f > 0);
            return d >>> 1;
          }
          function fo(t, f, d) {
            var y,
              w,
              k = new Array(ka + 1),
              P = 0;
            for (y = 1; y <= ka; y++) k[y] = P = (P + d[y - 1]) << 1;
            for (w = 0; w <= f; w++) {
              var V = t[2 * w + 1];
              V !== 0 && (t[2 * w] = ys(k[V]++, V));
            }
          }
          function bs(t) {
            var f;
            for (f = 0; f < vn; f++) t.dyn_ltree[2 * f] = 0;
            for (f = 0; f < wa; f++) t.dyn_dtree[2 * f] = 0;
            for (f = 0; f < Ml; f++) t.bl_tree[2 * f] = 0;
            (t.dyn_ltree[2 * Ul] = 1),
              (t.opt_len = t.static_len = 0),
              (t.last_lit = t.matches = 0);
          }
          function Lu(t) {
            t.bi_valid > 8
              ? _s(t, t.bi_buf)
              : t.bi_valid > 0 && (t.pending_buf[t.pending++] = t.bi_buf),
              (t.bi_buf = 0),
              (t.bi_valid = 0);
          }
          function uf(t, f, d, y) {
            var w = 2 * f,
              k = 2 * d;
            return t[w] < t[k] || (t[w] === t[k] && y[f] <= y[d]);
          }
          function Mu(t, f, d) {
            for (
              var y = t.heap[d], w = d << 1;
              w <= t.heap_len &&
              (w < t.heap_len &&
                uf(f, t.heap[w + 1], t.heap[w], t.depth) &&
                w++,
              !uf(f, y, t.heap[w], t.depth));

            )
              (t.heap[d] = t.heap[w]), (d = w), (w <<= 1);
            t.heap[d] = y;
          }
          function Bl(t, f, d) {
            var y,
              w,
              k,
              P,
              V = 0;
            if (t.last_lit !== 0)
              do
                (y =
                  (t.pending_buf[t.d_buf + 2 * V] << 8) |
                  t.pending_buf[t.d_buf + 2 * V + 1]),
                  (w = t.pending_buf[t.l_buf + V]),
                  V++,
                  y === 0
                    ? Yr(t, w, f)
                    : (Yr(t, (k = vs[w]) + lo + 1, f),
                      (P = Fl[k]) !== 0 && Gn(t, (w -= Cr[k]), P),
                      Yr(t, (k = Ki(--y)), d),
                      (P = ho[k]) !== 0 && Gn(t, (y -= ms[k]), P));
              while (V < t.last_lit);
            Yr(t, Ul, f);
          }
          function Hl(t, f) {
            var d,
              y,
              w,
              k = f.dyn_tree,
              P = f.stat_desc.static_tree,
              V = f.stat_desc.has_stree,
              j = f.stat_desc.elems,
              x = -1;
            for (t.heap_len = 0, t.heap_max = rf, d = 0; d < j; d++)
              k[2 * d] !== 0
                ? ((t.heap[++t.heap_len] = x = d), (t.depth[d] = 0))
                : (k[2 * d + 1] = 0);
            for (; t.heap_len < 2; )
              (k[2 * (w = t.heap[++t.heap_len] = x < 2 ? ++x : 0)] = 1),
                (t.depth[w] = 0),
                t.opt_len--,
                V && (t.static_len -= P[2 * w + 1]);
            for (f.max_code = x, d = t.heap_len >> 1; d >= 1; d--) Mu(t, k, d);
            w = j;
            do
              (d = t.heap[1]),
                (t.heap[1] = t.heap[t.heap_len--]),
                Mu(t, k, 1),
                (y = t.heap[1]),
                (t.heap[--t.heap_max] = d),
                (t.heap[--t.heap_max] = y),
                (k[2 * w] = k[2 * d] + k[2 * y]),
                (t.depth[w] =
                  (t.depth[d] >= t.depth[y] ? t.depth[d] : t.depth[y]) + 1),
                (k[2 * d + 1] = k[2 * y + 1] = w),
                (t.heap[1] = w++),
                Mu(t, k, 1);
            while (t.heap_len >= 2);
            (t.heap[--t.heap_max] = t.heap[1]),
              (function (K, ne) {
                var Y,
                  Z,
                  ae,
                  ve,
                  ie,
                  oe,
                  se = ne.dyn_tree,
                  he = ne.max_code,
                  pe = ne.stat_desc.static_tree,
                  ge = ne.stat_desc.has_stree,
                  be = ne.stat_desc.extra_bits,
                  xe = ne.stat_desc.extra_base,
                  Ce = ne.stat_desc.max_length,
                  Pe = 0;
                for (ve = 0; ve <= ka; ve++) K.bl_count[ve] = 0;
                for (
                  se[2 * K.heap[K.heap_max] + 1] = 0, Y = K.heap_max + 1;
                  Y < rf;
                  Y++
                )
                  (ve = se[2 * se[2 * (Z = K.heap[Y]) + 1] + 1] + 1) > Ce &&
                    ((ve = Ce), Pe++),
                    (se[2 * Z + 1] = ve),
                    Z > he ||
                      (K.bl_count[ve]++,
                      (ie = 0),
                      Z >= xe && (ie = be[Z - xe]),
                      (oe = se[2 * Z]),
                      (K.opt_len += oe * (ve + ie)),
                      ge && (K.static_len += oe * (pe[2 * Z + 1] + ie)));
                if (Pe !== 0) {
                  do {
                    for (ve = Ce - 1; K.bl_count[ve] === 0; ) ve--;
                    K.bl_count[ve]--,
                      (K.bl_count[ve + 1] += 2),
                      K.bl_count[Ce]--,
                      (Pe -= 2);
                  } while (Pe > 0);
                  for (ve = Ce; ve !== 0; ve--)
                    for (Z = K.bl_count[ve]; Z !== 0; )
                      (ae = K.heap[--Y]) > he ||
                        (se[2 * ae + 1] !== ve &&
                          ((K.opt_len += (ve - se[2 * ae + 1]) * se[2 * ae]),
                          (se[2 * ae + 1] = ve)),
                        Z--);
                }
              })(t, f),
              fo(k, x, t.bl_count);
          }
          function cf(t, f, d) {
            var y,
              w,
              k = -1,
              P = f[1],
              V = 0,
              j = 7,
              x = 4;
            for (
              P === 0 && ((j = 138), (x = 3)),
                f[2 * (d + 1) + 1] = 65535,
                y = 0;
              y <= d;
              y++
            )
              (w = P),
                (P = f[2 * (y + 1) + 1]),
                (++V < j && w === P) ||
                  (V < x
                    ? (t.bl_tree[2 * w] += V)
                    : w !== 0
                    ? (w !== k && t.bl_tree[2 * w]++, t.bl_tree[2 * af]++)
                    : V <= 10
                    ? t.bl_tree[2 * hs]++
                    : t.bl_tree[2 * Vl]++,
                  (V = 0),
                  (k = w),
                  P === 0
                    ? ((j = 138), (x = 3))
                    : w === P
                    ? ((j = 6), (x = 3))
                    : ((j = 7), (x = 4)));
          }
          function zl(t, f, d) {
            var y,
              w,
              k = -1,
              P = f[1],
              V = 0,
              j = 7,
              x = 4;
            for (P === 0 && ((j = 138), (x = 3)), y = 0; y <= d; y++)
              if (((w = P), (P = f[2 * (y + 1) + 1]), !(++V < j && w === P))) {
                if (V < x)
                  do Yr(t, w, t.bl_tree);
                  while (--V != 0);
                else
                  w !== 0
                    ? (w !== k && (Yr(t, w, t.bl_tree), V--),
                      Yr(t, af, t.bl_tree),
                      Gn(t, V - 3, 2))
                    : V <= 10
                    ? (Yr(t, hs, t.bl_tree), Gn(t, V - 3, 3))
                    : (Yr(t, Vl, t.bl_tree), Gn(t, V - 11, 7));
                (V = 0),
                  (k = w),
                  P === 0
                    ? ((j = 138), (x = 3))
                    : w === P
                    ? ((j = 6), (x = 3))
                    : ((j = 7), (x = 4));
              }
          }
          co(ms);
          var Uu = !1;
          function Vu(t) {
            Uu ||
              ((function () {
                var f,
                  d,
                  y,
                  w,
                  k,
                  P = new Array(ka + 1);
                for (y = 0, w = 0; w < Ll - 1; w++)
                  for (Cr[w] = y, f = 0; f < 1 << Fl[w]; f++) vs[y++] = w;
                for (vs[y - 1] = w, k = 0, w = 0; w < 16; w++)
                  for (ms[w] = k, f = 0; f < 1 << ho[w]; f++) ps[k++] = w;
                for (k >>= 7; w < wa; w++)
                  for (ms[w] = k << 7, f = 0; f < 1 << (ho[w] - 7); f++)
                    ps[256 + k++] = w;
                for (d = 0; d <= ka; d++) P[d] = 0;
                for (f = 0; f <= 143; ) (bi[2 * f + 1] = 8), f++, P[8]++;
                for (; f <= 255; ) (bi[2 * f + 1] = 9), f++, P[9]++;
                for (; f <= 279; ) (bi[2 * f + 1] = 7), f++, P[7]++;
                for (; f <= 287; ) (bi[2 * f + 1] = 8), f++, P[8]++;
                for (fo(bi, vn + 1, P), f = 0; f < wa; f++)
                  (fs[2 * f + 1] = 5), (fs[2 * f] = ys(f, 5));
                (Du = new jl(bi, Fl, lo + 1, vn, ka)),
                  (Nu = new jl(fs, ho, 0, wa, ka)),
                  (sf = new jl(new Array(0), rg, 0, Ml, ng));
              })(),
              (Uu = !0)),
              (t.l_desc = new gs(t.dyn_ltree, Du)),
              (t.d_desc = new gs(t.dyn_dtree, Nu)),
              (t.bl_desc = new gs(t.bl_tree, sf)),
              (t.bi_buf = 0),
              (t.bi_valid = 0),
              bs(t);
          }
          function lf(t, f, d, y) {
            Gn(t, (eg << 1) + (y ? 1 : 0), 3),
              (function (w, k, P, V) {
                Lu(w),
                  _s(w, P),
                  _s(w, ~P),
                  Mr(w.pending_buf, w.window, k, P, w.pending),
                  (w.pending += P);
              })(t, f, d);
          }
          function df(t) {
            Gn(t, nf << 1, 3),
              Yr(t, Ul, bi),
              (function (f) {
                f.bi_valid === 16
                  ? (_s(f, f.bi_buf), (f.bi_buf = 0), (f.bi_valid = 0))
                  : f.bi_valid >= 8 &&
                    ((f.pending_buf[f.pending++] = 255 & f.bi_buf),
                    (f.bi_buf >>= 8),
                    (f.bi_valid -= 8));
              })(t);
          }
          function ig(t, f, d, y) {
            var w,
              k,
              P = 0;
            t.level > 0
              ? (t.strm.data_type === Xm &&
                  (t.strm.data_type = (function (V) {
                    var j,
                      x = 4093624447;
                    for (j = 0; j <= 31; j++, x >>>= 1)
                      if (1 & x && V.dyn_ltree[2 * j] !== 0) return ef;
                    if (
                      V.dyn_ltree[18] !== 0 ||
                      V.dyn_ltree[20] !== 0 ||
                      V.dyn_ltree[26] !== 0
                    )
                      return tf;
                    for (j = 32; j < lo; j++)
                      if (V.dyn_ltree[2 * j] !== 0) return tf;
                    return ef;
                  })(t)),
                Hl(t, t.l_desc),
                Hl(t, t.d_desc),
                (P = (function (V) {
                  var j;
                  for (
                    cf(V, V.dyn_ltree, V.l_desc.max_code),
                      cf(V, V.dyn_dtree, V.d_desc.max_code),
                      Hl(V, V.bl_desc),
                      j = Ml - 1;
                    j >= 3 && V.bl_tree[2 * of[j] + 1] === 0;
                    j--
                  );
                  return (V.opt_len += 3 * (j + 1) + 5 + 5 + 4), j;
                })(t)),
                (w = (t.opt_len + 3 + 7) >>> 3),
                (k = (t.static_len + 3 + 7) >>> 3) <= w && (w = k))
              : (w = k = d + 5),
              d + 4 <= w && f !== -1
                ? lf(t, f, d, y)
                : t.strategy === Xh || k === w
                ? (Gn(t, (nf << 1) + (y ? 1 : 0), 3), Bl(t, bi, fs))
                : (Gn(t, (tg << 1) + (y ? 1 : 0), 3),
                  (function (V, j, x, K) {
                    var ne;
                    for (
                      Gn(V, j - 257, 5),
                        Gn(V, x - 1, 5),
                        Gn(V, K - 4, 4),
                        ne = 0;
                      ne < K;
                      ne++
                    )
                      Gn(V, V.bl_tree[2 * of[ne] + 1], 3);
                    zl(V, V.dyn_ltree, j - 1), zl(V, V.dyn_dtree, x - 1);
                  })(t, t.l_desc.max_code + 1, t.d_desc.max_code + 1, P + 1),
                  Bl(t, t.dyn_ltree, t.dyn_dtree)),
              bs(t),
              y && Lu(t);
          }
          function Ji(t, f, d) {
            return (
              (t.pending_buf[t.d_buf + 2 * t.last_lit] = (f >>> 8) & 255),
              (t.pending_buf[t.d_buf + 2 * t.last_lit + 1] = 255 & f),
              (t.pending_buf[t.l_buf + t.last_lit] = 255 & d),
              t.last_lit++,
              f === 0
                ? t.dyn_ltree[2 * d]++
                : (t.matches++,
                  f--,
                  t.dyn_ltree[2 * (vs[d] + lo + 1)]++,
                  t.dyn_dtree[2 * Ki(f)]++),
              t.last_lit === t.lit_bufsize - 1
            );
          }
          function Ss(t, f, d, y) {
            for (
              var w = (65535 & t) | 0, k = ((t >>> 16) & 65535) | 0, P = 0;
              d !== 0;

            ) {
              d -= P = d > 2e3 ? 2e3 : d;
              do k = (k + (w = (w + f[y++]) | 0)) | 0;
              while (--P);
              (w %= 65521), (k %= 65521);
            }
            return w | (k << 16) | 0;
          }
          var Wl = (function () {
            for (var t, f = [], d = 0; d < 256; d++) {
              t = d;
              for (var y = 0; y < 8; y++)
                t = 1 & t ? 3988292384 ^ (t >>> 1) : t >>> 1;
              f[d] = t;
            }
            return f;
          })();
          function On(t, f, d, y) {
            var w = Wl,
              k = y + d;
            t ^= -1;
            for (var P = y; P < k; P++) t = (t >>> 8) ^ w[255 & (t ^ f[P])];
            return -1 ^ t;
          }
          var po,
            $i = 0,
            Gl = 1,
            ag = 3,
            jn = 4,
            Ta = 5,
            an = 0,
            hf = 1,
            Ea = -2,
            Fu = -3,
            ws = -5,
            og = -1,
            sg = 1,
            ju = 2,
            ug = 3,
            Bu = 4,
            cg = 2,
            ql = 8,
            lg = 9,
            Kl = 286,
            dg = 30,
            hg = 19,
            fg = 2 * Kl + 1,
            Bn = 15,
            Ft = 3,
            Yi = 258,
            Ur = Yi + Ft + 1,
            pg = 32,
            lr = 42,
            Jl = 69,
            Hu = 73,
            zu = 91,
            Vr = 103,
            Ia = 113,
            ks = 666,
            on = 1,
            Ts = 2,
            wn = 3,
            vo = 4,
            vg = 3;
          function Zi(t, f) {
            return (t.msg = ds[f]), f;
          }
          function $l(t) {
            return (t << 1) - (t > 4 ? 9 : 0);
          }
          function Fr(t) {
            for (var f = t.length; --f >= 0; ) t[f] = 0;
          }
          function Zr(t) {
            var f = t.state,
              d = f.pending;
            d > t.avail_out && (d = t.avail_out),
              d !== 0 &&
                (Mr(t.output, f.pending_buf, f.pending_out, d, t.next_out),
                (t.next_out += d),
                (f.pending_out += d),
                (t.total_out += d),
                (t.avail_out -= d),
                (f.pending -= d),
                f.pending === 0 && (f.pending_out = 0));
          }
          function Hn(t, f) {
            ig(
              t,
              t.block_start >= 0 ? t.block_start : -1,
              t.strstart - t.block_start,
              f
            ),
              (t.block_start = t.strstart),
              Zr(t.strm);
          }
          function qt(t, f) {
            t.pending_buf[t.pending++] = f;
          }
          function Es(t, f) {
            (t.pending_buf[t.pending++] = (f >>> 8) & 255),
              (t.pending_buf[t.pending++] = 255 & f);
          }
          function Yl(t, f) {
            var d,
              y,
              w = t.max_chain_length,
              k = t.strstart,
              P = t.prev_length,
              V = t.nice_match,
              j = t.strstart > t.w_size - Ur ? t.strstart - (t.w_size - Ur) : 0,
              x = t.window,
              K = t.w_mask,
              ne = t.prev,
              Y = t.strstart + Yi,
              Z = x[k + P - 1],
              ae = x[k + P];
            t.prev_length >= t.good_match && (w >>= 2),
              V > t.lookahead && (V = t.lookahead);
            do
              if (
                x[(d = f) + P] === ae &&
                x[d + P - 1] === Z &&
                x[d] === x[k] &&
                x[++d] === x[k + 1]
              ) {
                (k += 2), d++;
                do;
                while (
                  x[++k] === x[++d] &&
                  x[++k] === x[++d] &&
                  x[++k] === x[++d] &&
                  x[++k] === x[++d] &&
                  x[++k] === x[++d] &&
                  x[++k] === x[++d] &&
                  x[++k] === x[++d] &&
                  x[++k] === x[++d] &&
                  k < Y
                );
                if (((y = Yi - (Y - k)), (k = Y - Yi), y > P)) {
                  if (((t.match_start = f), (P = y), y >= V)) break;
                  (Z = x[k + P - 1]), (ae = x[k + P]);
                }
              }
            while ((f = ne[f & K]) > j && --w != 0);
            return P <= t.lookahead ? P : t.lookahead;
          }
          function mo(t) {
            var f,
              d,
              y,
              w,
              k,
              P,
              V,
              j,
              x,
              K,
              ne = t.w_size;
            do {
              if (
                ((w = t.window_size - t.lookahead - t.strstart),
                t.strstart >= ne + (ne - Ur))
              ) {
                Mr(t.window, t.window, ne, ne, 0),
                  (t.match_start -= ne),
                  (t.strstart -= ne),
                  (t.block_start -= ne),
                  (f = d = t.hash_size);
                do (y = t.head[--f]), (t.head[f] = y >= ne ? y - ne : 0);
                while (--d);
                f = d = ne;
                do (y = t.prev[--f]), (t.prev[f] = y >= ne ? y - ne : 0);
                while (--d);
                w += ne;
              }
              if (t.strm.avail_in === 0) break;
              if (
                ((P = t.strm),
                (V = t.window),
                (j = t.strstart + t.lookahead),
                (x = w),
                (K = void 0),
                (K = P.avail_in) > x && (K = x),
                (d =
                  K === 0
                    ? 0
                    : ((P.avail_in -= K),
                      Mr(V, P.input, P.next_in, K, j),
                      P.state.wrap === 1
                        ? (P.adler = Ss(P.adler, V, K, j))
                        : P.state.wrap === 2 &&
                          (P.adler = On(P.adler, V, K, j)),
                      (P.next_in += K),
                      (P.total_in += K),
                      K)),
                (t.lookahead += d),
                t.lookahead + t.insert >= Ft)
              )
                for (
                  k = t.strstart - t.insert,
                    t.ins_h = t.window[k],
                    t.ins_h =
                      ((t.ins_h << t.hash_shift) ^ t.window[k + 1]) &
                      t.hash_mask;
                  t.insert &&
                  ((t.ins_h =
                    ((t.ins_h << t.hash_shift) ^ t.window[k + Ft - 1]) &
                    t.hash_mask),
                  (t.prev[k & t.w_mask] = t.head[t.ins_h]),
                  (t.head[t.ins_h] = k),
                  k++,
                  t.insert--,
                  !(t.lookahead + t.insert < Ft));

                );
            } while (t.lookahead < Ur && t.strm.avail_in !== 0);
          }
          function Is(t, f) {
            for (var d, y; ; ) {
              if (t.lookahead < Ur) {
                if ((mo(t), t.lookahead < Ur && f === $i)) return on;
                if (t.lookahead === 0) break;
              }
              if (
                ((d = 0),
                t.lookahead >= Ft &&
                  ((t.ins_h =
                    ((t.ins_h << t.hash_shift) ^
                      t.window[t.strstart + Ft - 1]) &
                    t.hash_mask),
                  (d = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h]),
                  (t.head[t.ins_h] = t.strstart)),
                d !== 0 &&
                  t.strstart - d <= t.w_size - Ur &&
                  (t.match_length = Yl(t, d)),
                t.match_length >= Ft)
              )
                if (
                  ((y = Ji(t, t.strstart - t.match_start, t.match_length - Ft)),
                  (t.lookahead -= t.match_length),
                  t.match_length <= t.max_lazy_match && t.lookahead >= Ft)
                ) {
                  t.match_length--;
                  do
                    t.strstart++,
                      (t.ins_h =
                        ((t.ins_h << t.hash_shift) ^
                          t.window[t.strstart + Ft - 1]) &
                        t.hash_mask),
                      (d = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h]),
                      (t.head[t.ins_h] = t.strstart);
                  while (--t.match_length != 0);
                  t.strstart++;
                } else
                  (t.strstart += t.match_length),
                    (t.match_length = 0),
                    (t.ins_h = t.window[t.strstart]),
                    (t.ins_h =
                      ((t.ins_h << t.hash_shift) ^ t.window[t.strstart + 1]) &
                      t.hash_mask);
              else
                (y = Ji(t, 0, t.window[t.strstart])),
                  t.lookahead--,
                  t.strstart++;
              if (y && (Hn(t, !1), t.strm.avail_out === 0)) return on;
            }
            return (
              (t.insert = t.strstart < Ft - 1 ? t.strstart : Ft - 1),
              f === jn
                ? (Hn(t, !0), t.strm.avail_out === 0 ? wn : vo)
                : t.last_lit && (Hn(t, !1), t.strm.avail_out === 0)
                ? on
                : Ts
            );
          }
          function go(t, f) {
            for (var d, y, w; ; ) {
              if (t.lookahead < Ur) {
                if ((mo(t), t.lookahead < Ur && f === $i)) return on;
                if (t.lookahead === 0) break;
              }
              if (
                ((d = 0),
                t.lookahead >= Ft &&
                  ((t.ins_h =
                    ((t.ins_h << t.hash_shift) ^
                      t.window[t.strstart + Ft - 1]) &
                    t.hash_mask),
                  (d = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h]),
                  (t.head[t.ins_h] = t.strstart)),
                (t.prev_length = t.match_length),
                (t.prev_match = t.match_start),
                (t.match_length = Ft - 1),
                d !== 0 &&
                  t.prev_length < t.max_lazy_match &&
                  t.strstart - d <= t.w_size - Ur &&
                  ((t.match_length = Yl(t, d)),
                  t.match_length <= 5 &&
                    (t.strategy === sg ||
                      (t.match_length === Ft &&
                        t.strstart - t.match_start > 4096)) &&
                    (t.match_length = Ft - 1)),
                t.prev_length >= Ft && t.match_length <= t.prev_length)
              ) {
                (w = t.strstart + t.lookahead - Ft),
                  (y = Ji(
                    t,
                    t.strstart - 1 - t.prev_match,
                    t.prev_length - Ft
                  )),
                  (t.lookahead -= t.prev_length - 1),
                  (t.prev_length -= 2);
                do
                  ++t.strstart <= w &&
                    ((t.ins_h =
                      ((t.ins_h << t.hash_shift) ^
                        t.window[t.strstart + Ft - 1]) &
                      t.hash_mask),
                    (d = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h]),
                    (t.head[t.ins_h] = t.strstart));
                while (--t.prev_length != 0);
                if (
                  ((t.match_available = 0),
                  (t.match_length = Ft - 1),
                  t.strstart++,
                  y && (Hn(t, !1), t.strm.avail_out === 0))
                )
                  return on;
              } else if (t.match_available) {
                if (
                  ((y = Ji(t, 0, t.window[t.strstart - 1])) && Hn(t, !1),
                  t.strstart++,
                  t.lookahead--,
                  t.strm.avail_out === 0)
                )
                  return on;
              } else (t.match_available = 1), t.strstart++, t.lookahead--;
            }
            return (
              t.match_available &&
                ((y = Ji(t, 0, t.window[t.strstart - 1])),
                (t.match_available = 0)),
              (t.insert = t.strstart < Ft - 1 ? t.strstart : Ft - 1),
              f === jn
                ? (Hn(t, !0), t.strm.avail_out === 0 ? wn : vo)
                : t.last_lit && (Hn(t, !1), t.strm.avail_out === 0)
                ? on
                : Ts
            );
          }
          function Qr(t, f, d, y, w) {
            (this.good_length = t),
              (this.max_lazy = f),
              (this.nice_length = d),
              (this.max_chain = y),
              (this.func = w);
          }
          function Zl() {
            (this.strm = null),
              (this.status = 0),
              (this.pending_buf = null),
              (this.pending_buf_size = 0),
              (this.pending_out = 0),
              (this.pending = 0),
              (this.wrap = 0),
              (this.gzhead = null),
              (this.gzindex = 0),
              (this.method = ql),
              (this.last_flush = -1),
              (this.w_size = 0),
              (this.w_bits = 0),
              (this.w_mask = 0),
              (this.window = null),
              (this.window_size = 0),
              (this.prev = null),
              (this.head = null),
              (this.ins_h = 0),
              (this.hash_size = 0),
              (this.hash_bits = 0),
              (this.hash_mask = 0),
              (this.hash_shift = 0),
              (this.block_start = 0),
              (this.match_length = 0),
              (this.prev_match = 0),
              (this.match_available = 0),
              (this.strstart = 0),
              (this.match_start = 0),
              (this.lookahead = 0),
              (this.prev_length = 0),
              (this.max_chain_length = 0),
              (this.max_lazy_match = 0),
              (this.level = 0),
              (this.strategy = 0),
              (this.good_match = 0),
              (this.nice_match = 0),
              (this.dyn_ltree = new Qn(2 * fg)),
              (this.dyn_dtree = new Qn(2 * (2 * dg + 1))),
              (this.bl_tree = new Qn(2 * (2 * hg + 1))),
              Fr(this.dyn_ltree),
              Fr(this.dyn_dtree),
              Fr(this.bl_tree),
              (this.l_desc = null),
              (this.d_desc = null),
              (this.bl_desc = null),
              (this.bl_count = new Qn(Bn + 1)),
              (this.heap = new Qn(2 * Kl + 1)),
              Fr(this.heap),
              (this.heap_len = 0),
              (this.heap_max = 0),
              (this.depth = new Qn(2 * Kl + 1)),
              Fr(this.depth),
              (this.l_buf = 0),
              (this.lit_bufsize = 0),
              (this.last_lit = 0),
              (this.d_buf = 0),
              (this.opt_len = 0),
              (this.static_len = 0),
              (this.matches = 0),
              (this.insert = 0),
              (this.bi_buf = 0),
              (this.bi_valid = 0);
          }
          function ff(t) {
            var f,
              d = (function (y) {
                var w;
                return y && y.state
                  ? ((y.total_in = y.total_out = 0),
                    (y.data_type = cg),
                    ((w = y.state).pending = 0),
                    (w.pending_out = 0),
                    w.wrap < 0 && (w.wrap = -w.wrap),
                    (w.status = w.wrap ? lr : Ia),
                    (y.adler = w.wrap === 2 ? 0 : 1),
                    (w.last_flush = $i),
                    Vu(w),
                    an)
                  : Zi(y, Ea);
              })(t);
            return (
              d === an &&
                (((f = t.state).window_size = 2 * f.w_size),
                Fr(f.head),
                (f.max_lazy_match = po[f.level].max_lazy),
                (f.good_match = po[f.level].good_length),
                (f.nice_match = po[f.level].nice_length),
                (f.max_chain_length = po[f.level].max_chain),
                (f.strstart = 0),
                (f.block_start = 0),
                (f.lookahead = 0),
                (f.insert = 0),
                (f.match_length = f.prev_length = Ft - 1),
                (f.match_available = 0),
                (f.ins_h = 0)),
              d
            );
          }
          function mg(t, f) {
            var d, y, w, k;
            if (!t || !t.state || f > Ta || f < 0) return t ? Zi(t, Ea) : Ea;
            if (
              ((y = t.state),
              !t.output ||
                (!t.input && t.avail_in !== 0) ||
                (y.status === ks && f !== jn))
            )
              return Zi(t, t.avail_out === 0 ? ws : Ea);
            if (
              ((y.strm = t),
              (d = y.last_flush),
              (y.last_flush = f),
              y.status === lr)
            )
              if (y.wrap === 2)
                (t.adler = 0),
                  qt(y, 31),
                  qt(y, 139),
                  qt(y, 8),
                  y.gzhead
                    ? (qt(
                        y,
                        (y.gzhead.text ? 1 : 0) +
                          (y.gzhead.hcrc ? 2 : 0) +
                          (y.gzhead.extra ? 4 : 0) +
                          (y.gzhead.name ? 8 : 0) +
                          (y.gzhead.comment ? 16 : 0)
                      ),
                      qt(y, 255 & y.gzhead.time),
                      qt(y, (y.gzhead.time >> 8) & 255),
                      qt(y, (y.gzhead.time >> 16) & 255),
                      qt(y, (y.gzhead.time >> 24) & 255),
                      qt(
                        y,
                        y.level === 9
                          ? 2
                          : y.strategy >= ju || y.level < 2
                          ? 4
                          : 0
                      ),
                      qt(y, 255 & y.gzhead.os),
                      y.gzhead.extra &&
                        y.gzhead.extra.length &&
                        (qt(y, 255 & y.gzhead.extra.length),
                        qt(y, (y.gzhead.extra.length >> 8) & 255)),
                      y.gzhead.hcrc &&
                        (t.adler = On(t.adler, y.pending_buf, y.pending, 0)),
                      (y.gzindex = 0),
                      (y.status = Jl))
                    : (qt(y, 0),
                      qt(y, 0),
                      qt(y, 0),
                      qt(y, 0),
                      qt(y, 0),
                      qt(
                        y,
                        y.level === 9
                          ? 2
                          : y.strategy >= ju || y.level < 2
                          ? 4
                          : 0
                      ),
                      qt(y, vg),
                      (y.status = Ia));
              else {
                var P = (ql + ((y.w_bits - 8) << 4)) << 8;
                (P |=
                  (y.strategy >= ju || y.level < 2
                    ? 0
                    : y.level < 6
                    ? 1
                    : y.level === 6
                    ? 2
                    : 3) << 6),
                  y.strstart !== 0 && (P |= pg),
                  (P += 31 - (P % 31)),
                  (y.status = Ia),
                  Es(y, P),
                  y.strstart !== 0 &&
                    (Es(y, t.adler >>> 16), Es(y, 65535 & t.adler)),
                  (t.adler = 1);
              }
            if (y.status === Jl)
              if (y.gzhead.extra) {
                for (
                  w = y.pending;
                  y.gzindex < (65535 & y.gzhead.extra.length) &&
                  (y.pending !== y.pending_buf_size ||
                    (y.gzhead.hcrc &&
                      y.pending > w &&
                      (t.adler = On(t.adler, y.pending_buf, y.pending - w, w)),
                    Zr(t),
                    (w = y.pending),
                    y.pending !== y.pending_buf_size));

                )
                  qt(y, 255 & y.gzhead.extra[y.gzindex]), y.gzindex++;
                y.gzhead.hcrc &&
                  y.pending > w &&
                  (t.adler = On(t.adler, y.pending_buf, y.pending - w, w)),
                  y.gzindex === y.gzhead.extra.length &&
                    ((y.gzindex = 0), (y.status = Hu));
              } else y.status = Hu;
            if (y.status === Hu)
              if (y.gzhead.name) {
                w = y.pending;
                do {
                  if (
                    y.pending === y.pending_buf_size &&
                    (y.gzhead.hcrc &&
                      y.pending > w &&
                      (t.adler = On(t.adler, y.pending_buf, y.pending - w, w)),
                    Zr(t),
                    (w = y.pending),
                    y.pending === y.pending_buf_size)
                  ) {
                    k = 1;
                    break;
                  }
                  (k =
                    y.gzindex < y.gzhead.name.length
                      ? 255 & y.gzhead.name.charCodeAt(y.gzindex++)
                      : 0),
                    qt(y, k);
                } while (k !== 0);
                y.gzhead.hcrc &&
                  y.pending > w &&
                  (t.adler = On(t.adler, y.pending_buf, y.pending - w, w)),
                  k === 0 && ((y.gzindex = 0), (y.status = zu));
              } else y.status = zu;
            if (y.status === zu)
              if (y.gzhead.comment) {
                w = y.pending;
                do {
                  if (
                    y.pending === y.pending_buf_size &&
                    (y.gzhead.hcrc &&
                      y.pending > w &&
                      (t.adler = On(t.adler, y.pending_buf, y.pending - w, w)),
                    Zr(t),
                    (w = y.pending),
                    y.pending === y.pending_buf_size)
                  ) {
                    k = 1;
                    break;
                  }
                  (k =
                    y.gzindex < y.gzhead.comment.length
                      ? 255 & y.gzhead.comment.charCodeAt(y.gzindex++)
                      : 0),
                    qt(y, k);
                } while (k !== 0);
                y.gzhead.hcrc &&
                  y.pending > w &&
                  (t.adler = On(t.adler, y.pending_buf, y.pending - w, w)),
                  k === 0 && (y.status = Vr);
              } else y.status = Vr;
            if (
              (y.status === Vr &&
                (y.gzhead.hcrc
                  ? (y.pending + 2 > y.pending_buf_size && Zr(t),
                    y.pending + 2 <= y.pending_buf_size &&
                      (qt(y, 255 & t.adler),
                      qt(y, (t.adler >> 8) & 255),
                      (t.adler = 0),
                      (y.status = Ia)))
                  : (y.status = Ia)),
              y.pending !== 0)
            ) {
              if ((Zr(t), t.avail_out === 0)) return (y.last_flush = -1), an;
            } else if (t.avail_in === 0 && $l(f) <= $l(d) && f !== jn) return Zi(t, ws);
            if (y.status === ks && t.avail_in !== 0) return Zi(t, ws);
            if (
              t.avail_in !== 0 ||
              y.lookahead !== 0 ||
              (f !== $i && y.status !== ks)
            ) {
              var V =
                y.strategy === ju
                  ? (function (j, x) {
                      for (var K; ; ) {
                        if (j.lookahead === 0 && (mo(j), j.lookahead === 0)) {
                          if (x === $i) return on;
                          break;
                        }
                        if (
                          ((j.match_length = 0),
                          (K = Ji(j, 0, j.window[j.strstart])),
                          j.lookahead--,
                          j.strstart++,
                          K && (Hn(j, !1), j.strm.avail_out === 0))
                        )
                          return on;
                      }
                      return (
                        (j.insert = 0),
                        x === jn
                          ? (Hn(j, !0), j.strm.avail_out === 0 ? wn : vo)
                          : j.last_lit && (Hn(j, !1), j.strm.avail_out === 0)
                          ? on
                          : Ts
                      );
                    })(y, f)
                  : y.strategy === ug
                  ? (function (j, x) {
                      for (var K, ne, Y, Z, ae = j.window; ; ) {
                        if (j.lookahead <= Yi) {
                          if ((mo(j), j.lookahead <= Yi && x === $i)) return on;
                          if (j.lookahead === 0) break;
                        }
                        if (
                          ((j.match_length = 0),
                          j.lookahead >= Ft &&
                            j.strstart > 0 &&
                            (ne = ae[(Y = j.strstart - 1)]) === ae[++Y] &&
                            ne === ae[++Y] &&
                            ne === ae[++Y])
                        ) {
                          Z = j.strstart + Yi;
                          do;
                          while (
                            ne === ae[++Y] &&
                            ne === ae[++Y] &&
                            ne === ae[++Y] &&
                            ne === ae[++Y] &&
                            ne === ae[++Y] &&
                            ne === ae[++Y] &&
                            ne === ae[++Y] &&
                            ne === ae[++Y] &&
                            Y < Z
                          );
                          (j.match_length = Yi - (Z - Y)),
                            j.match_length > j.lookahead &&
                              (j.match_length = j.lookahead);
                        }
                        if (
                          (j.match_length >= Ft
                            ? ((K = Ji(j, 1, j.match_length - Ft)),
                              (j.lookahead -= j.match_length),
                              (j.strstart += j.match_length),
                              (j.match_length = 0))
                            : ((K = Ji(j, 0, j.window[j.strstart])),
                              j.lookahead--,
                              j.strstart++),
                          K && (Hn(j, !1), j.strm.avail_out === 0))
                        )
                          return on;
                      }
                      return (
                        (j.insert = 0),
                        x === jn
                          ? (Hn(j, !0), j.strm.avail_out === 0 ? wn : vo)
                          : j.last_lit && (Hn(j, !1), j.strm.avail_out === 0)
                          ? on
                          : Ts
                      );
                    })(y, f)
                  : po[y.level].func(y, f);
              if (
                ((V !== wn && V !== vo) || (y.status = ks),
                V === on || V === wn)
              )
                return t.avail_out === 0 && (y.last_flush = -1), an;
              if (
                V === Ts &&
                (f === Gl
                  ? df(y)
                  : f !== Ta &&
                    (lf(y, 0, 0, !1),
                    f === ag &&
                      (Fr(y.head),
                      y.lookahead === 0 &&
                        ((y.strstart = 0),
                        (y.block_start = 0),
                        (y.insert = 0)))),
                Zr(t),
                t.avail_out === 0)
              )
                return (y.last_flush = -1), an;
            }
            return f !== jn
              ? an
              : y.wrap <= 0
              ? hf
              : (y.wrap === 2
                  ? (qt(y, 255 & t.adler),
                    qt(y, (t.adler >> 8) & 255),
                    qt(y, (t.adler >> 16) & 255),
                    qt(y, (t.adler >> 24) & 255),
                    qt(y, 255 & t.total_in),
                    qt(y, (t.total_in >> 8) & 255),
                    qt(y, (t.total_in >> 16) & 255),
                    qt(y, (t.total_in >> 24) & 255))
                  : (Es(y, t.adler >>> 16), Es(y, 65535 & t.adler)),
                Zr(t),
                y.wrap > 0 && (y.wrap = -y.wrap),
                y.pending !== 0 ? an : hf);
          }
          po = [
            new Qr(0, 0, 0, 0, function (t, f) {
              var d = 65535;
              for (
                d > t.pending_buf_size - 5 && (d = t.pending_buf_size - 5);
                ;

              ) {
                if (t.lookahead <= 1) {
                  if ((mo(t), t.lookahead === 0 && f === $i)) return on;
                  if (t.lookahead === 0) break;
                }
                (t.strstart += t.lookahead), (t.lookahead = 0);
                var y = t.block_start + d;
                if (
                  ((t.strstart === 0 || t.strstart >= y) &&
                    ((t.lookahead = t.strstart - y),
                    (t.strstart = y),
                    Hn(t, !1),
                    t.strm.avail_out === 0)) ||
                  (t.strstart - t.block_start >= t.w_size - Ur &&
                    (Hn(t, !1), t.strm.avail_out === 0))
                )
                  return on;
              }
              return (
                (t.insert = 0),
                f === jn
                  ? (Hn(t, !0), t.strm.avail_out === 0 ? wn : vo)
                  : (t.strstart > t.block_start &&
                      (Hn(t, !1), t.strm.avail_out),
                    on)
              );
            }),
            new Qr(4, 4, 8, 4, Is),
            new Qr(4, 5, 16, 8, Is),
            new Qr(4, 6, 32, 32, Is),
            new Qr(4, 4, 16, 16, go),
            new Qr(8, 16, 32, 32, go),
            new Qr(8, 16, 128, 128, go),
            new Qr(8, 32, 128, 256, go),
            new Qr(32, 128, 258, 1024, go),
            new Qr(32, 258, 258, 4096, go),
          ];
          var Wu = 30,
            gg = 12;
          function _g(t, f) {
            var d,
              y,
              w,
              k,
              P,
              V,
              j,
              x,
              K,
              ne,
              Y,
              Z,
              ae,
              ve,
              ie,
              oe,
              se,
              he,
              pe,
              ge,
              be,
              xe,
              Ce,
              Pe,
              _e;
            (d = t.state),
              (y = t.next_in),
              (Pe = t.input),
              (w = y + (t.avail_in - 5)),
              (k = t.next_out),
              (_e = t.output),
              (P = k - (f - t.avail_out)),
              (V = k + (t.avail_out - 257)),
              (j = d.dmax),
              (x = d.wsize),
              (K = d.whave),
              (ne = d.wnext),
              (Y = d.window),
              (Z = d.hold),
              (ae = d.bits),
              (ve = d.lencode),
              (ie = d.distcode),
              (oe = (1 << d.lenbits) - 1),
              (se = (1 << d.distbits) - 1);
            e: do {
              ae < 15 &&
                ((Z += Pe[y++] << ae),
                (ae += 8),
                (Z += Pe[y++] << ae),
                (ae += 8)),
                (he = ve[Z & oe]);
              t: for (;;) {
                if (
                  ((Z >>>= pe = he >>> 24),
                  (ae -= pe),
                  (pe = (he >>> 16) & 255) === 0)
                )
                  _e[k++] = 65535 & he;
                else {
                  if (!(16 & pe)) {
                    if (!(64 & pe)) {
                      he = ve[(65535 & he) + (Z & ((1 << pe) - 1))];
                      continue t;
                    }
                    if (32 & pe) {
                      d.mode = gg;
                      break e;
                    }
                    (t.msg = "invalid literal/length code"), (d.mode = Wu);
                    break e;
                  }
                  (ge = 65535 & he),
                    (pe &= 15) &&
                      (ae < pe && ((Z += Pe[y++] << ae), (ae += 8)),
                      (ge += Z & ((1 << pe) - 1)),
                      (Z >>>= pe),
                      (ae -= pe)),
                    ae < 15 &&
                      ((Z += Pe[y++] << ae),
                      (ae += 8),
                      (Z += Pe[y++] << ae),
                      (ae += 8)),
                    (he = ie[Z & se]);
                  n: for (;;) {
                    if (
                      ((Z >>>= pe = he >>> 24),
                      (ae -= pe),
                      !(16 & (pe = (he >>> 16) & 255)))
                    ) {
                      if (!(64 & pe)) {
                        he = ie[(65535 & he) + (Z & ((1 << pe) - 1))];
                        continue n;
                      }
                      (t.msg = "invalid distance code"), (d.mode = Wu);
                      break e;
                    }
                    if (
                      ((be = 65535 & he),
                      ae < (pe &= 15) &&
                        ((Z += Pe[y++] << ae),
                        (ae += 8) < pe && ((Z += Pe[y++] << ae), (ae += 8))),
                      (be += Z & ((1 << pe) - 1)) > j)
                    ) {
                      (t.msg = "invalid distance too far back"), (d.mode = Wu);
                      break e;
                    }
                    if (((Z >>>= pe), (ae -= pe), be > (pe = k - P))) {
                      if ((pe = be - pe) > K && d.sane) {
                        (t.msg = "invalid distance too far back"),
                          (d.mode = Wu);
                        break e;
                      }
                      if (((xe = 0), (Ce = Y), ne === 0)) {
                        if (((xe += x - pe), pe < ge)) {
                          ge -= pe;
                          do _e[k++] = Y[xe++];
                          while (--pe);
                          (xe = k - be), (Ce = _e);
                        }
                      } else if (ne < pe) {
                        if (((xe += x + ne - pe), (pe -= ne) < ge)) {
                          ge -= pe;
                          do _e[k++] = Y[xe++];
                          while (--pe);
                          if (((xe = 0), ne < ge)) {
                            ge -= pe = ne;
                            do _e[k++] = Y[xe++];
                            while (--pe);
                            (xe = k - be), (Ce = _e);
                          }
                        }
                      } else if (((xe += ne - pe), pe < ge)) {
                        ge -= pe;
                        do _e[k++] = Y[xe++];
                        while (--pe);
                        (xe = k - be), (Ce = _e);
                      }
                      for (; ge > 2; )
                        (_e[k++] = Ce[xe++]),
                          (_e[k++] = Ce[xe++]),
                          (_e[k++] = Ce[xe++]),
                          (ge -= 3);
                      ge &&
                        ((_e[k++] = Ce[xe++]), ge > 1 && (_e[k++] = Ce[xe++]));
                    } else {
                      xe = k - be;
                      do
                        (_e[k++] = _e[xe++]),
                          (_e[k++] = _e[xe++]),
                          (_e[k++] = _e[xe++]),
                          (ge -= 3);
                      while (ge > 2);
                      ge &&
                        ((_e[k++] = _e[xe++]), ge > 1 && (_e[k++] = _e[xe++]));
                    }
                    break;
                  }
                }
                break;
              }
            } while (y < w && k < V);
            (y -= ge = ae >> 3),
              (Z &= (1 << (ae -= ge << 3)) - 1),
              (t.next_in = y),
              (t.next_out = k),
              (t.avail_in = y < w ? w - y + 5 : 5 - (y - w)),
              (t.avail_out = k < V ? V - k + 257 : 257 - (k - V)),
              (d.hold = Z),
              (d.bits = ae);
          }
          var _o = 15,
            Ql = 852,
            pf = 592,
            vf = 0,
            Xl = 1,
            mf = 2,
            yg = [
              3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43,
              51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0,
            ],
            bg = [
              16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18,
              19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78,
            ],
            Rs = [
              1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257,
              385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289,
              16385, 24577, 0, 0,
            ],
            Sg = [
              16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22,
              23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64,
            ];
          function Cs(t, f, d, y, w, k, P, V) {
            var j,
              x,
              K,
              ne,
              Y,
              Z,
              ae,
              ve,
              ie,
              oe = V.bits,
              se = 0,
              he = 0,
              pe = 0,
              ge = 0,
              be = 0,
              xe = 0,
              Ce = 0,
              Pe = 0,
              _e = 0,
              Se = 0,
              je = null,
              Ze = 0,
              Fe = new Qn(_o + 1),
              ot = new Qn(_o + 1),
              ht = null,
              Ct = 0;
            for (se = 0; se <= _o; se++) Fe[se] = 0;
            for (he = 0; he < y; he++) Fe[f[d + he]]++;
            for (be = oe, ge = _o; ge >= 1 && Fe[ge] === 0; ge--);
            if ((be > ge && (be = ge), ge === 0))
              return (w[k++] = 20971520), (w[k++] = 20971520), (V.bits = 1), 0;
            for (pe = 1; pe < ge && Fe[pe] === 0; pe++);
            for (be < pe && (be = pe), Pe = 1, se = 1; se <= _o; se++)
              if (((Pe <<= 1), (Pe -= Fe[se]) < 0)) return -1;
            if (Pe > 0 && (t === vf || ge !== 1)) return -1;
            for (ot[1] = 0, se = 1; se < _o; se++) ot[se + 1] = ot[se] + Fe[se];
            for (he = 0; he < y; he++)
              f[d + he] !== 0 && (P[ot[f[d + he]]++] = he);
            if (
              (t === vf
                ? ((je = ht = P), (Z = 19))
                : t === Xl
                ? ((je = yg), (Ze -= 257), (ht = bg), (Ct -= 257), (Z = 256))
                : ((je = Rs), (ht = Sg), (Z = -1)),
              (Se = 0),
              (he = 0),
              (se = pe),
              (Y = k),
              (xe = be),
              (Ce = 0),
              (K = -1),
              (ne = (_e = 1 << be) - 1),
              (t === Xl && _e > Ql) || (t === mf && _e > pf))
            )
              return 1;
            for (;;) {
              (ae = se - Ce),
                P[he] < Z
                  ? ((ve = 0), (ie = P[he]))
                  : P[he] > Z
                  ? ((ve = ht[Ct + P[he]]), (ie = je[Ze + P[he]]))
                  : ((ve = 96), (ie = 0)),
                (j = 1 << (se - Ce)),
                (pe = x = 1 << xe);
              do
                w[Y + (Se >> Ce) + (x -= j)] = (ae << 24) | (ve << 16) | ie | 0;
              while (x !== 0);
              for (j = 1 << (se - 1); Se & j; ) j >>= 1;
              if (
                (j !== 0 ? ((Se &= j - 1), (Se += j)) : (Se = 0),
                he++,
                --Fe[se] == 0)
              ) {
                if (se === ge) break;
                se = f[d + P[he]];
              }
              if (se > be && (Se & ne) !== K) {
                for (
                  Ce === 0 && (Ce = be), Y += pe, Pe = 1 << (xe = se - Ce);
                  xe + Ce < ge && !((Pe -= Fe[xe + Ce]) <= 0);

                )
                  xe++, (Pe <<= 1);
                if (
                  ((_e += 1 << xe),
                  (t === Xl && _e > Ql) || (t === mf && _e > pf))
                )
                  return 1;
                w[(K = Se & ne)] = (be << 24) | (xe << 16) | (Y - k) | 0;
              }
            }
            return (
              Se !== 0 && (w[Y + Se] = ((se - Ce) << 24) | (64 << 16) | 0),
              (V.bits = be),
              0
            );
          }
          var wg = 0,
            gf = 1,
            yo = 2,
            Gu = 4,
            kg = 5,
            qu = 6,
            Ku = 0,
            Tg = 1,
            Eg = 2,
            Qi = -2,
            Tt = -3,
            Ig = -4,
            Rg = -5,
            _f = 8,
            ed = 1,
            td = 2,
            yf = 3,
            Ju = 4,
            Xi = 5,
            nd = 6,
            bf = 7,
            Sf = 8,
            As = 9,
            wf = 10,
            kf = 11,
            Si = 12,
            rd = 13,
            Tf = 14,
            id = 15,
            xs = 16,
            ad = 17,
            Ef = 18,
            If = 19,
            Ps = 20,
            $u = 21,
            Rf = 22,
            Cf = 23,
            od = 24,
            Yu = 25,
            sd = 26,
            Zu = 27,
            Os = 28,
            Ra = 29,
            hn = 30,
            Cg = 31,
            Ag = 32,
            ud = 852,
            cd = 592;
          function ea(t) {
            return (
              ((t >>> 24) & 255) +
              ((t >>> 8) & 65280) +
              ((65280 & t) << 8) +
              ((255 & t) << 24)
            );
          }
          function Af() {
            (this.mode = 0),
              (this.last = !1),
              (this.wrap = 0),
              (this.havedict = !1),
              (this.flags = 0),
              (this.dmax = 0),
              (this.check = 0),
              (this.total = 0),
              (this.head = null),
              (this.wbits = 0),
              (this.wsize = 0),
              (this.whave = 0),
              (this.wnext = 0),
              (this.window = null),
              (this.hold = 0),
              (this.bits = 0),
              (this.length = 0),
              (this.offset = 0),
              (this.extra = 0),
              (this.lencode = null),
              (this.distcode = null),
              (this.lenbits = 0),
              (this.distbits = 0),
              (this.ncode = 0),
              (this.nlen = 0),
              (this.ndist = 0),
              (this.have = 0),
              (this.next = null),
              (this.lens = new Qn(320)),
              (this.work = new Qn(288)),
              (this.lendyn = null),
              (this.distdyn = null),
              (this.sane = 0),
              (this.back = 0),
              (this.was = 0);
          }
          function ld(t) {
            var f;
            return t && t.state
              ? (((f = t.state).wsize = 0),
                (f.whave = 0),
                (f.wnext = 0),
                (function (d) {
                  var y;
                  return d && d.state
                    ? ((y = d.state),
                      (d.total_in = d.total_out = y.total = 0),
                      (d.msg = ""),
                      y.wrap && (d.adler = 1 & y.wrap),
                      (y.mode = ed),
                      (y.last = 0),
                      (y.havedict = 0),
                      (y.dmax = 32768),
                      (y.head = null),
                      (y.hold = 0),
                      (y.bits = 0),
                      (y.lencode = y.lendyn = new Ou(ud)),
                      (y.distcode = y.distdyn = new Ou(cd)),
                      (y.sane = 1),
                      (y.back = -1),
                      Ku)
                    : Qi;
                })(t))
              : Qi;
          }
          function Qu(t, f) {
            var d, y;
            return t
              ? ((y = new Af()),
                (t.state = y),
                (y.window = null),
                (d = (function (w, k) {
                  var P, V;
                  return w && w.state
                    ? ((V = w.state),
                      k < 0
                        ? ((P = 0), (k = -k))
                        : ((P = 1 + (k >> 4)), k < 48 && (k &= 15)),
                      k && (k < 8 || k > 15)
                        ? Qi
                        : (V.window !== null &&
                            V.wbits !== k &&
                            (V.window = null),
                          (V.wrap = P),
                          (V.wbits = k),
                          ld(w)))
                    : Qi;
                })(t, f)) !== Ku && (t.state = null),
                d)
              : Qi;
          }
          var Ca,
            Xu,
            xf = !0;
          function xg(t) {
            if (xf) {
              var f;
              for (Ca = new Ou(512), Xu = new Ou(32), f = 0; f < 144; )
                t.lens[f++] = 8;
              for (; f < 256; ) t.lens[f++] = 9;
              for (; f < 280; ) t.lens[f++] = 7;
              for (; f < 288; ) t.lens[f++] = 8;
              for (
                Cs(gf, t.lens, 0, 288, Ca, 0, t.work, {
                  bits: 9,
                }),
                  f = 0;
                f < 32;

              )
                t.lens[f++] = 5;
              Cs(yo, t.lens, 0, 32, Xu, 0, t.work, {
                bits: 5,
              }),
                (xf = !1);
            }
            (t.lencode = Ca),
              (t.lenbits = 9),
              (t.distcode = Xu),
              (t.distbits = 5);
          }
          function Pg(t, f) {
            var d,
              y,
              w,
              k,
              P,
              V,
              j,
              x,
              K,
              ne,
              Y,
              Z,
              ae,
              ve,
              ie,
              oe,
              se,
              he,
              pe,
              ge,
              be,
              xe,
              Ce,
              Pe,
              _e = 0,
              Se = new Pu(4),
              je = [
                16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1,
                15,
              ];
            if (!t || !t.state || !t.output || (!t.input && t.avail_in !== 0))
              return Qi;
            (d = t.state).mode === Si && (d.mode = rd),
              (P = t.next_out),
              (w = t.output),
              (j = t.avail_out),
              (k = t.next_in),
              (y = t.input),
              (V = t.avail_in),
              (x = d.hold),
              (K = d.bits),
              (ne = V),
              (Y = j),
              (xe = Ku);
            e: for (;;)
              switch (d.mode) {
                case ed:
                  if (d.wrap === 0) {
                    d.mode = rd;
                    break;
                  }
                  for (; K < 16; ) {
                    if (V === 0) break e;
                    V--, (x += y[k++] << K), (K += 8);
                  }
                  if (2 & d.wrap && x === 35615) {
                    (d.check = 0),
                      (Se[0] = 255 & x),
                      (Se[1] = (x >>> 8) & 255),
                      (d.check = On(d.check, Se, 2, 0)),
                      (x = 0),
                      (K = 0),
                      (d.mode = td);
                    break;
                  }
                  if (
                    ((d.flags = 0),
                    d.head && (d.head.done = !1),
                    !(1 & d.wrap) || (((255 & x) << 8) + (x >> 8)) % 31)
                  ) {
                    (t.msg = "incorrect header check"), (d.mode = hn);
                    break;
                  }
                  if ((15 & x) !== _f) {
                    (t.msg = "unknown compression method"), (d.mode = hn);
                    break;
                  }
                  if (((K -= 4), (be = 8 + (15 & (x >>>= 4))), d.wbits === 0))
                    d.wbits = be;
                  else if (be > d.wbits) {
                    (t.msg = "invalid window size"), (d.mode = hn);
                    break;
                  }
                  (d.dmax = 1 << be),
                    (t.adler = d.check = 1),
                    (d.mode = 512 & x ? wf : Si),
                    (x = 0),
                    (K = 0);
                  break;
                case td:
                  for (; K < 16; ) {
                    if (V === 0) break e;
                    V--, (x += y[k++] << K), (K += 8);
                  }
                  if (((d.flags = x), (255 & d.flags) !== _f)) {
                    (t.msg = "unknown compression method"), (d.mode = hn);
                    break;
                  }
                  if (57344 & d.flags) {
                    (t.msg = "unknown header flags set"), (d.mode = hn);
                    break;
                  }
                  d.head && (d.head.text = (x >> 8) & 1),
                    512 & d.flags &&
                      ((Se[0] = 255 & x),
                      (Se[1] = (x >>> 8) & 255),
                      (d.check = On(d.check, Se, 2, 0))),
                    (x = 0),
                    (K = 0),
                    (d.mode = yf);
                case yf:
                  for (; K < 32; ) {
                    if (V === 0) break e;
                    V--, (x += y[k++] << K), (K += 8);
                  }
                  d.head && (d.head.time = x),
                    512 & d.flags &&
                      ((Se[0] = 255 & x),
                      (Se[1] = (x >>> 8) & 255),
                      (Se[2] = (x >>> 16) & 255),
                      (Se[3] = (x >>> 24) & 255),
                      (d.check = On(d.check, Se, 4, 0))),
                    (x = 0),
                    (K = 0),
                    (d.mode = Ju);
                case Ju:
                  for (; K < 16; ) {
                    if (V === 0) break e;
                    V--, (x += y[k++] << K), (K += 8);
                  }
                  d.head && ((d.head.xflags = 255 & x), (d.head.os = x >> 8)),
                    512 & d.flags &&
                      ((Se[0] = 255 & x),
                      (Se[1] = (x >>> 8) & 255),
                      (d.check = On(d.check, Se, 2, 0))),
                    (x = 0),
                    (K = 0),
                    (d.mode = Xi);
                case Xi:
                  if (1024 & d.flags) {
                    for (; K < 16; ) {
                      if (V === 0) break e;
                      V--, (x += y[k++] << K), (K += 8);
                    }
                    (d.length = x),
                      d.head && (d.head.extra_len = x),
                      512 & d.flags &&
                        ((Se[0] = 255 & x),
                        (Se[1] = (x >>> 8) & 255),
                        (d.check = On(d.check, Se, 2, 0))),
                      (x = 0),
                      (K = 0);
                  } else d.head && (d.head.extra = null);
                  d.mode = nd;
                case nd:
                  if (
                    1024 & d.flags &&
                    ((Z = d.length) > V && (Z = V),
                    Z &&
                      (d.head &&
                        ((be = d.head.extra_len - d.length),
                        d.head.extra ||
                          (d.head.extra = new Array(d.head.extra_len)),
                        Mr(d.head.extra, y, k, Z, be)),
                      512 & d.flags && (d.check = On(d.check, y, Z, k)),
                      (V -= Z),
                      (k += Z),
                      (d.length -= Z)),
                    d.length)
                  )
                    break e;
                  (d.length = 0), (d.mode = bf);
                case bf:
                  if (2048 & d.flags) {
                    if (V === 0) break e;
                    Z = 0;
                    do
                      (be = y[k + Z++]),
                        d.head &&
                          be &&
                          d.length < 65536 &&
                          (d.head.name += String.fromCharCode(be));
                    while (be && Z < V);
                    if (
                      (512 & d.flags && (d.check = On(d.check, y, Z, k)),
                      (V -= Z),
                      (k += Z),
                      be)
                    )
                      break e;
                  } else d.head && (d.head.name = null);
                  (d.length = 0), (d.mode = Sf);
                case Sf:
                  if (4096 & d.flags) {
                    if (V === 0) break e;
                    Z = 0;
                    do
                      (be = y[k + Z++]),
                        d.head &&
                          be &&
                          d.length < 65536 &&
                          (d.head.comment += String.fromCharCode(be));
                    while (be && Z < V);
                    if (
                      (512 & d.flags && (d.check = On(d.check, y, Z, k)),
                      (V -= Z),
                      (k += Z),
                      be)
                    )
                      break e;
                  } else d.head && (d.head.comment = null);
                  d.mode = As;
                case As:
                  if (512 & d.flags) {
                    for (; K < 16; ) {
                      if (V === 0) break e;
                      V--, (x += y[k++] << K), (K += 8);
                    }
                    if (x !== (65535 & d.check)) {
                      (t.msg = "header crc mismatch"), (d.mode = hn);
                      break;
                    }
                    (x = 0), (K = 0);
                  }
                  d.head &&
                    ((d.head.hcrc = (d.flags >> 9) & 1), (d.head.done = !0)),
                    (t.adler = d.check = 0),
                    (d.mode = Si);
                  break;
                case wf:
                  for (; K < 32; ) {
                    if (V === 0) break e;
                    V--, (x += y[k++] << K), (K += 8);
                  }
                  (t.adler = d.check = ea(x)), (x = 0), (K = 0), (d.mode = kf);
                case kf:
                  if (d.havedict === 0)
                    return (
                      (t.next_out = P),
                      (t.avail_out = j),
                      (t.next_in = k),
                      (t.avail_in = V),
                      (d.hold = x),
                      (d.bits = K),
                      Eg
                    );
                  (t.adler = d.check = 1), (d.mode = Si);
                case Si:
                  if (f === kg || f === qu) break e;
                case rd:
                  if (d.last) {
                    (x >>>= 7 & K), (K -= 7 & K), (d.mode = Zu);
                    break;
                  }
                  for (; K < 3; ) {
                    if (V === 0) break e;
                    V--, (x += y[k++] << K), (K += 8);
                  }
                  switch (((d.last = 1 & x), (K -= 1), 3 & (x >>>= 1))) {
                    case 0:
                      d.mode = Tf;
                      break;
                    case 1:
                      if ((xg(d), (d.mode = Ps), f === qu)) {
                        (x >>>= 2), (K -= 2);
                        break e;
                      }
                      break;
                    case 2:
                      d.mode = ad;
                      break;
                    case 3:
                      (t.msg = "invalid block type"), (d.mode = hn);
                  }
                  (x >>>= 2), (K -= 2);
                  break;
                case Tf:
                  for (x >>>= 7 & K, K -= 7 & K; K < 32; ) {
                    if (V === 0) break e;
                    V--, (x += y[k++] << K), (K += 8);
                  }
                  if ((65535 & x) != ((x >>> 16) ^ 65535)) {
                    (t.msg = "invalid stored block lengths"), (d.mode = hn);
                    break;
                  }
                  if (
                    ((d.length = 65535 & x),
                    (x = 0),
                    (K = 0),
                    (d.mode = id),
                    f === qu)
                  )
                    break e;
                case id:
                  d.mode = xs;
                case xs:
                  if ((Z = d.length)) {
                    if ((Z > V && (Z = V), Z > j && (Z = j), Z === 0)) break e;
                    Mr(w, y, k, Z, P),
                      (V -= Z),
                      (k += Z),
                      (j -= Z),
                      (P += Z),
                      (d.length -= Z);
                    break;
                  }
                  d.mode = Si;
                  break;
                case ad:
                  for (; K < 14; ) {
                    if (V === 0) break e;
                    V--, (x += y[k++] << K), (K += 8);
                  }
                  if (
                    ((d.nlen = 257 + (31 & x)),
                    (x >>>= 5),
                    (K -= 5),
                    (d.ndist = 1 + (31 & x)),
                    (x >>>= 5),
                    (K -= 5),
                    (d.ncode = 4 + (15 & x)),
                    (x >>>= 4),
                    (K -= 4),
                    d.nlen > 286 || d.ndist > 30)
                  ) {
                    (t.msg = "too many length or distance symbols"),
                      (d.mode = hn);
                    break;
                  }
                  (d.have = 0), (d.mode = Ef);
                case Ef:
                  for (; d.have < d.ncode; ) {
                    for (; K < 3; ) {
                      if (V === 0) break e;
                      V--, (x += y[k++] << K), (K += 8);
                    }
                    (d.lens[je[d.have++]] = 7 & x), (x >>>= 3), (K -= 3);
                  }
                  for (; d.have < 19; ) d.lens[je[d.have++]] = 0;
                  if (
                    ((d.lencode = d.lendyn),
                    (d.lenbits = 7),
                    (Ce = {
                      bits: d.lenbits,
                    }),
                    (xe = Cs(wg, d.lens, 0, 19, d.lencode, 0, d.work, Ce)),
                    (d.lenbits = Ce.bits),
                    xe)
                  ) {
                    (t.msg = "invalid code lengths set"), (d.mode = hn);
                    break;
                  }
                  (d.have = 0), (d.mode = If);
                case If:
                  for (; d.have < d.nlen + d.ndist; ) {
                    for (
                      ;
                      (oe =
                        ((_e = d.lencode[x & ((1 << d.lenbits) - 1)]) >>> 16) &
                        255),
                        (se = 65535 & _e),
                        !((ie = _e >>> 24) <= K);

                    ) {
                      if (V === 0) break e;
                      V--, (x += y[k++] << K), (K += 8);
                    }
                    if (se < 16)
                      (x >>>= ie), (K -= ie), (d.lens[d.have++] = se);
                    else {
                      if (se === 16) {
                        for (Pe = ie + 2; K < Pe; ) {
                          if (V === 0) break e;
                          V--, (x += y[k++] << K), (K += 8);
                        }
                        if (((x >>>= ie), (K -= ie), d.have === 0)) {
                          (t.msg = "invalid bit length repeat"), (d.mode = hn);
                          break;
                        }
                        (be = d.lens[d.have - 1]),
                          (Z = 3 + (3 & x)),
                          (x >>>= 2),
                          (K -= 2);
                      } else if (se === 17) {
                        for (Pe = ie + 3; K < Pe; ) {
                          if (V === 0) break e;
                          V--, (x += y[k++] << K), (K += 8);
                        }
                        (K -= ie),
                          (be = 0),
                          (Z = 3 + (7 & (x >>>= ie))),
                          (x >>>= 3),
                          (K -= 3);
                      } else {
                        for (Pe = ie + 7; K < Pe; ) {
                          if (V === 0) break e;
                          V--, (x += y[k++] << K), (K += 8);
                        }
                        (K -= ie),
                          (be = 0),
                          (Z = 11 + (127 & (x >>>= ie))),
                          (x >>>= 7),
                          (K -= 7);
                      }
                      if (d.have + Z > d.nlen + d.ndist) {
                        (t.msg = "invalid bit length repeat"), (d.mode = hn);
                        break;
                      }
                      for (; Z--; ) d.lens[d.have++] = be;
                    }
                  }
                  if (d.mode === hn) break;
                  if (d.lens[256] === 0) {
                    (t.msg = "invalid code -- missing end-of-block"),
                      (d.mode = hn);
                    break;
                  }
                  if (
                    ((d.lenbits = 9),
                    (Ce = {
                      bits: d.lenbits,
                    }),
                    (xe = Cs(gf, d.lens, 0, d.nlen, d.lencode, 0, d.work, Ce)),
                    (d.lenbits = Ce.bits),
                    xe)
                  ) {
                    (t.msg = "invalid literal/lengths set"), (d.mode = hn);
                    break;
                  }
                  if (
                    ((d.distbits = 6),
                    (d.distcode = d.distdyn),
                    (Ce = {
                      bits: d.distbits,
                    }),
                    (xe = Cs(
                      yo,
                      d.lens,
                      d.nlen,
                      d.ndist,
                      d.distcode,
                      0,
                      d.work,
                      Ce
                    )),
                    (d.distbits = Ce.bits),
                    xe)
                  ) {
                    (t.msg = "invalid distances set"), (d.mode = hn);
                    break;
                  }
                  if (((d.mode = Ps), f === qu)) break e;
                case Ps:
                  d.mode = $u;
                case $u:
                  if (V >= 6 && j >= 258) {
                    (t.next_out = P),
                      (t.avail_out = j),
                      (t.next_in = k),
                      (t.avail_in = V),
                      (d.hold = x),
                      (d.bits = K),
                      _g(t, Y),
                      (P = t.next_out),
                      (w = t.output),
                      (j = t.avail_out),
                      (k = t.next_in),
                      (y = t.input),
                      (V = t.avail_in),
                      (x = d.hold),
                      (K = d.bits),
                      d.mode === Si && (d.back = -1);
                    break;
                  }
                  for (
                    d.back = 0;
                    (oe =
                      ((_e = d.lencode[x & ((1 << d.lenbits) - 1)]) >>> 16) &
                      255),
                      (se = 65535 & _e),
                      !((ie = _e >>> 24) <= K);

                  ) {
                    if (V === 0) break e;
                    V--, (x += y[k++] << K), (K += 8);
                  }
                  if (oe && !(240 & oe)) {
                    for (
                      he = ie, pe = oe, ge = se;
                      (oe =
                        ((_e =
                          d.lencode[
                            ge + ((x & ((1 << (he + pe)) - 1)) >> he)
                          ]) >>>
                          16) &
                        255),
                        (se = 65535 & _e),
                        !(he + (ie = _e >>> 24) <= K);

                    ) {
                      if (V === 0) break e;
                      V--, (x += y[k++] << K), (K += 8);
                    }
                    (x >>>= he), (K -= he), (d.back += he);
                  }
                  if (
                    ((x >>>= ie),
                    (K -= ie),
                    (d.back += ie),
                    (d.length = se),
                    oe === 0)
                  ) {
                    d.mode = sd;
                    break;
                  }
                  if (32 & oe) {
                    (d.back = -1), (d.mode = Si);
                    break;
                  }
                  if (64 & oe) {
                    (t.msg = "invalid literal/length code"), (d.mode = hn);
                    break;
                  }
                  (d.extra = 15 & oe), (d.mode = Rf);
                case Rf:
                  if (d.extra) {
                    for (Pe = d.extra; K < Pe; ) {
                      if (V === 0) break e;
                      V--, (x += y[k++] << K), (K += 8);
                    }
                    (d.length += x & ((1 << d.extra) - 1)),
                      (x >>>= d.extra),
                      (K -= d.extra),
                      (d.back += d.extra);
                  }
                  (d.was = d.length), (d.mode = Cf);
                case Cf:
                  for (
                    ;
                    (oe =
                      ((_e = d.distcode[x & ((1 << d.distbits) - 1)]) >>> 16) &
                      255),
                      (se = 65535 & _e),
                      !((ie = _e >>> 24) <= K);

                  ) {
                    if (V === 0) break e;
                    V--, (x += y[k++] << K), (K += 8);
                  }
                  if (!(240 & oe)) {
                    for (
                      he = ie, pe = oe, ge = se;
                      (oe =
                        ((_e =
                          d.distcode[
                            ge + ((x & ((1 << (he + pe)) - 1)) >> he)
                          ]) >>>
                          16) &
                        255),
                        (se = 65535 & _e),
                        !(he + (ie = _e >>> 24) <= K);

                    ) {
                      if (V === 0) break e;
                      V--, (x += y[k++] << K), (K += 8);
                    }
                    (x >>>= he), (K -= he), (d.back += he);
                  }
                  if (((x >>>= ie), (K -= ie), (d.back += ie), 64 & oe)) {
                    (t.msg = "invalid distance code"), (d.mode = hn);
                    break;
                  }
                  (d.offset = se), (d.extra = 15 & oe), (d.mode = od);
                case od:
                  if (d.extra) {
                    for (Pe = d.extra; K < Pe; ) {
                      if (V === 0) break e;
                      V--, (x += y[k++] << K), (K += 8);
                    }
                    (d.offset += x & ((1 << d.extra) - 1)),
                      (x >>>= d.extra),
                      (K -= d.extra),
                      (d.back += d.extra);
                  }
                  if (d.offset > d.dmax) {
                    (t.msg = "invalid distance too far back"), (d.mode = hn);
                    break;
                  }
                  d.mode = Yu;
                case Yu:
                  if (j === 0) break e;
                  if (((Z = Y - j), d.offset > Z)) {
                    if ((Z = d.offset - Z) > d.whave && d.sane) {
                      (t.msg = "invalid distance too far back"), (d.mode = hn);
                      break;
                    }
                    Z > d.wnext
                      ? ((Z -= d.wnext), (ae = d.wsize - Z))
                      : (ae = d.wnext - Z),
                      Z > d.length && (Z = d.length),
                      (ve = d.window);
                  } else (ve = w), (ae = P - d.offset), (Z = d.length);
                  Z > j && (Z = j), (j -= Z), (d.length -= Z);
                  do w[P++] = ve[ae++];
                  while (--Z);
                  d.length === 0 && (d.mode = $u);
                  break;
                case sd:
                  if (j === 0) break e;
                  (w[P++] = d.length), j--, (d.mode = $u);
                  break;
                case Zu:
                  if (d.wrap) {
                    for (; K < 32; ) {
                      if (V === 0) break e;
                      V--, (x |= y[k++] << K), (K += 8);
                    }
                    if (
                      ((Y -= j),
                      (t.total_out += Y),
                      (d.total += Y),
                      Y &&
                        (t.adler = d.check =
                          d.flags
                            ? On(d.check, w, Y, P - Y)
                            : Ss(d.check, w, Y, P - Y)),
                      (Y = j),
                      (d.flags ? x : ea(x)) !== d.check)
                    ) {
                      (t.msg = "incorrect data check"), (d.mode = hn);
                      break;
                    }
                    (x = 0), (K = 0);
                  }
                  d.mode = Os;
                case Os:
                  if (d.wrap && d.flags) {
                    for (; K < 32; ) {
                      if (V === 0) break e;
                      V--, (x += y[k++] << K), (K += 8);
                    }
                    if (x !== (4294967295 & d.total)) {
                      (t.msg = "incorrect length check"), (d.mode = hn);
                      break;
                    }
                    (x = 0), (K = 0);
                  }
                  d.mode = Ra;
                case Ra:
                  xe = Tg;
                  break e;
                case hn:
                  xe = Tt;
                  break e;
                case Cg:
                  return Ig;
                case Ag:
                default:
                  return Qi;
              }
            return (
              (t.next_out = P),
              (t.avail_out = j),
              (t.next_in = k),
              (t.avail_in = V),
              (d.hold = x),
              (d.bits = K),
              (d.wsize ||
                (Y !== t.avail_out &&
                  d.mode < hn &&
                  (d.mode < Zu || f !== Gu))) &&
                (function (Ze, Fe, ot, ht) {
                  var Ct,
                    gt = Ze.state;
                  gt.window === null &&
                    ((gt.wsize = 1 << gt.wbits),
                    (gt.wnext = 0),
                    (gt.whave = 0),
                    (gt.window = new Pu(gt.wsize))),
                    ht >= gt.wsize
                      ? (Mr(gt.window, Fe, ot - gt.wsize, gt.wsize, 0),
                        (gt.wnext = 0),
                        (gt.whave = gt.wsize))
                      : ((Ct = gt.wsize - gt.wnext) > ht && (Ct = ht),
                        Mr(gt.window, Fe, ot - ht, Ct, gt.wnext),
                        (ht -= Ct)
                          ? (Mr(gt.window, Fe, ot - ht, ht, 0),
                            (gt.wnext = ht),
                            (gt.whave = gt.wsize))
                          : ((gt.wnext += Ct),
                            gt.wnext === gt.wsize && (gt.wnext = 0),
                            gt.whave < gt.wsize && (gt.whave += Ct)));
                })(t, t.output, t.next_out, Y - t.avail_out),
              (ne -= t.avail_in),
              (Y -= t.avail_out),
              (t.total_in += ne),
              (t.total_out += Y),
              (d.total += Y),
              d.wrap &&
                Y &&
                (t.adler = d.check =
                  d.flags
                    ? On(d.check, w, Y, t.next_out - Y)
                    : Ss(d.check, w, Y, t.next_out - Y)),
              (t.data_type =
                d.bits +
                (d.last ? 64 : 0) +
                (d.mode === Si ? 128 : 0) +
                (d.mode === Ps || d.mode === id ? 256 : 0)),
              ((ne === 0 && Y === 0) || f === Gu) && xe === Ku && (xe = Rg),
              xe
            );
          }
          var ec,
            Aa = 1,
            xa = 7;
          function Xr(t) {
            if (t < Aa || t > xa) throw new TypeError("Bad argument");
            (this.mode = t),
              (this.init_done = !1),
              (this.write_in_progress = !1),
              (this.pending_close = !1),
              (this.windowBits = 0),
              (this.level = 0),
              (this.memLevel = 0),
              (this.strategy = 0),
              (this.dictionary = null);
          }
          function Ds(t, f) {
            for (var d = 0; d < t.length; d++) this[f + d] = t[d];
          }
          (Xr.prototype.init = function (t, f, d, y, w) {
            var k;
            switch (
              ((this.windowBits = t),
              (this.level = f),
              (this.memLevel = d),
              (this.strategy = y),
              (this.mode !== 3 && this.mode !== 4) || (this.windowBits += 16),
              this.mode === xa && (this.windowBits += 32),
              (this.mode !== 5 && this.mode !== 6) ||
                (this.windowBits = -this.windowBits),
              (this.strm = new Qh()),
              this.mode)
            ) {
              case Aa:
              case 3:
              case 5:
                k = (function (P, V, j, x, K, ne) {
                  if (!P) return Ea;
                  var Y = 1;
                  if (
                    (V === og && (V = 6),
                    x < 0
                      ? ((Y = 0), (x = -x))
                      : x > 15 && ((Y = 2), (x -= 16)),
                    K < 1 ||
                      K > lg ||
                      j !== ql ||
                      x < 8 ||
                      x > 15 ||
                      V < 0 ||
                      V > 9 ||
                      ne < 0 ||
                      ne > Bu)
                  )
                    return Zi(P, Ea);
                  x === 8 && (x = 9);
                  var Z = new Zl();
                  return (
                    (P.state = Z),
                    (Z.strm = P),
                    (Z.wrap = Y),
                    (Z.gzhead = null),
                    (Z.w_bits = x),
                    (Z.w_size = 1 << Z.w_bits),
                    (Z.w_mask = Z.w_size - 1),
                    (Z.hash_bits = K + 7),
                    (Z.hash_size = 1 << Z.hash_bits),
                    (Z.hash_mask = Z.hash_size - 1),
                    (Z.hash_shift = ~~((Z.hash_bits + Ft - 1) / Ft)),
                    (Z.window = new Pu(2 * Z.w_size)),
                    (Z.head = new Qn(Z.hash_size)),
                    (Z.prev = new Qn(Z.w_size)),
                    (Z.lit_bufsize = 1 << (K + 6)),
                    (Z.pending_buf_size = 4 * Z.lit_bufsize),
                    (Z.pending_buf = new Pu(Z.pending_buf_size)),
                    (Z.d_buf = 1 * Z.lit_bufsize),
                    (Z.l_buf = 3 * Z.lit_bufsize),
                    (Z.level = V),
                    (Z.strategy = ne),
                    (Z.method = j),
                    ff(P)
                  );
                })(
                  this.strm,
                  this.level,
                  8,
                  this.windowBits,
                  this.memLevel,
                  this.strategy
                );
                break;
              case 2:
              case 4:
              case 6:
              case xa:
                k = Qu(this.strm, this.windowBits);
                break;
              default:
                throw new Error("Unknown mode " + this.mode);
            }
            k === 0
              ? ((this.write_in_progress = !1), (this.init_done = !0))
              : this._error(k);
          }),
            (Xr.prototype.params = function () {
              throw new Error("deflateParams Not supported");
            }),
            (Xr.prototype._writeCheck = function () {
              if (!this.init_done) throw new Error("write before init");
              if (this.mode === 0) throw new Error("already finalized");
              if (this.write_in_progress)
                throw new Error("write already in progress");
              if (this.pending_close) throw new Error("close is pending");
            }),
            (Xr.prototype.write = function (t, f, d, y, w, k, P) {
              this._writeCheck(), (this.write_in_progress = !0);
              var V = this;
              return (
                xn(function () {
                  V.write_in_progress = !1;
                  var j = V._write(t, f, d, y, w, k, P);
                  V.callback(j[0], j[1]), V.pending_close && V.close();
                }),
                this
              );
            }),
            (Xr.prototype.writeSync = function (t, f, d, y, w, k, P) {
              return this._writeCheck(), this._write(t, f, d, y, w, k, P);
            }),
            (Xr.prototype._write = function (t, f, d, y, w, k, P) {
              if (
                ((this.write_in_progress = !0),
                t !== 0 && t !== 1 && t !== 2 && t !== 3 && t !== 4 && t !== 5)
              )
                throw new Error("Invalid flush value");
              f == null && ((f = new le(0)), (y = 0), (d = 0)),
                w._set ? (w.set = w._set) : (w.set = Ds);
              var V,
                j = this.strm;
              switch (
                ((j.avail_in = y),
                (j.input = f),
                (j.next_in = d),
                (j.avail_out = P),
                (j.output = w),
                (j.next_out = k),
                this.mode)
              ) {
                case Aa:
                case 3:
                case 5:
                  V = mg(j, t);
                  break;
                case xa:
                case 2:
                case 4:
                case 6:
                  V = Pg(j, t);
                  break;
                default:
                  throw new Error("Unknown mode " + this.mode);
              }
              return (
                V !== 1 && V !== 0 && this._error(V),
                (this.write_in_progress = !1),
                [j.avail_in, j.avail_out]
              );
            }),
            (Xr.prototype.close = function () {
              this.write_in_progress
                ? (this.pending_close = !0)
                : ((this.pending_close = !1),
                  this.mode === Aa || this.mode === 3 || this.mode === 5
                    ? (function (t) {
                        var f;
                        t &&
                          t.state &&
                          ((f = t.state.status) !== lr &&
                          f !== Jl &&
                          f !== Hu &&
                          f !== zu &&
                          f !== Vr &&
                          f !== Ia &&
                          f !== ks
                            ? Zi(t, Ea)
                            : ((t.state = null), f === Ia && Zi(t, Fu)));
                      })(this.strm)
                    : (function (t) {
                        if (!t || !t.state) return Qi;
                        var f = t.state;
                        f.window && (f.window = null), (t.state = null);
                      })(this.strm),
                  (this.mode = 0));
            }),
            (Xr.prototype.reset = function () {
              switch (this.mode) {
                case Aa:
                case 5:
                  ec = ff(this.strm);
                  break;
                case 2:
                case 6:
                  ec = ld(this.strm);
              }
              ec !== 0 && this._error(ec);
            }),
            (Xr.prototype._error = function (t) {
              this.onerror(ds[t] + ": " + this.strm.msg, t),
                (this.write_in_progress = !1),
                this.pending_close && this.close();
            });
          var Pf = Object.freeze({
              NONE: 0,
              DEFLATE: Aa,
              INFLATE: 2,
              GZIP: 3,
              GUNZIP: 4,
              DEFLATERAW: 5,
              INFLATERAW: 6,
              UNZIP: xa,
              Z_NO_FLUSH: 0,
              Z_PARTIAL_FLUSH: 1,
              Z_SYNC_FLUSH: 2,
              Z_FULL_FLUSH: 3,
              Z_FINISH: 4,
              Z_BLOCK: 5,
              Z_TREES: 6,
              Z_OK: 0,
              Z_STREAM_END: 1,
              Z_NEED_DICT: 2,
              Z_ERRNO: -1,
              Z_STREAM_ERROR: -2,
              Z_DATA_ERROR: -3,
              Z_BUF_ERROR: -5,
              Z_NO_COMPRESSION: 0,
              Z_BEST_SPEED: 1,
              Z_BEST_COMPRESSION: 9,
              Z_DEFAULT_COMPRESSION: -1,
              Z_FILTERED: 1,
              Z_HUFFMAN_ONLY: 2,
              Z_RLE: 3,
              Z_FIXED: 4,
              Z_DEFAULT_STRATEGY: 0,
              Z_BINARY: 0,
              Z_TEXT: 1,
              Z_UNKNOWN: 2,
              Z_DEFLATED: 8,
              Zlib: Xr,
            }),
            lt = {};
          Object.keys(Pf).forEach(function (t) {
            lt[t] = Pf[t];
          }),
            (lt.Z_MIN_WINDOWBITS = 8),
            (lt.Z_MAX_WINDOWBITS = 15),
            (lt.Z_DEFAULT_WINDOWBITS = 15),
            (lt.Z_MIN_CHUNK = 64),
            (lt.Z_MAX_CHUNK = 1 / 0),
            (lt.Z_DEFAULT_CHUNK = 16384),
            (lt.Z_MIN_MEMLEVEL = 1),
            (lt.Z_MAX_MEMLEVEL = 9),
            (lt.Z_DEFAULT_MEMLEVEL = 8),
            (lt.Z_MIN_LEVEL = -1),
            (lt.Z_MAX_LEVEL = 9),
            (lt.Z_DEFAULT_LEVEL = lt.Z_DEFAULT_COMPRESSION);
          var tc = {
            Z_OK: lt.Z_OK,
            Z_STREAM_END: lt.Z_STREAM_END,
            Z_NEED_DICT: lt.Z_NEED_DICT,
            Z_ERRNO: lt.Z_ERRNO,
            Z_STREAM_ERROR: lt.Z_STREAM_ERROR,
            Z_DATA_ERROR: lt.Z_DATA_ERROR,
            Z_MEM_ERROR: lt.Z_MEM_ERROR,
            Z_BUF_ERROR: lt.Z_BUF_ERROR,
            Z_VERSION_ERROR: lt.Z_VERSION_ERROR,
          };
          function ta(t, f, d) {
            var y = [],
              w = 0;
            function k() {
              for (var V; (V = t.read()) !== null; ) y.push(V), (w += V.length);
              t.once("readable", k);
            }
            function P() {
              var V = le.concat(y, w);
              (y = []), d(null, V), t.close();
            }
            t.on("error", function (V) {
              t.removeListener("end", P), t.removeListener("readable", k), d(V);
            }),
              t.on("end", P),
              t.end(f),
              k();
          }
          function Pa(t, f) {
            if ((typeof f == "string" && (f = new le(f)), !or(f)))
              throw new TypeError("Not a string or buffer");
            var d = lt.Z_FINISH;
            return t._processChunk(f, d);
          }
          function wi(t) {
            if (!(this instanceof wi)) return new wi(t);
            Zt.call(this, t, lt.DEFLATE);
          }
          function na(t) {
            if (!(this instanceof na)) return new na(t);
            Zt.call(this, t, lt.INFLATE);
          }
          function Oa(t) {
            if (!(this instanceof Oa)) return new Oa(t);
            Zt.call(this, t, lt.GZIP);
          }
          function ki(t) {
            if (!(this instanceof ki)) return new ki(t);
            Zt.call(this, t, lt.GUNZIP);
          }
          function Da(t) {
            if (!(this instanceof Da)) return new Da(t);
            Zt.call(this, t, lt.DEFLATERAW);
          }
          function Na(t) {
            if (!(this instanceof Na)) return new Na(t);
            Zt.call(this, t, lt.INFLATERAW);
          }
          function ra(t) {
            if (!(this instanceof ra)) return new ra(t);
            Zt.call(this, t, lt.UNZIP);
          }
          function Zt(t, f) {
            if (
              ((this._opts = t = t || {}),
              (this._chunkSize = t.chunkSize || lt.Z_DEFAULT_CHUNK),
              Rr.call(this, t),
              t.flush &&
                t.flush !== lt.Z_NO_FLUSH &&
                t.flush !== lt.Z_PARTIAL_FLUSH &&
                t.flush !== lt.Z_SYNC_FLUSH &&
                t.flush !== lt.Z_FULL_FLUSH &&
                t.flush !== lt.Z_FINISH &&
                t.flush !== lt.Z_BLOCK)
            )
              throw new Error("Invalid flush flag: " + t.flush);
            if (
              ((this._flushFlag = t.flush || lt.Z_NO_FLUSH),
              t.chunkSize &&
                (t.chunkSize < lt.Z_MIN_CHUNK || t.chunkSize > lt.Z_MAX_CHUNK))
            )
              throw new Error("Invalid chunk size: " + t.chunkSize);
            if (
              t.windowBits &&
              (t.windowBits < lt.Z_MIN_WINDOWBITS ||
                t.windowBits > lt.Z_MAX_WINDOWBITS)
            )
              throw new Error("Invalid windowBits: " + t.windowBits);
            if (
              t.level &&
              (t.level < lt.Z_MIN_LEVEL || t.level > lt.Z_MAX_LEVEL)
            )
              throw new Error("Invalid compression level: " + t.level);
            if (
              t.memLevel &&
              (t.memLevel < lt.Z_MIN_MEMLEVEL || t.memLevel > lt.Z_MAX_MEMLEVEL)
            )
              throw new Error("Invalid memLevel: " + t.memLevel);
            if (
              t.strategy &&
              t.strategy != lt.Z_FILTERED &&
              t.strategy != lt.Z_HUFFMAN_ONLY &&
              t.strategy != lt.Z_RLE &&
              t.strategy != lt.Z_FIXED &&
              t.strategy != lt.Z_DEFAULT_STRATEGY
            )
              throw new Error("Invalid strategy: " + t.strategy);
            if (t.dictionary && !or(t.dictionary))
              throw new Error(
                "Invalid dictionary: it should be a Buffer instance"
              );
            this._binding = new lt.Zlib(f);
            var d = this;
            (this._hadError = !1),
              (this._binding.onerror = function (k, P) {
                (d._binding = null), (d._hadError = !0);
                var V = new Error(k);
                (V.errno = P), (V.code = lt.codes[P]), d.emit("error", V);
              });
            var y = lt.Z_DEFAULT_COMPRESSION;
            typeof t.level == "number" && (y = t.level);
            var w = lt.Z_DEFAULT_STRATEGY;
            typeof t.strategy == "number" && (w = t.strategy),
              this._binding.init(
                t.windowBits || lt.Z_DEFAULT_WINDOWBITS,
                y,
                t.memLevel || lt.Z_DEFAULT_MEMLEVEL,
                w,
                t.dictionary
              ),
              (this._buffer = new le(this._chunkSize)),
              (this._offset = 0),
              (this._closed = !1),
              (this._level = y),
              (this._strategy = w),
              this.once("end", this.close);
          }
          Object.keys(tc).forEach(function (t) {
            tc[tc[t]] = t;
          }),
            Zn(Zt, Rr),
            (Zt.prototype.params = function (t, f, d) {
              if (t < lt.Z_MIN_LEVEL || t > lt.Z_MAX_LEVEL)
                throw new RangeError("Invalid compression level: " + t);
              if (
                f != lt.Z_FILTERED &&
                f != lt.Z_HUFFMAN_ONLY &&
                f != lt.Z_RLE &&
                f != lt.Z_FIXED &&
                f != lt.Z_DEFAULT_STRATEGY
              )
                throw new TypeError("Invalid strategy: " + f);
              if (this._level !== t || this._strategy !== f) {
                var y = this;
                this.flush(lt.Z_SYNC_FLUSH, function () {
                  y._binding.params(t, f),
                    y._hadError ||
                      ((y._level = t), (y._strategy = f), d && d());
                });
              } else xn(d);
            }),
            (Zt.prototype.reset = function () {
              return this._binding.reset();
            }),
            (Zt.prototype._flush = function (t) {
              this._transform(new le(0), "", t);
            }),
            (Zt.prototype.flush = function (t, f) {
              var d = this._writableState;
              if (
                ((typeof t == "function" || (t === void 0 && !f)) &&
                  ((f = t), (t = lt.Z_FULL_FLUSH)),
                d.ended)
              )
                f && xn(f);
              else if (d.ending) f && this.once("end", f);
              else if (d.needDrain) {
                var y = this;
                this.once("drain", function () {
                  y.flush(f);
                });
              } else (this._flushFlag = t), this.write(new le(0), "", f);
            }),
            (Zt.prototype.close = function (t) {
              if ((t && xn(t), !this._closed)) {
                (this._closed = !0), this._binding.close();
                var f = this;
                xn(function () {
                  f.emit("close");
                });
              }
            }),
            (Zt.prototype._transform = function (t, f, d) {
              var y,
                w = this._writableState,
                k = (w.ending || w.ended) && (!t || w.length === t.length);
              if (!t === null && !or(t)) return d(new Error("invalid input"));
              k
                ? (y = lt.Z_FINISH)
                : ((y = this._flushFlag),
                  t.length >= w.length &&
                    (this._flushFlag = this._opts.flush || lt.Z_NO_FLUSH)),
                this._processChunk(t, y, d);
            }),
            (Zt.prototype._processChunk = function (t, f, d) {
              var y = t && t.length,
                w = this._chunkSize - this._offset,
                k = 0,
                P = this,
                V = typeof d == "function";
              if (!V) {
                var j,
                  x = [],
                  K = 0;
                this.on("error", function (ve) {
                  j = ve;
                });
                do
                  var ne = this._binding.writeSync(
                    f,
                    t,
                    k,
                    y,
                    this._buffer,
                    this._offset,
                    w
                  );
                while (!this._hadError && ae(ne[0], ne[1]));
                if (this._hadError) throw j;
                var Y = le.concat(x, K);
                return this.close(), Y;
              }
              var Z = this._binding.write(
                f,
                t,
                k,
                y,
                this._buffer,
                this._offset,
                w
              );
              function ae(ve, ie) {
                if (!P._hadError) {
                  var oe = w - ie;
                  if (
                    ((function (pe, ge) {
                      if (!pe) throw new Error(ge);
                    })(oe >= 0, "have should not go down"),
                    oe > 0)
                  ) {
                    var se = P._buffer.slice(P._offset, P._offset + oe);
                    (P._offset += oe),
                      V ? P.push(se) : (x.push(se), (K += se.length));
                  }
                  if (
                    ((ie === 0 || P._offset >= P._chunkSize) &&
                      ((w = P._chunkSize),
                      (P._offset = 0),
                      (P._buffer = new le(P._chunkSize))),
                    ie === 0)
                  ) {
                    if (((k += y - ve), (y = ve), !V)) return !0;
                    var he = P._binding.write(
                      f,
                      t,
                      k,
                      y,
                      P._buffer,
                      P._offset,
                      P._chunkSize
                    );
                    return (he.callback = ae), void (he.buffer = t);
                  }
                  if (!V) return !1;
                  d();
                }
              }
              (Z.buffer = t), (Z.callback = ae);
            }),
            Zn(wi, Zt),
            Zn(na, Zt),
            Zn(Oa, Zt),
            Zn(ki, Zt),
            Zn(Da, Zt),
            Zn(Na, Zt),
            Zn(ra, Zt);
          var Of = {
            codes: tc,
            createDeflate: function (f) {
              return new wi(f);
            },
            createInflate: function (f) {
              return new na(f);
            },
            createDeflateRaw: function (f) {
              return new Da(f);
            },
            createInflateRaw: function (f) {
              return new Na(f);
            },
            createGzip: function (f) {
              return new Oa(f);
            },
            createGunzip: function (f) {
              return new ki(f);
            },
            createUnzip: function (f) {
              return new ra(f);
            },
            deflate: function (f, d, y) {
              return (
                typeof d == "function" && ((y = d), (d = {})),
                ta(new wi(d), f, y)
              );
            },
            deflateSync: function (f, d) {
              return Pa(new wi(d), f);
            },
            gzip: function (f, d, y) {
              return (
                typeof d == "function" && ((y = d), (d = {})),
                ta(new Oa(d), f, y)
              );
            },
            gzipSync: function (f, d) {
              return Pa(new Oa(d), f);
            },
            deflateRaw: function (f, d, y) {
              return (
                typeof d == "function" && ((y = d), (d = {})),
                ta(new Da(d), f, y)
              );
            },
            deflateRawSync: function (f, d) {
              return Pa(new Da(d), f);
            },
            unzip: function (f, d, y) {
              return (
                typeof d == "function" && ((y = d), (d = {})),
                ta(new ra(d), f, y)
              );
            },
            unzipSync: function (f, d) {
              return Pa(new ra(d), f);
            },
            inflate: function (f, d, y) {
              return (
                typeof d == "function" && ((y = d), (d = {})),
                ta(new na(d), f, y)
              );
            },
            inflateSync: function (f, d) {
              return Pa(new na(d), f);
            },
            gunzip: function (f, d, y) {
              return (
                typeof d == "function" && ((y = d), (d = {})),
                ta(new ki(d), f, y)
              );
            },
            gunzipSync: function (f, d) {
              return Pa(new ki(d), f);
            },
            inflateRaw: function (f, d, y) {
              return (
                typeof d == "function" && ((y = d), (d = {})),
                ta(new Na(d), f, y)
              );
            },
            inflateRawSync: function (f, d) {
              return Pa(new Na(d), f);
            },
            Deflate: wi,
            Inflate: na,
            Gzip: Oa,
            Gunzip: ki,
            DeflateRaw: Da,
            InflateRaw: Na,
            Unzip: ra,
            Zlib: Zt,
          };
          return /* @__PURE__ */ (function () {
            function t(f, d, y) {
              tr(this, t),
                (this.SDKAPPID = f),
                (this.EXPIRETIME = y),
                (this.PRIVATEKEY = d);
            }
            return nr(t, [
              {
                key: "genTestUserSig",
                value: function (d) {
                  return this._isNumber(this.SDKAPPID)
                    ? this._isString(this.PRIVATEKEY)
                      ? this._isString(d)
                        ? this._isNumber(this.EXPIRETIME)
                          ? (console.log(
                              "sdkAppID=" +
                                this.SDKAPPID +
                                " key=" +
                                this.PRIVATEKEY +
                                " userID=" +
                                d +
                                " expire=" +
                                this.EXPIRETIME
                            ),
                            this.genSigWithUserbuf(d, this.EXPIRETIME, null))
                          : (console.error("expireTime must be a number"), "")
                        : (console.error("userID must be a string"), "")
                      : (console.error("privateKey must be a string"), "")
                    : (console.error("sdkAppID must be a number"), "");
                },
              },
              {
                key: "newBuffer",
                value: function (d, y) {
                  return le.from ? le.from(d, y) : new le(d, y);
                },
              },
              {
                key: "unescape",
                value: function (d) {
                  return d
                    .replace(/_/g, "=")
                    .replace(/\-/g, "/")
                    .replace(/\*/g, "+");
                },
              },
              {
                key: "escape",
                value: function (d) {
                  return d
                    .replace(/\+/g, "*")
                    .replace(/\//g, "-")
                    .replace(/=/g, "_");
                },
              },
              {
                key: "encode",
                value: function (d) {
                  return this.escape(this.newBuffer(d).toString("base64"));
                },
              },
              {
                key: "decode",
                value: function (d) {
                  return this.newBuffer(this.unescape(d), "base64");
                },
              },
              {
                key: "base64encode",
                value: function (d) {
                  return this.newBuffer(d).toString("base64");
                },
              },
              {
                key: "base64decode",
                value: function (d) {
                  return this.newBuffer(d, "base64").toString();
                },
              },
              {
                key: "_hmacsha256",
                value: function (d, y, w, k) {
                  var P =
                    "TLS.identifier:" +
                    d +
                    `
`;
                  (P +=
                    "TLS.sdkappid:" +
                    this.SDKAPPID +
                    `
`),
                    (P +=
                      "TLS.time:" +
                      y +
                      `
`),
                    (P +=
                      "TLS.expire:" +
                      w +
                      `
`),
                    k != null &&
                      (P +=
                        "TLS.userbuf:" +
                        k +
                        `
`);
                  var V = Vh.HmacSHA256(P, this.PRIVATEKEY);
                  return Vh.enc.Base64.stringify(V);
                },
              },
              {
                key: "_utc",
                value: function () {
                  return Math.round(Date.now() / 1e3);
                },
              },
              {
                key: "_isNumber",
                value: function (d) {
                  return (
                    d !== null &&
                    ((typeof d == "number" && !isNaN(d - 0)) ||
                      (ut(d) == "object" && d.constructor === Number))
                  );
                },
              },
              {
                key: "_isString",
                value: function (d) {
                  return typeof d == "string";
                },
              },
              {
                key: "genSigWithUserbuf",
                value: function (d, y, w) {
                  var k = this._utc(),
                    P = {
                      "TLS.ver": "2.0",
                      "TLS.identifier": d,
                      "TLS.sdkappid": this.SDKAPPID,
                      "TLS.time": k,
                      "TLS.expire": y,
                    },
                    V = "";
                  if (w != null) {
                    var j = this.base64encode(w);
                    (P["TLS.userbuf"] = j), (V = this._hmacsha256(d, k, y, j));
                  } else V = this._hmacsha256(d, k, y, null);
                  P["TLS.sig"] = V;
                  var x = JSON.stringify(P),
                    K = Of.deflateSync(this.newBuffer(x)).toString("base64"),
                    ne = this.escape(K);
                  return console.log("ret=" + ne), ne;
                },
              },
              {
                key: "validate",
                value: function (d) {
                  var y = this.decode(d),
                    w = Of.inflateSync(y);
                  console.log("validate ret=" + w);
                },
              },
            ]);
          })();
        });
      })(hm)),
    hm.exports
  );
}
var KY = qY(),
  JY = /* @__PURE__ */ WY(KY);
function $Y(r) {
  var i = r.sdkAppId,
    u = r.userId,
    v = r.secretKey,
    m = i,
    E = 604800,
    O = v;
  (m == null || O === "") &&
    alert(` SDKAPPID  SECRETKEY \r
\r
Please configure your SDKAPPID/SECRETKEY in js/debug/GenerateTestUserSig.js`);
  var C = new JY(m, O, E),
    G = C.genTestUserSig(u);
  return {
    sdkAppId: m,
    userSig: G,
  };
}
var Gt,
  In,
  yh,
  tm,
  V4 = va(null),
  Gb = va(!1),
  xP = Nh(),
  il = xP.emit,
  nm = xP.off,
  YY = function () {
    var i = function (we) {
        return we.some(function (Ve) {
          return Ve.deviceId.length > 0;
        });
      },
      u = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we() {
            var Ve, Ne, Ue, Ye;
            return Ke.wrap(
              function (ft) {
                for (;;)
                  switch ((ft.prev = ft.next)) {
                    case 0:
                      return (
                        (ft.prev = 0),
                        (ft.next = 3),
                        Promise.all([hu.getCameras(), hu.getMicrophones()])
                      );
                    case 3:
                      return (
                        (Ve = ft.sent),
                        (Ne = ga(Ve, 2)),
                        (Ue = Ne[0]),
                        (Ye = Ne[1]),
                        ft.abrupt("return", i(Ue) && i(Ye))
                      );
                    case 10:
                      return (
                        (ft.prev = 10),
                        (ft.t0 = ft.catch(0)),
                        console.error("Error checking devices:", ft.t0),
                        ft.abrupt("return", !1)
                      );
                    case 14:
                    case "end":
                      return ft.stop();
                  }
              },
              we,
              null,
              [[0, 10]]
            );
          })
        );
        return function () {
          return Te.apply(this, arguments);
        };
      })(),
      v = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we() {
            var Ve;
            return Ke.wrap(function (Ue) {
              for (;;)
                switch ((Ue.prev = Ue.next)) {
                  case 0:
                    return (Ue.next = 2), hu.checkSystemRequirements();
                  case 2:
                    if (
                      ((Ve = Ue.sent),
                      console.log(
                        "".concat(Ve.result ? "" : "", "TRTC"),
                        "",
                        Ve.detail
                      ),
                      Ve.result)
                    ) {
                      Ue.next = 7;
                      break;
                    }
                    return (
                      console.error("TRTC!"),
                      Ue.abrupt("return", !1)
                    );
                  case 7:
                    return Ue.abrupt("return", !0);
                  case 8:
                  case "end":
                    return Ue.stop();
                }
            }, we);
          })
        );
        return function () {
          return Te.apply(this, arguments);
        };
      })(),
      m = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we(Ve) {
            var Ne, Ue, Ye;
            return Ke.wrap(
              function (ft) {
                for (;;)
                  switch ((ft.prev = ft.next)) {
                    case 0:
                      return (
                        (Ne = Ve.sdkAppId),
                        (Ue = Ve.userId),
                        (Ye = Ve.secretKey),
                        (ft.prev = 1),
                        (V4.value = Ve),
                        hu.Logger.setLogLevel(2),
                        v(),
                        (Gt = hu.createClient({
                          mode: "rtc",
                          sdkAppId: Ne,
                          userId: Ue,
                          userSig: G({
                            sdkAppId: Ne,
                            userId: Ue,
                            secretKey: Ye,
                          }),
                        })),
                        console.log("TRTC", Ne, Ue, Ye),
                        nt(),
                        Ve.proxy && Gt.setProxyServer(Ve.proxy),
                        ft.abrupt("return", !0)
                      );
                    case 12:
                      return (
                        (ft.prev = 12),
                        (ft.t0 = ft.catch(1)),
                        console.error("TRTC", ft.t0),
                        ft.abrupt("return", !1)
                      );
                    case 16:
                    case "end":
                      return ft.stop();
                  }
              },
              we,
              null,
              [[1, 12]]
            );
          })
        );
        return function (Ve) {
          return Te.apply(this, arguments);
        };
      })(),
      E = function () {
        Gt && (Gt.destroy(), Ge(), (Gt = null));
      },
      O = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we(Ve) {
            return Ke.wrap(function (Ue) {
              for (;;)
                switch ((Ue.prev = Ue.next)) {
                  case 0:
                    if (!Ve) {
                      Ue.next = 6;
                      break;
                    }
                    if (!Gt) {
                      Ue.next = 6;
                      break;
                    }
                    return (
                      console.log("roomId", Ve),
                      (Ue.next = 5),
                      Gt.join({
                        roomId: Number(Ve),
                      })
                    );
                  case 5:
                    console.log("TRTC :".concat(Ve, ""));
                  case 6:
                  case "end":
                    return Ue.stop();
                }
            }, we);
          })
        );
        return function (Ve) {
          return Te.apply(this, arguments);
        };
      })(),
      C = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we(Ve) {
            var Ne, Ue, Ye;
            return Ke.wrap(
              function (ft) {
                for (;;)
                  switch ((ft.prev = ft.next)) {
                    case 0:
                      if (((Ue = Ve.view), Ue)) {
                        ft.next = 3;
                        break;
                      }
                      return ft.abrupt("return");
                    case 3:
                      return (
                        (Ye =
                          (Ne = V4.value) === null || Ne === void 0
                            ? void 0
                            : Ne.userId),
                        (ft.prev = 4),
                        (In = hu.createStream({
                          userId: Ye,
                          audio: !0,
                          // 
                          video: !0,
                          // 
                        })),
                        In.setVideoProfile("480p"),
                        (ft.next = 9),
                        In.initialize()
                      );
                    case 9:
                      console.log(
                        " TRTC LocalStream [".concat(Ye, "] initialized")
                      ),
                        In.play(Ue)
                          .then(function () {
                            console.log(
                              " TRTC LocalStream [".concat(Ye, "] playing")
                            );
                          })
                          .catch(function (An) {
                            console.log(
                              "TRTC LocalStream ["
                                .concat(Ye, "] failed to play. Error: ")
                                .concat(An.message_)
                            );
                          }),
                        (ft.next = 16);
                      break;
                    case 13:
                      (ft.prev = 13),
                        (ft.t0 = ft.catch(4)),
                        console.error(
                          "TRTC LocalStream failed to initialize. Error: ".concat(
                            ft.t0.message_
                          )
                        );
                    case 16:
                    case "end":
                      return ft.stop();
                  }
              },
              we,
              null,
              [[4, 13]]
            );
          })
        );
        return function (Ve) {
          return Te.apply(this, arguments);
        };
      })(),
      G = function (we) {
        var Ve = we.sdkAppId,
          Ne = we.userId,
          Ue = we.secretKey;
        return $Y({
          sdkAppId: Ve,
          userId: Ne,
          secretKey: Ue,
        }).userSig;
      },
      re = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we() {
            return Ke.wrap(
              function (Ne) {
                for (;;)
                  switch ((Ne.prev = Ne.next)) {
                    case 0:
                      if (!(!Gt || !In)) {
                        Ne.next = 2;
                        break;
                      }
                      return Ne.abrupt("return");
                    case 2:
                      return (Ne.prev = 2), (Ne.next = 5), Gt.publish(In);
                    case 5:
                      console.log("TRTC LocalStream is published successfully"),
                        (Ne.next = 11);
                      break;
                    case 8:
                      (Ne.prev = 8),
                        (Ne.t0 = Ne.catch(2)),
                        console.log(
                          "TRTC LocalStream is failed to publish. Error: ".concat(
                            Ne.t0.message_
                          )
                        );
                    case 11:
                    case "end":
                      return Ne.stop();
                  }
              },
              we,
              null,
              [[2, 8]]
            );
          })
        );
        return function () {
          return Te.apply(this, arguments);
        };
      })(),
      ce = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we() {
            return Ke.wrap(function (Ne) {
              for (;;)
                switch ((Ne.prev = Ne.next)) {
                  case 0:
                    if (!Gt) {
                      Ne.next = 9;
                      break;
                    }
                    return (Ne.next = 3), Gt.leave();
                  case 3:
                    if (!In) {
                      Ne.next = 9;
                      break;
                    }
                    return (Ne.next = 6), et();
                  case 6:
                    return (Ne.next = 8), Ee();
                  case 8:
                    In = null;
                  case 9:
                  case "end":
                    return Ne.stop();
                }
            }, we);
          })
        );
        return function () {
          return Te.apply(this, arguments);
        };
      })(),
      de = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we(Ve) {
            return Ke.wrap(function (Ue) {
              for (;;)
                switch ((Ue.prev = Ue.next)) {
                  case 0:
                    if (!Gt) {
                      Ue.next = 6;
                      break;
                    }
                    return (
                      console.log("TRTC", Ve), (Ue.next = 4), C(Ve)
                    );
                  case 4:
                    return (Ue.next = 6), re();
                  case 6:
                  case "end":
                    return Ue.stop();
                }
            }, we);
          })
        );
        return function (Ve) {
          return Te.apply(this, arguments);
        };
      })(),
      me = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we(Ve) {
            return Ke.wrap(function (Ue) {
              for (;;)
                switch ((Ue.prev = Ue.next)) {
                  case 0:
                    return (Ue.next = 2), de(Ve);
                  case 2:
                  case "end":
                    return Ue.stop();
                }
            }, we);
          })
        );
        return function (Ve) {
          return Te.apply(this, arguments);
        };
      })(),
      Ee = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we() {
            return Ke.wrap(function (Ne) {
              for (;;)
                switch ((Ne.prev = Ne.next)) {
                  case 0:
                    Gt && In && (In.stop(), In.close());
                  case 1:
                  case "end":
                    return Ne.stop();
                }
            }, we);
          })
        );
        return function () {
          return Te.apply(this, arguments);
        };
      })(),
      Ae = function (we) {
        Gt && (console.log("remoteVideoInfo", we), tm.play(we.view));
      },
      Be = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we() {
            return Ke.wrap(function (Ne) {
              for (;;)
                switch ((Ne.prev = Ne.next)) {
                  case 0:
                    if (!Gt) {
                      Ne.next = 3;
                      break;
                    }
                    return (Ne.next = 3), tm.stop();
                  case 3:
                  case "end":
                    return Ne.stop();
                }
            }, we);
          })
        );
        return function () {
          return Te.apply(this, arguments);
        };
      })(),
      le = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we(Ve) {
            return Ke.wrap(function (Ue) {
              for (;;)
                switch ((Ue.prev = Ue.next)) {
                  case 0:
                    Gt && In && (Ve && In.muteAudio(), Ve || In.unmuteAudio());
                  case 1:
                  case "end":
                    return Ue.stop();
                }
            }, we);
          })
        );
        return function (Ve) {
          return Te.apply(this, arguments);
        };
      })(),
      bt = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we(Ve) {
            return Ke.wrap(function (Ue) {
              for (;;)
                switch ((Ue.prev = Ue.next)) {
                  case 0:
                    Gt && In && (Ve && In.muteVideo(), Ve || In.unmuteVideo());
                  case 1:
                  case "end":
                    return Ue.stop();
                }
            }, we);
          })
        );
        return function (Ve) {
          return Te.apply(this, arguments);
        };
      })(),
      Et = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we(Ve) {
            var Ne, Ue;
            return Ke.wrap(function (pt) {
              for (;;)
                switch ((pt.prev = pt.next)) {
                  case 0:
                    if ((console.log("videoFrameInfo", Ve), !(Gt && In))) {
                      pt.next = 8;
                      break;
                    }
                    if (((Ne = In.getVideoFrame()), !Ne)) {
                      pt.next = 5;
                      break;
                    }
                    return pt.abrupt("return", Ne);
                  case 5:
                    if (((Ue = tm.getVideoFrame()), !Ue)) {
                      pt.next = 8;
                      break;
                    }
                    return pt.abrupt("return", Ne);
                  case 8:
                  case "end":
                    return pt.stop();
                }
            }, we);
          })
        );
        return function (Ve) {
          return Te.apply(this, arguments);
        };
      })(),
      St = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we(Ve) {
            var Ne;
            return Ke.wrap(
              function (Ye) {
                for (;;)
                  switch ((Ye.prev = Ye.next)) {
                    case 0:
                      if (Gt) {
                        Ye.next = 3;
                        break;
                      }
                      return (
                        console.error("Local client is not defined."),
                        Ye.abrupt("return")
                      );
                    case 3:
                      if (In) {
                        Ye.next = 6;
                        break;
                      }
                      return (
                        console.error("Local stream is not defined."),
                        Ye.abrupt("return")
                      );
                    case 6:
                      return (
                        (Ye.prev = 6),
                        console.log(""),
                        (Ye.next = 10),
                        hu.getCameras()
                      );
                    case 10:
                      if (((Ne = Ye.sent), !(Ne.length < 2))) {
                        Ye.next = 14;
                        break;
                      }
                      return (
                        console.warn(
                          "TRTC Not enough cameras available to switch."
                        ),
                        Ye.abrupt("return")
                      );
                    case 14:
                      return (Ye.next = 16), In.switchDevice("video", Ve);
                    case 16:
                      console.log("TRTC switch camera success"), (Ye.next = 22);
                      break;
                    case 19:
                      (Ye.prev = 19),
                        (Ye.t0 = Ye.catch(6)),
                        console.error(" TRTC Failed to switch camera:", Ye.t0);
                    case 22:
                    case "end":
                      return Ye.stop();
                  }
              },
              we,
              null,
              [[6, 19]]
            );
          })
        );
        return function (Ve) {
          return Te.apply(this, arguments);
        };
      })(),
      Ut = function (we, Ve) {
        Gt && Gt.enableAudioVolumeEvaluation(we, Ve);
      },
      vt = null,
      wt = null,
      Je = null,
      It = null,
      ct = null,
      We = null,
      Oe = null,
      at = null,
      kt = null,
      Xe = null,
      Ot = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we(Ve) {
            var Ne, Ue;
            return Ke.wrap(
              function (pt) {
                for (;;)
                  switch ((pt.prev = pt.next)) {
                    case 0:
                      if ((console.log(Ve), !(!Gt || !In))) {
                        pt.next = 3;
                        break;
                      }
                      return pt.abrupt("return");
                    case 3:
                      if (((Ne = document.getElementById(Ve)), Ne)) {
                        pt.next = 7;
                        break;
                      }
                      return (
                        console.error(""), pt.abrupt("return", !1)
                      );
                    case 7:
                      return (
                        (Gb.value = !0),
                        (vt = new (window.AudioContext ||
                          window.webkitAudioContext)()),
                        (Je = vt.createMediaElementSource(Ne)),
                        (pt.next = 12),
                        navigator.mediaDevices.getUserMedia({
                          audio: {
                            echoCancellation: !0,
                            // 
                            noiseSuppression: !0,
                            // 
                            autoGainControl: !0,
                            // 
                          },
                          video: !1,
                        })
                      );
                    case 12:
                      if (
                        ((wt = pt.sent),
                        (It = vt.createMediaStreamSource(wt)),
                        (ct = vt.createGain()),
                        (ct.gain.value = 0.5),
                        (We = vt.createGain()),
                        (We.gain.value = 1),
                        (Oe = vt.createMediaStreamDestination()),
                        (at = vt.createMediaStreamDestination()),
                        Je.connect(ct).connect(Oe),
                        Je.connect(ct).connect(at),
                        It.connect(We).connect(Oe),
                        (Xe = Oe.stream.getAudioTracks()[0]),
                        Xe)
                      ) {
                        pt.next = 33;
                        break;
                      }
                      return (
                        console.error(""),
                        Je.disconnect(),
                        It.disconnect(),
                        ct.disconnect(),
                        We.disconnect(),
                        vt.close().catch(function (ft) {
                          return console.error(" AudioContext :", ft);
                        }),
                        (Gb.value = !1),
                        pt.abrupt("return")
                      );
                    case 33:
                      return (
                        (pt.prev = 33), (pt.next = 36), In.replaceTrack(Xe)
                      );
                    case 36:
                      console.log(""), (pt.next = 42);
                      break;
                    case 39:
                      (pt.prev = 39),
                        (pt.t0 = pt.catch(33)),
                        console.error(":", pt.t0);
                    case 42:
                      return (pt.next = 44), Ne.play();
                    case 44:
                      (Ue = at.stream),
                        (kt = new Audio()),
                        (kt.srcObject = Ue),
                        kt.play().catch(function (ft) {
                          console.error(":", ft);
                        }),
                        (kt.onended = function () {});
                    case 49:
                    case "end":
                      return pt.stop();
                  }
              },
              we,
              null,
              [[33, 39]]
            );
          })
        );
        return function (Ve) {
          return Te.apply(this, arguments);
        };
      })(),
      et = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we() {
            return Ke.wrap(function (Ne) {
              for (;;)
                switch ((Ne.prev = Ne.next)) {
                  case 0:
                    if (
                      (console.log(""),
                      kt && (kt.pause(), (kt.srcObject = null), (kt = null)),
                      Xe && (Xe.stop(), (Xe = null)),
                      Je && (Je.disconnect(), (Je = null)),
                      It && (It.disconnect(), (It = null)),
                      ct && (ct.disconnect(), (ct = null)),
                      We && (We.disconnect(), (We = null)),
                      Oe &&
                        (Oe.stream.getTracks().forEach(function (Ue) {
                          return Ue.stop();
                        }),
                        (Oe = null)),
                      at &&
                        (at.stream.getTracks().forEach(function (Ue) {
                          return Ue.stop();
                        }),
                        (at = null)),
                      wt &&
                        (wt.getTracks().forEach(function (Ue) {
                          return Ue.stop();
                        }),
                        (wt = null)),
                      !vt)
                    ) {
                      Ne.next = 14;
                      break;
                    }
                    return (
                      (Ne.next = 13),
                      vt.close().catch(function (Ue) {
                        return console.error(" AudioContext :", Ue);
                      })
                    );
                  case 13:
                    vt = null;
                  case 14:
                    console.log(""), (Gb.value = !1);
                  case 16:
                  case "end":
                    return Ne.stop();
                }
            }, we);
          })
        );
        return function () {
          return Te.apply(this, arguments);
        };
      })(),
      Mt = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we(Ve) {
            var Ne;
            return Ke.wrap(function (Ye) {
              for (;;)
                switch ((Ye.prev = Ye.next)) {
                  case 0:
                    return (
                      (Ye.next = 2),
                      (Ne = Gt) === null || Ne === void 0
                        ? void 0
                        : Ne.subscribe(yh).catch(function (pt) {
                            console.log(
                              "TRTC subscribe failed: ".concat(pt.message_)
                            );
                          })
                    );
                  case 2:
                    return (
                      console.log("TRTC "),
                      (Ye.next = 5),
                      yh.play(Ve.view)
                    );
                  case 5:
                  case "end":
                    return Ye.stop();
                }
            }, we);
          })
        );
        return function (Ve) {
          return Te.apply(this, arguments);
        };
      })(),
      rn = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we() {
            var Ve;
            return Ke.wrap(function (Ue) {
              for (;;)
                switch ((Ue.prev = Ue.next)) {
                  case 0:
                    return (
                      (Ue.next = 2),
                      (Ve = Gt) === null || Ve === void 0
                        ? void 0
                        : Ve.unsubscribe(yh).catch(function (Ye) {
                            console.log(
                              "TRTC unsubscribe failed: ".concat(Ye.message_)
                            );
                          })
                    );
                  case 2:
                    console.log("TRTC ");
                  case 3:
                  case "end":
                    return Ue.stop();
                }
            }, we);
          })
        );
        return function () {
          return Te.apply(this, arguments);
        };
      })(),
      nt = /* @__PURE__ */ (function () {
        var Te = Pt(
          /* @__PURE__ */ Ke.mark(function we() {
            return Ke.wrap(function (Ne) {
              for (;;)
                switch ((Ne.prev = Ne.next)) {
                  case 0:
                    if (Gt) {
                      Ne.next = 2;
                      break;
                    }
                    return Ne.abrupt("return");
                  case 2:
                    Gt.on("error", function (Ue) {
                      console.error(
                        "TRTC ERROR: " +
                          Ue +
                          ",error.code: " +
                          Ue.getCode() +
                          ",error.message: " +
                          Ue.message
                      );
                    }),
                      Gt.on("peer-join", function (Ue) {
                        il("remoteUserJoined", Ue);
                      }),
                      Gt.on("peer-leave", function (Ue) {
                        il("remoteUserLeft", Ue);
                      }),
                      Gt.on("stream-added", function (Ue) {
                        console.log("stream-added", Ue);
                        var Ye = Ue.stream,
                          pt = Ye.getId(),
                          ft = Ye.getUserId(),
                          An = Ye.getType();
                        if (
                          (console.log(
                            "TRTC remote stream added: ["
                              .concat(ft, "] ID: ")
                              .concat(pt, " type: ")
                              .concat(Ye.getType())
                          ),
                          An == "main")
                        ) {
                          var Yn;
                          (tm = Ye),
                            (Yn = Gt) === null ||
                              Yn === void 0 ||
                              Yn.subscribe(Ye).catch(function (oo) {
                                console.log(
                                  "TRTC subscribe failed: ".concat(oo.message_)
                                );
                              }),
                            console.log(
                              "TRTC stream-added ",
                              Ue
                            ),
                            il("remoteUserPublished", {
                              userId: ft,
                              streamType: An,
                              isPublished: !0,
                            });
                        } else An == "auxiliary" && ((yh = Ye), console.log("TRTC stream-added ", Ue));
                        An == "auxiliary" && (yh = Ye);
                      }),
                      Gt.on("stream-removed", function (Ue) {
                        var Ye = Ue.stream,
                          pt = Ye.getUserId(),
                          ft = Ye.getType();
                        il("remoteUserPublished", {
                          userId: pt,
                          streamType: ft == "auxiliary" ? "sub" : ft,
                          isPublished: !1,
                        });
                      }),
                      Gt.on("audio-volume", function (Ue) {
                        var Ye = Ue.result.map(function (pt) {
                          return {
                            userId: pt.userId,
                            volume: pt.audioVolume,
                          };
                        });
                        il("trtcAudioVolume", Ye);
                      }),
                      Gt.on("network-quality", function (Ue) {
                        il("trtcNetworkQuality", Ue);
                      });
                  case 9:
                  case "end":
                    return Ne.stop();
                }
            }, we);
          })
        );
        return function () {
          return Te.apply(this, arguments);
        };
      })(),
      Ge = function () {
        Gt &&
          (Gt.off("*"),
          nm("trtcError"),
          nm("remoteUserJoined"),
          nm("remoteUserLeft"),
          nm("trtcNetworkQuality"));
      };
    return {
      isSupportedWebRTC: v,
      // TRTC Web SDK 
      createSDK: m,
      // SDK
      destroySDK: E,
      // SDK
      enterRoom: O,
      // 
      leaveRoom: ce,
      // 
      playLocalMedia: me,
      // 
      stopLocalMedia: Ee,
      // 
      playRemoteVideo: Ae,
      // 
      stopRemoteVideo: Be,
      // 
      playScreenVideo: Mt,
      // 
      stopPlayScreenVideo: rn,
      // 
      enableAudioVolumeEvaluation: Ut,
      // 
      muteLocalVideo: bt,
      // 
      muteLocalAudio: le,
      // 
      getVideoSnapshot: Et,
      // 
      switchCamera: St,
      // 
      checkCameraDevice: u,
      // 
      mixAudioStreams: Ot,
      stopMixAudioStreams: et,
    };
  };
const ZY = /* @__PURE__ */ Object.freeze(
  /* @__PURE__ */ Object.defineProperty(
    {
      __proto__: null,
      useTRTCWebSDK: YY,
    },
    Symbol.toStringTag,
    { value: "Module" }
  )
);
export { em as getTRTCWebSDK };
